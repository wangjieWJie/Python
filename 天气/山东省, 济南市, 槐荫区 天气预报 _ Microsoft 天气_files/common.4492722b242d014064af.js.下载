(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["common"],{1803:function(e,t,n){"use strict";n.d(t,{h:function(){return P}});var r,i=n(33940),o=n(31891),a=n(88828),s=n(14989),c=n(58958),u=n(987);!function(e){e.GreenStripes="GreenStripes",e.RedNewRect="RedNewRect",e.GreenNewRect="GreenNewRect"}(r||(r={}));const l=e=>()=>{var t,n,r;return null===(r=null===(n=null===(t=document.querySelector("msn-verticals-header"))||void 0===t?void 0:t.shadowRoot.children[0])||void 0===n?void 0:n.querySelector("div[class^='contextual-nav-container'] msn-nav-bar"))||void 0===r?void 0:r.shadowRoot.querySelectorAll(`#${e}`)},d={winp1Markets:{highlight:{moduleName:"Markets",queryStr:"",addToBody:!0,needFixed:!0,customizeQuery:l("finance-markets"),endTime:"2023/02/15"}},weatherLifeENUS:{highlight:{moduleName:"Life",queryStr:"a[class^='navigationItem'][aria-label='Weather and Life'] span",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherlife"),endTime:"2022/05/1"}},weatherLifeZHCN:{highlight:{moduleName:"Life",queryStr:"a[class^='navigationItem'][aria-label='天气与生活'] span",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherlife"),endTime:"2022/05/1"}},winp1WeatherLife:{highlight:{moduleName:"Life",queryStr:"",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherlife"),endTime:"2022/05/1"}},pollenJA:{highlight:{moduleName:"Pollen",queryStr:"a[class^='navigationItem'][aria-label='花粉予報'] span",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherpollen"),endTime:"2022/05/1"}},winp1Pollen:{highlight:{moduleName:"Pollen",queryStr:"",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherpollen"),endTime:"2022/05/1"}},weatherMap3D:{highlight:{moduleName:"WeatherMap3D",queryStr:"",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weathermap_3d"),endTime:"2022/07/1"}},pollenENUS:{highlight:{moduleName:"Pollen",queryStr:"a[class^='navigationItem'][aria-label='Pollen'] span",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherpollen"),endTime:"2022/06/15"}},hourlyforecastENUS:{highlight:{moduleName:"HourlyForecast",queryStr:"a[class^='navigationItem'][aria-label='Hourly Forecast'] span",addToBody:!0,skinName:r.RedNewRect,needFixed:!0,customizeQuery:l("weatherhourlyforecast"),endTime:"2022/08/31"}},exploreCenter:{highlight:{moduleName:"exploreCenter",queryStr:"",addToBody:!0,needFixed:!0,skinName:r.GreenNewRect,customizeQuery:l("finance-explorecenter"),endTime:"2023/07/01"}},exploreCenterNonEn:{highlight:{moduleName:"exploreCenterNonEn",queryStr:"",addToBody:!0,needFixed:!0,skinName:r.GreenStripes,customizeQuery:l("finance-explorecenter"),endTime:"2023/07/01"}}};var h=n(89526);var p=n(55067);class g{}g.updateNumberOfWatchlistItems=new p.C("updateNumberOfWatchlistItems"),g.updateNumberOfRecentViewedItems=new p.C("updateNumberOfRecentViewedItems"),g.updateFinanceDataState=new p.C("updateFinanceDataState"),g.updatePageOverlayState=new p.C("updatePageOverlayState"),g.updateCrashCourseViewerState=new p.C("updateCrashCourseViewerState"),g.updateFeeds=new p.C("updateFeeds"),g.feedsUpdated=new p.C("feedsUpdated"),g.updateFeedsFilter=new p.C("updateFeedsFilter"),g.updateFeedsActiveFilter=new p.C("updateFeedsActiveFilter"),g.updateFeedsSectionQuery=new p.C("UpdateFeedsSectionQuery"),g.updateSentimentSectionQuery=new p.C("UpdateSentimentSectionQuery"),g.updateGradeRatedType=new p.C("UpdateGradeRatedType"),g.updateHighlight=new p.C("UpdateHighlight"),g.updateEventsFilterCondition=new p.C("UpdateEventsFilterCondition"),g.openEventBriefOverlay=new p.C("OpenEventBriefOverlay"),g.mergeWatchlistSetIds=new p.C("MergeWatchlistSetIds"),g.mergeWatchlistMerge=new p.C("MergeWatchlistMerge"),g.showProjectionPromoteCard=new p.C("ShowProjectionPromoteCard"),g.openProjectionOverlay=new p.C("OpenProjectionOverlay");var f=n(80013),m=n(89677);var v=n(73961),y=n(33379),C=n(7124),S=n(50425);class w extends f.Z{constructor(e){super(e),this.handledProps={managedClasses:void 0},this.observer=e=>{const t=e&&e.params;if(t&&!(t.length<1))try{this.highlightKeys=t[0],this.resetHighlights()}catch(e){console.error(e)}},this.resetHighlights=(0,C.Z)((()=>{(0,y.N)()&&(this.clearHighlights(),this.setHighlights())}),500),this.onBreakpointCallback=e=>{const t=(0,a.Bn)().currentColumnArrangement;this.setState({column:t})},this.onResize=()=>{this.clearHighlights(),this.resetHighlights()},this.prefixStorage="highlight-",this.highlights=[],this.state={column:(0,a.Bn)().currentColumnArrangement},g.updateHighlight.registerObserver(this.observer),o.w.UpdateHeaderHighlight.registerObserver(this.observer)}setHighlights(){this.highlightKeys&&this.highlightKeys.length>0&&this.highlightKeys.forEach((e=>{var t,n;const r={highlight:null===(t=d[e])||void 0===t?void 0:t.highlight,customizeContent:null===(n=d[e])||void 0===n?void 0:n.customizeContent};r.highlight&&this.generateHighlight(r)}))}clearHighlights(){const e=this.highlights;(null==e?void 0:e.length)>0&&e.forEach((e=>{e.parentNode.removeChild(e)})),this.highlights=[]}generateHighlight(e){const t=(new Date).getTime(),n=e.highlight.endTime?new Date(e.highlight.endTime).getTime():null,r=(0,u.$o)().getItem(`${this.prefixStorage}${e.highlight.moduleName}`);let i=!0;n&&n<t&&(i=!1,(0,u.$o)().removeItem(`${this.prefixStorage}${e.highlight.moduleName}`)),e.highlight.isOnceShow&&r&&"visited"==r&&(i=!1),i&&this.showHighlightElements(e)}showHighlightElements(e){let t=0;const n=setInterval((()=>{var r,i;t+=1,e.highlight.customizeQuery?this.elements=e.highlight.customizeQuery():this.elements=document.querySelectorAll(e.highlight.queryStr),((null===(r=this.elements)||void 0===r?void 0:r.length)>0||t>5)&&clearInterval(n),1==(null===(i=this.elements)||void 0===i?void 0:i.length)&&(this.addHighlight(e),clearInterval(n))}),1e3)}addHighlight(e){const t=document.createElement("div");t.className=this.props.managedClasses.highlight,Array.from(this.elements).forEach((n=>{var r;if(v.render(this.renderHighlight(e),t),e.highlight.addToBody){const r=document.getElementsByClassName(this.props.managedClasses.highlight);if((null==r?void 0:r.length)>0&&Array.from(r).forEach((e=>{e.parentNode==document.body&&document.body.removeChild(e)})),this.state.column!==s.K$.c1&&this.state.column!==s.K$.c2){const{x:r,y:i,width:o,height:a}=n.getBoundingClientRect();n.parentNode.insertBefore(t,n.nextSibling),this.highlights.push(t),t.style.left=`${r+o}px`,t.style.top=i-a/2+2+"px",t.style.right="auto",t.style.zIndex="inherit",e.highlight.needFixed&&(t.style.position="fixed")}}else n.appendChild(t),this.highlights.push(t),n.classList.add(this.props.managedClasses.highlightContainer);if(e.highlight.isOnceShow){const t=e.highlight.moduleName;e.highlight.isOnceShow&&(n.onclick=()=>{(0,u.$o)().setItem(`${this.prefixStorage}${t}`,"visited")})}"exploreCenter"===(null===(r=null==e?void 0:e.highlight)||void 0===r?void 0:r.moduleName)&&(t.style.background="linear-gradient(107.56deg, #40FF6A 0%, #00FFC2 100%)",t.style.borderRadius="4px",t.style.padding="1px 4px 2px 4px",t.style.fontSize="10px",t.style.lineHeight="14px",t.style.color="rgba(0, 0, 0, 0.83)",t.style.fontWeight="600")}))}renderHighlight(e){var t;const n=null===(t=null==e?void 0:e.highlight)||void 0===t?void 0:t.skinName;return h.createElement(h.Fragment,null,e.customizeContent&&h.createElement(h.Fragment,null,h.createElement(e.customizeContent,null)),!e.customizeContent&&h.createElement("span",null,(!n||n==r.GreenStripes)&&h.createElement(h.Fragment,null,(0,c.Y)()?h.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M2.00129 0.75L2.00129 5.25C2.00129 5.66421 1.6655 6 1.25129 6C0.871593 6 0.557798 5.71785 0.508136 5.35177L0.501289 5.25L0.501289 0.75C0.501289 0.335786 0.837076 -4.00524e-07 1.25129 -3.82418e-07C1.63099 -3.65821e-07 1.94478 0.282153 1.99444 0.648229L2.00129 0.75L2.00129 5.25L2.00129 0.75ZM7.78033 2.21967C8.0466 2.48594 8.0708 2.9026 7.85295 3.19621L7.78033 3.28033L4.28033 6.78033C3.98744 7.07322 3.51256 7.07322 3.21967 6.78033C2.9534 6.51406 2.9292 6.0974 3.14705 5.80379L3.21967 5.71967L6.71967 2.21967C7.01256 1.92678 7.48744 1.92678 7.78033 2.21967ZM10 8.75C10 9.1297 9.71785 9.44349 9.35177 9.49315L9.25 9.5L4.75 9.5C4.33579 9.5 4 9.16421 4 8.75C4 8.3703 4.28215 8.05651 4.64823 8.00685L4.75 8L9.25 8C9.66421 8 10 8.33579 10 8.75Z",fill:"url(#paint0_linear_3420_2660)"}),h.createElement("defs",null,h.createElement("linearGradient",{id:"paint0_linear_3420_2660",x1:"10",y1:"0",x2:"6.40276",y2:"11.3675",gradientUnits:"userSpaceOnUse"},h.createElement("stop",{"stop-color":"#40FF6A"}),h.createElement("stop",{offset:"1","stop-color":"#00FFC2"})))):h.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M2.00129 0.75L2.00129 5.25C2.00129 5.66421 1.6655 6 1.25129 6C0.871593 6 0.557798 5.71785 0.508136 5.35177L0.501289 5.25L0.501289 0.75C0.501289 0.335786 0.837076 -4.00524e-07 1.25129 -3.82418e-07C1.63099 -3.65821e-07 1.94478 0.282153 1.99444 0.648229L2.00129 0.75L2.00129 5.25L2.00129 0.75ZM7.78033 2.21967C8.0466 2.48594 8.0708 2.9026 7.85295 3.19621L7.78033 3.28033L4.28033 6.78033C3.98744 7.07322 3.51256 7.07322 3.21967 6.78033C2.9534 6.51406 2.9292 6.0974 3.14705 5.80379L3.21967 5.71967L6.71967 2.21967C7.01256 1.92678 7.48744 1.92678 7.78033 2.21967ZM10 8.75C10 9.1297 9.71785 9.44349 9.35177 9.49315L9.25 9.5L4.75 9.5C4.33579 9.5 4 9.16421 4 8.75C4 8.3703 4.28215 8.05651 4.64823 8.00685L4.75 8L9.25 8C9.66421 8 10 8.33579 10 8.75Z",fill:"#00A656"}))),n==r.RedNewRect&&h.createElement(h.Fragment,null,h.createElement("svg",{width:"28",height:"15",viewBox:"0 0 34 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("rect",{width:"34",height:"15",rx:"4",fill:"#D33E3E"}),h.createElement("path",{d:"M12.3896 11H10.957L8.35986 7.04053C8.20752 6.80908 8.10205 6.63477 8.04346 6.51758H8.02588C8.04932 6.74023 8.06104 7.08008 8.06104 7.53711V11H6.7207V4.69824H8.25L10.7505 8.53467C10.8647 8.70752 10.9702 8.87891 11.0669 9.04883H11.0845C11.061 8.90234 11.0493 8.61377 11.0493 8.18311V4.69824H12.3896V11ZM17.7304 11H13.9511V4.69824H17.5853V5.854H15.3705V7.25586H17.4315V8.40723H15.3705V9.84863H17.7304V11ZM27.2898 4.69824L25.6243 11H24.051L23.0051 6.95703C22.9495 6.74609 22.9158 6.51025 22.9041 6.24951H22.8865C22.8601 6.53662 22.822 6.77246 22.7722 6.95703L21.7 11H20.0608L18.4041 4.69824H19.9553L20.843 8.89502C20.8811 9.07373 20.9089 9.31396 20.9265 9.61572H20.9529C20.9646 9.39014 21.0071 9.14404 21.0803 8.87744L22.2229 4.69824H23.7434L24.7761 8.93018C24.8142 9.08545 24.8479 9.31104 24.8772 9.60693H24.8948C24.9065 9.37549 24.9373 9.14111 24.9871 8.90381L25.8572 4.69824H27.2898Z",fill:"white"}))),n==r.GreenNewRect&&h.createElement("span",{className:this.props.managedClasses.newGreenText},"NEW")))}componentDidMount(){(0,a.Bn)().subscribe(this.onBreakpointCallback),window.addEventListener("resize",this.onResize)}componentWillUnmount(){(0,a.Bn)().unsubscribe(this.onBreakpointCallback),window.removeEventListener("resize",this.onResize)}render(){return null}}const b=(0,S.ZP)((e=>({highlightContainer:{position:"relative"},highlight:{display:"inline-block",position:"absolute",top:"-10px",right:"-16px"},newGreenText:{background:"linear-gradient(107.56deg, #40FF6A 0%, #00FFC2 100%)","border-radius":"4px",padding:"1px 4px 2px 4px","font-size":"10px","line-height":"14px",color:"rgba(0, 0, 0, 0.83)","font-weight":"600",[(0,m.Ih)("margin-right","margin-left",e.direction)]:"6px"}})))(w);var T=n(43819);function P(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=T._.getInstance(),n=document.getElementById("root"),r=document.createElement("div");n.appendChild(r),t.renderRootElement(h.createElement(b),r),o.w.UpdateHeaderHighlight.getGlobalActionSender().send(e)}))}},24863:function(e,t,n){"use strict";n.d(t,{E:function(){return w}});var r=n(50425),i=n(42053),o=n(78661),a=n(20654),s=n(75791),c=n(9791),u=n(46728),l=n(12884),d=n(80013),h=n(89526),p=n(44979),g=n(99038),f=n(35320),m=n(9739);class v extends d.Z{constructor(){super(...arguments),this.handledProps={columnStyles:void 0,commonColumnStyle:void 0,commonGridStyle:void 0,managedClasses:void 0,margin:void 0,maxWidth:void 0,gridStyles:void 0,pageStyle:void 0,cssGridPropertyName:void 0,requestContext:void 0,supportWebComponents:void 0},this.getMemoizedPageStyle=(0,c.Z)(this.getPageStyle,this.getPageStyleKey),this.getMemoizedGridStyle=(0,c.Z)(this.getGridStyle,this.getGridStyleKey),this.getMemoizedColumnStyle=(0,c.Z)(this.getColumnStyle,this.getColumnStyleKey)}render(){return h.createElement(h.Fragment,null,this.useFluentDesignSystemProvider(this.renderPage()))}useFluentDesignSystemProvider(e){const{supportWebComponents:t}=this.props;return t?h.createElement(f.$6,null,(t=>{const{elevatedCornerRadius:n,cornerRadius:r}=t,i=(0,m.Yc)(t)?.23:1;return h.createElement("fluent-design-system-provider",{"base-layer-luminance":i,"control-corner-radius":r||void 0,"layer-corner-radius":n||void 0,style:{background:"transparent"}},e)})):e}renderPage(){if(!this.props||void 0===this.props)return null;const{margin:e,maxWidth:t,children:n}=this.props,r={margin:e,maxWidth:t,children:n},o=this.getMemoizedPageStyle(this.props.pageStyle),a=Object.assign(Object.assign({},this.unhandledProps()),{component:"MSNewsLayout"});return h.createElement(i.T,Object.assign({},a,{className:this.generateClassNames(this.props.managedClasses.MSNewsLayout),jssStyleSheet:o},r,{cssGridPropertyName:(0,l.tM)()?"grid":"-ms-grid"}),this.renderGrids(r.children))}renderGrids(e){return void 0===e?null:e.map(((e,t)=>{const n=this.getMemoizedGridStyle(t,this.props.commonGridStyle,this.props.gridStyles);return h.createElement(o.rj,Object.assign({},e,{jssStyleSheet:n,key:t,cssGridPropertyName:(0,l.tM)()?"grid":"-ms-grid"}),this.renderColumn(e.children,t))}))}renderColumn(e,t){if(void 0===e)return null;const n=this.props.requestContext?(0,p.Nd)(this.props.requestContext.data.breakpoint,"breakpoint"):a.Z.currentBreakpoint();return e.map(((e,r)=>{const i=this.getMemoizedColumnStyle(t,r,this.props.commonColumnStyle,this.props.columnStyles);return h.createElement(s.s,Object.assign({},e,{jssStyleSheet:i,key:r,cssGridPropertyName:(0,l.tM)()?"grid":"-ms-grid",defaultBreakpoint:n}))}))}getPageStyle(e){return e||null}getGridStyle(e,t,n){let r=t||null;return n&&n[e]&&(r=(0,u.Z)({},r,n[e])),r}getColumnStyle(e,t,n,r){let i=n||null;return r&&r[e]&&r[e][t]&&(i=(0,u.Z)({},i,r[e][t])),i}getPageStyleKey(e){return g.b.objectToString(e)}getGridStyleKey(e,t,n){const r=n&&n[e]?n[e]:null;return`${e}-cgs${g.b.objectToString(t)}-gs${g.b.objectToString(r)}`}getColumnStyleKey(e,t,n,r){const i=r&&r[e]&&r[e][t]?r[e][t]:null;return`${e}${t}-ccs${g.b.objectToString(n)}-cs${g.b.objectToString(i)}`}}var y=n(33390),C=n(18682);const S={MSNewsLayout:{background:y.Cz,color:C.CH}},w=(0,r.ZP)(S)(v)},84966:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var r=n(50425),i=n(33940),o=n(89526),a=n(54256),s=n(80013);class c extends s.Z{constructor(e){super(e),this.handledProps={ariaLabel:void 0,glyphType:void 0,height:void 0,fill:void 0,managedClasses:void 0,onClick:void 0,onError:void 0,onSvgMounted:void 0,removeInlineStyle:void 0,svgClassName:void 0,svgStyle:void 0,title:void 0,useGlyphStyle:void 0,width:void 0,wrapSVG:void 0,wrapperClassName:void 0},this.setSvg=e=>{const{onSvgMounted:t}=this.props;if(!e)return;let n=e.ReactComponent;n||"function"!=typeof e.default||(n=e.default),n&&this.isComponentMounted&&(t&&this.setState({svgComponent:n},t),this.setState({svgComponent:n}))},this.isComponentMounted=!1,this.state={svgComponent:null}}componentDidMount(){const{glyphType:e}=this.props;this.isComponentMounted=!0,"function"==typeof e&&this.updateSVG(e)}updateSVG(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=yield e();this.props.glyphType===e&&this.setSvg(t)}))}componentDidUpdate(e){const{glyphType:t}=this.props;"function"==typeof t&&t!==e.glyphType&&this.updateSVG(t)}componentWillUnmount(){this.isComponentMounted=!1}static getDerivedStateFromProps(e,t){const{glyphType:n}=e;return n?t:{svgComponent:null}}render(){const{ariaLabel:e,fill:t,glyphType:n,height:r,managedClasses:i,onClick:s,svgClassName:c,svgStyle:u,title:l,wrapSVG:d,width:h,wrapperClassName:p}=this.props;if(!n||"string"==typeof n)return null;const{svgComponent:g}=this.state,f=(e,n)=>o.createElement(e,Object.assign({className:(0,a.A)([i.icon,this.props.useGlyphStyle],[i.inline,!this.props.removeInlineStyle],c),fill:t,style:u},n)),m=e?"img":"presentation";let v={};return h&&(v.width=h),r&&(v.height=r),v.width||v.height||(v=void 0),!1===d?g&&f(g,v):o.createElement("span",Object.assign({},this.unhandledProps(),{className:p,"aria-hidden":!e,"aria-label":e||null,onClick:s,role:m,style:v,title:l||(e||null)}),g?f(g,v):o.createElement("span",null))}}const u=(0,r.ZP)({icon:{"max-height":"100%","max-width":"100%"},inline:{"&&":{width:"auto",height:"auto"}}})(c)},93540:function(e,t,n){"use strict";n.d(t,{c:function(){return p}});var r=n(50425),i=n(35320),o=n(89677),a=n(80013),s=n(89526),c=n(54256),u=n(85663);class l extends a.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,layout:void 0}}render(){return s.createElement(i.$6,null,(e=>(this.layoutDirection=e.direction,this.renderStackLayout())))}renderStackLayout(){const e=this.props.layout||[],t=this.getMarkup(e);return s.createElement("div",{className:this.generateClassNames(this.props.managedClasses.layoutMain)},t)}getListMarkup(e){return e.map(((e,t)=>{let n;return this.layoutDirection===o.Nm.ltr?n=e.styles?e.styles.ltr:void 0:this.layoutDirection===o.Nm.rtl&&(n=e.styles?e.styles.rtl:void 0),e.styles&&e.styles.css&&(n=Object.assign(Object.assign({},n),e.styles.css)),s.createElement("li",{style:n,key:t},e.children)}))}getRows(e){return(e.children||[]).filter((e=>e&&e.children))}getUnordered(e,t){const n=this.getRows(e),r=this.getListMarkup(n),{layoutContainer:i,layoutContainerResponsive:o}=this.props.managedClasses,a=(0,c.A)(i,[o,(0,u.isNullOrUndefined)(e.responsive)||e.responsive]);return s.createElement("ul",{className:a,key:t},r)}getMarkup(e){return e.map(((e,t)=>this.getUnordered(e,t)))}}var d=n(14165),h=n(14989);const p=(0,r.ZP)((e=>({layoutMain:{width:"100%"},layoutContainerResponsive:{width:`${d._3}px`,[(0,h.eH)(h.K$.c3)]:{width:`${d.Xn}px`},[(0,h.vW)(h.K$.c4,null)]:{width:`${d.xX}px`}},layoutContainer:{margin:"0 auto","list-style-type":"none",padding:"0"}})))(l)},79502:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(55067);class i{}i.updateBackgroundGradient=new r.C("UpdateBackgroundGradient"),i.showHolidayBgIamge=new r.C("ShowHolidayBgIamge"),i.updateVideo=new r.C("UpdateVideo")},55825:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(33940),i=n(79502),o=n(35402),a=n(74398);class s extends a.g{constructor(){super(...arguments),this.updateBackgroundGradient=(e,t,n,r,o)=>{i.o.updateBackgroundGradient.getActionSender(this).send(e,t,n,r,o)},this.showHolidayBgIamge=(e,t,n,r,o)=>{i.o.showHolidayBgIamge.getActionSender(this).send(e,t,n,r,o)},this.updateVideo=(e,t)=>{i.o.updateVideo.getActionSender(this).send(e,t)}}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e},n=o.k.inspect(t);return Object.assign(Object.assign({},n.props),this.telemetryTags)}onComponentConnect(e){return(0,r.mG)(this,void 0,void 0,(function*(){yield a.g.prototype.onComponentConnect.call(this,e)}))}}},35402:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r={inspect:e=>{const{config:t,state:n}=e;return{props:{height:t.height,midImageHeight:t.midImageHeight,gradients:n.gradients,backgroundImage:n.backgroundImage,midImage:n.midImage,midGradient:n.midGradient,fixedBackgroundGradient:n.fixedBackgroundGradient,holidayBgColor:n.holidayBgColor,holidayBgImage:n.holidayBgImage,holidayBgGifImage:n.holidayBgGifImage,holidayBgImageGradient:n.holidayBgImageGradient,isShowHolidayBgImage:n.isShowHolidayBgImage,isShowHolidayGif:n.isShowHolidayGif,videoSrc:n.videoSrc,videoPoster:n.videoPoster},missingChildren:[]}}}},48497:function(e,t,n){"use strict";n.r(t),n.d(t,{BackgroundGradient:function(){return y},BackgroundGradientActions:function(){return u.o},BackgroundGradientConnector:function(){return d.C},BackgroundGradientReducer:function(){return g},ToolingInfo:function(){return C}});var r=n(50425),i=n(95268),o=n(201),a=n(78722),s=n(89526);class c extends o.j{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},o.h),{managedClasses:void 0,height:void 0,midImageHeight:void 0,gradients:void 0,backgroundImage:void 0,midImage:void 0,midGradient:void 0,fixedBackgroundGradient:void 0,holidayBgImage:void 0,holidayBgGifImage:void 0,holidayBgImageGradient:void 0,holidayBgColor:void 0,isShowHolidayBgImage:void 0,isShowHolidayGif:void 0,videoPoster:void 0,videoSrc:void 0}),this.videoRef=s.createRef()}render(){super.render();const{managedClasses:e,height:t,midImageHeight:n,gradients:r,backgroundImage:i,midImage:o,midGradient:c,fixedBackgroundGradient:u,holidayBgImage:l,holidayBgImageGradient:d,holidayBgGifImage:h,isShowHolidayBgImage:p,isShowHolidayGif:g,videoPoster:f,videoSrc:m}=this.props;return s.createElement(s.Fragment,null,s.createElement("div",{className:e.firstLayerContainer,style:{height:t,background:(r||[])[0]}}),s.createElement("div",{className:e.secondLayerContainer,style:Object.assign(Object.assign({},i),{height:t})}),s.createElement("div",{className:e.thirdLayerContainer,style:Object.assign(Object.assign({},c),{height:t})}),s.createElement("div",{className:e.fourthLayerContainer,style:Object.assign(Object.assign({},o),{height:a.jG.isMobile?t:n})}),s.createElement("div",{className:e.fifthLayerContainer,style:Object.assign(Object.assign({},u),{height:t})}),l&&s.createElement(s.Fragment,null,s.createElement("div",{className:e.hollidayBgLayerContainer,style:{background:`${this.props.holidayBgColor}`}}),p&&s.createElement("div",{className:e.hollidayImageLayerContainer,style:l?{backgroundImage:`url("${l}")`}:{}}),p&&h&&g&&s.createElement("div",{className:e.hollidayGifImageLayerContainer,style:h?{backgroundImage:`url("${h}")`}:{}}),p&&s.createElement("div",{className:e.hollidayImageGradient,style:d?{background:`${d}`}:{}})),m&&s.createElement("div",{className:e.backgroundVideoContainer},s.createElement("video",{ref:this.videoRef,className:e.backgroundVideo,muted:!0,loop:!0,autoPlay:!0,poster:f,src:m})))}}c.defaultProps={experienceName:"BackgroundGradient"};var u=n(79502),l=n(57388),d=n(55825),h=n(35402),p=n(30856);class g{reduce(e,t){if(!e)return{gradients:null};if(!t)return e;let n;return p.G.handleAction(t,u.o.updateBackgroundGradient,((t,r,i,o,a)=>{n=Object.assign(Object.assign({},e),{gradients:t,backgroundImage:r,midImage:i,midGradient:o,fixedBackgroundGradient:a})})),p.G.handleAction(t,u.o.showHolidayBgIamge,((t,r,i,o,a)=>{n=Object.assign(Object.assign({},e),{isShowHolidayBgImage:!0,isShowHolidayGif:!!t,holidayBgImage:r,holidayBgGifImage:i,holidayBgImageGradient:o,holidayBgColor:a})})),p.G.handleAction(t,u.o.updateVideo,((t,r)=>{n=Object.assign(Object.assign({},e),{videoSrc:t,videoPoster:r})})),n||e}}var f=n(14989),m=n(13959);var v=n(51469);const y=(0,r.ZP)((e=>({firstLayerContainer:{position:"absolute",width:"100%","z-index":""+m.K.Default},secondLayerContainer:{width:"100%",position:"absolute","z-index":"2"},thirdLayerContainer:{width:"100%",position:"absolute","z-index":"3"},fourthLayerContainer:{width:"100%",position:"fixed","z-index":"6",height:"900px","background-position":"center top","background-size":"1920px 100%","background-repeat":"no-repeat","@media (min-width: 1920px)":{"background-size":"100% 100%"}},fifthLayerContainer:{width:"100%",position:"fixed","z-index":"5",".weather-life &":{background:"#22243F"},".header-aurora-bg-change &":{top:"0"}},hollidayBgLayerContainer:{width:"100%",height:"100vh",position:"fixed","z-index":"6",display:"none",".holiday-effects &":{display:"block"},".header-aurora-bg-change &":{top:"0"}},hollidayImageLayerContainer:{width:"100%",height:"850px",position:"fixed","z-index":"7",display:"block",visibility:"hidden","background-position":"center top","background-size":"100% auto","background-repeat":"no-repeat",opacity:"0.2",".windows-header &":{top:"167px",[(0,f.vW)(null,f.K$.c1)]:{top:"221px"},[(0,f.eH)(f.K$.c2)]:{top:"221px"}},".windows-header.windows-header-aurora &":{top:"116px",[(0,f.vW)(null,f.K$.c1)]:{top:"166px"},"@media (min-width: 656px) and (max-width: 955px)":{top:"166px"},"@media (max-width: 955px)":{top:"166px"}},transition:"opacity 0.6s linear",".holiday-effects &":{display:"block",visibility:"visible",opacity:"1"},".holiday-effects.dark-holiday &":{opacity:"0.2"},".holiday-effects.light-holiday &":{opacity:"1"}},hollidayGifImageLayerContainer:{width:"100%",height:"850px",position:"fixed","z-index":"8",display:"block",visibility:"hidden","background-position":"center top","background-size":"100% auto","background-repeat":"no-repeat",opacity:"0.2",".windows-header &":{top:"167px",[(0,f.vW)(null,f.K$.c1)]:{top:"221px"},[(0,f.eH)(f.K$.c2)]:{top:"221px"}},".windows-header.windows-header-aurora &":{top:"116px",[(0,f.vW)(null,f.K$.c1)]:{top:"166px"},"@media (min-width: 656px) and (max-width: 955px)":{top:"166px"},"@media (max-width: 955px)":{top:"166px"}},transition:"opacity 0.6s linear",".holiday-effects &":{display:"block",visibility:"visible",opacity:"1"},".holiday-effects.dark-holiday &":{opacity:"0.2"},".holiday-effects.light-holiday &":{opacity:"1"}},hollidayImageGradient:{width:"100%",height:"850px",position:"fixed","z-index":"9",display:"block",visibility:"hidden",".windows-header &":{top:"167px",[(0,f.vW)(null,f.K$.c1)]:{top:"221px"},[(0,f.eH)(f.K$.c2)]:{top:"221px"}},".windows-header.windows-header-aurora &":{top:"116px",[(0,f.vW)(null,f.K$.c1)]:{top:"166px"},"@media (min-width: 656px) and (max-width: 955px)":{top:"166px"},"@media (max-width: 955px)":{top:"166px"}},".holiday-effects &":{visibility:"visible"}},backgroundVideoContainer:{position:"fixed","box-sizing":"border-box",top:"0",left:"0",right:"0",bottom:"0","z-index":"10",display:"flex","align-items":"start","justify-content":"center","padding-top":"167px",[(0,f.vW)(null,f.K$.c1)]:{"padding-top":"221px"},[(0,f.eH)(f.K$.c2)]:{"padding-top":"221px"},".no-header &":{"padding-top":"48px !important"}},backgroundVideo:{position:"relative",width:"100%",height:"100%","object-fit":"cover"}})))(c),C={reactComponent:y,experienceConfigSchema:l.BackgroundGradientConfigSchema,defaultMockState:i.mockDefaultState,mockState:i.mockState,mockConfig:v.mockConfig,inspector:h.k.inspect}},19392:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(55067);class i{}i.overrideDesignSystem=new r.C("overrideDesignSystem"),i.overrideGlobalStyles=new r.C("overrideGlobalStyles"),i.footerRenderReady=new r.C("FooterRenderReady"),i.bannerRenderReady=new r.C("BannerRenderReady"),i.setDocumentTitle=new r.C("setDocumentTitle"),i.renderMigrationConsent=new r.C("renderMigrationConsent"),i.setDisplayYScrollBar=new r.C("setDisplayYScrollBar")},93567:function(e,t,n){"use strict";n.d(t,{D:function(){return j}});var r,i=n(33940),o=n(53076),a=n(83227),s=n(78722),c=n(89638),u=n(45506),l=n(62371);!function(e){e.dhpHideNewsFeed="dhpHideNewsFeed",e.dhpHideHomePageImage="dhpHideHomePageImage",e.market="market",e.bingShoppingCardVisible="bingShoppingCardVisible",e.weatherCardVisible="weatherCardVisible",e.sportsCardVisible="sportsCardVisible",e.moneyCardVisible="moneyCardVisible",e.horoscopeCardVisible="horoscopeCardVisible",e.onThisDayCardVisible="onThisDayCardVisible",e.electionsCardVisible="electionsCardVisible",e.esportsCardVisible="esportsCardVisible",e.lotteryCardVisible="lotteryCardVisible",e.qnaCardVisible="qnaCardVisible",e.recipesCardVisible="recipesCardVisible",e.autosMarketplaceCardVisible="autosMarketplaceCardVisible",e.healthCardVisible="healthCardVisible",e.ntpDisplayOption="ntpDisplayOption",e.displayOptionValues={topSitesAndSuggestedContent:0,topSitesOnly:1,blankPage:2,newsFeedOnly:3}}(r||(r={}));var d=n(19388),h=n(33954),p=n(22704),g=n(41710),f=n(43819);var m,v=n(63263),y=n(29904),C=n(12884);function S(e){switch(e.providerType){case m.Narratiive:!function(e){w(e.properties.url||"//sg-ssl.effectivemeasure.net/em.js","narratiive-async",!1)}(e);break;case m.Gemius:!function(e){function t(e,...t){window[e]=window[e]||function(){const n=window[e+"_pdata"]=window[e+"_pdata"]||[];n[n.length]=t}}const n=e.properties.url||`//ga"${e.properties.market}".hit.gemius.pl/xgemius.js`;t("gemius_hit"),t("gemius_event"),t("pp_gemius_hit"),t("pp_gemius_event"),w(n,"gemius-async",!0)}(e);break;case m.YandexMetrika:!function(e){function t(e,t){(e[t]=e[t]||[]).push((function(){try{const t=e.Ya;e.yaCounter27734673=new t.Metrika({id:27734673,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(e){console.error("not able to load Ya Metrika")}}))}t(window,"yandex_metrika_callbacks");w(e.properties.url||"//mc.yandex.ru/metrika/watch.js","yandexMetrika-async",!1)}(e)}}function w(e,t,n){const r=(0,C.b0)(e,t,!0,null);r.defer=n,r.style.display="none";const i=document.getElementsByTagName("script")[0];i.parentElement.insertBefore(r,i),document.body.appendChild(r)}!function(e){e.Narratiive="narratiive",e.Gemius="gemius",e.YandexMetrika="yandexMetrika"}(m||(m={}));var b,T=n(74398),P=n(59997),k=n(19392),A=n(82683),E=n(56121),M=n(58458),x=n(81353);!function(e){e.inspect=function(e){let t,n;const{config:r,children:i,state:o}=e;r.composition&&(n=r.composition.type);const a=Object.assign(Object.assign(Object.assign({},E.ZP),r.designSystemOverrides),o.designSystemOverrides),s=i?i.MigrationConsent:void 0,c=i?i.MnsCreatorDashboard:void 0,u={coachmarkPlaceholder:i?i.SuperCoachMark:void 0,designSystem:a,displayYScrollBar:o.displayYScrollBar,documentTitle:o.documentTitle,oveFontForEbGarFont:r.oveFontForEbGarFont,oveFontForRoboFont:r.oveFontForRoboFont,oveFontForSGUIfont:r.oveFontForSGUIfont,globalStyleOverrides:o.globalStyleOverrides,migrationConsentDialog:s,mnsCreatorDashboard:c,telemetryTags:void 0,transparentBackground:r.transparentBackground,useEnterpriseCompliance:r.useEnterpriseCompliance,useGlobalStylesForCustomExperience:r.useGlobalStylesForCustomExperience,useIndividualFonts:r.useIndividualFonts,useEbGaramondFont:r.useEbGaramondFont,useRobotoFont:r.useRobotoFont,enableLocalSegoeUIFont:r.enableLocalSegoeUIFont};if(n===A.O.customExperience){const e=r.composition;u.customExperienceElement=i[e.experience.instanceId]}else{if(n===A.O.grid)t=M.M.inspect(e);else t=x.t.inspect(e);const r={designSystem:a,header:e.config.header,footer:Object.assign(Object.assign({},e.config.footer),{renderReady:e.state.footerRenderReady}),layout:Object.assign(Object.assign({},t.props),e.config.styles),compositionType:n,requestContext:e.connectorArgs.requestContext};u.entryPointComponentProps=r}const l=t?t.missingChildren:[];return o.bannerRenderReady&&r.bannerManager&&(u.banner=i[r.bannerManager.instanceId],u.banner||l.push(r.bannerManager)),{props:u,missingChildren:l}}}(b||(b={}));var I=n(65135),L=n(33379),O=n(82423),F=n(84754),D=n(85663),R=n(70785),W=n(75542),N=n(83448);class j extends T.g{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s),this.documentTitleCb=e=>{k.T.setDocumentTitle.getActionSender(this).send(e)},this.renderIfOffline=!0,function(e){if(!e.useEnterpriseCompliance)return;const t=f._.getInstance().rootReducer.connector(o.z.SharedState),n=g.s.useEnterpriseCompliance.getActionSender(t);n&&n.send(!0)}(this.config),this.setUseAuthEndpoints(a),this.addFavIconLinkTag(a),this.addGoogleSiteVerificationMeta(a)}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{requestContext:this.requestContext,parentTelemetryObject:this.telemetryObject}},n=b.inspect(t);return Object.assign(Object.assign({},n.props),{telemetryTags:this.telemetryTags,entryPointJssStyleSheet:this.config.entryPointStyles})}onComponentConnect(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},e?e.context:{}),{documentTitleCb:this.documentTitleCb}),{experienceTrackerNamespace:n}=e||{};(0,O.oU)(n).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){(0,L.N)()&&((0,F.ZE)()||this.config.triggerLowMemDhp)&&(yield(0,N.VD)());let t=this.config.perfMarkersTimeoutMs;this.config.addNavToTimeoutTTVR&&(t=(this.config.perfMarkersTimeoutMs||2e4)-performance.now(),t=t>0?t:1,I.M0.addOrUpdateTmplProperty(`TmElapse:${performance.now()}`)),yield(0,v.f)({incompleteVisualDependencyCallback:e&&e.getIncompleteVisualDependencies||null,timeoutOverride:t}),yield(0,R.o)(),(0,y.S)({incompleteVisualDependencyCallback:e&&e.getIncompleteVisualDependencies||null,timeoutOverride:this.config.secondaryPerfMarkersTimeoutMs})})))),yield T.g.prototype.onComponentConnect.call(this,Object.assign(Object.assign({},e),{context:t})),this.initializeDesignSystem();const r=f._.getInstance().rootReducer.connector(o.z.PageSettingsData),c=r?r.getCurrentState():null;if(this.setOverrideScrollYStyle(c),(0,d.dv)()||((0,d.IO)({TTVR:["River"]}),h.k.logError("Please add perf milestone markers to app's experience tracker. Defaulting to River ttvr markers")),(0,L.N)()){(0,d.S_)().then((e=>{const t=(0,p.Ou)();for(const n of e){t[n[0]]=n[1]}}));const{thirdPartyTracking:e}=this.config;e&&(0,W.F_)().then((()=>S(e)))}const u=this.config.footer;if(u){const e=u.loadTimeout||0;window.setTimeout((()=>k.T.footerRenderReady.getActionSender(this).send(!0)),e)}s.jG.ShowMnsCreatorDashboard&&(yield this.loadChildExperience({experienceType:a.x.mnsCreatorDashboard,href:void 0,instanceId:"MnsCreatorDashboard"})),this.config.bannerManager&&this.loadChildrenExperiences([this.config.bannerManager],e).then((()=>{k.T.bannerRenderReady.getActionSender(this).send(!0)}));const l=this.config.superCoachMarkInfo;this.config&&l&&(yield this.loadChildExperience(l))}))}logResolverAppErrors(){const e=c.U.getResolverErrors();e&&e.length>0&&e.forEach((e=>{I.M0.sendAppErrorEvent(e)}))}initializeDesignSystem(){const e={direction:"rtl"===u.Al.MarketDir?P.N.rtl:P.N.ltr};k.T.overrideDesignSystem.getActionSender(this).send(e)}setOverrideScrollYStyle(e){if((0,D.isNullOrUndefined)(e)&&"homePage"!==s.jG.AppType)return;let t=!1;(0,D.isNullOrUndefined)(e)||(l.p.isDhpPage()?t=e.dhpHideNewsFeed:l.p.isNtpPage()&&(t=e.ntpDisplayOption===r.displayOptionValues.blankPage||e.ntpDisplayOption===r.displayOptionValues.topSitesOnly));const n="homePage"===s.jG.AppType||"edge"===s.jG.AppType&&!t;k.T.setDisplayYScrollBar.getActionSender(this).send(n)}addFavIconLinkTag(e){if(e.favIconOverrideUrl&&(0,L.N)()){const t=document.createElement("link");t.setAttribute("rel","icon"),t.setAttribute("href",e.favIconOverrideUrl),t.setAttribute("type","image/x-icon"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("sizes","32x32"),document.querySelector("head").appendChild(t)}}addGoogleSiteVerificationMeta(e){if(e.googleSiteVerification&&(0,L.N)()){const t=document.createElement("meta");t.setAttribute("name","google-site-verification"),t.setAttribute("content",e.googleSiteVerification),document.querySelector("head").appendChild(t)}}setUseAuthEndpoints(e){e.useOneServiceAuthEndpoints&&(s.jG.UseOneServiceAuthEndpoints=e.useOneServiceAuthEndpoints),e.useOneServiceAnonAuthEndpoints&&(s.jG.UseOneServiceAnonAuthEndpoints=e.useOneServiceAnonAuthEndpoints)}}},31932:function(e,t,n){"use strict";n.d(t,{N:function(){return de}});var r,i,o,a,s,c=n(33940),u=n(201),l=n(40859),d=n(9739),h=n(33390),p=n(18682),g=n(86202),f=n(32495),m=n(33379),v=n(12884),y=n(13959),C=n(78722),S=n(46728);!function(e){e.woffFormat="woff",e.woff2Format="woff2"}(r||(r={})),function(e){e.Arial="Arial",e.EbGaramond="EB Garamond",e.Roboto="Roboto",e.SansSerif="Sans-Serif",e.SegoeUI="Segoe UI",e.SegoeUIMidlevel="Segoe UI Midlevel",e.SegoeWP="Segoe WP"}(i||(i={})),function(e){e.SegoeUILight="Segoe UI Light",e.SegoeUILightItalic="Segoe UI Light Italic",e.SegoeUISemilight="Segoe UI Semilight",e.SegoeUISemilightItalic="Segoe UI Semilight Italic",e.SegoeUI="Segoe UI",e.SegoeUIItalic="Segoe UI Italic",e.SegoeUISemibold="Segoe UI Semibold",e.SegoeUISemiboldItalic="Segoe UI Semibold Italic",e.SegoeUIBold="Segoe UI Bold",e.SegoeUIBoldItalic="Segoe UI Bold Italic",e.SegoeUIBlack="Segoe UI Black",e.SegoeUIBlackItalic="Segoe UI Black Italic"}(o||(o={})),function(e){e.SegoeUILight="normal",e.SegoeUILightItalic="italic",e.SegoeUISemilight="normal",e.SegoeUISemilightItalic="italic",e.SegoeUI="normal",e.SegoeUIItalic="italic",e.SegoeUISemibold="normal",e.SegoeUISemiboldItalic="italic",e.SegoeUIBold="normal",e.SegoeUIBoldItalic="italic",e.SegoeUIBlack="normal",e.SegoeUIBlackItalic="italic"}(a||(a={})),function(e){e.SegoeUILight="100",e.SegoeUILightItalic="100",e.SegoeUISemilight="200 300",e.SegoeUISemilightItalic="200 300",e.SegoeUI="400",e.SegoeUIItalic="400",e.SegoeUISemibold="500 600",e.SegoeUISemiboldItalic="500 600",e.SegoeUIBold="700",e.SegoeUIBoldItalic="700",e.SegoeUIBlack="800 900",e.SegoeUIBlackItalic="800 900"}(s||(s={}));const w=()=>`//${C.jG.StaticDomain}/statics/fonts`,b="U+00F0, U+00FE, U+0102, U+0103, U+0110, U+0111, U+0129, U+0169, U+01AF, U+01B0, U+1EA0-U+1EF9, U+20AB",T="U+0104, U+0106, U+0107, U+0105, U+0118, U+0119, U+0141, U+0142, U+015A, U+015B, U+0179, U+017A, U+017B, U+017C",P=e=>{const t={"body, html":{"font-family":"Segoe UI, Segoe UI Midlevel, Segoe WP, Arial, Sans-Serif",background:h.Cz,margin:"0"},body:{"overflow-x":"hidden"},"#root":{width:"100%"},".popOverContainer":{position:"relative"},".cc-banner":{color:p.CH,background:h.Cz,"z-index":`${y.K.Over}`},".cc-banner .cc-link":{color:g.go,"&:hover":{color:g.D9},"&:active":{color:g.VN}}};return{"@global":"mmx"===C.jG.AppType?(0,S.Z)(t,k):t,EntryPoint:{}}},k={"body, html":{"text-size-adjust":"none"},".cc-banner":{"font-size":"calc(16px + 0.5vw)"},".cc-banner .cc-container":{display:"inline-flex"},".cc-banner .cc-link":{"white-space":"nowrap"},".cc-banner .cc-text":{"line-height":"calc(16px + 1vw)"}},A=(e,t=!1,n=!1,r,i,c,u=!1)=>{let l=[];var d,h,p,g;return l=!e&&(0,m.N)()&&(0,v.J3)()?[E("Segoe UI Midlevel",w()+"/Segoe-UI-Light-WF-subset_vi",f.fontWeight.light,"Segoe UI Light vi Subset","woff2",b,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semilight-WF-subset_vi",f.fontWeight.semilight,"Segoe UI Semilight vi Subset","woff2",b,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-WF-subset_vi",f.fontWeight.normal,"Segoe UI vi Subset","woff2",b,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semibold-WF-subset_vi",f.fontWeight.semibold,"Segoe UI Semibold vi Subset","woff2",b,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Bold-WF-subset_vi",f.fontWeight.bold,"Segoe UI Bold vi Subset","woff2",b,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Light-WF-subset_east-europe",f.fontWeight.light,"Segoe UI Light Eastern Europe Subset","woff2",T,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semilight-WF-subset_east-europe",f.fontWeight.semilight,"Segoe UI Semilight Eastern Europe Subset","woff2",T,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-WF-subset_east-europe",f.fontWeight.normal,"Segoe UI Eastern Europe Subset","woff2",T,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semibold-WF-subset_east-europe",f.fontWeight.semibold,"Segoe UI Semibold Eastern Europe Subset","woff2",T,c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Bold-WF-subset_east-europe",f.fontWeight.bold,"Segoe UI Bold Eastern Europe Subset","woff2",T,c),(d="Segoe UI",h=w()+"/SegoeUI-Roman-VF-subset_web",p="woff2",g=c,{"font-family":d,"font-style":"normal",src:`url(${h}.${p}) format('${p}')`,"font-weight":"100 900","font-display":"swap","unicode-range":g||void 0})]:[E("Segoe UI Midlevel",w()+"/Segoe-UI-Light",f.fontWeight.light,"Segoe UI Light","woff",c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semilight",f.fontWeight.semilight,"Segoe UI Semilight","woff",c),E("Segoe UI Midlevel",w()+"/Segoe-UI",f.fontWeight.normal,"Segoe UI","woff",c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Semibold",f.fontWeight.semibold,"Segoe UI Semibold","woff",c),E("Segoe UI Midlevel",w()+"/Segoe-UI-Bold",f.fontWeight.bold,"Segoe UI Bold","woff",c)],t&&(l.push(E("Roboto",w()+"/roboto-v20-latin-100",f.fontWeight.light,void 0,"woff2",void 0,i)),l.push(E("Roboto",w()+"/roboto-v20-latin-300",f.fontWeight.semilight,void 0,"woff2",void 0,i)),l.push(E("Roboto",w()+"/roboto-v20-latin-regular",f.fontWeight.normal,void 0,"woff2",void 0,i)),l.push(E("Roboto",w()+"/roboto-v20-latin-500",f.fontWeight.semibold,void 0,"woff2",void 0,i)),l.push(E("Roboto",w()+"/roboto-v20-latin-700",f.fontWeight.bold,void 0,"woff2",void 0,i))),n&&l.push(E("EB Garamond",w()+"/eb-garamond-v14-latin-regular",f.fontWeight.normal,void 0,"woff2",void 0,r)),u&&Object.keys(o).forEach((e=>{l.push(function(e,t,n,r){return{"font-family":e,"font-style":null!=r?r:"normal",src:`local(${t})`,"font-weight":n}}("Segoe UI",o[e],s[e],a[e]))})),l};function E(e,t,n,r,i,o,a){return{"font-family":e,"font-style":"normal",src:r?`local(${r}), url(${t}.${i}) format('${i}')`:`url(${t}.${i}) format('${i}')`,"font-weight":`${n}`,"font-display":a||"swap","unicode-range":o||void 0}}var M=n(98304),x=n(82683),I=n(89526);let L;var O=n(7419),F=n(66837),D=n(75098),R=n(58794),W=n(35057),N=n(80013),j=n(90351);class U extends N.Z{constructor(){super(...arguments),this.handledProps={advertisementLink:void 0,copyright:void 0,linkSize:void 0,legalLink:void 0,loadTimeout:void 0,managedClasses:void 0,privacyLink:void 0,product:void 0,renderReady:void 0},this.generateSeparator=()=>I.createElement("span",{className:(0,j.Z)(this.props.managedClasses,"footer_separator","")},"|"),this.getDefaultTypographyProps=e=>Object.assign({size:D.H._6},e)}render(){return I.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),I.createElement(R.ZT,Object.assign({className:(0,j.Z)(this.props.managedClasses,"footer_product","")},this.getDefaultTypographyProps(this.props.product))),this.generateSeparator(),I.createElement(R.ZT,Object.assign({className:(0,j.Z)(this.props.managedClasses,"footer_copyright","")},this.getDefaultTypographyProps(this.props.copyright))),this.renderFooterLink(this.props.privacyLink,"footer_privacyLink"),this.renderFooterLink(this.props.legalLink,"footer_legalLink"),this.renderFooterLink(this.props.advertisementLink,"footer_advertisementLink"))}generateClassNames(){return super.generateClassNames((0,j.Z)(this.props.managedClasses,"footer",""))}renderFooterLink(e,t){if(e){const{children:n}=e,r=(0,c._T)(e,["children"]);return I.createElement(I.Fragment,null,this.generateSeparator(),I.createElement(W.WK,Object.assign({className:(0,j.Z)(this.props.managedClasses,t,"")},r),I.createElement(R.ZT,{tag:D.l.span,size:this.props.linkSize||D.H._6},n)))}return null}}var H=U,G=n(50425),B=n(14989),$=n(14165),V=n(42166);function _(){return{"font-weight":`${f.fontWeight.normal}`,"word-break":"break-word","&:link, &:link:hover":{color:p.CH,"border-bottom":"0"},"&:link:hover":{"text-decoration":"underline"}}}const z={footer:{"align-items":"center",display:"flex","flex-direction":"row","flex-wrap":"nowrap",margin:"0 auto 40px",position:"relative",[(0,B.vW)(null,B.K$.c1)]:{width:"95%"},[(0,B.eH)(B.K$.c2)]:{width:(0,V.a)($._3)},[(0,B.eH)(B.K$.c3)]:{width:(0,V.a)($.Xn)},[(0,B.vW)(B.K$.c4,null)]:{width:(0,V.a)($.xX)}},footer_product:{"font-weight":`${f.fontWeight.semibold}`},footer_copyright:Object.assign({},_()),footer_privacyLink:Object.assign({},_()),footer_legalLink:Object.assign({},_()),footer_advertisementLink:Object.assign({},_()),footer_separator:Object.assign({margin:"0 8px"},_())},q=(0,G.ZP)(z)(H);var K,Z=n(19388);!function(e){e.entryPointHeader="EntryPointHeader",e.sdCardMask="SdCardMask"}(K||(K={}));class Q extends N.Z{constructor(){super(...arguments),this.handledProps={isEnabled:void 0,managedClasses:void 0,provider:void 0,poweredBy:void 0,topic:void 0}}render(){return I.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),I.createElement(R.ZT,Object.assign({className:(0,j.Z)(this.props.managedClasses,"header_topic","")},this.props.topic)),I.createElement("div",{className:(0,j.Z)(this.props.managedClasses,"header_taglineWrapper","")},I.createElement(R.ZT,Object.assign({className:(0,j.Z)(this.props.managedClasses,"header_poweredBy","")},this.getTaglineProps(this.props.poweredBy))),I.createElement(R.ZT,Object.assign({className:(0,j.Z)(this.props.managedClasses,"header_provider","")},this.getTaglineProps(this.props.provider)))))}componentDidMount(){(0,Z.IJ)(K.entryPointHeader),(0,Z.BW)(K.entryPointHeader)}generateClassNames(){return super.generateClassNames((0,j.Z)(this.props.managedClasses,"header",""))}getTaglineProps(e){return Object.assign({tag:D.l.span,size:D.H._6},e)}}var Y=Q,J=n(34339),X=n(89677);const ee=(0,G.ZP)((e=>({header:{"align-items":"flex-end",display:"flex","flex-direction":"row","flex-wrap":"nowrap",height:"60px","justify-content":"space-between",margin:"0 auto",padding:"10px",position:"relative",[(0,B.vW)(null,B.K$.c1)]:{width:"90%"},[(0,B.eH)(B.K$.c2)]:{width:(0,V.a)($._3)},[(0,B.eH)(B.K$.c3)]:{width:(0,V.a)($.Xn)},[(0,B.vW)(B.K$.c4,null)]:{width:(0,V.a)($.xX)}},header_taglineWrapper:{"align-items":"baseline",display:"flex","flex-direction":"row",opacity:"1",overflow:"hidden",transition:"visibility 0.2s linear, opacity 0.2s linear",visibility:"visible","white-space":"nowrap"},header_topic:{"font-weight":`${f.fontWeight.light}`},header_poweredBy:{color:J.Q,"font-weight":String(f.fontWeight.semibold),[(0,X.Ih)("margin-left","margin-right",e.direction)]:"4px"},header_provider:{color:p.CH,"font-weight":String(f.fontWeight.semibold),[(0,X.Ih)("margin-left","margin-right",e.direction)]:"4px"}})))(Y);var te=n(24863),ne=n(93540);class re extends N.Z{constructor(){super(...arguments),this.handledProps={designSystem:void 0,footer:void 0,header:void 0,layout:void 0,compositionType:void 0,managedClasses:void 0,requestContext:void 0},this.containerRef=I.createRef(),this.setContainerRef=e=>{this.containerRef={current:e}}}render(){return I.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),ref:this.setContainerRef}),this.renderHeader(),this.renderLayout(),this.renderFooter())}componentDidCatch(e,t){L?L(e,t):(0,O.v)(e,t,M.TKQ,"Error during React render.")}generateClassNames(){const e=(0,j.Z)(this.props,"managedClasses.EntryPoint"),t=super.generateClassNames(e);return"windowsShell"===C.jG.AppType?t+" popOverContainer":t}renderHeader(){return!this.props.header||void 0!==this.props.header.isEnabled&&!this.props.header.isEnabled?null:I.createElement(ee,Object.assign({},this.props.header))}renderFooter(){return this.props.footer&&this.props.footer.renderReady?I.createElement(F.h,{designSystem:Object.assign({},this.props.designSystem)},I.createElement(q,Object.assign({},this.props.footer))):null}renderLayout(){const{layout:e,compositionType:t}=this.props;return t===x.O.horizontalStack?I.createElement(ne.c,{layout:e.children}):I.createElement(te.E,Object.assign({},e,{requestContext:this.props.requestContext}))}}const ie=(0,G.ZP)(P)(re);var oe=n(75559),ae=n(65135);class se extends I.Component{constructor(){super(...arguments),this.render=()=>null,this.componentDidMount=()=>{this.updateDocumentTitle()},this.componentDidUpdate=()=>{this.updateDocumentTitle()},this.updateDocumentTitle=()=>{this.props.title!==document.title&&(document.title=this.props.title)}}}const ce=(0,G.ZP)(P)((()=>null));var ue=n(22897),le=n(59934);class de extends u.j{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},u.h),{banner:void 0,customExperienceElement:void 0,designSystem:void 0,displayYScrollBar:void 0,documentTitle:void 0,oveFontForEbGarFont:void 0,oveFontForRoboFont:void 0,oveFontForSGUIfont:void 0,entryPointComponentProps:void 0,entryPointJssStyleSheet:void 0,globalStyleOverrides:void 0,useRobotoFont:void 0,migrationConsentDialog:void 0,mnsCreatorDashboard:void 0,coachmarkPlaceholder:void 0,reRenderCallback:void 0,telemetryTags:void 0,transparentBackground:void 0,useEbGaramondFont:void 0,useEnterpriseCompliance:void 0,useGlobalStylesForCustomExperience:void 0,useIndividualFonts:void 0,enableLocalSegoeUIFont:void 0}),this.getEntryPointJssStyleSheet=()=>{const{displayYScrollBar:e,oveFontForEbGarFont:t,oveFontForRoboFont:n,oveFontForSGUIfont:r,transparentBackground:i,useIndividualFonts:o,useEbGaramondFont:a,useRobotoFont:s,entryPointJssStyleSheet:c,globalStyleOverrides:u,designSystem:l,enableLocalSegoeUIFont:h}=this.props,p={"@global":{"@font-face":A(o,s,a,t,n,r,h)}},g=e&&{"@global":{body:{"overflow-y":"scroll"}}},f=i&&{"@global":{"body, html":{background:"transparent"}}},m=c&&c[(0,d.Yc)(l)?"darkMode":"lightMode"]||c;return(0,S.Z)(p,m,u,f,g)}}componentDidMount(){super.componentDidMount(),(0,m.N)()&&window.needsHydrate&&this.props&&"function"==typeof this.props.reRenderCallback&&this.props.reRenderCallback()}render(){super.render();const e=this.props,{banner:t,coachmarkPlaceholder:n,customExperienceElement:r,designSystem:i,entryPointComponentProps:o,experienceName:a,migrationConsentDialog:s,mnsCreatorDashboard:u,telemetryTags:d,useGlobalStylesForCustomExperience:h}=e,p=(0,c._T)(e,["banner","coachmarkPlaceholder","customExperienceElement","designSystem","entryPointComponentProps","experienceName","migrationConsentDialog","mnsCreatorDashboard","telemetryTags","useGlobalStylesForCustomExperience"]),g={[oe.qP]:p[oe.qP]},f=this.getEntryPointJssStyleSheet();return I.createElement(I.Fragment,null,this.props.documentTitle&&I.createElement(se,{title:this.props.documentTitle}),I.createElement(F.h,Object.assign({},(0,l.Vt)(a,i)),this.updateTelemetryTheme(i),this.useRouter(I.createElement("div",Object.assign({style:t?{display:"flex",flexDirection:"column"}:void 0},g),t,r?I.createElement(I.Fragment,null,h&&I.createElement(ce,{jssStyleSheet:f}),r):I.createElement(ie,Object.assign({jssStyleSheet:f},o,{requestContext:this.props.requestContext})),s,u,n||null))))}useRouter(e){return(0,m.N)()?I.createElement(le.F0,{history:ue.ZP},e):e}updateTelemetryTheme(e){ae.M0.updatePageMetadata({page:{theme:(0,d.Yc)(e)?"dark":"light"}})}}de.defaultProps={experienceName:"EntryPoint"}},76840:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(19392),i=n(30856);class o{reduce(e,t){if(!e)return{};if(!t)return e;let n,o=!1;return o=i.G.handleAction(t,r.T.overrideDesignSystem,(t=>n=Object.assign(Object.assign({},e),{designSystemOverrides:Object.assign(Object.assign({},e.designSystemOverrides),t)}))),o=i.G.handleAction(t,r.T.overrideGlobalStyles,(t=>{n=Object.assign(Object.assign({},e),{globalStyleOverrides:t})})),o=o||i.G.handleAction(t,r.T.footerRenderReady,(t=>{n=Object.assign(Object.assign({},e),{footerRenderReady:t})})),o=o||i.G.handleAction(t,r.T.bannerRenderReady,(t=>{n=Object.assign(Object.assign({},e),{bannerRenderReady:t})})),o=o||i.G.handleAction(t,r.T.renderMigrationConsent,(t=>{n=Object.assign(Object.assign({},e),{migrationDialogState:t})})),o=o||i.G.handleAction(t,r.T.setDocumentTitle,(t=>{n=Object.assign(Object.assign({},e),{documentTitle:t})})),o=o||i.G.handleAction(t,r.T.setDisplayYScrollBar,(t=>{n=Object.assign(Object.assign({},e),{displayYScrollBar:t})})),n||e}}},41170:function(e,t,n){"use strict";n.d(t,{o:function(){return E}});var r=n(33940),i=n(45506),o=n(89638),a=n(53076),s=n(201),c=n(34744),u=n(61246),l=n(4360),d=n(89526),h=n(3577),p=n(13959);const g=()=>({dialog_positioningRegion:{"z-index":p.K.Dialog}});class f extends s.j{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},s.h),{confirmLabel:void 0,content:void 0,defaultOption:void 0,dialogVisible:void 0,heading:void 0,managedClasses:void 0,onChangeMarket:void 0,onDialogSubmit:void 0,onDialogDismiss:void 0,remainingOptions:void 0,selectedMarket:void 0,suggestedMarketLabel:void 0,suggestedOptions:void 0})}render(){super.render();const{props:e}=this,t={contentWidth:"624px",contentHeight:"400px",modal:!0,visible:e.dialogVisible,onDismiss:e.onDialogDismiss},{dialogFont:n,marketSelect:r,confirmButton:i,closeButton:o}=e.managedClasses;return d.createElement(c.Vq,Object.assign({},t,{jssStyleSheet:g}),d.createElement("div",Object.assign({className:this.generateClassNames(e.managedClasses.FreMarketSelector)},this.unhandledProps()),d.createElement(u.X6,Object.assign({className:n},e.heading)),d.createElement(l.nv,Object.assign({className:n},e.content)),d.createElement("select",{className:r,defaultValue:e.selectedMarket,onChange:e.onChangeMarket},this.kvOptionToHtmlOption(e.defaultOption),d.createElement("optgroup",{label:e.suggestedMarketLabel},e.suggestedOptions&&e.suggestedOptions.map(this.kvOptionToHtmlOption)),d.createElement("optgroup",{label:"---------"},e.remainingOptions&&e.remainingOptions.map(this.kvOptionToHtmlOption))),d.createElement(h.default,{className:i,onClick:e.onDialogSubmit},e.confirmLabel),d.createElement(h.default,{className:o,onClick:e.onDialogDismiss})))}kvOptionToHtmlOption(e){return e&&e.key&&e.value?d.createElement("option",{key:e.key,value:e.key},e.value):null}}f.defaultProps={experienceName:"FreMarketSelector"};var m=n(79941),v=n(78722),y=n(14594),C=n(30699),S=n(74398),w=n(55067);class b{}b.dialogVisible=new w.C("DialogVisible"),b.changeMarket=new w.C("ChangeMarket");class T extends S.g{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,o,a),this.onDialogDismiss=()=>{b.dialogVisible.getActionSender(this).send(!1);const e=this.defaultOption.key;this.storeMarket(e)},this.onDialogSubmit=()=>{b.dialogVisible.getActionSender(this).send(!1);const e=this.getCurrentState().selectedMarket||this.defaultOption.key;this.storeMarket(e)},this.onChangeMarket=e=>{b.changeMarket.getActionSender(this).send(e.currentTarget.value)};const s=v.jG.CurrentMarket,c=s.split("-")[1],u=(v.jG.CountryCode||c).toLowerCase();this.defaultOption={key:s,value:o.marketNames[s]};const l=e=>({key:e,value:o.marketNames[e]}),d=[o.locationToMarketMappingForSpecialCountries[u],...o.locationToMarketMapping[u]].filter((e=>e));this.suggestedOptions=d.map(l);this.remainingOptions=Object.keys(o.marketNames).filter((e=>d.indexOf(e)<0)).map(l)}mapStateToProps(e){return{confirmLabel:this.config.confirmLabel,content:this.config.content,defaultOption:this.defaultOption,dialogVisible:e.dialogVisible,onChangeMarket:this.onChangeMarket,onDialogDismiss:this.onDialogDismiss,onDialogSubmit:this.onDialogSubmit,remainingOptions:this.remainingOptions,suggestedMarketLabel:this.config.suggestedMarketLabel,suggestedOptions:this.suggestedOptions,heading:this.config.heading}}onComponentConnect(e){return(0,r.mG)(this,void 0,void 0,(function*(){S.g.prototype.onComponentConnect.call(this,e),this.pageSettingsDataConnector=yield(0,y.T)()}))}storeMarket(e){if(!this.pageSettingsDataConnector)return;const t=this.pageSettingsDataConnector.getCurrentState(),n=Object.assign(Object.assign({},t),{market:e});C.f.update.getActionSender(this.pageSettingsDataConnector).send(n),v.jG.CurrentMarket!==e&&(0,m.Z)()}}var P=n(30856);class k{reduce(e,t){if(!e)return{dialogVisible:!0,selectedMarket:null};if(!t)return e;let n,r=!1;return r=r||P.G.handleAction(t,b.dialogVisible,(t=>{n=Object.assign(Object.assign({},e),{dialogVisible:t})})),r=r||P.G.handleAction(t,b.changeMarket,(t=>{n=Object.assign(Object.assign({},e),{selectedMarket:t})})),n||e}}var A=n(43819);function E(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=i.Al.ClientSettings.market;if(!t||!t.mismatch)return;const n=A._.getInstance(),r=n.rootReducer.connector(a.z.PageSettingsData);if(r){if(r.getCurrentState().market)return}const s=(yield o.U.getConfig("cms/api/amp/experienceConfigIndex/AAC14oz")).properties,c=new k,u=new T("FreMarketSelector","",n.rootReducer,c,n.store,s,e),l=yield u.connectComponent(f),h=document.createElement("div");h.classList.add("fre-market-selector-container"),document.body.appendChild(h),n.renderRootElement(d.createElement(l),h)}))}},20527:function(e,t,n){"use strict";n.d(t,{V:function(){return i},W:function(){return o}});var r=n(55067);class i{}function o(){i.fetchWeatherSummaryFailure.unregisterObservers(),i.updateLayout.unregisterObservers(),i.updateWeatherCurrentCondition.unregisterObservers(),i.updateCurrentLocation.unregisterObservers(),i.updateIsWeatherCurrentCard2U.unregisterObservers(),i.updateCarouselBkColor.unregisterObservers(),i.updateAuroraOptions.unregisterObservers()}i.fetchWeatherSummaryFailure=new r.C("FetchWeatherSummaryFailure"),i.fetchWeatherMonthlyCalendarFailure=new r.C("FetchWeatherMonthlyCalendarFailure"),i.fetchTrendDataFailure=new r.C("FetchTrendDataFailure"),i.updateLayout=new r.C("UpdateLayout"),i.updateWeatherCurrentCondition=new r.C("UpdateWeatherCurrentCondition"),i.updateCurrentLocation=new r.C("UpdateCurrentLocation"),i.updateIsWeatherCurrentCard2U=new r.C("UpdateIsWeatherCurrentCard2U"),i.updateCarouselBkColor=new r.C("UpdateCarouselBkColor"),i.updateAuroraOptions=new r.C("UpdateAuroraOptions"),i.updatePollenData=new r.C("UpdateNoPollenData"),i.updateForecastVideoShown=new r.C("UpdateForecastVideoShown"),i.updateFreDialogShown=new r.C("UpdateFreDialogShown")},55458:function(e,t,n){"use strict";n.d(t,{xz:function(){return te}});var r=n(33940),i=n(46102),o=n(23401),a=n(41120),s=n(46758),c=n(86108);class u{static checkMuidStable(e,t=0){if(32!=e.length)return!1;const n=new Uint8Array(this.parseMuidString(e));if(n.forEach((e=>{if(isNaN(e))return!1})),this.SwapBytesForGuidEndianess(n),0!=(192&n[0]))return!1;if((240&n[6])!=this.GUID_VERSION<<4)return!1;if((192&n[8])!=this.GUID_SUB_VERSION<<6)return!1;const r=new Uint8Array(n);this.Unobfuscate(r);if(this.GenerateChecksum(r)!=r[15])return!1;let i=0;return i|=(63&r[10])<<8,i|=r[11],!(this.GetCurrentDate()-i<t)}static parseMuidString(e){const t=[],n=[6,4,2,0,10,8,14,12,16,18,20,22,24,26,28,30];for(const r of n){const n=e.slice(r,r+2);t.push(parseInt(n,16))}return new Uint8Array(t)}static SwapBytesForGuidEndianess(e){let t=e[0];e[0]=e[3],e[3]=t,t=e[1],e[1]=e[2],e[2]=t,t=e[4],e[4]=e[5],e[5]=t,t=e[6],e[6]=e[7],e[7]=t}static Obfuscate(e){const t=e.length>>1;for(let n=0;n<t;n++)e[n+t]^=e[n]}static Unobfuscate(e){this.Obfuscate(e)}static GenerateChecksum(e){const t=new Uint8Array([0]);for(let n=0;n<e.length-1;n++)t[0]+=e[n];return t[0]}static GetCurrentDate(){const e=this.MUID_START_UTC,t=new Date;let n=-1;return(t.getDay()!=e.getDay()||t.getMonth()!=e.getMonth()||t.getFullYear()!=e.getFullYear())&&(n=Math.floor(Math.abs(t.getTime()-e.getTime())/864e5),n>16383)?0:n}}u.GUID_VERSION=6,u.GUID_SUB_VERSION=0,u.MUID_START_UTC=new Date("2010-01-01Z");var l,d=n(75607),h=n(29422),p=n(30854),g=n(34181),f=n(51325),m=n(97417),v=n(87143),y=n(1087),C=n(14989),S=n(88828),w=n(79929),b=n(83227),T=n(53076),P=n(41710),k=n(63238),A=n(62626),E=n(45506),M=n(78722),x=n(89638),I=n(44979),L=n(32181),O=n(56205),F=n(64739),D=n(65135),R=n(75816),W=n(75559),N=n(38156),j=n(31891),U=n(34731),H=n(76059),G=n(12884),B=n(33379),$=n(74398),V=n(20527),_=n(34656),z=n(34852),q=n(89696),K=n(67462);!function(e){e.Hurricanes="/weather/severeweather/hurricanes",e.SevereWeather="/weather/severeweather/activealerts",e.AirQuality="/weather/severeweather/airquality",e.Wildfire="/weather/severeweather/wildfire",e.Maps="/weather/maps",e.Maps3D="/weather/maps/3d",e.Records="/weather/records",e.Life="/weather/life",e.Pollen="/weather/pollen",e.MonthlyForecast="/weather/monthlyforecast",e.HourlyForecast="/weather/hourlyforecast",e.Forecast="weather"}(l||(l={}));const Z=["baseHeader","rightNativeAds","rightRailAds"],Q=["commonHeader"],Y=["baseHeader"],J=["es-ve","es-xl","mr-in"];function X(){const e=E.Al&&E.Al.ClientSettings&&E.Al.ClientSettings.queryparams;if((0,i.Gv)()){const t=(0,z.Xw)((0,G.Wo)());return/type=hurricane/i.test(e)||"hurricane"===(null==t?void 0:t.type)?"/weather/severeweather/hurricanes":/type=severeweather/i.test(e)||"severeweather"===(null==t?void 0:t.type)?"/weather/severeweather/activealerts":/type=airquality/i.test(e)||"airquality"===(null==t?void 0:t.type)?"/weather/severeweather/airquality":/type=wildfire/i.test(e)||"wildfire"===(null==t?void 0:t.type)?"/weather/severeweather/wildfire":/3d=1/i.test(e)?"/weather/maps/3d":"/weather/maps"}return(0,i.JE)()?"/weather/records":(0,i.Wq)()?"/weather/monthlyforecast":(0,i.eE)()?"/weather/life":(0,i.Nt)()?"/weather/pollen":(0,i.bc)()?"/weather/hourlyforecast":"weather"}const ee=e=>{"overlay visible"===e.data?(D.M0.enableTrackingSystem(R.G.All),D.M0.sendPageView({page:{isCorePV:!0}},!0),D.M0.startDwellTime()):"overlay closed"===e.data&&D.M0.sendContentViewEvent(document.getElementById("root"),W.NS.OutOfFocus,!1)};class te extends $.g{constructor(e,t,n,c,u,l,d){super(e,t,n,c,u,l,d),this.scenario="",this.docid="",this.hasDiffLocFetchWeatherCounter=0,this.teaserIdFromUrl="",this.innerWidthSsr=0,this.isWindows=!1,this.loadedExps={},this.lazyExpState={},this.instanceIdToSlot=new Map,this.weatherTravelCarouselInstanceId="WeatherTravelCarousel",this.pageloadTime=new Date,this.popstateHandler=()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=this.weatherDataConnector;(0,o.vj)("BrowserBackOrForward");const t=new _.z((0,G.l4)()),n={historyFetch:!0,locationSearchText:t.getLocationSearchText()};yield e.fetchWeather(t.location(),t.unit(),n),e.fetchLocationWeatherMap()})),this.updateLocation=e=>(0,r.mG)(this,void 0,void 0,(function*(){this.weatherDataConnector&&this.weatherDataConnector.updateWeather(e,{excludeFromRecentSearch:!0})})),this.onPageTimeOutRefresh=()=>{(0,B.N)()&&window.addEventListener("focus",this.onPageTimeOutRefreshHandler)},this.onPageTimeOutRefreshHandler=()=>{const e=6e4*(this.config.pageTimeoutMinutes||60);(new Date).getTime()-this.pageloadTime.getTime()>=e&&location.reload()},this.isSupportCarouselBgColorPage=()=>(0,i.BZ)()||(0,i.JE)()||(0,i.Nt)()||(0,i.bc)()||(0,i.eE)(),this.getCarouselBkColor=()=>{const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();let t=e&&e.currentCondition&&e.currentCondition.normalizedSkyCode;if(!t)return null;const n=e&&e.forecast&&e.forecast[0]&&e.forecast[0].almanac,r=n&&(0,a.Y)(new Date,new Date(n.sunrise),new Date(n.sunset));return t=s.bb.getSunriseSunsetSkyCode(t,r),s.bb.getCarouselBackgroudGradient(t)},this.updateLayout=(e,t)=>{var n,r,o;if(this.setPageColumnsTMPL(t),(0,i.Gv)())return;let a=e,s=t;const c=C.K$[this.getColumn()];if(this.updateL1V3Teaserlayout(),!this.isNeedUpdateL1V3Layout()){if((0,i.Wq)()||(0,i.eE)()||(null===(r=null===(n=this.weatherDataConnector)||void 0===n?void 0:n.getCurrentState())||void 0===r?void 0:r.showLocationPanel)||c!==C.K$.c4||(a=w.C.NoLocationPanel,s="true"),(0,i.Wq)()&&!t.endsWith("h")&&this.getIsHigherCalendar()&&(s=t+"h"),(0,i.Nt)()){const e=this.weatherDataConnector.getCurrentState();a=!this.checkPollenData(e)?w.C.NoPollendata:w.C.ScreenWidth}(0,i.BZ)()&&!M.jG.isMobile&&(a=w.C.ScreenWidth,c===C.K$.c4&&(null===(o=this.weatherPersonaDataConnector)||void 0===o?void 0:o.getCurrentState().isBigWidgetEnable)&&(a=w.C.ScreenWidthWithPersona)),this.updateL1v3Layout(a,s),(0,i.BZ)()&&j.w.updateLayoutInfo.getActionSender(this.weatherDataConnector).send(a)}},this.getIsHigherCalendar=()=>{try{if("boolean"==typeof this.isHigherCalendar)return this.isHigherCalendar;const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState(),t=e&&e.calendarData;return!(!t||!t.days)&&(this.isHigherCalendar=t.days.length>w.Z,this.isHigherCalendar)}catch(e){return!1}},this.getSharedLocationState=()=>{const e=(this.getCurrentState()||{}).SharedState;return e&&e.location||{}},this.fetchConfigForAuroraHeader=()=>{"windows-header"==this.headerKind&&this.config.isVerticalsHeaderAurora&&x.U.getConfig({experienceType:b.x.commonHeader,instanceSrc:"default",sharedNs:"msn-ns"}).then((e=>{var t;if(!e||!e.properties)return;const n=this.getSharedLocationState(),r=null===(t=this.getCurrentState())||void 0===t?void 0:t.auroraOptions,i=Object.assign(Object.assign({},r),{config:e.properties,verticalKey:"weather",getRelatedLink:e=>n.relatedLinks&&n.relatedLinks[e],pathOverride:X(),configOverrides:this.config.headerConfigOverrides,supports3DNavItems:(0,B.N)()&&this.supports3DMaps(),isDefaultLayout:this.config.isAuroraOldLayout,isChangedBackgroundColor:this.config.isChangedHeaderBackground,headerBackgroundColor:this.config.isChangedHeaderBackground?n.backgroundColor:""});V.V.updateAuroraOptions.getActionSender(this).send(i)}))},this.matchImmersiveLocation=(e,t)=>{const n=(0,I.DO)(t),r=new _.z(n).location(),i=r&&void 0!==r.latitude&&void 0!==r.longitude?r:null==e?void 0:e.currentLocation,{latitude:o,longitude:a}=i||{};return o&&a?(0,k.By)({lon:parseFloat(a),lat:parseFloat(o)}):-1},this.isValidPersonaData=()=>{const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();return e&&e.commentary&&0!=Object.keys(e.commentary).length},this.isEtreeEnabledBrowser=()=>{var e,t;const n=null===(t=null===(e=M.jG.CurrentRequestTargetScope)||void 0===e?void 0:e.browser)||void 0===t?void 0:t.browserType;return"chrome"===n||"chromium"===n||"edge"===n||"edgeChromium"===n||"safari"===n},this.renderIfOffline=!0}mapStateToProps(e){var t;(0,q.hf)("WeatherPageV2.Connector",void 0,!0);const n={requestContext:this.requestContext,scenario:this.scenario,docid:this.docid,telemetryTags:this.tags,updateLayout:this.updateLayout,updateLocation:this.updateLocation,headerKind:this.headerKind,extraPageClass:this.extraPageClass,innerWidthSsr:this.innerWidthSsr,getColumn:this.getColumn,hasPersonaCard:null===(t=this.weatherPersonaDataConnector)||void 0===t?void 0:t.getCurrentState().isBigWidgetEnable,enableEplant:this.enableEtree,enableForecastVideo:this.enableForecastVideo,pageUnMount:this.pageUnMount},r={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:n},i=y.W.inspect(r);return Object.assign(Object.assign({},i.props),this.telemetryTags)}onComponentConnect(e){var t,n,o;return(0,r.mG)(this,void 0,void 0,(function*(){const a=e||{},s=(0,I.Nd)(this.requestContext.data.locationHref,"locationHref"),c=this.config.slots;this.isWindows=a.context.isWindows;const u=!c.commonHeader&&!c.baseHeader,l="win-uwp-wea"===a.context.app,d=u||l;(0,B.N)()||(this.innerWidthSsr=(null===(t=a.context)||void 0===t?void 0:t.innerWidth)||0);for(const[e,t]of Object.entries(this.config.slots)){const n=null==t?void 0:t.instanceId;n&&this.instanceIdToSlot.set(n,e)}this.setupWeatherDataObservers(),this.headerKind=function(e,t){return t?"no-header":"windows-header"}(this.isWindows,d),this.extraPageClass=a.context.app;const h=Object.assign(Object.assign({},a),{context:Object.assign(Object.assign(Object.assign({},a.context),this.isWindows?{overrideRootUrl:this.config.commonHeaderOverrideRootUrl,verticalKeyOverride:"weather",primePathOverride:X(),overridePageType:"winvlp",supports3DNavItems:(0,B.N)()&&this.supports3DMaps()}:{}),{configOverrides:this.config.headerConfigOverrides,supports3DMaps:(0,B.N)()&&this.supports3DMaps()})});let p="",g="";try{const e=new URL(s);this.params=new URLSearchParams(decodeURIComponent(null===(n=e.search)||void 0===n?void 0:n.replace(/&amp;/gi,"&"))),p=this.params.get("scenario"),g=this.params.get("docid"),this.teaserIdFromUrl=this.params.get("content"),this.params.get("miniapp-loc")&&this.storageMiniappLoc(e)}catch(e){p=""}if(this.scenario=p,this.docid=g,this.weatherDataConnector=yield this.rootReducer.getDataConnector(T.z.WeatherData),this.weatherDataConnector){const e=null===(o=this.weatherDataConnector.getCurrentState())||void 0===o?void 0:o.currentCondition;e&&V.V.updateWeatherCurrentCondition.getActionSender(this).send(e)}if((0,i.Gv)()||(this.initImmersiveVideoPlayer(),this.updateL1V3Teaserlayout(),this.updateTeaserLayout()),this.hasDiffLocFetchWeatherCounter=this.hasDiffLocFetchWeatherCounter+(this.weatherDataIsComplete()?1:0),this.setCurrentLocation(),yield $.g.prototype.onComponentConnect.call(this,h),this.generateTelemetryTags(),this.config.enablePersonas&&(this.weatherPersonaDataConnector=yield this.rootReducer.getDataConnector(T.z.WeatherPersonaData),yield this.weatherPersonaDataConnector.getPersonasDetails(),j.w.updateWeatherUserProfile.registerObserver((()=>(0,r.mG)(this,void 0,void 0,(function*(){const{currentLocation:e}=this.weatherDataConnector.getCurrentState();yield this.weatherPersonaDataConnector.updateLocation(e)})))),H.P.updateBigWidgetState.registerObserver((()=>(0,r.mG)(this,void 0,void 0,(function*(){this.updateLayout(w.C.ScreenWidth,C.K$[this.getColumn()])}))))),this.childExpInitProps=h,yield this.loadPageV2ChildrenExperiences(),(0,B.N)()){const e=C.K$[this.getColumn()];if(this.setPageColumnsTMPL(e),window.needsHydrate&&(0,i.Nt)()){const t=this.weatherDataConnector.getCurrentState(),n=!this.checkPollenData(t);M.jG.isMobile||this.updateLayout(w.C.ScreenWidth,e),V.V.updatePollenData.getActionSender(this).send(n,t.currentLocation)}if((0,i.Wq)()&&this.updateLayout(w.C.ScreenWidth,e),this.isSupportCarouselBgColorPage()){const e=this.getCarouselBkColor();this.updateSharedStateLocation(e&&e.backgroundColor)}this.fetchConfigForAuroraHeader(),M.jG.isOverlayFrame&&window.addEventListener("message",ee,!1),this.enableEtree=this.config.enableEplant&&this.isEtreeEnabledBrowser()}this.onPageTimeOutRefresh(),this.setSrcUrlTMPL(),(0,B.N)()&&!(0,i.Gv)()&&window.addEventListener("popstate",this.popstateHandler)}))}loadPageV2ChildrenExperiences(){const e=Object.create(null,{loadChildrenExperiences:{get:()=>super.loadChildrenExperiences},loadChildrenWceExperiences:{get:()=>super.loadChildrenWceExperiences}});return(0,r.mG)(this,void 0,void 0,(function*(){const[t,n,r]=this.getChildrenExps();for(const e of r)this.loadedExps[e]=!0;yield Promise.all([e.loadChildrenExperiences.call(this,t,this.childExpInitProps),e.loadChildrenWceExperiences.call(this,n)])}))}getChildrenExps(){var e;const t=this.getCurrentState(),n=[[],[],[]];this.lazyExpState&&0!=Object.keys(this.lazyExpState).length||(this.lazyExpState=(0,F.x)(this.config.lazyExps));for(const[r,o]of Object.entries(this.config.slots))this.shouldLoadExp(o,r,t)&&(n[+(0,i.nd)(null===(e=o.configRef)||void 0===e?void 0:e.experienceType)].push(o),n[2].push(r));return n}shouldLoadExp(e,t,n){var r,i;if(!(0,L.oO)(e))return!1;if(c.a.has(e.instanceId.toLowerCase()))return!1;if(M.jG.isMobile&&"riverContent"===t)return!J.includes(E.Al.Locale);if(null===(r=this.config.lazyExps)||void 0===r?void 0:r.includes(t)){if(!((null===(i=n.currentLayout)||void 0===i?void 0:i.experiences)||[]).find((t=>t.instanceId===e.instanceId)))return!1}return this.isWindows?this.config.showAdInWindows?-1==Y.indexOf(t):-1==Z.indexOf(t):-1==Q.indexOf(t)}needImmersiveVideoPlayer(){return"forecastvideo"===new _.z((0,G.l4)()).getActions()}initImmersiveVideoPlayer(){this.needImmersiveVideoPlayer()&&this.weatherDataConnector.toggleImmersivePlayer(!0,!0)}needFreDialog(e){const t=!(e&&e.sig&&e.sig.ft&&e.sig.ft.includes("vwlm")),n=(0,K.jG)(),r=u.checkMuidStable(n,2),o=d.Gs.getInstance().getItem(d.IS.Freshown);return this.config.enableFreDialog&&(0,i.BZ)()&&(t&&r||this.config.forceEnableFreDialog)&&!o}updateTeaserLayout(){var e;if(this.isNeedUpdateL1V3Layout())return;if(M.jG.isMobile)return this.updateMobileLayout();let t=w.C.ScreenWidth;(null===(e=this.weatherPersonaDataConnector)||void 0===e?void 0:e.getCurrentState().isBigWidgetEnable)&&(t=w.C.ScreenWidthWithPersona);const n=C.K$[this.getColumn()];this.updateL1v3Layout(t,n),(0,i.BZ)()&&j.w.updateLayoutInfo.getActionSender(this.weatherDataConnector).send(t)}setupWeatherDataObservers(){V.V.updateLayout.registerObserver((e=>{if(!(0,B.N)())return;const t=e.params[2],n=(null==t?void 0:t.experiences)||[];this.isWeatherTravelCarouselEnabled()&&n.push({id:50,instanceId:this.weatherTravelCarouselInstanceId,gridArea:"6 / 1 / 7 / 5"});const r=this.childComponentInstanceList;for(const e of n){const t=this.instanceIdToSlot.get(e.instanceId);r[e.instanceId]||this.loadChildExp(t)}})),j.w.fetchWeatherSummaryFailure.registerObserver((()=>{V.V.fetchWeatherSummaryFailure.getActionSender(this).send(!0)})),j.w.fetchWeatherSummarySuccess.registerObserver((()=>{this.rootReducer.getDataConnector(T.z.WeatherData).then((e=>{this.weatherDataConnector=e;const t=e.getCurrentState();if(this.isSupportCarouselBgColorPage()){const e=this.getCarouselBkColor();e&&(V.V.updateCarouselBkColor.getActionSender(this).send(e),this.weatherDataConnector.updateWeatherCarouselBg(e),this.updateSharedStateLocation(e.backgroundColor))}if(t&&t.currentCondition&&V.V.updateWeatherCurrentCondition.getActionSender(this).send(t.currentCondition),h.isSameLocationPoint(this.currentLocation,t.currentLocation)||this.hasDiffLocFetchWeatherCounter++,this.setCurrentLocation(),(0,i.Gv)()||(this.updateL1V3Teaserlayout(),this.updateTeaserLayout()),(0,i.Nt)()){const e=!this.checkPollenData(t);if(!M.jG.isMobile){const e=C.K$[this.getColumn()];this.updateLayout(w.C.ScreenWidth,e)}V.V.updatePollenData.getActionSender(this).send(e,t.currentLocation)}}))})),j.w.updateWeatherUserProfile.registerObserver((()=>(0,r.mG)(this,void 0,void 0,(function*(){const{profile:e}=this.weatherDataConnector.getCurrentState();this.needFreDialog(e)&&V.V.updateFreDialogShown.getActionSender(this).send(!0)})))),j.w.toggleImmersivePlayer.registerObserver((e=>{const t=e.params[0];V.V.updateForecastVideoShown.getActionSender(this).send(t)})),j.w.loadConditionalExperience.registerObserver((e=>{this.loadChildExp(e.params[0])})),M.jG.isMobile||(0,i.Wq)()||(0,i.eE)()||j.w.updateLocationPanelPresentation.registerObserver((()=>{this.rootReducer.getDataConnector(T.z.WeatherData).then((e=>{const t=e.getCurrentState().showLocationPanel,n=this.getCurrentState().currentConditionType,r=C.K$[this.getColumn()];if(r===C.K$.c4){if(n===w.C.NoLocationPanel&&t)return void this.updateLayout(w.C.ScreenWidth,r);if(!t)return void this.updateLayout(w.C.NoLocationPanel,"true")}}))})),(0,i.Wq)()&&j.w.updateCalendarData.registerObserver((()=>{this.rootReducer.getDataConnector(T.z.WeatherData).then((e=>{var t,n,r;const i=+(null===(n=null===(t=e.getCurrentState())||void 0===t?void 0:t.currentLocation)||void 0===n?void 0:n.latitude),o=null===(r=e.getCurrentState())||void 0===r?void 0:r.calendarData,a="#244D72";if(!o||!o.days)return V.V.fetchWeatherMonthlyCalendarFailure.getActionSender(this).send(!0),V.V.updateCarouselBkColor.getActionSender(this).send({background:a}),this.weatherDataConnector.updateWeatherCarouselBg({backgroundColor:a}),void this.updateSharedStateLocation(a);let s;if(i>=-15&&i<=15)s=U.getEquatorCarouselBackgroundColor();else{const e=i>0;s=o?U.getMonthlyForecastBackgroundColor(o.selectedMonth,e,!0):{}}V.V.updateCarouselBkColor.getActionSender(this).send(s),this.weatherDataConnector.updateWeatherCarouselBg(s),this.updateSharedStateLocation(s&&s.background);const c=C.K$[this.getColumn()];this.isHigherCalendar=o.days.length>w.Z,this.isHigherCalendar?this.updateLayout(w.C.ScreenWidth,c+"h"):this.updateLayout(w.C.ScreenWidth,c)}))})),this.config.isVerticalsHeaderAurora&&(0,B.N)()&&P.s.updateLocation.registerObserver((()=>{var e;const t=this.getSharedLocationState(),n=null===(e=this.getCurrentState())||void 0===e?void 0:e.auroraOptions,r=Object.assign(Object.assign({},n),{getRelatedLink:e=>t.relatedLinks&&t.relatedLinks[e],headerBackgroundColor:t.backgroundColor});V.V.updateAuroraOptions.getActionSender(this).send(r)}))}getLayout(e,t){var n;if(!(null===(n=this.config.teaserLayout)||void 0===n?void 0:n.layouts))return null;for(const n of this.config.teaserLayout.layouts){const r=n.conditionTypes.split(","),i=n.conditionValues.split(",");if(r.includes(e)&&i.includes(t))return n}return null}isNeedToUpdateHeaderBg(){return this.config.isChangedHeaderBackground&&this.config.isVerticalsHeaderAurora&&"windows-header"===this.headerKind}updateSharedStateLocation(e){if(!e||!this.isNeedToUpdateHeaderBg())return;const t=this.rootReducer.connector(T.z.SharedState);if(t){const n=this.getCurrentState()||{};(0,A.u)(t,n,e)}}generateTelemetryTags(){if(this.telemetryObject){const e=this.telemetryObject.addOrUpdateChild({name:"WeatherPage",content:{type:N.uH.StructuredData}});this.tags={toggleLocationTags:this.buildChild(e,"WeatherPage_toggleLocation",N.wu.Refresh,N.Aw.Click)}}}buildChild(e,t,n,r,i,o){const a={name:t,behavior:n||N.wu.Undefined,action:r||N.Aw.Click};return i&&(a.content={headline:i}),o&&(a.overrideDestinationUrl=o),(e||this.telemetryObject).addOrUpdateChild(a).render()}updateMobileLayout(){var e,t;const n=this.weatherDataConnector.getCurrentState();let r=w.C.ScreenWidth;if((0,i.BZ)()){const i=this.needLiftUpMinimap();if((null==n?void 0:n.pollenForecast)&&this.config.slots.weatherPollenTeaser){const o=(null===(t=((null===(e=n.pollenForecast)||void 0===e?void 0:e.forecast)||[])[0])||void 0===t?void 0:t.level)||"01";r=Number(o)>2?i?w.C.MobileWidthRain:w.C.MobileWidthPollen:i?w.C.MobileWidthRainPollenLow:w.C.MobileWidthPollenLow}else i&&(r=w.C.MobileWidthRain)}const o=C.K$[this.getColumn()];this.updateLayout(r,o)}needLiftUpMinimap(){var e,t;const n=this.weatherDataConnector.getCurrentState(),r=!this.weatherDataConnector.normalWeatherCondition(),i=null===(e=null==n?void 0:n.contentData)||void 0===e?void 0:e.find((e=>{var t;return null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.some((t=>{var n;return(null==e?void 0:e.ranking)&&(null===(n=null==t?void 0:t.renderPlaces)||void 0===n?void 0:n.includes(p.aj.L1Minimap))}))}));return!!(r||(null===(t=null==n?void 0:n.nowcasting)||void 0===t?void 0:t.isRaining)||i)}storageMiniappLoc(e){const t=(0,g.a)(e);(0,f.VO)(t)}checkPollenData(e){return void 0!==(null==e?void 0:e.pollenForecast)}supports3DMaps(){let e=null;const t=d.Gs.getInstance().getItem(d.IS.GpuExist);return null!=t?e="1"===t:(e=(0,O.q)()&&(0,O.i)(),d.Gs.getInstance().setItem(d.IS.GpuExist,e?"1":"0",1728e5)),null===D.M0||void 0===D.M0||D.M0.addOrUpdateTmplProperty("DetectGpu",e.toString()),e}isNeedUpdateL1V3Layout(){return(0,i.BZ)()&&!M.jG.isMobile}updateL1V3Teaserlayout(){const e=this.teaserIdFromUrl;this.hasDiffLocFetchWeatherCounter<=1&&e&&this.getContitionTypeByTeaserId(e)?this.updateL1V3TeaserlayoutByTeaserId(e):this.updateL1V3TeaserLayoutByWeatherCondition()}getContitionTypeByTeaserId(e){const t=e&&e.toLocaleLowerCase().split("_")[0],n=t&&v.eT[t];return w.C[n]}updateL1V3TeaserlayoutByTeaserId(e){let t=this.getContitionTypeByTeaserId(e)||w.C.ScreenWidth;t!=w.C.ScreenWidthWithPersonaSummary||this.isValidPersonaData()||(t=w.C.ScreenWidth);const n=C.K$[this.getColumn()];this.isNeedUpdateL1V3Layout()&&this.updateL1v3Layout(t,n),this.setLayoutTypeTMPL(t)}updateL1V3TeaserLayoutByWeatherCondition(){let e=w.C.ScreenWidth;const t=C.K$[this.getColumn()],n=this.getLayoutTypeByweaCondition();switch(n){case v.Qz.todayVsHistory:e=w.C.ScreenWidthTodayVsHistory;break;case v.Qz.immersiveForecast:e=w.C.ScreenWidthImmersiveForecast;break;case v.Qz.alerts:case v.Qz.nowcasting:e=w.C.ScreenWidthServerWeather;break;case v.Qz.serverWeatherImmersive:e=w.C.ScreenWidthServerWeatherAndImmersive;break;default:e=w.C.ScreenWidth}this.isNeedUpdateL1V3Layout()&&this.updateL1v3Layout(e,t),this.setLayoutTypeTMPL(`${e}_${n}`)}getLayoutTypeByweaCondition(){const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();if(!e)return v.Qz.normal;const t=e&&e.nowcasting&&e.nowcasting.isRaining,n=e.alertsInfoList&&e.alertsInfoList.length>0;return this.checkForecastVideoState(),t&&!this.enableForecastVideo?v.Qz.nowcasting:n&&!this.enableForecastVideo?v.Qz.alerts:this.enableForecastVideo&&(t||n)?v.Qz.serverWeatherImmersive:this.enableForecastVideo?v.Qz.immersiveForecast:v.Qz.normal}checkForecastVideoState(){var e;const t=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();if(this.config.enableImmersiveForecast){const e=this.matchImmersiveLocation(t,this.requestContext);this.enableForecastVideo=e>-1,this.setImmersiveTmpl(this.config.enableImmersiveForecast,this.config.immersiveForecastAutoplay,e)}const n=null===(e=null==t?void 0:t.source)||void 0===e?void 0:e.id,r=(0,k.Jn)(t)?"tomorrow":"today",i=(0,k.Yy)(t,r);if(this.enableForecastVideo=this.config.enableIpForecast&&!!i,i){const e=`enableIp_${!!this.config.enableIpForecast}_locationId_${n}_autoplay_${!!(null==t?void 0:t.forecastVideoisAutoTrigger)}`;D.M0&&D.M0.addOrUpdateTmplProperty(v.gJ,e)}else D.M0&&D.M0.removeTmplProperty(v.gJ)}setImmersiveTmpl(e,t,n){if(n>-1&&((0,m.nz)()||(0,m.o9)())){const r=`enableImmersive_${!!e}_locationId_${n}_autoplay_${!!t}`;D.M0&&D.M0.addOrUpdateTmplProperty(v.gJ,r)}else D.M0&&D.M0.removeTmplProperty(v.gJ)}weatherDataIsComplete(){const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();return!!(e&&e.currentCondition&&e.currentCondition.precipitation)}setCurrentLocation(){const e=this.weatherDataConnector&&this.weatherDataConnector.getCurrentState();this.currentLocation=e&&e.currentLocation,V.V.updateCurrentLocation.getActionSender(this).send(this.currentLocation)}getIs2U(e,t){return this.getIs2uFor3thRowsLayout(e,t)}getIs2uFor3thRowsLayout(e,t){let n=!1;if(M.jG.IsChinaCompliance)if(t===C.K$.c3)n=!v.T.includes(e);else n=!v.fG.includes(e);else switch(t){case C.K$.c1:case C.K$.c2:n=!v.fG.includes(e);break;case C.K$.c3:n=!1;break;default:n=!v.Yn.includes(e)}return n}updateWCurrentCardSize(e,t){const n=this.getIs2U(e,t);this.weatherDataConnector.updateWeatherCurrentCardSize(n),V.V.updateIsWeatherCurrentCard2U.getActionSender(this).send(n)}setLayoutTypeTMPL(e){D.M0&&D.M0.addOrUpdateTmplProperty(v.nf,e)}setSrcUrlTMPL(){const e=new _.z((0,G.l4)()).getSourceParam();e&&(null===D.M0||void 0===D.M0||D.M0.addOrUpdateTmplProperty("wea_src",e))}modifyLayoutTypeValue(e,t){var n,r;let i=e,o=t,a=null;if(Array.isArray(null===(r=null===(n=this.config)||void 0===n?void 0:n.teaserLayout)||void 0===r?void 0:r.layouts))for(const n of this.config.teaserLayout.layouts){if(!n||!n.conditionTypes||!n.conditionValues)continue;const r=n.conditionTypes.split(","),i=n.conditionValues.split(",");if(r.includes(e)&&i.includes(t)){a=n;break}}a||(i=v.$g,o=this.getColumn());return{selectedLayout:this.getLayout(i,o),newConditionType:i,newConditionValue:o}}updateL1v3Layout(e,t){const n=this.modifyLayoutTypeValue(e,t);V.V.updateLayout.getActionSender(this).send(n.newConditionType,n.newConditionValue,n.selectedLayout),this.updateWCurrentCardSize(n.newConditionType,n.newConditionValue),this.weatherDataConnector.updateWeatherInsightSection({l1v3LayoutType:n.newConditionType,l1v3LayoutValue:n.newConditionValue,needToReplaceAds:this.isNeedToReplaceAds()})}isNeedToReplaceAds(){let e=!1;try{const t=this.config&&this.config.slots,n=b.x.displayAds.toLowerCase();for(const[r,i]of Object.entries(t))if(i&&i.instanceId&&i.configRef&&i.configRef.experienceType&&i.instanceId.toLowerCase()==n&&i.configRef.experienceType.toLowerCase()!=n){e=!0;break}return e}catch(t){return e}}getColumn(){const e=this.innerWidthSsr;return(0,B.N)()||!e?(0,S.Bn)().currentColumnArrangement:e>=m.dl[3]?C.K$.c4:e>=m.dl[2]?C.K$.c3:e>=m.dl[1]?C.K$.c2:C.K$.c1}setPageColumnsTMPL(e){D.M0&&D.M0.addOrUpdateTmplProperty(v.BL,e)}loadChildExp(e){var t;if("toLoad"!==this.lazyExpState[e]||this.loadedExps[e])return;const n=this.config.slots[e];n&&((0,i.nd)(null===(t=n.configRef)||void 0===t?void 0:t.experienceType)?super.loadChildrenWceExperiences([n]).then((()=>{this.reRenderExperience()})):super.loadChildExperience(n,this.childExpInitProps).then((()=>{this.reRenderExperience()})),this.loadedExps[e]=!0,this.lazyExpState[e]="loaded")}pageUnMount(){window.removeEventListener("message",ee),window.removeEventListener("popstate",this.popstateHandler),window.removeEventListener("focus",this.onPageTimeOutRefreshHandler)}isWeatherTravelCarouselEnabled(){const e="weatherTravelCarousel";return(0,m.SL)("prg-wat-tc-ui")&&this.config.lazyExps.find((t=>t===e))&&"toLoad"===this.lazyExpState.weatherTravelCarousel&&!this.loadedExps.weatherTravelCarousel}}},87143:function(e,t,n){"use strict";n.d(t,{$g:function(){return d},BL:function(){return c},Mj:function(){return s},Qz:function(){return p},R2:function(){return i},T:function(){return m},Yn:function(){return f},eT:function(){return h},fG:function(){return g},gJ:function(){return l},kE:function(){return o},nf:function(){return u},v$:function(){return a}});var r=n(79929);const i="overview_maintenance",o="weather-life",a="lifev3Layout",s="hiddenSidebar",c="WeatherPageColumns",u="WeaL1LayoutType",l="WeatherImmersiveForecast",d=r.C.ScreenWidth,h={teasertemprecord:"ScreenWidthTempRecord",teasertemprecordday:"ScreenWidthTempRecord",teasersunriseset:"ScreenWidthSunMoon",teasersunrisesethour:"ScreenWidthSunMoon",teaserpersonasummary:"ScreenWidthWithPersonaSummary"},p={normal:"NormalWeather",todayVsHistory:"TodayVsHistory",sunRiseSet:"SunRiseSet",temRecord:"TemperatureRecord",nowcasting:"Nowcasting",alerts:"Alerts",immersiveForecast:"ImmersiveForecast",serverWeatherImmersive:"ServerWeatherImmersive"},g=[r.C.ScreenWidthTempRecord,r.C.ScreenWidthSunMoon,r.C.ScreenWidthTodayVsHistory,r.C.ScreenWidthImmersiveForecast,r.C.ScreenWidthServerWeatherAndImmersive,r.C.ScreenWidthWithPersonaSummary],f=[...g,r.C.ScreenWidthServerWeather],m=[...g,r.C.ScreenWidthServerWeather]},1087:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(32181),i=n(97417);function o(e){const{state:t,config:n,children:r}=e;return{currentConditionType:t.currentConditionType,currentConditionValue:t.currentConditionValue,currentLayout:t.currentLayout,teaserLayoutConfig:n.teaserLayout,experienceInstances:r}}const a={inspect:e=>{var t,n;const{config:a,connectorArgs:s,state:c={}}=e,u=a.slots,l=[],d=a.localizedStrings||{},h=d.microsoftWeatherLogoText||"Microsoft Weather",p=d.weatherNewsTitleText||"Weather News",g=(0,r.M)(u.riverContent),f=a.isLocalStripeFirst&&d.weatherNewsTitleText||"StripeView"===g&&d.weatherStripeNewsTitleText||p,m={};Object.keys(u).forEach((t=>{m[t]=(t=>{const n=u[t];if(!n)return null;return e.children[n.instanceId]||(l.push(n),null)})(t)}));return{props:Object.assign(Object.assign({},s),{slots:m,noDisplayAds:!u.rightRailAds,noNativeAds:!u.rightNativeAds,microsoftWeatherLogoText:h,weatherNewsTitleText:f,localizedStrings:d,hasCarousel:!!u.weatherCarousel,isFetchWeatherSummaryFailure:c.isFetchWeatherSummaryFailure,isFetchWeatherMonthlyCalendarFailure:c.isFetchWeatherMonthlyCalendarFailure,isFetchTrendDataFailure:c.isFetchTrendDataFailure,weatherMaintenanceTitle:d.weatherMaintenanceTitle,weatherMaintenanceDescription:d.weatherMaintenanceDescription,teaserLayoutProps:o(e),carouselBackgroundColor:c.carouselBackgroundStyle,mapLayout:a.mapLayout||"v1",enableEplant:s.enableEplant,enableForecastVideo:c.showForecastVideo&&s.enableForecastVideo,enableFreDialog:c.showFreDialog,enableEplantTasksPhone:a.enableEplantTasksPhone,enableActivityWatchlist:a.enableActivityWatchlist,enableResponsiveDesign:a.enableResponsiveDesign,noPollenData:c.noPollenData,currentLocation:c.currentLocation,isHeaderAurora:a.isVerticalsHeaderAurora&&"windows-header"===s.headerKind&&!a.isAuroraOldLayout,isHeaderBgChanged:a.isChangedHeaderBackground,auroraOptions:c.auroraOptions,enableL1NewLayout:!a.enablePersonas,currentWeatherCondition:c.currentWeatherCondition,isWeatherCurrentCard2U:c.isWeatherCurrentCard2U,isShowMonthlyNoData:i.h0.includes(null===(n=null===(t=c.currentLocation)||void 0===t?void 0:t.isoCode)||void 0===n?void 0:n.toUpperCase()),noSideBar:a.initialHideSidebar||!u.mapSideBar,hasPersonaCard:s.hasPersonaCard,enableAdsForWidget:a.enableAdsForWidget,pageUnMount:s.pageUnMount,enableSocialPost:a.enableSocialPost}),missingChildren:l}}}},79929:function(e,t,n){"use strict";var r;n.d(t,{C:function(){return r},Z:function(){return i}}),function(e){e.ScreenWidth="ScreenWidth",e.MobileWidthRain="MobileWidthRain",e.MobileWidthPollen="MobileWidthPollen",e.MobileWidthRainPollenLow="MobileWidthRainPollenLow",e.MobileWidthPollenLow="MobileWidthPollenLow",e.SevereWeather="SevereWeather",e.NoLocationPanel="NoLocationPanel",e.NoPollendata="Nodata",e.ScreenWidthNoLifeData="ScreenWidthNoLifeData",e.ScreenWidthTempRecord="ScreenWidthTempRecord",e.ScreenWidthSunMoon="ScreenWidthSunMoon",e.ScreenWidthTodayVsHistory="ScreenWidthTodayVsHistory",e.ScreenWidthServerWeather="ScreenWidthServerWeather",e.ScreenWidthImmersiveForecast="ScreenWidthImmersiveForecast",e.ScreenWidthServerWeatherAndImmersive="ScreenWidthServerWeatherAndImmersive",e.ScreenWidthWithPersona="ScreenWidthWithPersona",e.ScreenWidthWithPersonaSummary="ScreenWidthWithPersonaSummary"}(r||(r={}));const i=35},14465:function(e,t,n){"use strict";n.r(t),n.d(t,{ToolingInfo:function(){return Te},WeatherPageV2:function(){return be},WeatherPageV2Actions:function(){return ye.V},WeatherPageV2Connector:function(){return fe.xz},WeatherPageV2Reducer:function(){return Ce},resetWeatherPageV2Actions:function(){return ye.W}});var r=n(50425),i=n(33940),o=n(201),a=n(14989),s=n(88828),c=n(52144),u=n(14165),l=n(18682),d=n(13959),h=n(78722),p=n(76754),g=n(42166),f=n(89677),m=n(46102);var v;!function(e){e.HEADER_WINDOWS="windows-header",e.HEADER_MSN="msn-header",e.HEADER_NONE="no-header"}(v||(v={}));const y=173,C=118,S=e=>({"@global":{"body, html":{"font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif",background:e.backgroundColor,margin:"0"},"#root":{overflow:"hidden",width:"100%"},".overview_maintenance div[class*='newsContentTitle']":{color:"#000000"}},root:{color:l.CH,"&.map":{height:"100vh",display:"flex",overflow:"auto","flex-direction":"column"},"&> div[class^='baseHeader_fixed']":{width:"100% !important",top:"0","@media (min-width: 656px) and (max-width: 670px)":{height:(0,g.a)(127)}},"&> div[class^='baseHeader_spacer']":{display:"none !important"},"&.v2-right a[class*='feedback_link_default']":{[(0,f.Ih)("right","left",e.direction)]:"397px !important",transition:(0,f.Ih)("right 0.3s ease-in-out","left  0.3s ease-in-out",e.direction)},"&.v2-right.hiddenSidebar a[class*='feedback_link_default']":{[(0,f.Ih)("right","left",e.direction)]:"75px !important"}},header:{width:"100%",position:"fixed",top:"0","z-index":`${d.K.Flyout+1}`},scrollHeader:{"&.msn-header> div[class^='baseHeader_fixed']":{position:"absolute"},"&.windows-header> div[class^='header']":{position:"absolute"}},menuBurgerHeaderContainer:{margin:"0"},stickCarousel:{"&> div[class^='content']":{"margin-top":"0"},"& div[class^='weatherCarouselContainer']":{position:"fixed"}},content:{".map &":{"flex-grow":"1",position:"relative"},"&::before":{content:"' '",display:"block",position:"fixed",top:"0",left:"0",right:"0",height:"0",background:"white","z-index":"100"},".msn-header &":{"margin-top":(0,g.a)(127),"&::before":{height:(0,g.a)(127)},[(0,a.vW)(null,a.K$.c1)]:{"margin-top":(0,g.a)(90),"&::before":{height:(0,g.a)(90)}}},".windows-header &":{"margin-top":(0,g.a)(119),"&::before":{height:(0,g.a)(119)},[(0,a.vW)(null,a.K$.c1)]:{"margin-top":(0,g.a)(y),"&::before":{height:(0,g.a)(y)}},"@media (min-width: 656px) and (max-width: 955px)":{"margin-top":(0,g.a)(y),"&::before":{height:(0,g.a)(y)}}},".windows-header.windows-header-aurora &":{"margin-top":(0,g.a)(68),"&::before":{height:(0,g.a)(68)},[(0,a.vW)(null,a.K$.c1)]:{"margin-top":(0,g.a)(C),"&::before":{height:(0,g.a)(C)}},"@media (min-width: 656px) and (max-width: 955px)":{"margin-top":(0,g.a)(C),"&::before":{height:(0,g.a)(C)}},"@media (max-width: 955px)":{"margin-top":(0,g.a)(C),"&::before":{height:(0,g.a)(C)}}},".no-header &":{"margin-top":"0","&::before":{height:"0"}}},sectionContainer:{display:"grid","grid-template-columns":"minmax(0, 1fr) minmax(0px, 1600px) minmax(0, 1fr)"},weatherCarouselContainer:{width:"100%",position:"absolute","z-index":""+d.K.Above},weatherCarouselFixedContainer:{width:"100%",position:"fixed","z-index":""+d.K.Above},weatherCarouselMF:{"backdrop-filter":"blur(50px)"},backgroundContainer:{position:"absolute",width:"100%","z-index":""+d.K.Default},weatherContainer:{position:"relative",display:"grid","grid-area":"1 / 2",gap:(0,g.a)(20),overflow:"visible","z-index":""+(d.K.Above-1),[(0,a.vW)(null,a.K$.c2)]:{"--weather-container-width":(0,g.a)(u._3),width:(0,g.a)(u._3)},[(0,a.eH)(a.K$.c3)]:{"--weather-container-width":(0,g.a)(u.Xn),width:(0,g.a)(u.Xn)},[(0,a.eH)(a.K$.c4)]:{"--weather-container-width":(0,g.a)(u.xX),width:(0,g.a)(u.xX)},"& div[class='adcontainer']":{"& iframe":{"border-radius":"6px"}}},weatherHourlyContainer:{position:"relative",display:"grid","grid-area":"1 / 2",gap:(0,g.a)(20),overflow:"visible",[(0,a.vW)(null,a.K$.c2)]:{width:(0,g.a)(u._3)},[(0,a.eH)(a.K$.c3)]:{width:(0,g.a)(u.Xn)},[(0,a.eH)(a.K$.c4)]:{width:(0,g.a)(u.xX)},"& div[class='adcontainer']":{"& iframe":{"border-radius":"6px"}}}}),w=e=>{const t=S(e),n=Object.assign(Object.assign({},t),{"@global":Object.assign(Object.assign({},t["@global"]),{"*":{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)"},"#root":{"scroll-behavior":"smooth","-webkit-overflow-scrolling":"touch","&::before":{content:"''",position:"absolute",top:"0",left:"0",width:"100%",height:"52px","background-color":h.jG.isMiniProgram?"transparent":"rgba(28, 41, 51, 0.9)"}},"input, textarea":{"-webkit-touch-callout":"auto","-webkit-user-select":"auto","-khtml-user-select":"auto","-moz-user-select":"auto","-ms-user-select":"auto","user-select":"auto"},"button:active, button:focus":{outline:"none"}}),weatherCarouselFixedContainer:Object.assign(Object.assign({},t.weatherCarouselFixedContainer),{"z-index":`${d.K.Nav}`}),sectionContainer:{display:"grid","grid-template-columns":"minmax(0, 1fr) minmax(0px, 1920px) minmax(0, 1fr)"}}),r=Object.assign(Object.assign({},n),{"@global":Object.assign(Object.assign({},n["@global"]),{body:{overflow:"hidden",position:"fixed",left:"0",right:"0",bottom:"0",top:"0"},"#root":{height:"100%","max-height":"100%","overflow-y":"auto","scroll-behavior":"smooth","-webkit-overflow-scrolling":"touch","&::before":{content:"''",position:"absolute",top:"0",left:"0",width:"100%",height:"52px","background-color":h.jG.isMiniProgram?"transparent":"rgba(28, 41, 51, 0.9)"}}}),root:Object.assign(Object.assign({},t.root),{"&.map":Object.assign(Object.assign({},t.root["&.map"]),{height:"100%"})})});return(0,m.Gv)()?r:n},b=h.jG.isOverlayFrame||(0,p._3)()?e=>{const t=w(e);return Object.assign(Object.assign({},t),{"@global":{"body, html":{"font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif"},body:{"overflow-x":"hidden","overflow-y":"overlay",margin:"0","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{"border-radius":"4px"},"&::-webkit-scrollbar-thumb":{"background-color":"rgba(216, 232, 255, .5)","border-radius":"4px"},"&::-webkit-scrollbar-thumb:hover":{"background-color":"rgba(216, 232, 255, .9)"}}}})}:w,T=h.jG.isMobile||(0,p._3)()?b:S;var P=n(87143),k=n(80013),A=n(89526),E=n(87706);const M="map-layout-root";class x extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,slots:void 0,layout:void 0}}render(){const{slots:e,managedClasses:t}=this.props;return A.createElement("div",{className:t.layout,id:M},e.weatherMap,e.mapPopup,e.mapSwitcher,e.mapLocationSearch,e.mapSideBar&&A.createElement("div",{className:t.sidebar},e.mapSideBar),e.mapTimeline,e.mapControlBox&&A.createElement("div",{className:t.controlBox},e.mapControlBox),e.mapLagend,e.mapPromotionCard,e.mapAnimationBox,e.mapModal,e.mapDataFilter)}}class I extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,slots:void 0,layout:void 0}}render(){const{slots:e,managedClasses:t}=this.props;return A.createElement("div",{className:t.layout,id:M},e.weatherMap,e.mapTimeline,e.mapSwitcher,e.mapLagend,e.locationPopup)}}const L=(0,r.ZP)((e=>{const t=(e=>({layout:{width:"100%",height:"100%","flex-grow":"1",position:"absolute",top:"0",left:"0","z-index":`${d.K.Default}`,"&.v2-right":{display:"flex","flex-direction":"column"}},sidebar:{position:"absolute",display:"block",top:"0",[(0,f.Ih)("left","right",e.direction)]:"0",".v2-left &":{[(0,f.Ih)("left","right",e.direction)]:"52px"},width:"auto",height:"100%","z-index":`${E.a.SideBar}`,".new-map-layout-v1 &":{[(0,f.Ih)("left","right",e.direction)]:"unset",[(0,f.Ih)("right","left",e.direction)]:"0"}},timeline:{position:"fixed",[(0,f.Ih)("left","right",e.direction)]:"334px",[(0,f.Ih)("right","left",e.direction)]:"75px",transition:(0,f.Ih)("left 0.3s ease-in-out","right  0.3s ease-in-out",e.direction),bottom:"18px","z-index":`${E.a.Timeline}`,".hiddenSidebar&":{[(0,f.Ih)("left","right",e.direction)]:"12px",transition:(0,f.Ih)("left 0.3s ease-in-out","right  0.3s ease-in-out",e.direction)}},controlBox:{position:"absolute",[(0,f.Ih)("right","left",e.direction)]:"16px",top:"0","z-index":`${E.a.ControlBox}`,".new-map-layout-v1 &":{[(0,f.Ih)("right","left",e.direction)]:"unset",[(0,f.Ih)("left","right",e.direction)]:"16px"}}}))(e);return Object.assign(Object.assign({},t),{layout:{"overflow-x":"hidden",width:"100%",height:"100%","flex-grow":"1",position:"absolute","z-index":`${d.K.Default}`,top:"0",left:"0","&.v2-left":{display:"flex","flex-direction":"column"},"&.v2-right":{display:"flex","flex-direction":"column"}}})}))(x),O=(0,r.ZP)((e=>({"@global":{"html, body":{position:"fixed",width:"100%",height:"100%"}},layout:{width:"100%",height:"100%","flex-grow":"1",position:"absolute",top:"0",left:"0","z-index":`${d.K.Default}`,"&.v2-right":{display:"flex","flex-direction":"column"}}})))(I);var F=n(83227);class D extends k.Z{constructor(){super(...arguments),this.handledProps={hasPersonaCard:void 0,slots:void 0,managedClasses:void 0}}render(){const{managedClasses:e}=this.props;return A.createElement("div",{className:`${e.weatherTeaserLayoutContainer} ${P.v$}`},A.createElement("div",{key:F.x.weatherOverviewV2,className:e.weatherOverviewV2Container},this.props.slots.weatherOverviewV2),A.createElement("div",{key:F.x.weatherMapMini,className:e.weatherMapMiniContainer},this.props.slots.weatherMapMini),A.createElement("div",{key:F.x.weatherForecast,className:e.weatherForecastContainer},this.props.slots.weatherForecast))}}const R=(0,r.ZP)((e=>({weatherTeaserLayoutContainer:{display:"grid",gap:"12px 12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"1fr","grid-template-rows":"310px 270px auto"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"1fr 1fr 1fr","grid-template-rows":"310px auto"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"1fr 1fr 1fr 1fr","grid-template-rows":"310px auto"}},weatherOverviewV2Container:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"1 / 1 / 2 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":(h.jG.IsChinaCompliance,"1 / 1 / 2 / 3")},[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 1 / 2 / 3"}},weatherMapMiniContainer:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 1 / 3 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 3 / 2 / 4","padding-top":"40px"},[(0,a.eH)(a.K$.c4)]:{"grid-area":h.jG.IsChinaCompliance?"1 / 3 / 2 / 5":"1 / 3 / 2 / 4","padding-top":"40px"},"&.ad3ColumnsDown":{[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 3 / 3","padding-top":"0"}}},weatherForecastContainer:{width:"100%",[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 4 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 3 / 4"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 1 / 3 / 5"}}})))(D);var W=n(54256);const N={"padding-bottom":"30px",margin:"0 auto",position:"relative","grid-area":"1 / 2","&.sparse-stripe [data-targetid=Stripe]:not(:first-child)":{"margin-top":"40px"},"& div[style$='span 1;'] a[id^='heading']:after":{top:"calc(-100% - 100px)",height:"708px"},"& div[style$='span 2;'] a[id^='heading']:after":{left:"calc(-100% + 306px)"},"& div[style$='span 1;'] div[style^='background: linear-gradient(transparent']":{right:"0",bottom:"79px"},"& div[style$='span 1;'] div[style^='background: linear-gradient(280']":{right:"0",bottom:"0px"},"& div[style$='span 1;'] div[style^='background: linear-gradient(317']":{right:"0",bottom:"0px"},"& a[class*='stripeHeadingLink']":{"margin-bottom":"12px","font-weight":"600","font-size":"14px","line-height":"22px","text-transform":"uppercase",color:"#FFFFFF !important"},"& h2[class*='stripeHeading']":{"margin-bottom":"12px","font-weight":"600","font-size":"14px","line-height":"22px","text-transform":"uppercase",color:"#FFFFFF !important"},"& a[class*='stripeMore']":{color:"#0ff !important"},"& div[class^='nativeAd-DS-card'] [class^='card-DS-card']":{background:"#2f2f2f"},"& div[class^='nativeAd-DS-card'] [class^='typography-DS-card']":{color:"white","font-size":"16px","line-height":"24px",height:"47px"},"& div[class^='nativeAd-DS-card'] [class^='attribution_contentRegion-DS-card']":{color:"white"},"& div[class^='nativeAd-DS-card'] [class^='contentCard_contentRegion-DS-card']":{padding:"0px 16px 0"},"& div[class^='nativeAd-DS-card'] [class*='contentCard_obscuredRegion-DS-card']:after":{background:"linear-gradient(180deg, transparent 70%, rgba(46,46,46,0.8) 90.5%, #2E2E2E 100%)","margin-bottom":"184px",bottom:"-100px"},"& div[class^='nativeAd-card'] [class^='card-card']":{background:"#2f2f2f"},"& div[class^='nativeAd-card'] [class^='typography-card']":{color:"white","font-size":"16px","line-height":"24px",height:"47px"},"& div[class^='nativeAd-card'] [class^='attribution_contentRegion-card']":{color:"white"},"& div[class^='nativeAd-card'] [class^='contentCard_contentRegion-card']":{padding:"0px 16px 0"},"& div[class^='nativeAd-card'] [class*='contentCard_obscuredRegion-card']:after":{background:"linear-gradient(180deg, transparent 70%, rgba(46,46,46,0.8) 90.5%, #2E2E2E 100%)","margin-bottom":"184px",bottom:"-100px"}},j=e=>({newsContent:Object.assign(Object.assign({},N),{"& div[class^='nativeAd-DS-card'] [class*='contentCard_image-DS-card']":{height:"220px !important",width:"300px !important","object-fit":"cover"},"& div[class^='nativeAd-card'] [class*='contentCard_image-card']":{height:"220px !important",width:"300px !important","object-fit":"cover"},[(0,a.vW)(null,a.K$.c1)]:{width:"300px"},[(0,a.eH)(a.K$.c2)]:{width:(0,g.a)(u._3)},[(0,a.eH)(a.K$.c3)]:{width:(0,g.a)(u.Xn)},[(0,a.eH)(a.K$.c4)]:{width:(0,g.a)(u.xX)},"& div[class*='emptyRiverSection']":{color:"#FFFFFF","margin-top":"56px","margin-bottom":"56px"},"& div[class*='emptyRiverSection']>span":{color:"#FFFFFF","font-size":"18px","line-height":"24px","font-weight":"600"},"& button[class*='emptyRiverRefreshBtn']":{height:"32px",background:"rgba(255, 255, 255, 0.05)",color:"#FFFFFF",padding:"5px 20px","border-radius":"16px","margin-top":"12px","&:hover":{background:"rgba(255, 255, 255, 0.1)"}}}),newsContentTitle:{"margin-bottom":"12px","font-weight":"600","font-size":"14px","line-height":"22px","text-transform":"uppercase",color:"#FFFFFF",display:"inline-block"},articalWrapper:{overflow:"hidden",position:"relative","& > iframe":{height:"20000px",position:"relative",top:"-130px",overflow:"hidden"}}}),U=h.jG.isMobile?e=>{const t=j();return Object.assign(Object.assign({},t),{newsContentTitle:Object.assign(Object.assign({},t.newsContentTitle),{"text-transform":"capitalize"}),newsContent:Object.assign(Object.assign({},N),{width:"calc(100vw - 32px)","& div[class*='contentPreviewMobile'] div[class*='card'] > div:not([class*='reactionMenuContainer'])":{width:"100%","& div[style^='background: linear-gradient(transparent']":{bottom:"0px"}},"& div[class^='nativeAd-DS-card'] [class*='contentCard_image-DS-card']":{height:"220px !important","object-fit":"cover"},"& div[class^='nativeAd-card'] [class*='contentCard_image-card']":{height:"220px !important","object-fit":"cover"},"& div[class^='stripeMoreBottom']":{display:"none"},[(0,a.eH)(a.K$.c1)]:{"& div[class*='riverSections'] > div":{"grid-template-columns":"100% !important","& span > img[class*='image-card1'], & span > img[class*='image-DS']":{width:"100%","max-height":"100% !important"}}},[(0,a.eH)(a.K$.c2)]:{width:"612px","z-index":"99","& [class*='riverSections']>div":{"grid-template-columns":"300px 300px"}},[(0,a.eH)(a.K$.c3)]:{"z-index":"99",width:"924px","& [class*='riverSections']>div":{"grid-template-columns":"300px 300px 300px"}},[(0,a.eH)(a.K$.c4)]:{"z-index":"99",width:"1236px","& [class*='riverSections']>div":{"grid-template-columns":"300px 300px 300px 300px"}},[(0,a.eH)(a.K$.c5)]:{"z-index":"99",width:"1548px","& [class*='riverSections']>div":{"grid-template-columns":"300px 300px 300px 300px 300px"}}})})}:j;class H extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,weatherNewsTitleText:void 0,riverContent:void 0,showMaintainencePage:void 0,iframeHeight:void 0,docid:void 0}}render(){return this.props.riverContent?this.renderNews():this.renderArticle()}renderArticle(){const{managedClasses:e,iframeHeight:t}=this.props;return A.createElement("div",{className:(0,W.A)(e.newsContent)},A.createElement("div",{className:e.articalWrapper},A.createElement("iframe",{src:`https://www.msn.com/en-us/weather/news/abc/${this.props.docid}?ocid=winp1taskbar`,width:"100%",height:t,frameBorder:"0",scrolling:"no",style:{height:`${t}px`}})))}renderNews(){const{managedClasses:e,riverContent:t,showMaintainencePage:n}=this.props;return A.createElement("div",{className:(0,W.A)(e.newsContent,n&&P.R2)},A.createElement("div",{className:e.newsContentTitle},this.props.weatherNewsTitleText),t)}}const G=(0,r.ZP)(U)(H);var B=n(79929),$=n(72344);class V extends k.Z{constructor(e){super(e)}shouldComponentUpdate(e){return this.props.currentConditionType!==e.currentConditionType||this.props.currentConditionValue!==e.currentConditionValue||Object.keys(this.props.experienceInstances).length!==Object.keys(e.experienceInstances).length}render(){const e=this.props.currentLayout;if(!e)return null;const t=Object.assign({display:"grid",gridTemplateRows:e.gridTemplateRows,gridTemplateColumns:e.gridTemplateColumns,gap:e.gridGap},e.alignItems?{alignItems:e.alignItems}:{});return A.createElement(A.Fragment,null,A.createElement("div",{style:t},e.experiences.map((e=>{const t=Object.assign({gridArea:e.gridArea},e.customStyles),n=e.instanceIds&&e.instanceIds.length>1;return A.createElement("div",{key:`${e.instanceId}-${this.props.currentConditionType}`,style:t,id:`${e.instanceId}-${this.props.currentConditionType}-${this.props.currentConditionValue}`},n?e.instanceIds.map((e=>this.getElement(e))):this.getElement(e.instanceId))}))))}getElement(e){const{experienceInstances:t}=this.props;return t&&t[e]?t[e]:null}}V.defaultProps={};const _=(0,r.ZP)()(V);class z extends k.Z{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},o.h),{managedClasses:void 0,slots:void 0,teaserLayoutProps:void 0})}render(){const{managedClasses:e,teaserLayoutProps:t,slots:n}=this.props;return A.createElement("div",{className:e.wv3Layout,id:"weather-forecast-v3-layout-root"},t&&A.createElement(_,Object.assign({},t)))}}const q=(0,r.ZP)((e=>({wv3Layout:{display:"block","& div[id*='WeatherMapMini-'] > .notranslate":{width:"100% !important"}}})))(z);class K extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,slots:void 0}}render(){const{managedClasses:e}=this.props;return h.jG.IsChinaCompliance?A.createElement("span",{className:e.weatherLifeTeaserLayoutContainerCn},A.createElement("div",{key:F.x.weatherForecastTab,className:e.weatherLifeForecastTabContainer},this.props.slots.weatherForecastTab),A.createElement("div",{key:F.x.weatherLifeCurrentV2,className:e.weatherLifeCurrentV2Container},this.props.slots.weatherLifeCurrentV2),A.createElement("div",{key:F.x.weatherLifeQuizCard,className:e.weatherLifeQuizCardContainerCn},this.props.slots.weatherLifeQuizCard),A.createElement("div",{key:F.x.weatherLifeSpecialToday,className:e.weatherLifeSpecialTodayContainer},this.props.slots.weatherLifeSpecialToday)):A.createElement("span",{className:e.weatherLifeTeaserLayoutContainer},A.createElement("div",{key:F.x.weatherForecastTab,className:e.weatherLifeForecastTabContainer},this.props.slots.weatherForecastTab),A.createElement("div",{key:F.x.weatherLifeCurrentV2,className:e.weatherLifeCurrentV2Container},this.props.slots.weatherLifeCurrentV2),A.createElement("div",{key:F.x.weatherLifeQuizCard,className:e.weatherLifeQuizCardContainer},this.props.slots.weatherLifeQuizCard))}}const Z=(0,r.ZP)((e=>({weatherLifeTeaserLayoutContainer:{display:"grid","grid-template-columns":"300px 612px 300px","grid-template-rows":"92px 186px 270px auto",gap:"12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"300px 300px","grid-template-rows":"92px 466px auto auto auto"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"300px 300px 300px","grid-template-rows":"92px 186px 270px auto"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"300px 612px 300px","grid-template-rows":"92px 186px 270px auto"}},weatherLifeTeaserLayoutContainerCn:{display:"grid","grid-template-columns":"300px 612px 300px","grid-template-rows":"92px 267px 186px auto",gap:"12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"300px 300px","grid-template-rows":"92px 467px 304px auto"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"300px 300px 300px","grid-template-rows":"92px 267px 186px auto"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"300px 612px 300px","grid-template-rows":"92px 267px 186px auto"}},weatherLifeForecastTabContainer:{"grid-area":"1 / 1 / 2 / 4",[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 1 / 2 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 1 / 2 / 4"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"1 / 1 / 2 / 3"}},weatherLifeQuizCardContainer:{"grid-area":"2 / 3 / 3 / 4",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 3 / 3 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 3 / 3 / 4"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 4 / 2"}},weatherLifeQuizCardContainerCn:{"grid-area":"3 / 3 / 4 / 4",[(0,a.eH)(a.K$.c4)]:{"grid-area":"3 / 3 / 4 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"3 / 3 / 4 / 4"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 4 / 2"}},weatherLifeCurrentV2Container:{"grid-area":"2 / 1 / 4 / 3",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 1 / 4 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 4 / 3"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 1 / 3 / 3"}},weatherLifeSpecialTodayContainer:{"grid-area":"2 / 3 / 3 / 4",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 3 / 3 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 3 / 3 / 4"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 4 / 2"}}})))(K);var Q=n(72661),Y=n(84966);class J extends k.Z{constructor(){super(...arguments),this.handledProps={weatherMaintenanceTitle:void 0,weatherMaintenanceDescription:void 0,managedClasses:void 0}}render(){const e=this.props.managedClasses,t=this.props;return A.createElement("div",{className:e.maintenanceSection},A.createElement("div",{className:e.maintenanceContainer},A.createElement("div",{className:e.maintenanceContent},A.createElement("div",{className:e.maintenanceImg},A.createElement(Y.y,{width:"116px",height:"116px",glyphType:Q.ZDp})),A.createElement("div",{className:e.maintenanceTitle},t.weatherMaintenanceTitle),A.createElement("div",{className:e.maintenanceDescription},t.weatherMaintenanceDescription))))}}const X=(0,r.ZP)((e=>({maintenanceSection:{display:"block",position:"relative",width:"100%",color:"#000000","text-align":"center","margin-bottom":"-80px",background:"linear-gradient(180deg, rgba(219, 219, 219, 0.7) 20.83%, rgba(219, 219, 219, 0.7) 78.65%, rgba(219, 219, 219, 0) 100%)"},maintenanceContainer:{display:"block",position:"relative",height:"100%","box-sizing":"border-box",margin:"0 auto",width:"100%","padding-bottom":"80px","@media (min-width: 656px)":{width:"656px"},"@media (min-width: 980px)":{width:"738px"}},maintenanceContent:{display:"block",position:"relative","box-sizing":"border-box",width:"100%",height:"100%",padding:"32px 24px","padding-bottom":"36px"},maintenanceImg:{display:"flex",position:"relative","align-items":"center","justify-content":"center"},maintenanceTitle:{display:"block",position:"relative","margin-top":"8px","font-size":"24px","line-height":"28px","font-weight":"500"},maintenanceDescription:{display:"block",position:"relative","margin-top":"12px","font-size":"16px","line-height":"20px"}})))(J);class ee extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,monthlyNoDataDescription:void 0,slots:void 0,currentLocation:void 0}}render(){const{managedClasses:e,monthlyNoDataDescription:t,currentLocation:n,slots:r}=this.props;return A.createElement("div",{className:e.weatherNoDataSection},A.createElement("div",{className:e.weatherNoDataContent},A.createElement("div",{className:e.weatherNoDataTitle},(null==n?void 0:n.displayName)||""),A.createElement("div",{className:e.weatherNoDataDescription},t)),A.createElement("div",{className:e.weatherMonthTable},null==r?void 0:r.weatherMonthCalendar))}}const te=(0,r.ZP)((e=>({weatherNoDataSection:{display:"block",position:"relative","box-sizing":"border-box",padding:"120px 60px 0 60px",margin:"0 auto",width:"100%"},weatherNoDataContent:{display:"block",position:"relative","box-sizing":"border-box",color:"#FFFFFF"},weatherNoDataTitle:{display:"block",position:"relative","margin-bottom":"24px","font-size":"24px","font-weight":"600","text-align":"center"},weatherNoDataDescription:{display:"block",position:"relative","font-size":"18px","line-height":"32px","text-align":"center"},weatherMonthTable:{display:"none"}})))(ee);var ne=n(97417);class re extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,slots:void 0}}render(){const{managedClasses:e}=this.props;return(0,ne.FT)()?this.renderTrendFirstLayout():(0,ne.k_)()?this.renderCalendarFirstLayout():A.createElement("span",{className:`${e.weatherMonthlyTeaserLayoutContainer} containerSsrOnly`},A.createElement("div",{key:F.x.weatherMonthCalendar,className:e.weatherMonthCalendarContainer},this.props.slots.weatherMonthCalendar),A.createElement("div",{key:F.x.weatherMonthlyForecastSummary,className:e.weatherMonthlyForecastSummaryContainer},this.props.slots.weatherMonthlyForecastSummary))}renderTrendFirstLayout(){const{managedClasses:e}=this.props;return A.createElement("span",{className:`${e.weatherTrendLayoutContainer} containerSsrOnly`},A.createElement("div",{key:F.x.weatherHistoricalTrends,className:e.weatherMonthCalendarContainer},this.props.slots.weatherHistoricalTrends),A.createElement("div",{key:F.x.weatherTrendOverview,className:e.weatherTrendOverviewContainer},this.props.slots.weatherTrendOverview),h.jG.IsChinaCompliance&&A.createElement("div",{key:F.x.weatherMapMini,className:e.weatherMapMiniContainer},this.props.slots.weatherMapMini),A.createElement("div",{key:F.x.weatherMonthCalendar,className:e.weatherMonthlyTrendCalendarContainer},this.props.slots.weatherMonthCalendar))}renderCalendarFirstLayout(){const{managedClasses:e}=this.props;return A.createElement("span",{className:`${e.weatherTrendCalendarLayoutContainer} containerSsrOnly`},A.createElement("div",{key:F.x.weatherMonthCalendar,className:e.weatherTrendCalendarContainer},this.props.slots.weatherMonthCalendar))}}const ie=(0,r.ZP)((e=>({weatherMonthlyTeaserLayoutContainer:{display:"grid","grid-template-rows":"auto 250px","grid-template-columns":"924px 300px",gap:"12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"1fr"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"612px 300px"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"924px 300px"}},weatherMonthCalendarContainer:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"1 / 1 / 2 / 2"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 1 / 2 / 3"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 1 / 3 / 2"}},weatherMonthlyForecastSummaryContainer:{[(0,a.vW)(null,a.K$.c2)]:{display:"none"},[(0,a.eH)(a.K$.c3)]:{display:"none"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 2 / 2 / 3","padding-top":"100px"}},weatherTrendLayoutContainer:{display:"grid","grid-template-rows":"auto 270px auto","grid-template-columns":"924px 300px",gap:"12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"1fr","grid-template-rows":"auto 270px 623px"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"612px 300px","grid-template-rows":"auto 270px 644px"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"924px 300px","grid-template-rows":"391px 270px 644px"}},weatherTrendOverviewContainer:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 1 / 3 / 2"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 3 / 2"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 2 / 2 / 3","padding-top":"86px"}},weatherMonthlyTrendCalendarContainer:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 4 / 2"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"3 / 1 / 4 / 3"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"3 / 1 / 4 / 3"}},weatherMapMiniContainer:{[(0,a.vW)(null,a.K$.c2)]:{display:"none"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 2 / 3 / 3"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 2 / 3 / 3"}},weatherTrendCalendarLayoutContainer:{display:"grid","grid-template-rows":"auto auto 270px","grid-template-columns":"924px 300px",gap:"12px",[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"1fr","grid-template-rows":"623px auto 270px"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"612px 300px","grid-template-rows":"644px auto 270px"},[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"924px 300px","grid-template-rows":"644px 391px 270px"}},weatherTrendCalendarContainer:{[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"1 / 1 / 2 / 2"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 1 / 2 / 3"},[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 1 / 2 / 3"}}})))(re);var oe=n(45506);class ae extends k.Z{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,slots:void 0}}render(){const{managedClasses:e,slots:t}=this.props;return h.jG.isMobile?this.renderWeatherPollenMobilePageSsr():A.createElement("span",{className:e.weatherPollenTeaserLayoutContainer},A.createElement("div",{key:F.x.weatherPollenDailyInfo,className:e.weatherPollenDailyInfoContainer},t.weatherPollenDailyInfo),A.createElement("div",{key:F.x.weatherMapMini,className:e.weatherPollenMapMiniContainer},t.weatherMapMini),"ja-jp"===oe.Al.Locale?A.createElement(A.Fragment,null,A.createElement("div",{key:F.x.weatherPollenCityList,className:e.weatherPollenCityListContainerJa},t.weatherPollenCityList),A.createElement("div",{key:F.x.weatherPollenImages,className:e.WeatherPollenImagesContainer},t.weatherPollenImages)):A.createElement(A.Fragment,null,A.createElement("div",{key:F.x.weatherPollenWeatherForecast,className:e.weatherPollenWeatherForecastContainer},t.weatherPollenWeatherForecast),A.createElement("div",{key:F.x.weatherPollenCityList,className:e.weatherPollenCityListContainer},t.weatherPollenCityList)))}renderWeatherPollenMobilePageSsr(){const{slots:e}=this.props;return A.createElement("div",null,e.weatherPollenDailyInfo,e.weatherMapMini,e.weatherPollenDailyList)}}const se=(0,r.ZP)((e=>({weatherPollenTeaserLayoutContainer:{display:"grid","grid-template-columns":"1fr 1fr 1fr 1fr",gap:"12px",[(0,a.eH)(a.K$.c4)]:{"grid-template-columns":"1fr 1fr 1fr 1fr"},[(0,a.eH)(a.K$.c3)]:{"grid-template-columns":"1fr 1fr 1fr"},[(0,a.vW)(null,a.K$.c2)]:{"grid-template-columns":"1fr 1fr"}},weatherPollenDailyInfoContainer:{"grid-area":"1 / 1 / 1 / 4",overflow:"visible",[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 1 / 1 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 1 / 1 / 3"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"1 / 1 / 1 / 3"}},weatherPollenMapMiniContainer:{"grid-area":"1 / 4 / 1 / 4","overflow-y":"hidden","padding-top":"42px",[(0,a.eH)(a.K$.c4)]:{"grid-area":"1 / 4 / 1 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"1 / 3 / 1 / 3"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 1 / 2 / 1","padding-top":"0"}},weatherPollenWeatherForecastContainer:{"grid-area":"2 / 1 / 2 / 2",overflow:"hidden",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 1 / 2 / 2"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 2 / 2"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 2 / 2 / 2"}},weatherPollenCityListContainer:{"grid-area":"2 / 2 / 2 / 4","overflow-y":"hidden",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 2 / 2 / 4"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 2 / 2 / 4"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 3 / 3"}},WeatherPollenImagesContainer:{"grid-area":"2 / 3 / 2 / 3","overflow-y":"hidden",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 3 / 2 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 3 / 2 / 3"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"2 / 2 / 2 / 2"}},weatherPollenCityListContainerJa:{"grid-area":"2 / 1 / 2 / 3","overflow-y":"hidden",[(0,a.eH)(a.K$.c4)]:{"grid-area":"2 / 1 / 2 / 3"},[(0,a.eH)(a.K$.c3)]:{"grid-area":"2 / 1 / 2 / 3"},[(0,a.vW)(null,a.K$.c2)]:{"grid-area":"3 / 1 / 3 / 3"}}})))(ae);var ce=n(33379),ue=n(7124),le=n(89696);class de extends o.j{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},o.h),{managedClasses:void 0,slots:void 0,headerKind:void 0,extraPageClass:void 0,noDisplayAds:void 0,noNativeAds:void 0,microsoftWeatherLogoText:void 0,weatherNewsTitleText:void 0,localizedStrings:void 0,hasCarousel:void 0,scenario:void 0,isFetchWeatherSummaryFailure:void 0,isFetchWeatherMonthlyCalendarFailure:void 0,isFetchTrendDataFailure:void 0,weatherMaintenanceTitle:void 0,weatherMaintenanceDescription:void 0,teaserLayoutProps:void 0,updateLayout:void 0,carouselBackgroundColor:void 0,mapLayout:void 0,enableEplant:void 0,enableForecastVideo:void 0,enableEplantTasksPhone:void 0,enableActivityWatchlist:void 0,telemetryTags:void 0,docid:void 0,enableResponsiveDesign:void 0,noPollenData:void 0,currentLocation:void 0,updateLocation:void 0,isHeaderAurora:void 0,isHeaderBgChanged:void 0,auroraOptions:void 0,innerWidthSsr:void 0,getColumn:void 0,enableL1NewLayout:void 0,currentWeatherCondition:void 0,isWeatherCurrentCard2U:void 0,isShowMonthlyNoData:void 0,noSideBar:void 0,hasPersonaCard:void 0,enableAdsForWidget:void 0,pageUnMount:void 0,enableSocialPost:void 0,enableFreDialog:void 0}),this.onResize=(0,ue.Z)((()=>{const e=this.getCookieBannerHeightPx();e!==this.state.cookieBannerHeightPx&&this.setState({cookieBannerHeightPx:e})}),300,{leading:!1,trailing:!0}),this.onBreakpointCallback=e=>{this.props.updateLayout(B.C.ScreenWidth,a.K$[e]),this.setState({columnArrangement:e})},this.getAuroraHeaderRender=()=>(0,i.mG)(this,void 0,void 0,(function*(){if(!(this.state.auroraHeaderRender&&this.state.burgerMenuHeaderRender||!(0,ce.N)()))try{const{headerKind:e,isHeaderAurora:t,isHeaderBgChanged:r}=this.props;if("windows-header"!==e||!t&&!r)return;const{renderAuroraHeader:i,renderMenuBurgerHeader:o}=yield Promise.all([n.e("libs_wc-jsx_dist_index_js-web-components_common-header_dist_define-elements_js-web-components-abc1d2"),n.e("experiences_weather-page-v2_dist_auroraHeader_AuroraHeader_js")]).then(n.bind(n,88059));this.setState({auroraHeaderRender:i,burgerMenuHeaderRender:o})}catch(e){return}})),this.renderAuroraHeader=(e=!1)=>{const{auroraOptions:t}=this.props,n=Object.assign(Object.assign({},t),{ttvrCallback:this.markTimeToVisuallyReady.bind(this)});if(n.config)return e?this.state.burgerMenuHeaderRender?this.state.burgerMenuHeaderRender(n):void 0:this.state.auroraHeaderRender?this.state.auroraHeaderRender(n):void 0},this.getCommonHeader=()=>{const{isHeaderAurora:e,isHeaderBgChanged:t,slots:n}=this.props;let r=null;return r=e||t?this.renderAuroraHeader():n.commonHeader,r},this.state={columnArrangement:(0,s.Bn)().currentColumnArrangement,cookieBannerHeightPx:(0,ce.N)()?this.getCookieBannerHeightPx():0,stickCarousel:!1,showBackToTop:!1,iframeHeight:2e4,auroraHeaderRender:void 0},this.checkedScenario=!1,this.recommendationRef=A.createRef(),this.articalIframeRef=A.createRef(),e&&e.experienceName&&(0,le.hf)(e.experienceName)}componentDidMount(){this.props&&this.props.experienceName&&(0,le.hf)(`${this.props.experienceName}.Mounted`),window&&window.addEventListener("resize",this.onResize),(0,s.Bn)().subscribe(this.onBreakpointCallback),c.A.subscribe(c.U.CookieConsentStatus,(e=>{this.state.cookieBannerHeightPx&&e===$._.NotRequired&&this.setState({cookieBannerHeightPx:0})})),h.jG.isOverlayFrame&&window.postMessage("overlay_ready","*")}componentWillUnmount(){window&&(window.onscroll=null),window.removeEventListener("resize",this.onResize),this.props.pageUnMount&&this.props.pageUnMount()}componentDidUpdate(){this.props&&(!this.checkedScenario&&this.props.slots.riverContent&&this.checkScenario(),this.getAuroraHeaderRender())}checkScenario(){if((0,ce.N)()&&this.recommendationRef.current&&"isFromGoodWeather"===this.props.scenario){const e=document.documentElement.scrollTop||document.body.scrollTop,t=this.recommendationRef.current.getBoundingClientRect().top+e;window.scrollTo(0,t-this.recommendationRef.current.clientHeight-100)}if((0,ce.N)()&&"tenDayForecast"===this.props.scenario&&window.setTimeout((()=>window.scrollTo(0,350)),1e3),(0,ce.N)()&&"hourlyForecast"===this.props.scenario&&window.setTimeout((()=>window.scrollTo(0,450)),1e3),(0,ce.N)()&&this.articalIframeRef.current&&this.props.docid){const e=document.documentElement.scrollTop||document.body.scrollTop,t=this.articalIframeRef.current.getBoundingClientRect().top+e;window.scrollTo(0,t-500),window.onscroll=()=>{const e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.offsetHeight||document.body.offsetHeight;e+window.screen.availHeight>=t&&this.setState({iframeHeight:this.articalIframeRef.current.clientHeight+window.screen.availHeight})}}this.checkedScenario=!0}render(){super.render();const{managedClasses:e,slots:t,noSideBar:n,isHeaderAurora:r,isHeaderBgChanged:i}=this.props,o=t.weatherMap;this.isWeatherPage=!!t.weatherOverviewV2,this.isMonthlyForecastPage=!!t.weatherMonthCalendar,this.isRecordsAndAveragesPage=!!t.weatherMonthlyTrendChart,this.isLifePage=(0,m.eE)(),this.isPollenPage=(0,m.Nt)(),this.isHourlyForecastPage=(0,m.bc)();const a=this.props.headerKind,s=this.props.extraPageClass,c=(r?" windows-header-aurora":"")+(i?" header-aurora-bg-change":"");let u=o?"map":"homepage";u=this.isLifePage?`${u} ${P.kE}`:u;const l=pe(this.props)?{display:"none"}:{},d=Object.assign(Object.assign({},l),this.props.carouselBackgroundColor),p=o?`${this.props.mapLayout} ${n?P.Mj:""}`:"",g=o?{id:"weather-page-root"}:{},f=h.jG.isMiniProgram||h.jG.isOverlayFrame?"0px":"52px";return h.jG.isMobile?A.createElement("div",Object.assign({},g,{className:`${e.root} ${a} ${u}`},this.unhandledProps()),A.createElement("div",{className:e.content,style:{marginTop:f}},t.weatherCarousel&&A.createElement("div",{className:`${e.weatherCarouselFixedContainer}`,style:Object.assign({},d)},t.weatherCarousel),o?this.renderMap():this.renderWeatherPageFramework()),o?null:t.weatherFloatButtons,o?t.hurricaneCard:null,t.weatherToast,t.clarity,t.weatherNotification):A.createElement("div",Object.assign({},g,{className:`${e.root} ${a+c} ${s} ${u} ${p}`},this.unhandledProps()),t.clarity,"windows-header"===a?A.createElement("div",{className:e.header,id:"header"},this.getCommonHeader()):null,A.createElement("div",{className:e.content},o?this.renderMap():this.renderWeatherPageFramework()),t.weatherFeedback,t.oneFooter,t.weatherFloatButtons,t.weatherToast,t.weatherColdStartGuide,!this.props.enableFreDialog&&t.weatherNotification)}renderMap(){const{slots:e,mapLayout:t}=this.props,n=h.jG.isMobile?O:L;return A.createElement(A.Fragment,null,this.props.enableEplant&&e.weatherEplant,this.props.enableSocialPost&&e.socialPost,A.createElement(n,{slots:e,layout:t}))}renderWeatherPageFramework(){const{managedClasses:e,slots:t,hasCarousel:n}=this.props,r=pe(this.props)?{display:"none"}:{},i=Object.assign(Object.assign({},r),this.props.carouselBackgroundColor);let o={margin:n?"60px auto 20px auto":"16px auto 20px auto"};return h.jG.isMobile&&(o={margin:"0px",width:"100%"}),A.createElement(A.Fragment,null,!h.jG.isMobile&&t.weatherCarousel&&A.createElement("div",{className:e.weatherCarouselFixedContainer,style:Object.assign({},i)},t.weatherCarousel),pe(this.props)&&function(e,t=""){const{isFetchWeatherMonthlyCalendarFailure:n}=e;t=n?"":e.weatherMaintenanceDescription;const r={weatherMaintenanceTitle:e.weatherMaintenanceTitle,weatherMaintenanceDescription:t||e.weatherMaintenanceDescription};return A.createElement(X,Object.assign({},r))}(this.props),this.isWeatherPage&&this.renderWeatherHomePage(r,o),this.isMonthlyForecastPage&&this.renderWeatherMonthlyForecastPage(r,o),this.isRecordsAndAveragesPage&&this.renderWeatherRecordAveragePage(r,o),this.isLifePage&&this.renderWeatherLifePage(r,o),this.isPollenPage&&this.renderWeatherPollenPage(r,o),this.isHourlyForecastPage&&this.renderWeatherHourlyForecastPage(r,o))}renderWeatherHomePage(e,t){const{managedClasses:n,slots:r,enableResponsiveDesign:i,enableForecastVideo:o,innerWidthSsr:a,enableAdsForWidget:s}=this.props;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,this.props.enableActivityWatchlist&&r.weatherActivityWatchlist,!h.jG.isMobile&&o&&(null==r?void 0:r.weatherForecastVideo),A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:n.backgroundContainer},r.backgroundGradient),A.createElement("div",{className:n.weatherContainer,style:t},!h.jG.isMobile&&r.weatherEventBanner,!h.jG.isMobile&&r.weatherEventAlert,(0,ce.N)()||a?this.renderWeatherForecastPageNewLayout():this.renderTeaserLayoutExperiences())),s&&this.renderAdsPlaceholder(),!h.jG.isMobile&&this.props.docid?function(e,t){const{managedClasses:n,slots:r,docid:i,weatherNewsTitleText:o}=e;if(!r.riverContent)return null;const a={weatherNewsTitleText:o,iframeHeight:t,docid:i,showMaintainencePage:pe(e)};return A.createElement("div",{className:n.sectionContainer,ref:this.articalIframeRef},A.createElement(G,Object.assign({},a)))}(this.props,this.state.iframeHeight):he(this.props),this.props.enableEplantTasksPhone&&r.weatherEplantTasksPhone,(0,ce.N)()&&r.weatherNpsCard,this.props.enableFreDialog&&r.weatherFreDialog)}renderWeatherForecastPageNewLayout(){const{teaserLayoutProps:e,slots:t}=this.props;return A.createElement(A.Fragment,null,A.createElement(q,{slots:t,teaserLayoutProps:e}))}renderWeatherMonthlyForecastPage(e,t){const{managedClasses:n,slots:r,isShowMonthlyNoData:i,localizedStrings:o,currentLocation:a}=this.props;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:n.backgroundContainer},r.backgroundGradient),A.createElement("div",{className:n.weatherContainer,style:t},i?A.createElement(te,{monthlyNoDataDescription:null==o?void 0:o.monthlyNoDataDescription,currentLocation:a,slots:r}):A.createElement(A.Fragment,null,(0,ce.N)()?A.createElement(_,Object.assign({},this.props.teaserLayoutProps)):this.renderWeatherMonthlyForecastPageSsr()))),!i&&he(this.props))}renderWeatherMonthlyForecastPageSsr(){const{slots:e}=this.props;return A.createElement(ie,Object.assign({},{slots:e}))}renderWeatherRecordAveragePage(e,t){const{managedClasses:n,slots:r}=this.props;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:n.backgroundContainer},r.backgroundGradient),A.createElement("div",{className:n.weatherContainer,style:t},A.createElement(_,Object.assign({},this.props.teaserLayoutProps)))),he(this.props))}renderWeatherLifePage(e,t){const{managedClasses:n,slots:r}=this.props;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:`${n.backgroundContainer}`},r.backgroundGradient),A.createElement("div",{className:n.weatherContainer,style:t},(0,ce.N)()?A.createElement(_,Object.assign({},this.props.teaserLayoutProps)):this.renderWeatherLifePageSsr())),he(this.props))}renderWeatherLifePageSsr(){return A.createElement(Z,Object.assign({},{slots:this.props.slots}))}renderWeatherPollenPage(e,t){const{managedClasses:n,slots:r,noPollenData:i}=this.props,o=h.jG.isMobile;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:n.backgroundContainer},r.backgroundGradient),A.createElement("div",{className:n.weatherContainer,style:t},(0,ce.N)()?A.createElement(_,Object.assign({},this.props.teaserLayoutProps)):this.renderWeatherPollenPageSsr())),!i&&!o&&he(this.props))}renderWeatherPollenPageSsr(){const{slots:e}=this.props;return A.createElement(se,Object.assign({},{slots:e}))}renderWeatherHourlyForecastPage(e,t){const{managedClasses:n,slots:r}=this.props;return A.createElement(A.Fragment,null,this.props.enableEplant&&r.weatherEplant,this.props.enableActivityWatchlist&&r.weatherActivityWatchlist,A.createElement("div",{className:`${n.sectionContainer}`,style:Object.assign({},e)},A.createElement("div",{className:n.backgroundContainer},r.backgroundGradient),A.createElement("div",{className:n.weatherHourlyContainer,style:t},A.createElement(_,Object.assign({},this.props.teaserLayoutProps)))),he(this.props))}renderTeaserLayoutExperiences(){const{slots:e,hasPersonaCard:t}=this.props,n={slots:e,hasPersonaCard:t};return A.createElement(R,Object.assign({},n))}renderAdsPlaceholder(){return A.createElement("div",{style:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#dcdcdc",margin:"0 16px 16px",position:"relative",zIndex:99}},"Ads")}getCookieBannerHeightPx(){const e=document.getElementById("consent-banner-container");return e?e.getBoundingClientRect().height:0}}function he(e){const{managedClasses:t,slots:n,weatherNewsTitleText:r}=e;if(!n.riverContent)return null;const i={weatherNewsTitleText:r,riverContent:n.riverContent,showMaintainencePage:pe(e)};return A.createElement("div",{className:t.sectionContainer},A.createElement(G,Object.assign({},i)))}function pe(e){const{isFetchWeatherSummaryFailure:t,isFetchWeatherMonthlyCalendarFailure:n,isFetchTrendDataFailure:r}=e;return t||n||r}de.defaultProps={experienceName:"WeatherPageV2"};var ge=n(41999),fe=n(55458),me=n(1087),ve=n(30856),ye=n(20527);class Ce{reduce(e,t){const n=B.C.ScreenWidth,r=a.K$[(0,s.Bn)().currentColumnArrangement];if(!e)return{currentConditionType:n,currentConditionValue:r};if(!t)return e;let i=!1,o=null;return i=i||ve.G.handleAction(t,ye.V.fetchWeatherSummaryFailure,(t=>{o=Object.assign(Object.assign({},e),{isFetchWeatherSummaryFailure:t})})),i=i||ve.G.handleAction(t,ye.V.fetchWeatherMonthlyCalendarFailure,(t=>{o=Object.assign(Object.assign({},e),{isFetchWeatherMonthlyCalendarFailure:t})})),i=i||ve.G.handleAction(t,ye.V.fetchTrendDataFailure,(t=>{o=Object.assign(Object.assign({},e),{isFetchTrendDataFailure:t})})),i=i||ve.G.handleAction(t,ye.V.updateLayout,((t,n,r)=>{o=Object.assign(Object.assign({},e),{currentConditionType:t,currentConditionValue:n,currentLayout:r})})),i=i||ve.G.handleAction(t,ye.V.updateCarouselBkColor,(t=>{o=Object.assign(Object.assign({},e),{carouselBackgroundStyle:t})})),i=i||ve.G.handleAction(t,ye.V.updateAuroraOptions,(t=>{o=Object.assign(Object.assign({},e),{auroraOptions:t})})),i=i||ve.G.handleAction(t,ye.V.updateWeatherCurrentCondition,(t=>{o=Object.assign(Object.assign({},e),{currentWeatherCondition:t})})),i=i||ve.G.handleAction(t,ye.V.updateCurrentLocation,(t=>{o=Object.assign(Object.assign({},e),{currentLocation:t})})),i=i||ve.G.handleAction(t,ye.V.updateIsWeatherCurrentCard2U,(t=>{o=Object.assign(Object.assign({},e),{isWeatherCurrentCard2U:t})})),i=i||ve.G.handleAction(t,ye.V.updatePollenData,((t,n)=>{o=Object.assign(Object.assign({},e),{noPollenData:t,currentLocation:n})})),i=i||ve.G.handleAction(t,ye.V.updateForecastVideoShown,(t=>{o=Object.assign(Object.assign({},e),{showForecastVideo:t})})),i=i||ve.G.handleAction(t,ye.V.updateFreDialogShown,(t=>{o=Object.assign(Object.assign({},e),{showFreDialog:t})})),o||e}}var Se=n(29213),we=n(33265);const be=(0,ce.N)()?(0,r.ZP)(T)(de):(0,r.ZP)((e=>{const t=T(e);return{"@global":t["@global"],root:t.root,header:t.header,scrollHeader:t.scrollHeader,stickCarousel:t.stickCarousel,content:t.content,sectionContainer:t.sectionContainer,backgroundContainer:t.backgroundContainer,weatherCarouselContainer:t.weatherCarouselContainer,weatherCarouselFixedContainer:t.weatherCarouselFixedContainer,weatherContainer:t.weatherContainer}}))(de),Te={reactComponent:be,experienceConfigSchema:ge.WeatherPageV2ConfigSchema,mockState:we.mockWeatherPageState,mockConfig:Se.mockConfig,inspector:me.W.inspect}},36399:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(33940);const i=["/ads-prebid.js","/istripper.js","/javascript/fropo.js","/nb/f_ls.js","/prebid-add.js","/prebid-ads/adsensebase.js","/prebid-article-ad-ad-300x250.js","/reclama/ads.js","/safu/safu.js","/wp-content/plugins/wp-banners/js/wp-banners.js","/zlk/zlk.js"],o=["/adex.js","/adgpt.js","/ados.js","/ads/stickyLb.js","/ane-popup-banner/ane-popup-banner.js","/ane-preroll/preroll.js","/arcads.js","/awe2.js","/clever_ads.js","/cnads.js","/dfp/dc.js","/doublepimp2.js","/eureka/eureka.js","/exopopunderdesktop.js","/expop.js","/fload.js","/fro_lo.js","/frontend_loader.js","/gpt.min.js","/invoke-2.js","/js/m/i-def.js","/js/youmuffpu.js","/js3caf.js","/kampyle.js","/keyade.js","/lib/ad.js","/markpop.js","/moatsdk.min.js","/nugg.min.js","/nwm-fcn.min.js","/nwm-pw2.min.js","/p8network.js","/popu.js","/popup2.js","/popup3.js","/punder.js","/pustrck.js","/scripts/chatur.js","/soralink.js","/suv4.js","/taboola_ads.js","/tardisrocinante/austin.js","/utep_ad.js","/weborama.js","/wp-content/plugins/bhcb/lock.js","/xpopup.js","/_adverts.js","/_rebid.js","/cmbdv2.js","/push-skin/skin.min.js","/pop2.js","/banger.js","/detroitchicago/anaheim.js","/detroitchicago/boise.js","/detroitchicago/houston.js","/detroitchicago/memphis.js","/detroitchicago/minneapolis.js","/detroitchicago/raleigh.js","/detroitchicago/rochester.js","/detroitchicago/tampa.js","/_js/prbd_6.19.0.js","/prebid14.js","/prebid_ver.js","/pubfig.js","/pubfig.min.js","/_prebid.js","/~Prebid.js","/datomata.widget.js","/abtest_ab.js","/adb.min.js","/adblock-relief.js","/blockblock/blockblock.jquery.js","/fuckadb.js"];var a=n(95651),s=n.n(a);class c{Impacts(){const e=this.GetConfig();return new Promise(function(t,n){const r=[this.CheckLoadStatus(e.EasyList),this.CheckLoadStatus(e.UboSpecial),this.CheckLoadStatus(e.Param)];Promise.all(r).then((e=>{t(e[0]||e[1]||e[2])})).catch((e=>{n(e)}))}.bind(this))}CheckLoadStatus(e){const t=document.createElement("script");t.src=e.urls,document.body.appendChild(t);const n=new Promise((function(n,r){t.onload=function(){document.getElementById(e.id)?n(!1):n(!0)},t.onerror=function(){n(!0)}}));return i=500,o=n,(0,r.mG)(void 0,void 0,void 0,(function*(){const e=new Promise(((e,t)=>{setTimeout(e,i,!1)}));return Promise.race([o,e])}));var i,o}GetConfig(){const e="https://assets.msn.com/staticsb/statics/latest/adboxes",t=this.Sample(o),n=this.Sample(i),r=this.Sample(o);return{UboSpecial:{urls:e+"/ubo"+n,id:btoa(n)},EasyList:{urls:e+"/egb"+t,id:btoa(t)},Param:{urls:e+"/general.js?"+r,id:btoa(r)}}}Sample(e){return e[Math.floor(Math.random()*e.length)]}}var u=new class{constructor(){this.adbTime=0,this.getAdbStatus=()=>(this.hasAdbStatus||(this.adbStatus=this.checkAdbStatus(),this.hasAdbStatus=!0),this.adbStatus),this.getAdbLoggedTime=()=>{const e=s().get("AlgoRes");return e&&"ABD=V=0"!=e&&(this.adbTime=Number(e.split("=")[2])),this.adbTime},this.executeDetector=()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=new c,t=yield e.Impacts();this.setCookie(t)})),this.appendAdbStatusToUrl=e=>{if(!e||0===e.length||!this.getAdbStatus())return e;const t=new URL(e),n=t.searchParams.get("rlink");if(!n)return e;const r=decodeURIComponent(n);if(!(r.includes("www.bing.com/aclick?ld=")||r.includes("www.bing.com/ac?ld=")||r.includes("www.bing.com/ck?ld=")||r.includes("www.bing.com/ack?ld=")||r.includes("www.bing.com/clk?ld=")||r.includes("www.bing.com/aclk?ld=")||r.includes("www.bing.com/click?ld=")))return e;const i=n.concat("&adb=1");return t.searchParams.set("rlink",i),t.toString()},this.checkAdbStatus=()=>{const e=s().get("AlgoRes");return!(!e||"ABD=V=0"===e)},this.setCookie=e=>{if(e){const e=(new Date).getTime();s().set("AlgoRes",`ABD=V=${e}`,{expires:30})}else s().set("AlgoRes","ABD=V=0",{expires:30})}}}},80163:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(70193);const i={DisplayAdsWC:(0,r.V8)("display-ads"),ViewsNativeAd:(0,r.V8)("views-native-ad")};function o(e,t){if(void 0!==t){return{DisplayAdsWC:(0,r.V8)("display-ads",t),ViewsNativeAd:(0,r.V8)("views-native-ad",t)}[e]}return i[e]}},70193:function(e,t,n){"use strict";n.d(t,{$H:function(){return d},V8:function(){return l},lj:function(){return u}});var r=n(36399);const i=5131;let o;try{o=(()=>{const e=r.Z.getAdbLoggedTime();return i+e%i})()}catch(e){o=i}const a=/(a)(d)/gi,s=e=>String.fromCharCode(e+97),c=(new Map,(e,t)=>{const n=(e=>{let t,n="";for(t=Math.abs(e);t>26;t=t/26|0)n=s(t%26)+n;return(s(t%26)+n).replace(a,"$1-$2")})(((e,t)=>(void 0===t&&(t=o),((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(t,e)))(e,t)>>>0);return n}),u=(e,t)=>`${p(e,t)}`,l=(e,t)=>`algo-${p(e,t)}`,d=(e,t,n)=>e&&(null===r.Z||void 0===r.Z?void 0:r.Z.getAdbStatus())?u(t,n):t,h=new Map,p=(e,t)=>{const n=((e,t)=>(h.has(e)||h.set(e,c(e,t)),h))(e,t).get(e);return n}},77153:function(e,t,n){"use strict";n.d(t,{Kf:function(){return a}});var r,i=n(33940);!function(e){e.InteractionRequired="userInteractionRequired",e.AuthProviderNotSupported="authProviderNotSupported",e.MaySucceedOnRetry="fetchRetryableError",e.OtherError="authFetchError"}(r||(r={}));let o={getAuthData:e=>(0,i.mG)(void 0,void 0,void 0,(function*(){return{resource:e,error:{message:"Auth manager is not initialized",status:r.OtherError}}}))};function a(){return o}},4875:function(e,t,n){"use strict";n.d(t,{AN:function(){return o},VQ:function(){return a},rZ:function(){return i}});var r=n(247);const i="stn",o="aad";function a(){return(0,r.m)().useEnterpriseCompliance()}},99347:function(e,t,n){"use strict";n.d(t,{GL:function(){return i},I0:function(){return r}});const r="at-bing",i="authconstants-peregrine"},42821:function(e,t,n){"use strict";n.d(t,{Yb:function(){return a},Z6:function(){return o},w0:function(){return s}});var r=n(21050),i=n(89696);const o=(0,n(76323).p)((()=>(0,r.oA)("auth","auth"))),a=e=>(0,i.FF)(`Auth.${e}`,{logStart:!0,logDuration:!0,firstTimeOnly:!0}),s=(e,t)=>(0,i.hf)(`Auth.${e}`,t,!0)},88432:function(e,t,n){"use strict";n.d(t,{Z5:function(){return v}});var r=n(33954),i=n(19388),o=n(68364),a=n(98304),s=n(78722),c=n(27583),u=n(68354),l=n(10877),d=n(33799),h=n(67462),p=n(51671),g=n(31573),f=n(27496),m=n(56548);function v(e){s.jG.AuthCookieName=function(e){let t=s.jG.AuthCookieName;if(e)t=e.isAAD?"al_app_anon":"app_anon";else if((0,c.TJ)()){t=(0,u.XS)().accountType===d.Qm.AAD?"al_app_anon":"app_anon"}else t=(0,c.P8)()&&(0,p.xQ)()===d.Qm.AAD?"al_anon":"anon";return t}(e),(0,g.jW)(s.jG.AuthCookieName),(0,c.TJ)()&&(0,u.XS)().accountType===d.Qm.AAD&&function(e,t=!0){if(!(0,c._K)())return void r.k.log("Auth: WorkId work flow is not enabled in this environment");const n=(0,h.ej)(l.og),s=1e4;let u;n&&t||Promise.race([(0,i.b1)(),(0,f.Kb)(s).then((()=>u=!0))]).then((t=>{u&&(0,o.H)(a.nrW,"Work Id call was made before TTVR marker was set"),(0,m.qs)(e)}))}()}},51671:function(e,t,n){"use strict";n.d(t,{KW:function(){return y},XJ:function(){return S},YX:function(){return b},hC:function(){return C},rr:function(){return w},xQ:function(){return k}});var r=n(33940),i=n(33799),o=n(247),a=n(27583),s=n(45506),c=n(68354),u=n(34042),l=n(17157),d=n(65019),h=n(42821),p=n(27003),g=n(72447);const f="__SignInStateIsValid__",m="__SignInStatePromiseResolver__",v=()=>{p.Gq.set(f,new Promise((e=>{p.Gq.set(m,e)})))};v();function y(){const e=p.Gq.get(m);e&&e()}function C(){return(0,o.m)().getSignInState()===i.Hy.SignedIn}function S(){return T("getUserSignInState",(0,a.hk)())}function w(){return T("waitForSignInState",!0)}function b(e=!0){return(0,r.mG)(this,void 0,void 0,(function*(){const t={signedInStatus:i.Hy.NotSignedIn,accountType:null};if((0,l.wq)()&&e){yield(0,d.mr)();const e=(0,d._4)();e&&(t.signedInStatus=e.isSignedIn?i.Hy.SignedIn:i.Hy.NotSignedIn,t.accountType=P(e.accountType))}else if((0,u.ID)()){const e=yield(0,u.yb)();t.accountType=P(e.accountType),t.signedInStatus=e.tokenValue?i.Hy.SignedIn:i.Hy.NotSignedIn}else t.signedInStatus=yield w(),t.accountType=k();return t}))}function T(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,s.nP)().UserIsSignedIn;if(null!=n)return n?i.Hy.SignedIn:i.Hy.NotSignedIn;const r=(0,h.Z6)(),a=r&&r.startMeasure(e).endMeasure;let c;t&&(c=(0,h.Yb)("GetSignInStateAsync"),(0,o.m)().initOverrides(),yield p.Gq.get(f));const u=(0,o.m)().getSignInState();return a&&a(),c&&c(),u}))}function P(e=null){return"MSA"===e?i.Qm.MSA:"AAD"===e?i.Qm.AAD:void 0}function k(){if((0,a.TJ)()){const e=(0,c.XS)();return e.isSignedIn===i.Hy.SignedIn&&e.accountType}if((0,a.P8)())return(0,g.bW)()}},27002:function(e,t,n){"use strict";n.d(t,{OE:function(){return f}});var r=n(83097),i=n(33799),o=n(98304),a=n(68364),s=n(51671),c=n(65135),u=n(247),l=n(27583),d=n(67462);function h(e){const t=(0,u.m)((()=>{c.M0.sendAppErrorEvent(Object.assign(Object.assign({},o.YHd),{message:"finalizeSignInState called without properly setPageAuthManager to a valid instance"}))}));t&&(t.setSignInState(e),(0,s.KW)(),function(e){if((0,l.P8)()||(0,l.TJ)()||(0,l.qn)())return;const t=r.IR.AnonCookieExists,n=(0,d.ej)(t);e!==i.Hy.SignedIn||n?e===i.Hy.NotSignedIn&&n&&(0,a.H)(o.ja9,`Non signed in user still has ${t} cookie`):(0,a.H)(o.ja9,`Signed in user missing ${t} cookie`)}(e))}var p=n(42821);let g;g=g=[h];const f=e=>{g.forEach((t=>t(e))),(0,p.w0)("SetSignInState")}},53788:function(e,t,n){"use strict";n.d(t,{Jz:function(){return k},jA:function(){return T}});var r=n(33940),i=n(49972),o=n(98304),a=n(33954),s=n(27583),c=n(68354),u=n(64084),l=n(27003);const d="__core_auth_authHeaderPromiseParts__",h=()=>l.Gq.get(d);!function(){let e;const t={promise:new Promise((t=>e=t)),resolver:e};l.Gq.set(d,t)}();var p=n(52794),g=n(34042),f=n(42821),m=n(72447),v=n(79814),y=n(33799),C=n(65135),S=n(3072),w=n(27002),b=n(28803);function T(){return(0,r.mG)(this,void 0,void 0,(function*(){let e,t,n;const a=(0,f.Z6)(),l=a&&a.startMeasure("tryInitiateEarlyAuth").endMeasure;try{if((0,g.ID)()){e="auth-Widget";t=(yield(0,g.yb)()).tokenValue?y.Hy.SignedIn:y.Hy.NotSignedIn}else if((0,s.TJ)()){e="auth-EdgeProfile";t=(0,c.XS)().isSignedIn}else if((0,s.ML)()){e="auth-ProfileSwitch";const n=(0,f.Yb)("ProfileSwitch"),r=yield(0,m.hD)();n(),t=(0,p.MK)(r)?y.Hy.SignedIn:y.Hy.NotSignedIn}else if((0,s.vW)()){e="auth-EarlyToken";const n=(0,f.Yb)("EarlyToken"),r=yield(0,m.pk)();n(),t=(0,p.MK)(r)?y.Hy.SignedIn:y.Hy.NotSignedIn}else if((0,s.t0)()){e="auth-EarlySSO";const n=(0,f.Yb)("EarlySSO"),r=yield P(!0);n(),t=(0,p.T3)(r)?y.Hy.SignedIn:y.Hy.NotSignedIn}else if((0,s.P8)()){e="auth-TokenCache";const n=(0,u.wX)();t="valid"===n?y.Hy.SignedIn:"notAvailable"===n?y.Hy.NotSignedIn:y.Hy.Unknown}}catch(e){n="auth-Error",t=y.Hy.Unknown,(0,S.Ov)(v.g4.singleSignOn,`tryInitiateEarlyAuth: Error ${(0,i.n)(e)}`),(0,b.h)(o.KH7,"Unknown tryInitiateEarlyAuth error",e)}null!=t?((0,w.OE)(t),!(0,s.TJ)()&&(()=>{(0,r.mG)(this,void 0,void 0,(function*(){const e=(0,s.hk)()?yield(0,m.IY)():(0,s.aS)();var t;t=e?(0,s.me)(e.accessToken):null,h().resolver(t)}))})(),(0,S.Ov)(v.g4.singleSignOn,`tryInitiateEarlyAuth: Finalized sign in state ${t} from ${e}`),n=`${e}-${t}`):n||(n=["auth-NA","DAUsage"+((0,s.P8)()?"1":"0"),"OldState"+((0,s.iG)()?"1":"0")].join("-")),C.M0.addOrUpdateTmplString(n),l&&l({customSuffix:n})}))}function P(e=!1){return(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,f.Z6)(),n=t&&t.startMeasure("initiateSSOCore").endMeasure,r=(0,s.P8)(),i=r?"MSAL":"Error";let c,u;return a.k.log(`dual-auth: initiateSSOCore: Starting ${i} auth flow ${e?"with timeout":""}`),r?(c=yield(0,p.pd)(e),u=(0,p.T3)(c)?"Success":"Fail",(0,S.Ov)(v.g4.singleSignOn,`initiateSSOCore: ${u} - SSO data from the ${i} auth flow ${e?"with timeout":""}`)):((0,b.h)(o._2Z,"Dual auth usage is not enabled for a flow that expects it"),u="Error"),n&&n({customSuffix:`${i}-${u}`}),c}))}function k(e){return(0,p.T3)(e)?y.Hy.SignedIn:y.Hy.NotSignedIn}},53430:function(e,t,n){"use strict";n.d(t,{L:function(){return i},y:function(){return r}});const r="sso_completed",i="sso_failed"},11112:function(e,t,n){"use strict";n.d(t,{M:function(){return h}});var r=n(33940),i=n(33799),o=n(27583),a=n(68354),s=n(41651),c=n(61285),u=n(85305),l=n(51671),d=n(34042);function h(e){return(0,r.mG)(this,void 0,void 0,(function*(){let t,n,r;if(e)t=e.isMsa,n=e.isAAD,r=e.isSSO;else if((0,d.ID)()){t=!!(yield(0,d.yb)()).tokenValue}else if((0,o.TJ)()){const e=(0,a.XS)();r=e.isSignedIn===i.Hy.SignedIn,r&&(t=e.accountType===i.Qm.MSA,n=e.accountType===i.Qm.AAD)}else if((0,o.P8)()){const e=(0,l.xQ)();t=e===i.Qm.MSA,n=e===i.Qm.AAD,r=!(0,s.YU)()}else t=(yield(0,l.XJ)())===i.Hy.SignedIn;const h={aadState:n?1:0,isSignedIn:t,isSso:r},p=function(e,t){let n;const r=(0,c.E)()===c.M.Web?"anon":"app_anon";let i=!1;t&&(i=(0,u.u6)(r));n=i?"AAD-AL":t?"AAD":e?"MSA":"NA";return n}(t,n),g=Object.assign(Object.assign({},h),{loginState:p});return Promise.resolve(g)}))}},77162:function(e,t,n){"use strict";n.d(t,{FA:function(){return b},u_:function(){return P}});var r=n(33940),i=n(33799),o=n(83097),a=n(98304),s=n(49972),c=n(17873),u=n(27583),l=n(78722),d=n(10877),h=n(68354),p=n(247),g=n(83977),f=n(51671),m=n(72447),v=n(65135),y=n(99347),C=n(67462),S=n(13578),w=n(42821);function b(e,t,n,a){return(0,r.mG)(this,void 0,void 0,(function*(){const s=(0,w.Z6)(),d=s&&s.startMeasure("updateAuthState").endMeasure;try{if(n||!c.yb&&!c.R0)yield function(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){(0,u.P8)()?yield(0,m.GQ)():function(){let e=!1;if(l.jG.UseOneServiceAuthEndpoints)e=!0;else if((0,u.TJ)()){const t=(0,h.XS)(),n=!!(0,C.ej)(o.IR.AppAnonCookieExists);e=t.accountType===i.Qm.MSA&&!n||t.accountType===i.Qm.AAD&&(0,g.vs)()&&!(0,u._K)()}return e}()&&(yield function(e,t){const n=new URL(`https://api.msn.${l.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/appanon`),r={credentials:"include"};e&&(r.headers=e);return n.searchParams.set("apikey",l.jG.OneServiceApiKey),n.searchParams.set("ocid",t||y.GL),n.searchParams.set("activityId",l.jG.ActivityId),n.searchParams.set("scn","app_anon"),fetch(n.href,r)}(e,t))}))}(a),yield T(t);else if((0,u.P8)())yield(0,m.GQ)(),yield T(t,!1);else{const e=yield(0,c.ot)({id:"appanoncookie"}),n=e&&e.payload&&e.payload.appAnonCookieExists;yield T(t,n)}}catch(t){yield T(),e(t)}d&&d()}))}function T(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){let n=!1;const r=(0,w.Z6)(),o=r&&r.startMeasure("handleSignInStateUpdateAsync").endMeasure;if((0,u.P8)()){const{accessToken:e}=((0,u.hk)()?yield(0,m.IY)():(0,u.aS)())||{},t=(0,u.me)(e);(0,S.Z)(t)||(n=!0,(0,c.mS)({id:"AuthHeaders",type:"command",payload:t}))}else if(n=null!=(0,C.ej)(d.m$),(0,u.TJ)()){(0,h.KO)();n=(0,h.XS)().isSignedIn===i.Hy.SignedIn}const a=n?i.Hy.SignedIn:i.Hy.NotSignedIn;!1===t&&a===i.Hy.SignedIn&&((0,c.mS)({id:"updatemyfeed"}),(0,c.mS)({id:"updatepdp"}),(0,c.mS)({id:"UpdateMyBriefing"})),(0,p.m)().setSignInState(a),(0,f.KW)(),void 0!==e&&e!==a&&v.M0.addOrUpdateTmplProperty("signInUpdate","1"),o&&o()}))}function P(e=null){v.M0.sendAppErrorEvent(Object.assign(Object.assign({},a._Qv),{message:"Error on invoking the 1S appanon endpoint",pb:Object.assign(Object.assign({},a._Qv.pb),{customMessage:(0,s.n)(e)})}))}},34042:function(e,t,n){"use strict";n.d(t,{ID:function(){return c},Vo:function(){return l},yb:function(){return u}});var r=n(33940),i=n(33379),o=n(78722),a=n(76323),s=n(27496);function c(){return o.jG.WidgetAttributes&&"shopping"==o.jG.AppType}const u=(0,a.p)((()=>(0,r.mG)(void 0,void 0,void 0,(function*(){let e;const t=(0,i.N)()&&window.__pw_options,n=t&&t.auth&&t.auth.serviceToken;if("object"==typeof n&&n.then){const t=3e3;e=yield Promise.race([n,(0,s.Kb)(t).then((()=>null))])}return e||{tokenValue:void 0,accountType:void 0}}))));function l(){u.cache.clear()}},56548:function(e,t,n){"use strict";n.d(t,{DW:function(){return y},qs:function(){return v}});var r,i=n(33940),o=n(21050),a=n(33954),s=n(68364),c=n(98304),u=n(49972),l=n(27583),d=n(61285),h=n(78722),p=n(10877),g=n(99347),f=n(67462),m=n(42821);function v(e){return(0,o.fW)((()=>C("Acquire",e)),"tryAcquire1SWorkIdCookies",(0,m.Z6)())}function y(){return(0,o.fW)((()=>C("Delete")),"tryDelete1SWorkIdCookies",(0,m.Z6)())}function C(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){if(!(0,l._K)())return void a.k.log("Auth: WorkId work flow is not enabled in this environment");const n="Reset"===e,r="Acquire"===e||n,i=r?"GET":"DELETE",o=(0,d.E)(),m=`https://api.msn.${h.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/${n?"wid":"AAD"}`;let v,y;try{v=yield fetch(`${m}?apikey=${h.jG.OneServiceApiKey}&ocid=${g.GL}&activityId=${h.jG.ActivityId}&it=${o}${n?"&reset=true":""}`,{method:i,credentials:"include",headers:(0,l.me)(t)||void 0});const a=o===d.M.Web?p.yz:p.og;r!==!!(0,f.ej)(a)&&(y=new Error(`${r?"Expected":"Unexpected"} cookie ${a} is ${r?"missing":"still present"} after ${e} 1S call to ${m}`))}catch(e){y=e}const C=!y&&v&&v.ok?null:`Error in ${e} mode in ${m} call. ${y||""}`;C&&(0,s.H)(c.FTS,C,y&&(y.message||(0,u.n)(y)))}))}!function(e){e.Acquire="Acquire",e.Delete="Delete",e.Reset="Reset"}(r||(r={}))},28803:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r=n(49972),i=n(76323),o=n(96154),a=n(64084),s=n(65135),c=n(3072),u=n(61091);const l=(0,i.p)((()=>(0,u.vp)((0,o.AE)("MUID"),100)<2));function d(e,t,n=null){s.M0.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:(0,r.n)(n),authRecordTrail:l()&&(0,c.xI)()||void 0,tokenCacheState:(0,a.wX)()})}))}},61091:function(e,t,n){"use strict";n.d(t,{sm:function(){return b},lx:function(){return m},LT:function(){return y},Df:function(){return C},sA:function(){return S},nt:function(){return w},vp:function(){return T},nq:function(){return f},RH:function(){return v}});var r=n(33940),i=n(1329),o=n(78722),a=n(27583),s=n(96154),c=n(81428);var u=n(10877),l=n(79814),d=n(33799),h=n(76668),p=n(62281),g=n(67462);function f(e){const t=encodeURIComponent(JSON.stringify(e||{}));(0,g.sq)(i.sM,t,i.ac,o.jG.HostPage.topDomain,"/",!1,h.f.Strict),(0,a.yd)()}function m(e){if(e)return function(e){return e&&e.tenantId===l.bc}(e)?d.Qm.MSA:d.Qm.AAD}function v(e){return(0,r.mG)(this,void 0,void 0,(function*(){let t;if(e){t=(yield y()).find((t=>t.username===e))}else{const e=S();if(e){t=(yield y()).find((t=>C(t)===e))}}return t}))}function y(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield(0,p.Yu)();return yield e.handleRedirectPromise(),e.getAllAccounts()}))}function C(e){return e&&e.idTokenClaims&&e.idTokenClaims[l.an]}function S(){const e=(0,i.x6)();return e&&e.login_hint}function w(){const e=(()=>{const e=(0,s.AE)("lh",!0),t=e&&(0,c.dW)(e),{login_hint:n}=t||{};return n&&t})();return e&&e.login_hint}function b(){(0,g.sq)(u.cs,null,-1,o.jG.HostPage.topDomain,"/")}function T(e,t=1e3){let n=0;for(let t=0,r=e&&e.length;t<r;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return n<0&&(n+=2147483647),n%t}},3072:function(e,t,n){"use strict";n.d(t,{Ov:function(){return P},xI:function(){return k}});var r=n(33940),i=n(79814),o=n(33799),a=n(987),s=n(76323),c=n(81428),u=n(45506),l=n(1329),d=n(96154),h=n(247),p=n(10877),g=n(41651),f=n(58073),m=n(30323),v=n(16614),y=n(62515),C=n(61091),S=n(62281),w=n(33954);let b;const T=(0,a.$o)();function P(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n={time:(new Date).toISOString(),action:e.toString(),result:t,state:yield M()};w.k.log(`dual-auth: authRecord entry - ${e}: ${t}`),function(e){if(!e)return void w.k.logError("dual-auth: authRecord is null or undefined");b||(b=E());b.push(e),A.cache.clear();const t=b.slice(-i.tk);T.setItem(i.tU,JSON.stringify(t))}(n)}))}function k(){return function(){if(b)return b;return b=E(),b}().slice(-i.tk)}const A=(0,s.p)((()=>(b||(b=E()),function(e){const t=";";let n={};if(!e)return n;return n={a:"",r:"",s:[],t:[]},e.forEach(((r,i)=>{n.a+=r.action+t,n.r+=function(e){if(!e)return null;if(e.match(/\bsuccess\b/i))return"S";if(e.match(/\bfailure\b/i))return"F";{let t=e.match(/tryInitiateEarlyAuth: Finalized sign in state (\w+) from auth-(\w+)/);return t?`EarlyAuth: ${t[1]} from ${t[2]}`:(t=e.match(/initiateSSOCore: (\w+) - SSO data from the (\w+) auth flow[^]*/),t?`SSO: ${t[1]} from ${t[2]}`:e.toString())}}(r.result)+t,n.s.push(function(e,t){if(!e)return{};if(e===t)return e;const n=(0,f.Z)((0,m.Z)(e),(0,m.Z)(t),v.Z);return(0,y.Z)(n)}(r.state,i>0?e[i-1].state:r.state)),n.t.push(function(e,t){if(!e)return;if(e===t)return e;const n=new Date(e),r=n&&n.getTime(),i=t&&new Date(t),o=i&&i.getTime();if(r&&o)return(r-o).toString()}(r.time,i>0?e[i-1].time:r.time))})),n}(b))));function E(){if(!T.supported)return void w.k.log("dual-auth: Local storage access is not supported");const e=T.getItem(i.tU);return(0,c.dW)(e)||[]}function M(){var e;return(0,r.mG)(this,void 0,void 0,(function*(){const t=u.Al.ClientSettings,n=(0,S.dn)(),r=n&&(0,C.lx)(yield(0,C.RH)())||(null===(e=(0,l.x6)())||void 0===e?void 0:e.account_type)||void 0,i=(0,d.AE)(l.sM),{login_hint:a}=i&&(0,c.dW)(i)||{},s=a&&0!==Object.keys(a).length;return{isSignedIn:(0,h.m)().getSignInState()===o.Hy.SignedIn,accountType:r,signedInAccounts:n?yield x():void 0,storage:{aace:(0,d.AE)(p.m$),ace:(0,d.AE)(p.Li),als:(0,d.AE)(p.tX,!0),child:(0,d.AE)(p.nM),currentAccount:s,loginFlowMarker:(0,g.YU)(),logoutFlowMarker:(0,g.SY)(),editFlowMarker:(0,g.hU)(),osate:(0,d.AE)(p.cs)},appType:t&&t.apptype,pageType:t&&t.pagetype}}))}function x(){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(yield(0,S.Yu)()))return[-1];return(yield(0,C.LT)()).map((e=>(0,C.vp)(e.username)))}))}},79814:function(e,t,n){"use strict";n.d(t,{BS:function(){return c},Ic:function(){return i},QL:function(){return o},an:function(){return r},bc:function(){return d},g4:function(){return h},kQ:function(){return u},tU:function(){return a},tk:function(){return s},w6:function(){return l}});const r="login_hint",i=300,o=3600,a="authRecordTrail",s=10,c="InteractionRequiredAuthError",u="BrowserAuthError",l="no_tokens_found",d="9188040d-6c67-4c5b-b112-36a304b66dad";var h,p;!function(e){e.tryAcquire1STokenLite="ATL",e.acquireTokenSilent="ATS",e.tryAcquire1STokenProfileSwitch="ATP",e.clearAccountLinkingCookies="CAL",e.jwtSSOService="JWT",e.interactiveLogin="ILO",e.loginRedirect="LRD",e.loginPopup="LPP",e.logout="LGT",e.ssoSilent="SSL",e.singleSignOn="SSO",e.waitFor1SToken="W1S"}(h||(h={})),function(e){e[e.NotAttempted=0]="NotAttempted",e[e.Fail=1]="Fail",e[e.FailTrySSO=2]="FailTrySSO",e[e.Success=3]="Success"}(p||(p={}))},62281:function(e,t,n){"use strict";n.d(t,{Bj:function(){return L},Oo:function(){return F},Xi:function(){return I},Yu:function(){return O},dn:function(){return M},qW:function(){return x}});var r=n(33940),i=n(79814),o=n(33954),a=n(22704),s=n(19388),c=n(68364),u=n(98304),l=n(49972),d=n(32164),h=n(27496),p=n(1038),g=n(987),f=n(78722),m=n(45506),v=n(27583),y=n(12884),C=n(33379),S=n(9791),w=n(11935),b=n(42821);const T="2.18.0";let P,k,A,E;function M(){return k}function x(e=!1){const t={scopes:["User.Read"],loginHint:"",redirectUri:D(e)};return e||Object.assign(t,Object.assign(Object.assign({},W()),{extraQueryParameters:{edge_suppress_profile_switch:"1"}})),t}function I(e,t){const n=Object.assign(Object.assign({},W()),{account:e,postLogoutRedirectUri:D(),extraQueryParameters:{logout_hint:t,edge_suppress_profile_switch:"1"}});return j()&&(n.logoutHint=t,delete n.extraQueryParameters.logout_hint),n}function L(e){return{scopes:e,forceRefresh:!1,redirectUri:D(!0)}}P="localhost.msn.com"===(0,y.Td)(),E=(0,y.zw)().toLowerCase().endsWith(".cn"),A=((0,y.zp)().match(/\bpr=([\d]+)\b/)||{})[1];const O=(0,S.Z)((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield function(){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(0,C.N)())return;let e;(0,v.lT)()&&(yield Promise.race([R.getResultAsync(),(0,s.b1)(),(0,h.Kb)(1e4).then((()=>e=!0))]),e&&(0,c.H)(u.gZU,"Loading MSAL before TTVR in delay load"));const t=(0,b.Z6)(),n=t&&t.startMeasure("loadMsalScript").endMeasure;let r;const i=new Promise((e=>{r=e})),o=e=>{n&&n({customSuffix:e}),r()},a=G(`auth/msal-browser-${N()}.min.js`),d=(0,y.b0)(a);return d.onload=()=>o(),d.onerror=e=>{(0,c.H)(u.ydI,"Error in loading MSAL script",(0,l.n)(e)),o("error")},document.head.appendChild(d),yield i}))}();const t=window.msal;k=!!t,t&&!j()&&function(e){const t=(0,g.$o)();t.keys().forEach((e=>{const n=e.match(/-[-]+/),r=n&&n[0].length;r>=2&&(2===r&&e.includes("accesstoken")||3===r&&e.includes("idtoken")||4===r&&e.includes("refreshtoken"))&&t.removeItem(e)}))}();const n=H()?{performanceTelemetryConfiguration:{samplingPrecentage:1}}:void 0;if(t&&t.PublicClientApplication){const r=new t.PublicClientApplication(function(e){const{tenantScope:t="Dual",tenantId:n}=e||{};let r;return r=n||("MSA"===t?"consumers":"AAD"===t?"organizations":"common"),{auth:{clientId:p.I4,authority:`https://login.microsoftonline.com/${r}`,redirectUri:D(),navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{if(!n)switch(e){case"Error":return void o.k.logError("dual-auth: "+t.toString());case"Info":case"Verbose":case"Warning":return void o.k.log("dual-auth: "+t.toString())}}},tokenRenewalOffsetSeconds:i.Ic}}}(e),n);return function(e){if(!j()||!m.Al.CurrentFlightSet.has("prg-msal224-ts")&&!f.jG.IsDebug)return;let t=1;const n=(0,a.Ou)(),r=(e,r)=>n[`MSAL.${t}.${e}`]=r,i=e=>Math.round(10*e)/10;e.addPerformanceCallback((e=>{e.forEach((e=>{const n=e.name;r(`${n}-start`,i(e.startTimeMs-performance.timeOrigin)),r(n,i(e.durationMs)),r("meta",`c:${e.fromCache?1:0}-v:${e.startPageVisibility}-ok:${e.success?1:0}`),r("cv",e.correlationId);const o="DurationMs";(0,w.Z)(e,((e,t)=>{if(t.endsWith(o)){const n=t.substring(0,t.length-o.length);r(`fn.${n}`,e)}})),t++}))}))}(r),r}}))));function F(){R.set()}function D(e){return G(e?"auth/auth-redirect-blank.html":"0/auth/auth-redirect.html","https://"+(!!(0,y.Td)().match(/\.msn\.(com|cn)$/i)?(0,y.zw)():"www.msn."+(E?"cn":"com")),!1)}const R=new d.o;function W(){const e={appType:f.jG.AppType,authRedirJsVer:"2.15",buildVersion:f.jG.BuildVersion,debug:f.jG.IsDebug?1:void 0,msalJsVer:N(),pr:A,returnUrl:(0,y.l4)()};return{state:encodeURIComponent(JSON.stringify(e))}}function N(){return H()?"1p-2.24.0":U()?"2.24.0":T}function j(){return U()||H()}function U(){return m.Al.CurrentFlightSet.has("prg-msal224-b")}function H(){return m.Al.CurrentFlightSet.has("prg-msal224-1p")}function G(e,t="https://assets.msn."+(E?"cn":"com"),n=!0){let r="/latest",i=t;A&&n?r=`/pr-${A}`:P&&(r="",i=`https://${(0,y.zw)()}`);return`${i}/staticsb/statics${r}/${e}`}},72447:function(e,t,n){"use strict";n.d(t,{tE:function(){return Y},k$:function(){return X},bW:function(){return Q},n5:function(){return J},x4:function(){return ee},kS:function(){return te},AU:function(){return _},GQ:function(){return G},pk:function(){return B},hD:function(){return $},vW:function(){return z},IY:function(){return Z}});var r,i=n(33940),o=n(79814),a=n(21050),s=n(33954),c=n(49972),u=n(98304),l=n(32164),d=n(27496),h=n(76323),p=n(41651),g=n(83977),f=n(1329),m=n(27583),v=n(64084),y=n(20424),C=n(61091),S=n(62281),w=n(42821),b=n(78722),T=n(10877),P=n(3072),k=n(99347),A=n(67462),E=n(28803);function M(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){const n=t&&t.accessToken,r="Acquire"===e;if(!n&&r){const e="Invalid access token in jwtSSOCore";return(0,P.Ov)(o.g4.jwtSSOService,e),void(0,E.h)(u.fvr,e)}let i,a;try{i=yield fetch(`https://api.msn.${b.jG.IsChinaCompliance?"cn":"com"}/auth/token/v2/jwtsso?apikey=${b.jG.OneServiceApiKey}&ocid=${k.GL}&activityId=${b.jG.ActivityId}`,{method:r?"POST":"DELETE",credentials:"include",body:JSON.stringify({userAccessToken:n})||void 0,headers:(0,m.me)(n)||void 0});r!==!!(0,A.ej)(T.cs)&&(a=new Error(`${r?"Expected":"Unexpected"} cookie ${T.cs} is ${r?"missing":"still present"} after ${e} JwtSSO call`))}catch(e){a=e}const s=!a&&i&&i.ok?null:`Error in ${e} mode in jwtSSO call. ${a||""}`;s&&(0,E.h)(u.fvr,s),(0,P.Ov)(o.g4.jwtSSOService,`${s||"Success"}`)}))}!function(e){e.Acquire="Acquire",e.Delete="Delete"}(r||(r={}));var x=n(56548),I=n(33799),L=n(33379),O=n(9791),F=n(61285),D=n(85305);const R=`apikey=${b.jG.OneServiceApiKey}&ocid=Peregrine&it=${(0,F.E)()}&activityId=${b.jG.ActivityId}`;function W(){return(0,a.fW)((()=>function(){return(0,i.mG)(this,void 0,void 0,(function*(){let e,t;try{e=yield fetch(`https://api.msn.${b.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/clearALCookies?${R}`,{method:"DELETE",credentials:"include"}),(0,D.EX)();if((0,D.u6)()){const e=decodeURIComponent((0,A.ej)(T.tX));t=new Error(`Account linking cookie ${e} indicates account is still linked after clearALCookies call`)}}catch(e){t=e}const n=!t&&e&&e.ok&&200===e.status?null:`Error in clearALCookies call. ${t||""}`;n&&(0,E.h)(u.L8S,n),(0,P.Ov)(o.g4.clearAccountLinkingCookies,`${n||"Success"}`)}))}()),"tryDelete1SAcctLnkCookies",(0,w.Z6)())}let N=!1;const j={acquireTokenStatus:0,accessTokenResult1S:null,currentAccountInfo:null};let U=new l.o;const H=(0,h.p)((()=>(0,i.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,S.Yu)(),t=yield(0,a.fW)((()=>e.handleRedirectPromise()),"handleRedirect",(0,w.Z6)());if(t)return s.k.log("dual-auth: Signing in through interactive login loginResponse: "+JSON.stringify(t,null,4)),z(t).finally((()=>{(0,p.dy)()})),(0,P.Ov)(o.g4.interactiveLogin,"Success"),t;(0,p.dy)()}))));function G(e){return(0,i.mG)(this,void 0,void 0,(function*(){const{userName:t,enforceTimeLimit:n}=e||{};N=!0;const r=yield H();if(r)return r;let i;return i=t?(0,C.Df)(yield(0,C.RH)(t))||t:(0,C.sA)()||(0,g.E1)()||(0,C.nt)(),!i&&(0,f.mb)()?(z(null,!0),void W()):yield ne((()=>V(i)),"ssoSilent",n?7e3:-1)}))}function B(){return(0,i.mG)(this,void 0,void 0,(function*(){if(!(0,m.vW)())return(0,P.Ov)(o.g4.tryAcquire1STokenLite,"not qualified for lite auth"),j.acquireTokenStatus=0,null;const e=yield(0,C.RH)(),t=(0,C.Df)(e);if(!e||!t)return(0,P.Ov)(o.g4.tryAcquire1STokenLite,"no valid current account login hint"),j.acquireTokenStatus=0,null;N=!0;const n=(0,p.hU)();if(yield K(e,!0,!0,n),n&&(0,p.bq)(),3===j.acquireTokenStatus)return(0,P.Ov)(o.g4.tryAcquire1STokenLite,"Success"),yield q(j.accessTokenResult1S),j.accessTokenResult1S;if(2===j.acquireTokenStatus){const e=yield V(t);return e?((0,P.Ov)(o.g4.tryAcquire1STokenLite,"fallback SSO success"),e):((0,P.Ov)(o.g4.tryAcquire1STokenLite,"fallback SSO also failed"),null)}}))}function $(){return(0,i.mG)(this,void 0,void 0,(function*(){N=!0;const e=yield(0,S.Yu)();(0,P.Ov)(o.g4.tryAcquire1STokenProfileSwitch,"Attempted");try{const t=e.getAllAccounts();if(t&&1===t.length&&(yield K(t[0]),3===j.acquireTokenStatus))return(0,P.Ov)(o.g4.tryAcquire1STokenProfileSwitch,"Success"),yield q(j.accessTokenResult1S),j.accessTokenResult1S}finally{(0,p.y2)()}}))}const V=(0,O.Z)((e=>(0,i.mG)(void 0,void 0,void 0,(function*(){let t;e||s.k.log("dual-auth: login_hint is not available. ssoSilent may not work!");const n=yield(0,S.Yu)(),r=(0,w.Yb)("SSOSilentCoreAndToken"),i=(0,w.Z6)(),a=i&&i.startMeasure("ssoSilentCore").endMeasure,l=Object.assign(Object.assign({},(0,S.qW)(!0)),{loginHint:e}),d=(0,L.N)()&&(null===history||void 0===history?void 0:history.length);try{t=yield n.ssoSilent(l)}catch(t){s.k.log(`dual-auth: ssoSilent failed! : ${t}`),(0,P.Ov)(o.g4.ssoSilent,(0,c.n)(t));const r=(0,f.x6)();if(t.name===o.BS&&r){if((0,p.m5)(),!(0,p.jG)()||!(0,m.P8)())return void(yield q(null,!0));{const t=Object.assign(Object.assign({},(0,S.qW)()),{loginHint:e});n.acquireTokenRedirect(t)}}(r||(0,m.iG)())&&t.name!==o.BS&&t.name!==o.kQ&&(0,E.h)(u.WB4,"Error in ssoSilent call",t)}finally{s.k.log(`dual-auth: getAllAccounts AFTER ${t?"SUCCESSFUL":"UNSUCCESSFUL"} ssoSilent: ${JSON.stringify((0,C.LT)(),null,4)}`),t&&(s.k.log(`dual-auth: loginResponse AFTER SUCCESSFUL ssoSilent: ${JSON.stringify(t,null,4)}`),(0,P.Ov)(o.g4.ssoSilent,"Success. User: "+(0,C.vp)(t.account.username))),z(t).finally((()=>{r(),(0,p.bf)(),(0,p.bq)()})),a&&a({customSuffix:(t?t.fromCache&&"cache":"error")||void 0})}return d&&history.length===d+1&&dispatchEvent(new CustomEvent("ssoSilentHistChanged")),t}))));function _(){return G()}function z(e,t=!1){return(0,i.mG)(this,void 0,void 0,(function*(){const n=yield q(e,t);yield K(n)}))}function q(e,t=!1){return(0,i.mG)(this,void 0,void 0,(function*(){if(e){const t=j.currentAccountInfo=e.account,n=(0,C.Df)(t),r=(0,C.lx)(t);return(0,C.nq)({login_hint:n,account_type:r}),t}t&&((0,C.nq)(),(0,v.tx)(null),(0,p.bf)(),(0,p.bq)(),(0,p.hq)(),yield Promise.all([(0,a.fW)((()=>M("Delete")),"tryDelete1SJwtCookies",(0,w.Z6)()),W()]),(0,C.sm)())}))}function K(e,t=!1,n=!1,r=!1){return(0,i.mG)(this,void 0,void 0,(function*(){let l=j.accessTokenResult1S;const d=new Date(l&&l.expiresOn),h=d&&d.getTime()&&d>new Date;if(l&&3===j.acquireTokenStatus&&h)return void s.k.log(`dual-auth: tryAcquire1STokenSilently: token is still valid - expiry: ${new Date(l&&l.extExpiresOn)}`);const g=(0,C.lx)(e)===I.Qm.AAD,f=g?["https://enterprisenews.microsoft.com/User.Read"]:["https://oneservice.microsoft.com/OneService.Read"];try{if(l=yield function(e,t,n=!1,r=!1){return(0,i.mG)(this,void 0,void 0,(function*(){if(!t)return void s.k.log("dual-auth: tryAcquireTokenSilently received empty account -- API calls may not be authenticated!");const i=yield(0,S.Yu)(),a=Object.assign(Object.assign({},(0,S.Bj)(e)),{forceRefresh:r,account:t});let l;const d=(0,w.Z6)(),h=d&&d.startMeasure("tryAcquireTokenSilently").endMeasure;try{l=yield ne((()=>i.acquireTokenSilent(a)),"acquireTokenSilent",n?7e3:-1)}catch(e){throw s.k.log(`dual-auth: acquireTokenSilent failed! : ${e}`),(0,P.Ov)(o.g4.acquireTokenSilent,(0,c.n)(e)),(0,E.h)(u.Bjk,"acquireTokenSilent call failed",e),e.name===o.BS&&(0,p.jG)()&&i.acquireTokenRedirect(a),l=null,e}finally{h&&h({customSuffix:(l?l.fromCache&&"cache":"error")||void 0}),l&&(0,P.Ov)(o.g4.acquireTokenSilent,"Success"),s.k.log(`dual-auth: acquireTokenSilent for scopes: ${e} was ${l?"SUCCESSFUL":"UNSUCCESSFUL"} accessTokenResult: ${JSON.stringify(l,null,4)}`)}return l}))}(f,e,n,r),l){if(j.acquireTokenStatus=3,j.accessTokenResult1S=l,(0,v.tx)(l),!l.fromCache){const e=+new Date;(0,w.w0)("OSATExpMins",Math.floor((+l.expiresOn-e)/6e4))}m=l,(0,a.fW)((()=>M("Acquire",m)),"tryAcquire1SJwtCookies",(0,w.Z6)()),g&&(0,x.qs)(l.accessToken)}}catch(e){if(l=j.accessTokenResult1S=null,e.name===o.BS&&e.errorCode===o.w6&&t)return void(j.acquireTokenStatus=2);j.acquireTokenStatus=1}var m;U.set(l);const y=function(e){if(!e)return null;const t=e&&e.extExpiresOn,n=t&&new Date(t),r=n&&n.getTime(),i=(new Date).getTime();let a;const s=6e4,c=1e3*(o.QL-o.Ic),u=1e3*o.Ic;r&&r>i?(a=r-i,a<=u&&(a=0)):a=c;return a+s}(l);y&&setTimeout((()=>K(e)),y)}))}function Z(){return(0,i.mG)(this,void 0,void 0,(function*(){if(j.accessTokenResult1S)return j.accessTokenResult1S;if(!N){const e="Wait for 1SToken failed because auth flow was not started";return s.k.logError(`dual-auth:  ${e} -- so returning early without the 1S access token`),(0,P.Ov)(o.g4.waitFor1SToken,e),(0,E.h)(u.YHd,e),void U.set(null)}const e=(0,w.Yb)("Wait1SToken"),t=yield(0,a.fW)((()=>U.getResultAsync()),"waitFor1SToken",(0,w.Z6)());return e(),t}))}function Q(){const{currentAccountInfo:e}=j;if(e)return(0,C.lx)(e);const t=(0,f.x6)();return t?t.account_type:void 0}function Y(){return(0,C.lx)(j.currentAccountInfo)===I.Qm.AAD?j.currentAccountInfo.tenantId:""}function J(){return j&&j.currentAccountInfo&&j.currentAccountInfo.idTokenClaims.puid}function X(){return j&&j.currentAccountInfo&&j.currentAccountInfo.idTokenClaims.ageGroup}function ee(e){return(0,i.mG)(this,void 0,void 0,(function*(){(0,S.Oo)();const{loginHint:t,forceLoginPrompt:n,tenantOptions:r,redirectStartPage:i}=e||{},a=yield(0,S.Yu)(r);if(!a)return;const s=n?"login":"select_account",c=Object.assign(Object.assign({},(0,S.qW)()),{prompt:s}),{tenantScope:u,tenantId:l}=r||{},d=!(!t||!u&&!l);d&&Object.assign(c,{prompt:void 0,loginHint:t,extraQueryParameters:{domain_hint:"MSA"===u||l===o.bc?"consumers":"organizations"}}),i&&(c.redirectStartPage=i),(0,P.Ov)(o.g4.interactiveLogin,"Redirect start"+(d?" with login hint":"")),yield a.loginRedirect(c)}))}function te(e){return(0,i.mG)(this,void 0,void 0,(function*(){(0,S.Oo)();const t=yield(0,S.Yu)();if(!t)return;const n=e?yield(0,C.RH)(e):j.currentAccountInfo;(0,C.sm)();(null==n?void 0:n.tenantId)!==o.bc&&(0,x.DW)();const r=(0,C.Df)(n),i=(0,S.Xi)(n,r);(0,y.G)().supported?((0,p.C8)(),(0,P.Ov)(o.g4.logout,"Redirect start"),yield t.logoutRedirect(i)):yield t.logoutPopup(i)}))}function ne(e,t,n){return(0,i.mG)(this,void 0,void 0,(function*(){let r,i=n,o=!1;return(0,L.N)()&&(location.search.includes(`${t}NoTimeout`)?i=999999999:location.search.includes(`${t}ForceDelay`)?(e=()=>(0,d.Kb)(1e4).then(e),i+=2e4):location.search.includes(`${t}ForceTimeout`)?(i=0,o=!0):n<0&&(i=-1)),i<0?yield e():(yield Promise.race([e().then((e=>r=e)),(0,d.Kb)(i).then((()=>Promise.reject(new Error(`Operation ${t} timed out after ${i}ms`))))]),o?void 0:r)}))}},52794:function(e,t,n){"use strict";n.d(t,{MK:function(){return g},T3:function(){return f},pd:function(){return h},zj:function(){return p}});var r=n(33940),i=n(53430),o=n(32005),a=n(33954),s=n(9791);const c=(0,s.Z)(((e,t)=>(0,r.mG)(void 0,void 0,void 0,(function*(){if(!e||!t||""===t.trim())return;const n={method:"GET",headers:u(e),mode:"cors",credentials:"omit"},r=`https://graph.microsoft.com/v1.0/users/${t}/photos/96x96/$value`;try{const e=yield(0,o.Sm)(decodeURIComponent(r),1e4,n);return e&&e.ok?URL.createObjectURL(yield e.blob()):(a.k.log(`dual-auth: ProfilePictureFetch: Fetch returned error.  Status: ${e.status} - ${e.statusText}`),null)}catch(e){return a.k.logError(`dual-auth: ProfilePictureFetch exception: ${e}`),null}}))),((e,t)=>t));function u(e){const t={};return e&&(t.Authorization=`Bearer ${e}`),t}var l=n(61091),d=n(72447);function h(e=!1){return(0,r.mG)(this,void 0,void 0,(function*(){return(0,d.GQ)({enforceTimeLimit:e}).then(p)}))}function p(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=e&&e.account;if(!g(e))return void a.k.log("dual-auth: Auth Response doesn't have all the required fields. authResponse: , "+JSON.stringify(e));const{username:n,homeAccountId:r,idTokenClaims:o}=t,s=r&&r.split("."),u=s&&s.length>0&&s[0].replace("-","").replace("0000000000000000",""),d=yield c(e.accessToken,n),h=o.given_name,p=o.family_name;return{ssoStatus:i.y,memberName:n,firstName:h,lastName:p,cid:u,accountType:(0,l.lx)(t),profilePictureUrl:d}}))}function g(e){const t=e&&e.account;return!!(t&&t.username&&t.idTokenClaims&&e.accessToken)}function f(e){return e&&e.ssoStatus===i.y}},58458:function(e,t,n){"use strict";n.d(t,{M:function(){return m}});var r=n(98680),i=n(61246),o=n(58794),a=n(4629),s=n(82683),c=n(14816),u=n(46728),l=n(95378),d=n(52965),h=n(98304),p=n(89526),g=n(65135),f=n(13746);const m={inspect:(e,t,n)=>{const m={props:{},missingChildren:[]},v=e.config.composition;if(!v||v.type!==s.O.grid)return m;if(!v.grid||!v.grid.rows)return m;const y=[],C=[];let S=!1;const w=v.grid.rows.map(((s,d)=>{if(void 0===s.columns)return s;y[d]={grid:Object.assign({},s.style)},C[d]=[];const v=s.columns.map(((s,v)=>{if(!s.item)return g.M0.sendAppErrorEvent(Object.assign(Object.assign({},h.KDn),{message:`Column item missing in grid config: ${JSON.stringify(s)}`})),null;const{itemType:y,id:w,child:b,locKey:T}=s.item;C[d][v]={column:Object.assign({},s.style)};let P=b;if(y!==c.f.peregrineExperience&&y!==c.f.webComponentExperience){if(t){const e=t(y,w,b);e&&(P=e||b)}if(T){const t=e.config.localizedStrings[T];(0,u.Z)(P,{children:t})}if(n){const e=n(y,w);(0,u.Z)(P,{children:e})}}switch(y){case c.f.button:return Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:p.createElement(r.zx,P)});case c.f.heading:return Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:p.createElement(i.X6,P)});case c.f.typography:return Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:p.createElement(o.ZT,P)});case c.f.actionTrigger:{const e=P;return e.glyph||(0,u.Z)(e,{glyph:e=>null}),Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:p.createElement(a.px,e)})}case c.f.webComponentExperience:return S=!0,Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:(0,f.V)(b)});case c.f.peregrineExperience:{const t=b.instanceId;let n;return e.children&&(n=e.children[t]),n||m.missingChildren.push(b),Object.assign(Object.assign({},(0,l.Z)(s,"style","item")),{children:n})}default:return g.M0.sendAppErrorEvent(Object.assign(Object.assign({},h.KDn),{message:`Column item type not recognized in grid config: ${JSON.stringify(s)}`})),null}}));return Object.assign(Object.assign({},(0,l.Z)(s,"style","columns")),{children:v})}));return m.props=Object.assign(Object.assign({},(0,l.Z)(v.grid,"style","allRowsStyle","allColumnsStyle","rows")),{pageStyle:{page:Object.assign({},v.grid.style)},commonGridStyle:{grid:Object.assign({},v.grid.allRowsStyle)},gridStyles:y,commonColumnStyle:{column:Object.assign({},v.grid.allColumnsStyle)},columnStyles:C,children:(0,d.Z)(w),supportWebComponents:S}),m}}},57967:function(e,t,n){"use strict";n.d(t,{GB:function(){return u},Km:function(){return l},Sp:function(){return f},Wc:function(){return h},_d:function(){return d},cm:function(){return g},e_:function(){return v},kJ:function(){return c},oH:function(){return m},r7:function(){return a},yG:function(){return s},yL:function(){return p}});var r=n(79664);const i=r.z.Alert,o={build:""};function a(e){Object.assign(o,e)}const s={id:22010,severity:i,pb:o},c={id:22011,severity:i,pb:o},u={id:22012,severity:i,pb:o},l={id:22014,severity:r.z.Critical,pb:o},d=(r.z.NoAlert,{id:22021,severity:i,pb:o}),h=(r.z.NoAlert,r.z.NoAlert,r.z.NoAlert,r.z.NoAlert,r.z.NoAlert,{id:22027,severity:r.z.Critical,pb:o}),p=(r.z.Critical,r.z.Critical,{id:22031,severity:i,pb:o}),g={id:22032,severity:i,pb:o},f={id:22033,severity:i,pb:o},m={id:22050,severity:i,pb:o},v={id:22051,severity:r.z.NoAlert,pb:o};r.z.NoAlert,r.z.NoAlert,r.z.HighImpact},79127:function(e,t,n){"use strict";n.d(t,{j:function(){return h}});var r,i=n(32181),o=n(78059),a=n(82683),s=n(14816);!function(e){e.riverGridChildren="riverGridChildren"}(r||(r={}));var c=n(88828),u=n(14989),l=n(52965),d=n(85663);class h{static registerAppValidator(e){this.expValidatorMap=e.getAllValidators()}static processConfig(e,t){if(!this.expValidatorMap||this.expValidatorMap.size<1||!e||!e.childExpValidatorMap)return e;const n=e.childExpValidatorMap;let r=null,i=null;for(const o in n){const a=n[o];if(this.expValidatorMap.has(o)){this.expValidatorMap.get(o)(a.validationArgs)&&(null===i&&(i=this.expConfigMap.get(t)||e),null===r&&(r=(0,l.Z)(i)),e=this.filterConfig(a,i))}}return r?this.expConfigMap.set(t,r):null===i&&this.expConfigMap.has(t)&&(e=this.expConfigMap.get(t)),e}static removeFromRiverGridChildren(e,t){const n=t.riverGridChildren;return n&&n.forEach((t=>{const n=t.children;if(n){const r=e.childExperienceConfigInfo,o=(0,i.M)(r);t.children=n.filter((e=>{const t=e.childExperienceConfigInfo;return!t||!r||r.instanceId!==t.instanceId||o!==(0,i.M)(t)}))}})),t}static getChildrenDataConnectorConfigInfos(e){const t=[];if(e&&e.dataConnectors&&e.dataConnectors.length>0){const n=h.getOrdinalObjectForCurrentBreakpoint(e.dataConnectors);n&&n.children&&n.children.length>0&&n.children.forEach((e=>{t.push(e)}))}return t}static getMetadataByScreenWidth(e,t){return t.find((t=>t.screenWidth===e))||t.find((e=>e.screenWidth===o.I.Any))}static getOrdinalObjectForCurrentBreakpoint(e){switch((0,c.Bn)().currentColumnArrangement){case u.K$.c1:return h.getMetadataByScreenWidth(o.I.OneColumn,e);case u.K$.c2:return h.getMetadataByScreenWidth(o.I.TwoColumn,e);case u.K$.c3:return h.getMetadataByScreenWidth(o.I.ThreeColumn,e);case u.K$.c4:return h.getMetadataByScreenWidth(o.I.FourColumn,e);case u.K$.c5:return h.getMetadataByScreenWidth(o.I.FiveColumn,e);default:return h.getMetadataByScreenWidth(o.I.Any,e)}}static compositionOverrideResolver(e,t){const{getCompositionIdOverride:n}=t||{},{composition:r,compositionOverrides:i}=e;return i&&(0,d.isFunction)(n)&&i[n()]||r}static getChildrenExperienceConfigInfos(e,t){const n=[];if(e&&e.composition){const r=h.compositionOverrideResolver(e,t);switch(r.type){case a.O.horizontalStack:case a.O.layout:r.page.children.forEach((e=>{void 0!==e.children&&e.children.forEach((e=>{if(!e.children)return;const{childType:t}=e.children;t?t===s.f.peregrineExperience&&n.push(e.children.child):n.push(e.children)}))}));break;case a.O.grid:r.grid.rows.forEach((e=>{void 0!==e.columns&&e.columns.forEach((e=>{const{itemType:t}=e.item;t&&t===s.f.peregrineExperience&&n.push(e.item.child)}))}));break;case a.O.customExperience:{const e=r;n.push(e.experience);break}}}return n}static filterConfig(e,t){return e&&"string"==typeof e.sectionName&&e.sectionName.toLowerCase()===r.riverGridChildren.toLowerCase()?this.removeFromRiverGridChildren(e,t):t}static resetValidatorMap(){this.expValidatorMap.clear()}static resetConfigMap(){this.expConfigMap.clear()}}h.expValidatorMap=new Map,h.expConfigMap=new Map},21712:function(e,t,n){"use strict";n.d(t,{id:function(){return r},ks:function(){return o},pA:function(){return i}});const r="MSCC",i="MUID",o="eupubconsent-v2"},71443:function(e,t,n){"use strict";n.d(t,{C:function(){return r},H:function(){return i}});const r="consent.onetrust",i="widgetHost.cookieConsent"},29815:function(e,t,n){"use strict";var r;n.d(t,{i:function(){return r}}),function(e){e.MSCCBanner="mscc",e.OneTrustBanner="onetrust",e.WidgetHost="widgethost",e.None="none"}(r||(r={}))},72344:function(e,t,n){"use strict";var r;n.d(t,{_:function(){return r}}),function(e){e[e.Unknown=0]="Unknown",e[e.Required=1]="Required",e[e.NotRequired=2]="NotRequired"}(r||(r={}))},85497:function(e,t,n){"use strict";var r;n.d(t,{o:function(){return r}}),function(e){e.Essential="ES",e.Advertising="AD",e.SocialMedia="SM",e.ThirdPartyAnalytics="AL"}(r||(r={}))},76668:function(e,t,n){"use strict";var r;n.d(t,{f:function(){return r}}),function(e){e.Lax="lax",e.Strict="strict",e.None="none"}(r||(r={}))},34765:function(e,t,n){"use strict";n.d(t,{rv:function(){return s},o4:function(){return a},hI:function(){return u},iF:function(){return c}});var r=n(21712),i=n(33379),o=n(67462);function a(){return(0,i.N)()&&null!=document.getElementById("consent-banner-container")}function s(){return a()&&null===(0,o.ej)(r.id)}function c(){return(0,i.N)()&&null!=document.getElementById("onetrust-sdk")}function u(){const e=JSON.parse(document.head.getAttribute("data-client-settings")),{locale:t={},geo_country:n,geo_subdivision:i}=e||{},{language:a="",market:s=""}=t;return("ca"!==s.toLowerCase()||"fr"!==a.toLowerCase()&&"en"!==a.toLowerCase()||"CA"!==n||"Quebec"===i)&&(c()&&null===(0,o.ej)(r.ks))}},52144:function(e,t,n){"use strict";n.d(t,{A:function(){return a},U:function(){return r}});var r,i=n(72344),o=n(56474);!function(e){e[e.Initialized=1]="Initialized",e[e.CookieConsentProvider=2]="CookieConsentProvider",e[e.CookieConsentStatus=3]="CookieConsentStatus",e[e.ActiveCookieCategories=4]="ActiveCookieCategories"}(r||(r={}));const a=new o.v("CookieManagementStateKey");a.set(r.Initialized,!1),a.set(r.CookieConsentStatus,i._.Unknown)},40457:function(e,t,n){"use strict";n.d(t,{Q:function(){return h}});var r,i=n(29815),o=n(72344),a=n(71443),s=n(85497);!function(e){e.C0001="C0001",e.C0002="C0002",e.C0003="C0003",e.C0004="C0004"}(r||(r={}));const c={[r.C0001]:s.o.Essential,[r.C0002]:s.o.Advertising,[r.C0003]:s.o.SocialMedia,[r.C0004]:s.o.ThirdPartyAnalytics};var u=n(52144),l=n(34765),d=n(33379);function h(e){if(u.A.get(u.U.Initialized))return;let t=i.i.None,n=o._.NotRequired;(0,d.N)()&&(e&&e.required?(t=i.i.WidgetHost,n=e.categories?o._.NotRequired:o._.Required,p(e.categories),window.addEventListener(a.H,(e=>p(e.detail)))):(0,l.o4)()?(t=i.i.MSCCBanner,n=(0,l.rv)()?o._.Required:o._.NotRequired,n===o._.Required?u.A.set(u.U.ActiveCookieCategories,[s.o.Essential]):u.A.set(u.U.ActiveCookieCategories,[...Object.values(s.o)])):(0,l.iF)()&&(t=i.i.OneTrustBanner,n=(0,l.hI)()?o._.Required:o._.NotRequired,g(),window.addEventListener(a.C,g))),u.A.set(u.U.CookieConsentStatus,n),u.A.set(u.U.CookieConsentProvider,t),u.A.set(u.U.Initialized,!0)}function p(e){const t=e&&Object.keys(e).filter((t=>Object.values(s.o).includes(t)&&1===e[t]))||new Array;t.includes(s.o.Essential)||t.unshift(s.o.Essential),u.A.set(u.U.ActiveCookieCategories,t)}function g(){const e=window.OnetrustActiveGroups,t=e&&e.trim().split(",").filter((e=>{const t=e&&e.trim();return Object.values(r).includes(t)})).map((e=>{const t=e.trim();return c[t]}))||new Array;t.includes(s.o.Essential)||t.unshift(s.o.Essential),u.A.set(u.U.ActiveCookieCategories,t)}},67462:function(e,t,n){"use strict";n.d(t,{ej:function(){return m},jG:function(){return v},aW:function(){return y},sq:function(){return C}});var r=n(21712),i=n(29815),o=n(72344),a=n(85497);const s={[a.o.Essential]:["AL","ALS","AL_ANON","AL_APP_ANNON","AL_STATE","ANON","ANONCKNM","APP_ANON","BFB","BFBUSR","DefaultLocation","Edgecac","FreWv","GalleryMode","MC1","MS0","MSCC","MSFPC","MSNRPSAuth","MSNRPSSecAuth","MSPRequ","MUID","MUIDB","MicrosoftApplicationsTelemetryDeviceId","OSAT","OSATE","OptanonAlertBoxClosed","OptanonConsent","OvrlyTrf","PreferencesMsn","RC","RUM","RecentStocks","SRCHD","SRCHHPGUSR","SRCHUID","SRCHUSR","Sample","TOptOut","UMH2E","WLMMAC","_EDGE_S","_EDGE_V","_SS","_U","_cb","_cb_ls","_cb_svref","aace","ace","ahs-dismissed","ahs-installed","ahs-showings","ai_session","aqp","at-bing","bcookie","bingimage","bwssoc","cac","cb","cbypass","cfrecnt","child","cmdisp","cmwr","currentaccount","ddlcur","df","ecasession","elt","eub","eupubconsent","eupubconsent-v2","gfrecnt","hidebn","i18next","ipt","ipv6","isdomainmigrated","lh","lt","marketPref","mktreset","mniotd","mnmarket","msaOptout","msaoptout","nactk","no_read_more","ntps","numac","orfc_feeds","pbmi","pglt-edgeChromium-dhp","pglt-edgeChromium-ntp","pglt-microsoftNews-msnews","pglt-microsoftNews-startpage","pop","refresh-reason","sbc-dismissed","sbc-installed","sbc-showings","smd","sptmarket","theme","timeZoneOffsetInMins","uaid","videoCookiesLastCategory","videoerrorcount","vjsusrpref","w10rp","w10rpls"],[a.o.Advertising]:["BizoID","adslrid","dub_downlevel","eAPID","ecadprovider","ecisession","ecmsession","ecsession"],[a.o.SocialMedia]:["promptDisplayCount"],[a.o.ThirdPartyAnalytics]:[]};var c=n(76668),u=n(98304),l=n(52144),d=n(12884),h=n(33379);const p=["at-bing","elt","eupubconsent-v2","lt","AL","ALS","MSNRPSSecAuth","OSAT"],g=[";",","," "];var f=n(65135);function m(e){const t=(0,d.G8)();if(t){const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return n&&n.length>1?n[1]:null}return null}function v(){return m(r.pA)}function y(){return m(r.ks)}function C(e,t,n,r,d,m,v){try{if(!l.A.get(l.U.Initialized))return(0,h.N)()&&f.M0.sendAppErrorEvent(u.lIV),!1;if(void 0===n||n>0){if(!function(e){if(!(0,h.N)())return!1;const t=l.A.get(l.U.CookieConsentStatus),n=l.A.get(l.U.CookieConsentProvider),r=l.A.get(l.U.ActiveCookieCategories);let c=!1;switch(n){case i.i.MSCCBanner:case i.i.OneTrustBanner:case i.i.WidgetHost:return function(e,t){for(const n of t){if(s[n].includes(e))return!0}let n=!1;const r=Object.keys(s).filter((e=>!t.includes(a.o[e])));for(const t of r){if(s[t].includes(e)){n=!0;break}}n||f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.sGX),{message:`Attempting to write a cookie: "${e}" not present in the cookie category mapping.`}));return!1}(e,r);default:c=t===o._.NotRequired,c||f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.fU5),{message:`Consent status should be '2' (NotRequired), but is set to '${t}'`}))}return c}(e))return!1;if(null==t)return f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.AvP),{message:`Cookie value is being set to either 'undefined' or 'null'. cookie name: "${e}", cookie value: "${t}"`})),!1;const r=typeof t;"string"!==r&&(t=JSON.stringify(t),f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.bAs),{message:`Cookie value is not of string type. observed type: "${r}". cookie name: "${e}"`})));for(const n of g)if(e.includes(n)||t.includes(n))return f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.AvP),{message:`Cookie name and/or value contains invalid character: '${n}'. cookie name: "${e}"`})),!1;n>365&&f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.Vwf),{message:`Cookie expiration time: ${n} days is greater than suggested max duration of 365 days (1 year). cookie name: "${e}"`}));const c=e.length+(t&&t.length||0);c>1e3&&!p.includes(e)&&f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.HFn),{message:`Cookie size: "${c} Bytes" is too big (> 1000 Bytes). cookie name: "${e}"`}))}return function(e,t,n,r,i,o,a){let s;const u=[e,"=",t];if(n<0)s="Fri, 31 Dec 1999 23:59:59 GMT";else if(n){const e=new Date;e.setTime(e.getTime()+864e5*n),s=e.toUTCString()}s&&u.push(";expires=",s);r&&u.push(";domain=",r);i&&u.push(";path=",i);o&&u.push(";secure");a&&a!==c.f.Lax&&(u.push(";samesite=",a.toString()),a!==c.f.None||o||u.push(";secure"));document&&(document.cookie=u.join(""))}(e,t,n,r,d,m,v),!0}catch(t){return f.M0.sendAppErrorEvent(Object.assign(Object.assign({},u.sX$),{message:`trySetCookie() failed with error: "${t.message}". cookie name: "${e}"`})),!1}}},68679:function(e,t,n){"use strict";var r;n.d(t,{C:function(){return r}}),function(e){e[e.Exceptional=0]="Exceptional",e[e.Fallback=1]="Fallback"}(r||(r={}))},79664:function(e,t,n){"use strict";var r;n.d(t,{z:function(){return r}}),function(e){e[e.Alert=0]="Alert",e[e.NoAlert=1]="NoAlert",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(r||(r={}))},63045:function(e,t,n){"use strict";var r;n.d(t,{w:function(){return r}}),function(e){e[e.Production=0]="Production",e[e.Local=1]="Local"}(r||(r={}))},49972:function(e,t,n){"use strict";function r(e,t){if(e instanceof Error){const n=e.toString();return t&&e.stack?`${n}, Stack: ${e.stack}`:n}return"string"==typeof e?e:function(e){try{return JSON.stringify(e)}catch(e){return""}}(e)}n.d(t,{n:function(){return r}})},76323:function(e,t,n){"use strict";function r(e){let t,n=!1;const r=function(){return n||(n=!0,t=e()),t};return r.cache={clear:()=>{n=!1,t=void 0}},r}n.d(t,{p:function(){return r}})},83130:function(e,t,n){"use strict";function r(e,t,n=!1){return!e||i(e,t)&&o(e,t)&&a(e,t)&&s(e,t)&&c(e,t)&&l(e,t,n)&&d(e,t)&&h(e,t)&&p(e,t)&&g(e,t)}function i(e,t){return!e.audienceMode||t.audienceMode===e.audienceMode}function o(e,t){if(!e.browser)return!0;if(!t.browser)return!1;const{browserType:n,version:r}=t.browser,{browserType:i,version:o}=e.browser;if(i&&i!==n)return!1;if(!o)return!0;if("string"==typeof o)return r===o;if("object"==typeof o){const e=parseInt(r);let t;for(t in o){const n=o[t];if(null!=n)switch(t){case"equals":if(e!==n)return!1;break;case"greaterThan":if(!(e>n))return!1;break;case"lessThan":if(!(e<n))return!1;break;case"notEquals":if(e===n)return!1;break;case"oneOf":if(-1===n.indexOf(e))return!1;break;default:return!1}}return!0}return!1}function a(e,t){return!e.deviceFormFactor||t.deviceFormFactor===e.deviceFormFactor}function s(e,t){return!e.domain||t.domain===e.domain}function c(e,t){return t.pageExperiments=t.pageExperiments||[],"string"!=typeof e.experimentId||0===Object.keys(e.experimentId).length||t.pageExperiments.indexOf(e.experimentId)>=0}function u(e,t){return 0===(e||"").localeCompare(t||"",void 0,{sensitivity:"accent"})}function l(e,t,n){const r=e.locale;if(!r)return!0;let i;return t.locale&&(i=n?t.locale.display:t.locale.content),!!i&&!(r.language&&!u(r.language,i.language)||r.market&&!u(r.market,i.market)||r.script&&!u(r.script,i.script))}function d(e,t){return function(e,t){if(!e)return!0;if(!t)return!1;if("string"==typeof e&&u(e,t))return!0;if("object"!=typeof e)return!1;const n=t.toLowerCase();if(e.startsWith&&!n.startsWith(e.startsWith.toLowerCase()))return!1;if(e.endsWith&&!n.endsWith(e.endsWith.toLowerCase()))return!1;if(e.equals&&!u(e.equals,t))return!1;if(e.notEquals&&u(e.notEquals,t))return!1;if(e.contains&&!n.includes(e.contains.toLowerCase()))return!1;if(e.oneOf&&-1===e.oneOf.indexOf(t))return!1;return!0}(e.ocid,t.ocid)}function h(e,t){return!e.os||t.os===e.os}function p(e,t){const n=e.pageType;if(!n)return!0;const r=t.pageType;if(!r)return!1;if("string"==typeof n)return n===r;if(n.exact&&n.exact.toUpperCase()===r.toUpperCase())return!0;if(n.segments){const e=n.segments,t=r.split("::");if(t&&t.length>0){for(const n in e){const r=parseInt(n),i=e[n];if(!i||isNaN(r)||"string"!=typeof i||r>=t.length||i.toUpperCase()!==t[r].toUpperCase())return!1}return!0}}return!1}function g(e,t){return!e.platform||t.platform===e.platform}n.d(t,{Ev:function(){return a},J4:function(){return r},K3:function(){return d},K4:function(){return o},Sh:function(){return u},Uc:function(){return i},W9:function(){return c},fb:function(){return l},hI:function(){return s},jF:function(){return g},oM:function(){return p},zu:function(){return h}})},8158:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r,i=n(33940);!function(e){const t={};e.loadExperience=e=>(0,i.mG)(this,void 0,void 0,(function*(){const n=t[e];if(!n)throw new Error(`Attempted to load unknown dynamic bundle "${e}". Make sure it's a registered dynamic experience bundle.`);return n()})),e.registerExperience=(e,n)=>{t[e]=n},e.hasExperienceRegistered=e=>!!t[e]}(r||(r={}))},89638:function(e,t,n){"use strict";n.d(t,{U:function(){return Pe}});var r=n(33940),i=n(21050),o=n(33954),a=n(98304),s=n(68364),c=n(78722),u=n(26974),l=n(32181),d=n(17873),h=n(98878),p=n(26007),g=n(32005),f=n(99038),m=n(987),v=n(27003),y=n(99590),C=n(12884),S=n(33379),w=n(30291),b=n(79022),T=n(13578),P=n(92170),k=n(82855);class A extends Error{constructor(e,t){super(e),this.isNetworkFailure=t}}var E=n(65135);const M="-start",x="-end",I={},L={};let O;function F(e){if(e.endsWith(M)){e=e.slice(0,e.length-M.length);const t={endMeasure:O&&O.startMeasure(e).endMeasure,startTime:performance.now()};I[e]=t}else if(e.endsWith(x)){if(e=e.slice(0,e.length-x.length),I[e]){const{endMeasure:t,startTime:n}=I[e],r=Math.round(performance.now()-n);return L[e]=r,t&&t(),{name:e,timeTaken:r}}}else;}var D=n(68848),R=n(63045),W=n(38895);const N="feature-manifests",j="loc-manifests",U="feature-configs",H="loc-configs",G="default";var B,$;!function(e){e.idbStoreName="Configurations_12",e.idbName="wwConfigs",e.configStalenessDuration=6048e5,e.serverLruConfigCacheMax=10240,e.idbInitPromiseNameKey="initializeIdbKey",e.idbReadPromiseNameKey="readConfigsFromIdbKey",e.idbWritePromiseNameKey="writeConfigsToIndexedDbKey"}(B||(B={})),function(e){e.fromInMemoryCache="config.memory",e.fromServerCache="config.server",e.fromNetwork="config.network"}($||($={}));const V=new class{constructor(){this._mocksEnabled=!1,this._shouldInitializeMockMgrConfig=!1,this._mockConfigDictionary={},this._mocksEnabled=this.areMocksEnabled(),this._shouldInitializeMockMgrConfig&&(this._mockConfigDictionary["MockManager/default"]="MockManager/default")}get mockConfigDictionary(){return this._mockConfigDictionary}get mocksEnabled(){return this._mocksEnabled}initialize(e){if(!e)return void this.addMockQspToDictionary();const t=[];if(new URLSearchParams((0,C.zp)()).getAll("mock").forEach((e=>{e.trim().split(",").forEach((e=>{t.indexOf(e)<0&&t.push(e)}))})),0===t.length)return;const n=e&&e.scenarios;for(const e in n)if(n[e]&&t.indexOf(e)>-1){n[e].forEach((e=>{const{experienceType:t,instanceSrc:n}=e.source.configLink,{experienceType:r,instanceSrc:i}=e.target.configRef;this._mockConfigDictionary[`${t}/${n}`]=`${r}/${i}`}))}this.addMockQspToDictionary()}areMocksEnabled(){const e=new URLSearchParams((0,C.zp)());return this._shouldInitializeMockMgrConfig=!!e.get("mock"),this._shouldInitializeMockMgrConfig||e.getAll("item").some((e=>/^mock:/.test(e)))}addMockQspToDictionary(){new URLSearchParams((0,C.zp)()).getAll("item").filter((e=>/^mock:/.test(e))).forEach((e=>{const[t,n]=e.split(":"),[r,i]=n.split("|");this._mockConfigDictionary[r]=i}))}},_=/^\d{8}\.\d+$/;function z(e,t){if(!e)return;const{experienceType:n,instanceSrc:r,sharedNs:i}=e,o=[t,n,r];return i&&o.push(i),o.map((e=>e||"")).join("/").toLowerCase()}function q(e){if(!e)return null;if(e.match("^shared/")){const[t,n,r,i]=e.split("/");return{experienceType:r,instanceSrc:i,sharedNs:n}}{const[t,n]=e.split("/");return{experienceType:t,instanceSrc:n}}}function K(e){const t=new Set;if(e&&e.properties)try{Z(e.properties,t)}catch(e){}return t}function Z(e,t){const n=e.configRef;n&&n.experienceType&&t.add(n);for(const n of Object.values(e))"object"==typeof n&&n&&Z(n,t)}function Q(e,t=!1){if(!e)return;const n=(t?G:e.instanceSrc)||G;return!e.sharedNs||t?`${e.experienceType}/${n}`:`shared/${e.sharedNs}/${e.experienceType}/${n}`}function Y(e,t){e&&e(t)}function J(e,t){return function(e){return e===U||e===N}(e)?X(t&&t.feature):X(t&&t.loc)}function X(e){return e===R.w.Local}function ee(e,t,n){let r=!1;const i=V.mocksEnabled&&V.mockConfigDictionary&&V.mockConfigDictionary[t];let o;i&&(t=i,r=!0),o=r?"mock":e===H?"dev/loc":"prod";return`${o}/${/^shared/.test(t)?t:`${n}/${t}`}`}var te=n(57967);function ne(e,t,n){return Object.assign(Object.assign({},e),{message:t||e.message,pb:n?Object.assign(Object.assign({},e.pb),{customMessage:n}):e.pb})}class re{constructor(){this.idb=indexedDB}get supported(){return!!this.idb}get isGetAllAllowed(){return!(!IDBObjectStore.prototype||!IDBObjectStore.prototype.getAll)}_setIndexedDb(e){this.idb=e}_getIdbPromise(){return this.idbPromise}getObject(e){return(0,r.mG)(this,void 0,void 0,(function*(){let t;return yield this.withIdbStore("readonly","getObject",(n=>{t=n.get(e)})),t.result}))}getAll(){return(0,r.mG)(this,void 0,void 0,(function*(){let e;return yield this.withIdbStore("readonly","getAll",(t=>{e=t.getAll()})),e.result}))}getAllObjects(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.isGetAllAllowed)return this.getAll();const e=[];return yield this.withIdbStore("readonly","getAllObjects",(t=>{t.openCursor().onsuccess=function(t){const n=t.target&&t.target.result?t.target.result:void 0;n&&n.value&&(e.push(n.value),n.continue())}})),e}))}setObject(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","setObject",(n=>{n.put(t,e)}))}))}removeObject(e){return(0,r.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","removeObject",(t=>{t.delete(e)}))}))}clearObjects(){return(0,r.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","clearObjects",(e=>{e.clear()}))}))}initializeIndexedDb(e=1,t="Default",n="MicrosoftNews",i=null){return(0,r.mG)(this,void 0,void 0,(function*(){this.storeName=t,this.idbPromise=i||new Promise(((r,i)=>{const o=this.idb.open(n,e);o.onerror=()=>{i(o.error)},o.onsuccess=()=>{r(o.result)},o.onupgradeneeded=()=>{o.result.createObjectStore(t)}}))}))}withIdbStore(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){return this.idbPromise.then((t=>new Promise(((r,i)=>{const o=t.transaction(this.storeName,e);o.oncomplete=()=>{r()},o.onabort=o.onerror=()=>i(o.error),n(o.objectStore(this.storeName))}))))}))}}var ie=n(9791);class oe{constructor(e,t=!1){if(this.environment=e,this.enableConfigCaching=this.useConfigCaching(),this.stalenessCheckTimestamp=(new Date).getTime(),this.indexedDbMap=new Map,this.readConfigsFromIdb=(0,ie.Z)(this._readConfigsFromIdb),!e||!e.targetScope||!e.appType)throw new Error("ResolverEnvironment or targetScope or appType does not exist.");this.initializeIdb=(0,ie.Z)(this.initializeIdb),this.resolverEnvironment=e,this.indexedDb=new re,t&&this.initializeIdb()}useConfigCaching(){const e=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;return!e||!e.enableConfigCaching||"true"===e.enableConfigCaching}tryGetConfigSync(e){if(e){const t=z(e,this.resolverEnvironment.appType);return this.indexedDbMap.get(t)}}getConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!e)return;const t=z(e,this.resolverEnvironment.appType);return this.indexedDbMap.has(t)||(yield this.readConfigsFromIdb()),this.indexedDbMap.get(t)}))}updateCache(e){return(0,r.mG)(this,void 0,void 0,(function*(){e&&(e.forEach(((e,t)=>{if(e){const n={storageTimestamp:this.stalenessCheckTimestamp,configRefCacheKey:t,properties:e.properties};this.indexedDbMap.set(t,n)}})),yield this.writeConfigMapToIdb())}))}initializeIdb(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching)try{const e=this.resolverEnvironment.configCacheProperties&&this.resolverEnvironment.configCacheProperties.idbConfigOpenPromise;yield this.indexedDb.initializeIndexedDb(1,B.idbStoreName,B.idbName,e),this.indexedDbInitialized=!0,this.logMessage("IndexedDB initialized.")}catch(e){this.enableConfigCaching=!1,this.sendAppError(ne(te._d,"Failed to init configs IndexedDB",e))}}))}_readConfigsFromIdb(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching){this.indexedDbInitialized||(yield this.initializeIdb());try{const e=this.generateIdbKey();let t,n;const{idbConfigLookup:r=null,idbConfigReadPromise:i=null}=this.resolverEnvironment.configCacheProperties||{};t=(r||{})[e],t?n="pre-initialized config cache":i?(n="pre-initialized IndexedDb read",yield i,t=(r||{})[e]):(n="IndexedDb bulk read",t=yield this.indexedDb.getObject(e)),t?(t.forEach((e=>{e.configRefCacheKey&&!this.isConfigStale(e.storageTimestamp)&&this.indexedDbMap.set(e.configRefCacheKey,e)})),this.logMessage(`readConfigsFromIdb: Configs in IndexedDB: ${t.size}. Configs in memory: ${this.indexedDbMap.size}. CacheSource: ${n}.`)):this.logMessage(`readConfigsFromIdb: Didn't find any config in IndexedDB. CacheSource: ${n}`)}catch(e){this.sendAppError(ne(te.kJ,"IndexedDb Configs read failed",e))}}}))}writeConfigMapToIdb(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching&&this.indexedDbMap){this.indexedDbInitialized||(yield this.initializeIdb());try{const e=this.generateIdbKey();yield this.indexedDb.setObject(e,this.indexedDbMap),this.logMessage("writeConfigMapToIdb: completed")}catch(e){this.sendAppError(ne(te.yG,"Failed to write configMap to indexedDb",e))}}}))}generateIdbKey(){const{audienceMode:e="",locale:t={},pageType:n=""}=this.resolverEnvironment.targetScope||{},r=t.content||t,{language:i,market:o}=r;return[e,i,o,n,this.resolverEnvironment.appType||""].map((e=>e||"")).join("|").toLowerCase()}isConfigStale(e){return!e||this.stalenessCheckTimestamp-e>B.configStalenessDuration}sendAppError(e){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(e)}logMessage(e){this.resolverEnvironment.loggerCallback&&this.resolverEnvironment.loggerCallback(e)}}var ae=n(68679),se=n(16614);class ce{constructor(e){if(this.resolverEnvironment=e,this.configMap=new Map,this.enableConfigService=!0,this.skipBelowTheFold=!1,this.configPromiseMap=new Map,this._shouldTryFallbackResolver=!1,this._hadNetworkError=!1,this._shouldUseCdnFallback=!1,this._initialCrsFetch=!0,this._useAkamaiLogic=!1,this.getCacheKeyFromConfigRef=e=>z(e,this.resolverEnvironment.appType),!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw this.enableConfigService=!1,new Error("ResolverEnvironment or configServiceParameters or targetScope does not exist.");e.segmentPlugins&&e.segmentPlugins.skipBelowTheFold&&(this.skipBelowTheFold=!0)}get hadNetworkError(){return this._hadNetworkError}get shouldTryFallbackResolver(){return this._shouldTryFallbackResolver}get configServiceEnabled(){return this.enableConfigService}get configServiceQueryParams(){return this.configServiceParams}get crsActivityId(){return this._crsActivityId}initialize(){return(0,r.mG)(this,void 0,void 0,(function*(){this.shouldUseConfigService(),yield this.setConfigServiceParams()}))}setConfigServiceParams(){return(0,r.mG)(this,void 0,void 0,(function*(){const{appType:e,configServiceParameters:t,targetScope:n}=this.resolverEnvironment,{maxDepth:r}=t;let{buildVersion:i}=t,o=`apptype=${e}`;o+=`&v=${i}`;const a=function(e,t){try{if(e&&e.pageExperiments&&e.pageExperiments.includes("prg-crsfdheadrem")&&"weather"!==t&&"finance"!==t){const t=Object.assign({},e);return t.pageExperiments=[],t}}catch(e){}return e}(n,e);o+="&targetScope="+JSON.stringify(a),r&&(o+=`&maxDepth=${r}`),this.skipBelowTheFold&&(o+="&skipBelowTheFold=true"),this.containsDevOnlyQueryParameters()&&(o+="&citem=dev:true"),this.configServiceParams=o}))}sendPerfMarker(e){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(e)}shouldUseConfigService(){const e=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;e&&e.enableConfigService&&(this.enableConfigService="true"===e.enableConfigService)}containsDevOnlyQueryParameters(){const e=this.resolverEnvironment.queryParams;if(!e)return!1;const t=e.item;if(t&&t.length>0)return!0;if(e.citem)return!0;return!!e.pcsonly}getConfigMap(){return this.configMap}tryGetConfigSync(e){if(e){const t=this.getCacheKeyFromConfigRef(e);return this.configMap.get(t)}}getConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){const{appType:t,configServiceParameters:n,targetScope:i}=this.resolverEnvironment;if(!n||!i||!e)return Promise.reject(Error("Either of configServiceParameters, targetScope or configRef is not set correctly."));if(!this.enableConfigService)return void(this._shouldTryFallbackResolver=!0);const o=this.getCacheKeyFromConfigRef(e);if(this.configMap.has(o))return this.configMap.get(o);if(this.configPromiseMap.has(o))return this.configPromiseMap.get(o);const a=new Promise(((n,a)=>(0,r.mG)(this,void 0,void 0,(function*(){try{this._useAkamaiLogic=function(e,t){const{pageExperiments:n,locale:r}=e||{};return r&&r.market&&"cn"===r.market.toLowerCase()||"edgeChromium"===t||"newsAndInterests"===t||"windowsNewsPlus"===t||"winWidgets"===t||function(e,t){return e&&e.length>0&&e.includes(t)}(n,W.XW)}(i,t),this._useAkamaiLogic&&this._initialCrsFetch&&this.sendPerfMarker("AkCrsConfig-start"),yield this.getConfigTreeFromCrs(e),this._useAkamaiLogic&&this._initialCrsFetch&&this.sendPerfMarker("AkCrsConfig-end"),this._shouldTryFallbackResolver&&this._useAkamaiLogic&&(this._shouldUseCdnFallback=!0,this._shouldTryFallbackResolver=!1,this._initialCrsFetch&&this.sendPerfMarker("FDCrsConfig-start"),yield this.getConfigTreeFromCrs(e),this._initialCrsFetch&&this.sendPerfMarker("FDCrsConfig-end"),this.sendAppError(ne(te.Sp,"CRS-AFD Retry",`Retryring to call CRS-AFD with ConfigRef ${this.getCacheKeyFromConfigRef(e)} because Akamai call had an error.`))),this._initialCrsFetch=!1,n(this.configMap.get(o))}catch(e){this.sendAppError(ne(te.Km,`Exception in getConfig for ${o}`,e)),a(e)}finally{this.configPromiseMap.delete(o)}}))));return this.configPromiseMap.set(o,a),a}))}getConfigTreeFromCrs(e){var t;return(0,r.mG)(this,void 0,void 0,(function*(){let n="";try{let r;const i=this.getCrsTimeout(),o=performance.now(),a=new Promise((t=>{r=setTimeout((()=>{const r=Object.assign(Object.assign({},te.yL),{pb:Object.assign(Object.assign({},te.yL.pb),{errorBehavior:ae.C.Fallback,isWebWorker:this.resolverEnvironment.isThisWebWorkerThread})});return this.sendAppError(ne(r,"CRS fetch timeout",`ConfigRef: ${this.getCacheKeyFromConfigRef(e)}. CrsUrl: ${n||""}, timeElapsed: ${performance.now()-o}`)),t(null)}),i)}));n=this.generateCrsUrl(e),!(0,S.N)()&&"edgeChromium"===this.resolverEnvironment.appType&&this.resolverEnvironment.targetScope.pageExperiments.includes("prg-earlycrs")&&(0,se.Z)(e,{experienceType:"AppConfig",instanceSrc:"default"})&&v.Gq.set(ue,{url:n});const s=((0,S.N)()&&window.crsPromise&&(null===(t=window.crsRequestData)||void 0===t?void 0:t.url)&&(0,se.Z)(e,{experienceType:"AppConfig",instanceSrc:"default"})?this.getConfigFromEarlyCrsPromise():this.downloadFromCrs(n,i)).then((e=>(r&&clearTimeout(r),e))),c=yield Promise.race([s,a]),u=c&&c.configs;if(!u||(0,T.Z)(u))return void(this._shouldTryFallbackResolver=!0);this._shouldTryFallbackResolver=!1;for(const e in u){const t=u[e];if(t&&t.properties){const n=this.getCacheKeyFromConfigRef(q(e));this.configMap.set(n,t)}}}catch(t){this._shouldTryFallbackResolver=!0,this.sendAppError(ne(te.GB,"CRS fetch network error",`ConfigRef: ${this.getCacheKeyFromConfigRef(e)}. CrsFetchNetworkError: ${this._hadNetworkError}. Error: ${t}. CrsUrl: ${n||""}`))}}))}setDownloadFromCrsBeforeNetwork(e){this.downloadFromCrsBeforeNetwork=e}downloadFromCrs(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.downloadFromCrsBeforeNetwork){const t=yield this.downloadFromCrsBeforeNetwork(e);if(t)return t}const{abortableFetchCallback:n,hostHeaderOverride:r}=this.resolverEnvironment,i=!(0,S.N)()&&r?{headers:{host:r}}:void 0;return(n?n(e,t,i):fetch(e)).then((t=>this.processCrsResponse(e,t))).catch((e=>this.handleCrsDownloadError(e)))}))}handleCrsDownloadError(e){throw this._shouldTryFallbackResolver=!1,this._hadNetworkError=!0,e}processCrsResponse(e,t){if(this._crsActivityId=function(e){try{if(e&&"string"==typeof e)return e.match(/Ref A: [A-Z0-9]+/)[0].substring(7)}catch(e){}return""}(t.headers.get("x-msedge-ref")||""),t.ok)return t.json();const{isWebWorkerPresent:n,isThisWebWorkerThread:r}=this.resolverEnvironment,i=t.headers.get("X-Crs-BuildVersion")||"",o=t.headers.get("X-Crs-Env")||"",a=t.headers.get("x-msedge-ref")||"",s=`Url: ${e}, CRS Version: ${i}, CRS Env: ${o}, isWebWorkerPresent: ${n}`,c=Object.assign(Object.assign({},te.Wc),{pb:Object.assign(Object.assign({},te.Wc.pb),{userImpacting:!0,errorBehavior:ae.C.Fallback,isWebWorker:r,fetchNetworkResponse:{activityId:a,statusCode:t.status}})});return this.sendAppError(ne(c,"CRS returned non-200 response",s)),Promise.resolve()}generateCrsUrl(e){const t=e.sharedNs?`&sharedNs=${e.sharedNs}`:"",n=`?${`expType=${e.experienceType}&expInstance=${e.instanceSrc}${t}`}&${this.configServiceParams}`;return(this._shouldUseCdnFallback?new URL(n,this.resolverEnvironment.crsRetryBaseUrl):new URL(n,this.resolverEnvironment.configServiceParameters.configServiceBaseUrl)).toString()}sendAppError(e){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(e)}getCrsTimeout(){return!this._shouldUseCdnFallback&&this._useAkamaiLogic&&(0,S.N)()?5e3:(0,S.N)()?1e4:2e3}getConfigFromEarlyCrsPromise(){return window.crsPromise.then((e=>this.processCrsResponse(window.crsRequestData.url,e))).catch((e=>this.handleCrsDownloadError(e))).finally((()=>{delete window.crsPromise,delete window.crsRequestData}))}}const ue="crs-request-data";let le=(e,t,n)=>(0,r.mG)(void 0,void 0,void 0,(function*(){if(!e)throw new Error("BlobFetcher.ts: Fetch Error: Relative Url is null or undefined.");const r=J(t,n)?"https://localhost.msn.com:9000/"+e:"https://assets.msn.com/periconfigs/"+e.toLowerCase();return fetch(r).then((e=>{if(e.ok)return e.json();throw new Error(`Non-200 response, Status: ${e.status}, StatusText: ${e.statusText}, fetch url: ${r}`)})).catch((e=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${r}, error: ${e}.`)}))})),de=(0,ie.Z)(le);class he{constructor(e,t){this.failedConfigIndexFetches=[],this.appType=e,this.configOrigins=t,this.fetchAndParseConfigIndex=(0,ie.Z)(this.fetchAndParseConfigIndex,((...e)=>e.join("/")))}fetchAndParseConfigIndex(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=J(e,this.configOrigins);if(!n&&!r)return;const i=r?`${ee(e,t,this.appType)}/index.json`:`${e}/${t}/index.json/${n}`;try{return yield de(i,e,this.configOrigins)}catch(e){r||this.failedConfigIndexFetches.push(e)}}))}getFailedConfigIndexFetches(){return this.failedConfigIndexFetches}}class pe{constructor(e,t){this.failedConfigFetches=[],this.appType=e,this.configOrigins=t,this.fetchAndParseConfig=(0,ie.Z)(this.fetchAndParseConfig,((...e)=>e.join("/")))}fetchAndParseConfig(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function*(){const r=J(e,this.configOrigins);if(!i&&!r)return;const o=r?`${ee(e,t,this.appType)}/${n}`:`${e}/${t}/${n}/${i}`;try{return yield de(o,e,this.configOrigins)}catch(e){r||this.failedConfigFetches.push(e)}}))}getFailedConfigFetches(){return this.failedConfigFetches}}class ge{constructor(e,t){this.manifestsMap=new Map,this.appType=e,this.configOrigins=t}fetchAndParseManifest(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(J(e,this.configOrigins))return;const n=`${e}/${this.appType}/${t}.json`;if(!this.manifestsMap.has(e))try{const t=yield de(n);if(this.manifestsMap.set(e,t),(0,T.Z)(t))throw new Error(`Manifest response is ok but empty or undefined, relative url: ${n}`)}catch(t){throw this.manifestsMap.set(e,null),new Error(`ManifestService.ts: ${t}`)}return this.manifestsMap.get(e)}))}getConfigIndexHashedFileName(e,t){if(J(t,this.configOrigins))return;const n=`${e}/index.json`;return this.getFromManifest(n,t)}getConfigHashedFileName(e,t,n){if(J(n,this.configOrigins))return;const r=`${e}/${t}`;return this.getFromManifest(r,n)}getFromManifest(e,t){if(!this.manifestsMap||!this.manifestsMap.get(t))return;const n=this.manifestsMap.get(t);if(n&&n.fileHashes)return n.fileHashes[e.toLowerCase()];throw new Error(`ManifestService.ts: Manifest is defined but does not have fileHashes: ${e}: cacheKey snippet of manifest: ${JSON.stringify(n).substr(0,100)}`)}}function fe(e,t){if((0,P.Z)(e))return t}var me=n(83130);class ve{constructor(e){if(!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw new Error("SingleConfigResolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.appType=e.appType,this.targetScope=e.targetScope,this.buildVersion=e.configServiceParameters.buildVersion,this.configOrigins=e.configOrigins,this.manifestService=new ge(this.appType,this.configOrigins),this.configIndexService=new he(this.appType,this.configOrigins),this.configService=new pe(this.appType,this.configOrigins)}resolveConfigAsync(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=Q(e),n=Q(e,!0);this.buildNumber=this.tryGetBuildNumber()||(yield function(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){let n;const r=new URLSearchParams((0,C.zp)()).getAll("item"),i=r?r.find((e=>e&&0===e.indexOf("spalink:"))):void 0;i&&(n=i.replace("spalink:","").replace("/debug",""));const o=n||e;if(!o||!t||"latest"!==o&&"rolling"!==o&&!_.test(o))throw new Error(`Arguments are incorrect. Check buildVersion: ${o} appType: ${t}`);const a=`https://assets.msn.com/bundles/v1/${t}/${o}/v?${(new Date).getTime()}`;let s;try{if(s=yield fetch(a),!s||!s.ok)throw new Error(`Response not OK, Status: ${s.status}, StatusText: ${s.statusText}`);return(yield s.text()).trim()}catch(e){throw new Error(`getBuildNumberAsync Fetch Url: ${a}, ${e}`)}}))}(this.buildVersion,this.appType));const i=this.manifestService.fetchAndParseManifest(N,this.buildNumber),o=this.manifestService.fetchAndParseManifest(j,this.buildNumber);yield Promise.all([i,o]);const a=this.manifestService.getConfigIndexHashedFileName(t,N),s=this.manifestService.getConfigIndexHashedFileName(n,j),c=this.configIndexService.fetchAndParseConfigIndex(U,t,a),u=this.configIndexService.fetchAndParseConfigIndex(H,n,s),l=yield Promise.all([c,u]).then((e=>({featureIndex:e[0],localizationIndex:e[1]}))),d=l.featureIndex&&l.featureIndex.configs||void 0,h=l.localizationIndex&&l.localizationIndex.configs||void 0,p=[];if(this.fetchMathingConfigs(p,d,N,U,t),this.fetchMathingConfigs(p,h,j,H,n),this.fetchMathingConfigs(p,h,j,H,n,!0),0==p.length)return;return function(e){if(!e||e.length<1)return null;const t=e[0];for(let n=1;n<e.length;n++)t.properties=(0,w.Z)(t.properties,e[n].properties,fe);return t}((yield Promise.all(p).then((e=>e))).filter((e=>null!=e)))}))}fetchMathingConfigs(e,t,n,r,i,o=!1){t&&0!=t.length&&t.forEach((t=>{if((0,me.J4)(t.targetScope,this.targetScope,o)){const o=t.src,a=this.manifestService.getConfigHashedFileName(i,o,n);e.push(this.configService.fetchAndParseConfig(r,i,o,a))}}))}getFailedFetches(){const e=[],t=this.configService.getFailedConfigFetches();t.length>0&&e.push(...t);const n=this.configIndexService.getFailedConfigIndexFetches();return n.length>0&&e.push(...n),e}get buildNumber(){return this._buildNumber}set buildNumber(e){this._buildNumber=e}tryGetBuildNumber(){return this.buildNumber?this.buildNumber:this.configOrigins.feature===R.w.Local&&this.configOrigins.loc===R.w.Production?null:this.buildVersion}}class ye{constructor(e){if(this.mergedConfigMap=new Map,this.mockManagerInitialized=!1,!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw new Error("Resolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.resolverEnvironment=e,this.appType=e.appType,this.singleConfigResolver=new ve(e)}getConfig(e,t=!1){return(0,r.mG)(this,void 0,void 0,(function*(){const n=z(e,this.appType),{mockManager:r}=this.resolverEnvironment;if(r.mocksEnabled&&!this.mockManagerInitialized){this.mockManagerInitialized=!0;const e={scenarios:(yield this.getConfig({experienceType:"MockManager",instanceSrc:"default"})).properties.scenarios};r.initialize(e)}if(!this.mergedConfigMap.has(n)){yield this.getConfigRecursive(e,t);const n=this.singleConfigResolver.getFailedFetches();n.length>0&&n.forEach((e=>{Y(this.resolverEnvironment.appErrorCallback,Object.assign(Object.assign({},te.e_),{message:"Fetch failed for a config",pb:Object.assign(Object.assign({},te.e_.pb),{customMessage:`Failed fetch url: ${e}`})}))}))}return this.mergedConfigMap.get(n)}))}getConfigMap(){return this.mergedConfigMap}getConfigRecursive(e,t=!1){return(0,r.mG)(this,void 0,void 0,(function*(){const n=z(e,this.appType);if(n&&!this.mergedConfigMap.has(n))try{const r=yield this.singleConfigResolver.resolveConfigAsync(e);if(this.mergedConfigMap.set(n,r),t){const e=K(r);if(0==e.size)return;const n=[];e.forEach((e=>{n.push(this.getConfigRecursive(e,t))})),yield Promise.all(n)}}catch(e){Y(this.resolverEnvironment.appErrorCallback,Object.assign(Object.assign({},te.oH),{message:"Exception in getConfig.",pb:Object.assign(Object.assign({},te.oH.pb),{customMessage:`CacheKey: ${n} / Error: ${e}`})}))}}))}}class Ce{constructor(e){if(this.resolverEnvironment=e,this.fallbackResolverCalled=!1,this.crsInitComplete=!1,this.enableIdbCaching=!1,this.configResolverMap=new Map,this.configResolverMapSet=!1,!e||!e.targetScope)throw new Error("ResolverEnvironment or targetScope does not exist.");var t;this.configService=new ce(e),this.enableIdbCaching=(t=e.targetScope.pageExperiments)&&t.indexOf("prg-gitconfigs-t")>-1,this.configCache=new oe(e,this.enableIdbCaching),this.fallbackResolver=new ye(e)}get crsHadNetworkError(){return this.configService.hadNetworkError}get crsActivityId(){return this.configService.crsActivityId}tryGetConfigSync(e){if(e)return this.configService.tryGetConfigSync(e)||this.tryToGetFromInMemory(e)||this.configCache.tryGetConfigSync(e)}getConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.resolverEnvironment.configOrigins.feature===R.w.Local||this.resolverEnvironment.mockManager.mocksEnabled){const t="function"==typeof this.resolverEnvironment.loggerCallback;try{const n=yield this.fallbackResolver.getConfig(e);return n?Promise.resolve(n):(t&&this.resolverEnvironment.loggerCallback(`ConfigResolver: Failed to fetch configs from local configs. Config: ${z(e)}`),Promise.resolve(null))}catch(e){return t&&this.resolverEnvironment.loggerCallback(`${e.message}`),Promise.reject(e)}}if(!this.configResolverMapSet&&!this.crsInitComplete&&(null==e?void 0:e.properties)){const t=e.properties;t&&t.configs&&(this.setConfigResolverMap(t.configs),this.configResolverMapSet=!0)}const t=this.configResolverMapSet&&e?this.tryToGetFromInMemory(e):null;if(t)return t;this.crsInitComplete||(this.sendPerfMarker("CrsConfig-start"),yield this.initiateConfigService(),this.crsInitComplete=!0,this.sendPerfMarker("CrsConfig-end")),this.configResolverMapSet&&this.crsInitComplete&&this.sendAppError(ne(te.cm,"Fallback to network call",`Config Ref ${this.getCacheKeyFromConfigRef(e)} not found in prefetched configs. Network Fallback`));const n=e?this.configService.tryGetConfigSync(e):null;if(n)return n;const i=new Promise((t=>(0,r.mG)(this,void 0,void 0,(function*(){if(this.configService.shouldTryFallbackResolver){this.fallbackResolverCalled=!0;const n=yield this.fallbackResolver.getConfig(e);if(n)return t(n)}else{const n=yield this.configService.getConfig(e);if(n)return t(n)}return t(null)})))),o=new Promise((t=>(0,r.mG)(this,void 0,void 0,(function*(){if(this.enableIdbCaching){const n=yield this.configCache.getConfig(e);if(n)return t(n)}}))));return Promise.race([o,i])}))}getConfigServiceObject(){return this.configService}initiateConfigService(){return(0,r.mG)(this,void 0,void 0,(function*(){yield this.configService.initialize(),yield this.configService.getConfig({experienceType:"AppConfig",instanceSrc:"default"})}))}sendPerfMarker(e){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(e)}setConfigResolverMap(e){for(const t in e){const n=e[t];if(n&&n.properties){const e=this.getCacheKeyFromConfigRef(q(t));this.configResolverMap.set(e,n)}}}tryToGetFromInMemory(e){const t=this.getCacheKeyFromConfigRef(e);return this.configResolverMap.get(t)}getCacheKeyFromConfigRef(e){return z(e,this.resolverEnvironment.appType)}sendAppError(e){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(e)}}const Se=864e5,we="__ResolverInstance__";class be{constructor(){this.currentTargetScope=c.jG.CurrentRequestTargetScope,this.configMap=new Map,this.env=c.jG.Environment||u.q.prod,this.promiseMap=new Map,this.refreshServerCachePromiseMap=new Map,this.stalenessCheckTimestamp=(new Date).getTime(),this.isMultiConfigRetrievalEnabled=!1,this.localOverrideMap={},this.peregrineFlightsKey="prgflights",this.isInitialized=!1,this.initializeCaching()}static getInstance(){return v.Gq.get(we,(()=>new be))}static resetResolverInstance(){const e=new be;v.Gq.set(we,e),Te=(0,y.h)(be)}getConfigResolver(){return this.configResolver}initializeCaching(){this.cdnConfigBaseUrl=c.jG.ConfigRootUrl||c.jG.EnvironmentConfigUrl,this.configServiceBaseUrl=c.jG.ConfigServiceBaseUrl,this.resolverErrors=[],this.configTimings=[],this.useWebWorkerToCache=d.yb;const e=c.jG.EnableCMSPPEConfigs;this.useServerCache=null!==h.o&&!e,this.setTargetScopeAndConfigServiceParams()}setTargetScopeAndConfigServiceParams(){const e=c.jG.EnableCMSPPEConfigs;this.currentTargetScope=this.currentTargetScopeOverride||c.jG.CurrentRequestTargetScope,!c.jG.IsGitConfigs&&this.currentTargetScope&&(this.currentTargetScope.locale=c.jG.LocaleContentMarket);const{AppType:t,WidgetAttributes:n}=c.jG,r=n&&n.clientPerf&&n.clientPerf.shouldUsePWOnlyFlights||"distribution"===t,i=this.currentTargetScope&&(r?(0,k.Kd)(this.currentTargetScope.pageExperiments):(0,k.Mx)(this.currentTargetScope.pageExperiments));if(i&&i.length>0&&(this.peregrineFlights=i.join(",")),this.scopeWithPeregrineFlights=Object.assign(Object.assign({},this.currentTargetScope),{domain:n&&(0,C.Dp)()||this.currentTargetScope&&this.currentTargetScope.domain,pageExperiments:i}),this.enableConfigService=this.useConfigService(),this.enableConfigService){this.configServiceParameters="?targetScope="+JSON.stringify(this.scopeWithPeregrineFlights),this.configServiceParameters+=`&apptype=${t}`;const{IsMultiConfigRetrievalEnabled:n,CacheBustingIdentifier:r}=c.jG;this.isMultiConfigRetrievalEnabled=n,this.isMultiConfigRetrievalEnabled&&(this.configServiceParameters+=`&maxDepth=${this.getConfigRetrievalMaxDepth()}`);const i=(0,S.N)()&&window._cbid||r;i&&(this.configServiceParameters+=`&cbid=${i}`),this.containsDevOnlyQueryParameters()&&(this.configServiceParameters+="&item=dev:true"),e&&(this.configServiceParameters+="&item=cms:ppe")}this.storageKey=this.generateKey()}initialize(e,t){if(this.isInitialized)return;var n;if(this.perfTimeline=(0,i.oA)("Resolver","Resolver",!0),n=this.perfTimeline,O=n,!c.jG.IsGitConfigs)return;const{_idbConfigOpenPromise:r=null,_idbConfigReadPromise:a=null,_idbConfigLookup:s=null}=(0,S.N)()?window:{},u={idbConfigOpenPromise:r,idbConfigReadPromise:a,idbConfigLookup:s},l={buildVersion:c.jG.BuildVersion,configServiceBaseUrl:c.jG.ConfigServiceBaseUrl.toString()},d=c.jG.CrsRetryBaseUrl,{pageExperiments:h}=this.currentTargetScope,f={appType:c.jG.AppType,configServiceParameters:l,targetScope:this.scopeWithPeregrineFlights,env:c.jG.Environment.toString(),featureFlags:c.jG.FeatureFlags,isThisWebWorkerThread:!1,isWebWorkerPresent:this.useWebWorkerToCache,queryParams:p.c.getParamsObj((0,C.zp)()),appErrorCallback:e,perfMarkerCallback:F,loggerCallback:o.k.log.bind(o.k),logObjectsCallback:o.k.logObjects.bind(o.k),isDebug:o.k.isDebug(),configCacheProperties:u,configOrigins:c.jG.ConfigOrigins,segmentPlugins:t,mockManager:V,crsRetryBaseUrl:d,crsDisableServerCache:c.jG.CrsDisableServerCache,abortableFetchCallback:h&&h.includes("useabortfetch")||!(0,S.N)()?g.Sm:void 0,hostHeaderOverride:c.jG.HostHeaderOverride};this.configResolver=new Ce(f),this.isInitialized=!0}mergeConfig(e){if(!e||e.length<1)return null;const t=e[0];for(let n=1;n<e.length;n++)t.properties=(0,w.Z)(t.properties,e[n].properties,this.customizer);return t}resolveConfigIndex(e){if(!e)return null;const t=[];return e.configs.forEach((e=>{this.targetScopeMatched(e)&&t.push(e.href)})),e.overrideConfig&&f.b.stringHasData(e.overrideConfig.href)&&t.push(e.overrideConfig.href),t}targetScopeMatched(e){const t=e.targetScope;return!t||this.audienceModeMatched(t)&&this.browserTypeMatched(t)&&this.deviceTypeMatched(t)&&this.domainMatched(t)&&this.experimentMatched(t)&&this.marketMatched(t)&&this.osMatched(t)&&this.pageTypeMatched(t)&&this.platformMatched(t)}audienceModeMatched(e){return!e.audienceMode||this.currentTargetScope.audienceMode===e.audienceMode}browserTypeMatched(e){return!e.browser||!e.browser.browserType||!(!this.currentTargetScope.browser||this.currentTargetScope.browser.browserType!==e.browser.browserType||e.browser.version&&this.currentTargetScope.browser.version!==e.browser.version)}deviceTypeMatched(e){return!e.deviceFormFactor||this.currentTargetScope.deviceFormFactor===e.deviceFormFactor}domainMatched(e){return!e.domain||this.currentTargetScope.domain===e.domain}experimentMatched(e){return this.currentTargetScope.pageExperiments=this.currentTargetScope.pageExperiments||[],!!(!(0,b.Z)(e.experimentId)||(0,T.Z)(e.experimentId)||this.currentTargetScope.pageExperiments.indexOf(e.experimentId)>=0)}stringsEqualCaseInsensitive(e,t){return 0===(e||"").localeCompare(t||"",void 0,{sensitivity:"accent"})}marketMatched(e){const t=e.locale||e.locale;if(!t)return!0;const n=this.currentTargetScope.locale;return!(t.language&&!this.stringsEqualCaseInsensitive(t.language,n.language)||t.market&&!this.stringsEqualCaseInsensitive(t.market,n.market)||t.script&&!this.stringsEqualCaseInsensitive(t.script,n.script))}osMatched(e){return!e.os||this.currentTargetScope.os===e.os}pageTypeMatched(e){return!e.pageType||this.currentTargetScope.pageType===e.pageType}platformMatched(e){return!e.platform||this.currentTargetScope.platform===e.platform}customizer(e,t){if((0,P.Z)(e))return t}clearInternalState(){this.configMap.clear()}overrideCurrentRequestTargetScope(e){this.currentTargetScopeOverride=e,this.currentTargetScopeOverride&&(this.currentTargetScope=this.currentTargetScopeOverride)}overrideCurrentRequestEnvironment(e){this.env=e||u.q.prod}overrideConfig(e,t,n){if(this.env!==u.q.prod){const r="string"==typeof e?e:(0,l.B5)(e);this.localOverrideMap[r]={experienceType:t,properties:n,typeVersion:"1.0.0",_name:"index"}}}getRootConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!c.jG.IsGitConfigs)return yield this.getConfig(e);const t=yield this.getEntryPointConfigRef();return yield this.getConfig(t.configRef)}))}getEntryPointConfigRef(){return(0,r.mG)(this,void 0,void 0,(function*(){return(yield this.getConfig({experienceType:"AppConfig",instanceSrc:"default"})).properties.rootExperience}))}getConfigSync(e){if(!e||!this.currentTargetScope||!c.jG.IsGitConfigs)return;const t=(0,l.B5)(e),n=t&&this.localOverrideMap[t];if(n)return n;const r=this.configResolver&&this.configResolver.tryGetConfigSync(e);return r?{experienceType:e.experienceType,properties:r.properties||{},typeVersion:"Git",_name:t}:void 0}getConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!this.currentTargetScope)return Promise.reject(new Error(`getConfig: Invalid target scope when fetching config ${JSON.stringify(e)}`));const t=performance.now();if(c.jG.IsGitConfigs){if("string"==typeof e){const t="Invalid config Id for Git configs flight";return this.resolverErrors.push(Object.assign(Object.assign({},a.lu7),{message:t,pb:Object.assign(Object.assign({},a.lu7.pb),{userImpacting:!0,customMessage:e})})),Promise.reject(new Error(`${t}: ${e}`))}if(!this.configResolver){const t="Invalid configResolver object for Git configs flight";return this.resolverErrors.push(Object.assign(Object.assign({},a.ASE),{message:t,pb:Object.assign(Object.assign({},a.ASE.pb),{userImpacting:!0,customMessage:JSON.stringify(e)})})),Promise.reject(new Error(`${t}: ${JSON.stringify(e)}`))}const n=(0,l.B5)(e),r=this.localOverrideMap[n];if(r)return r;const i=this.perfTimeline&&this.perfTimeline.startMeasure("config",n).endMeasure;let o,s;try{s=this.configResolver.tryGetConfigSync(e);let r=s;if(!r){this.addConfigTiming(e.experienceType,t,"network"),r=yield this.configResolver.getConfig(e);const n=this.configResolver.crsActivityId;n&&E.M0.addOrUpdateCustomProperty("crsActivityId",n)}return r?o={experienceType:e.experienceType,properties:r.properties||{},typeVersion:"Git",_name:(0,l.B5)(e)}:Promise.reject(new A(`Could not fetch Git config id ${JSON.stringify(e)}`,this.configResolver.crsHadNetworkError))}finally{if(i){i({customSuffix:`${n}-${(s?"memory":o&&"network")||"error"}`})}}}const n=e;if(!n||!(0,b.Z)(n)||(0,T.Z)(n))throw new Error("getConfig: Invalid relativeUrl");const i=this.localOverrideMap[n];if(i)return i;const s=this.getCacheKey(n),u=this.configMap.get(s);if(u)return this.addConfigTiming(u.experienceType,t,"cache"),u;const d=this.promiseMap.get(s);if(d)return d;let p=!1;const g=this.perfTimeline&&this.perfTimeline.startMeasure("config",n).endMeasure;let f,m;const v=new Promise(((e,i)=>(0,r.mG)(this,void 0,void 0,(function*(){try{if(this.useServerCache){let r=!1,i=!1;const c=yield h.o.has(s);if(c){const a=yield h.o.get(s),c=a?JSON.parse(a):null;c?(this.configTimings.push({experienceType:c.experienceType,cacheFetchDuration:performance.now()-t}),i=!!c.relatedConfigIndexHref,p=!0,this.promiseMap.delete(s),e(c),this.isServerCacheConfigStale(c.storageTimestamp)&&(yield this.updateServerCache(n,c))):(o.k.log(`Resolver: cacheKey=${s} Undefined from server cache`),r=!0)}if(o.k.logObjects({serverCacheGetConfig:{cacheKey:s,isHeadConfig:i,isCached:c,hasCacheError:r}}),c&&r){const e="Sever Cache key exists but server cache is undefined. Usually due to timeout when server cache IPC is busy.",t=`cacheKey=${s}`,n=new Error(e);throw E.M0.sendAppErrorEvent(Object.assign(Object.assign({},a.pay),{message:e,pb:Object.assign(Object.assign({},a.pay.pb),{customMessage:t})})),n}if(c)return;const u=this.getConfigFromNetwork(n),l=(yield u).get(s);f=l.experienceType,this.addConfigTiming(f,t,m="network"),e(l)}else{const r=(yield yield this.getConfigFromNetwork(n)).get(s);f=r.experienceType,this.addConfigTiming(f,t,m="network"),e(r)}}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},a.Sp_),{message:"Exception in getConfig",pb:Object.assign(Object.assign({},a.Sp_.pb),{customMessage:`Relative Url: ${n}. Error ${e.message||e}`})})),i(e)}finally{p=!0,this.promiseMap.delete(s),g&&g({customSuffix:`${f}-${n}-${m}`})}}))));return p||this.promiseMap.set(s,v),v}))}getConfigFromNetwork(e,t=!1){return(0,r.mG)(this,void 0,void 0,(function*(){const n=this.getCacheKey(e),r=new Map;if(this.enableConfigService){const i=this.removeCmsPathFromRelativeUrl(e)+this.configServiceParameters;try{if(this.isMultiConfigRetrievalEnabled){const t=yield this.downloadFile(new URL(`${i}${this.configServiceBaseUrl.search}`,this.configServiceBaseUrl),!0);if(t&&t.rootConfigIndexId&&t.configs){const n=Object.keys(t.configs).map((e=>t.configs[e]));for(const t of n)if(t&&t.configIndexHref){const i=t.configIndexHref,a=i===e;yield this.addConfigToConfigMap(i,t,a?n:null),r.set(this.getCacheKey(i),t),(0,S.N)()&&o.k.log(`Resolver: ${i} config for ${t.experienceType} fetched from network using CRS url with multi config support.`)}return r}}else{const t=yield this.downloadFile(new URL(`${i}${this.configServiceBaseUrl.search}`,this.configServiceBaseUrl),!0);if(t)return yield this.addConfigToConfigMap(e,t),r.set(n,t),(0,S.N)()&&o.k.log(`Resolver: ${n} config for ${t.experienceType} fetched from network using CRS url.`),r}}catch(n){const r=`CRS fetch failed for ${e}.`,o=`CRS relative Url: ${i} Error: ${n}`;t?E.M0.sendAppErrorEvent(Object.assign(Object.assign({},a.VI5),{message:r,pb:Object.assign(Object.assign({},a.VI5.pb),{customMessage:o})})):this.resolverErrors.push(Object.assign(Object.assign({},a.GB_),{message:r,pb:Object.assign(Object.assign({},a.GB_.pb),{customMessage:o})}))}}if(r&&!r.has(n)){const t=yield this.downloadMergeConfig(e);t&&(yield this.addConfigToConfigMap(e,t),r.set(n,t),(0,S.N)()&&o.k.log(`Resolver: ${n} config fetched from network using Akamai url.`),this.enableConfigService&&this.resolverErrors.push(Object.assign(Object.assign({},a.CS7),{message:"Configs served from CDN after CRS fetch failed",pb:Object.assign(Object.assign({},a.CS7.pb),{customMessage:`Relative Url: ${e} CRS Params: ${this.configServiceParameters}`})})))}return r}))}addConfigToConfigMap(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){t.storageTimestamp=this.stalenessCheckTimestamp,t.configIndexHref=e;const r=this.getCacheKey(e);if(this.useServerCache){n&&(t.relatedConfigIndexHref=n.map((e=>e.configIndexHref)));const e=JSON.stringify(t);yield h.o.set(r,e,Se)}else this.configMap.set(r,t)}))}updateServerCache(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.useServerCache)try{if(!this.refreshServerCachePromiseMap.get(e)){if(t.relatedConfigIndexHref){yield Promise.all(t.relatedConfigIndexHref.map((n=>{const r=n===e?this.refreshConfigServerCache(e,t):this.refreshConfigServerCache(n);return this.refreshServerCachePromiseMap.set(n,r),r})));for(let e=0;e<t.relatedConfigIndexHref.length;e++)this.refreshServerCachePromiseMap.delete(t.relatedConfigIndexHref[e])}else{const n=this.refreshConfigServerCache(e,t);this.refreshServerCachePromiseMap.set(e,n),yield n,this.refreshServerCachePromiseMap.delete(e)}this.getConfigFromNetwork(e)}}catch(t){const n=`Update server cache failed for ${e}.`,r=`Error: ${t}`;E.M0.sendAppErrorEvent(Object.assign(Object.assign({},a.VI5),{message:n,pb:Object.assign(Object.assign({},a.VI5.pb),{customMessage:r})}))}}))}refreshConfigServerCache(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(!this.useServerCache)return;const n=this.getCacheKey(e);if(!t){const e=yield h.o.get(n);t=e?JSON.parse(e):null}if(t){t.storageTimestamp=this.stalenessCheckTimestamp;const e=JSON.stringify(t);yield h.o.set(n,e,Se)}}))}purgeRenderCacheUponConfigChanges(e){if(!e)try{(0,m.$o)().removeSubstringKeys("lastKnown_"),(0,m.$o)().removeSubstringKeys("timestamp_"),(0,m.$o)().removeSubstringKeys("keys_")}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},a.GLL),{message:"Failed to purge render cache when cached config and network config is not same.",pb:Object.assign(Object.assign({},a.GLL.pb),{customMessage:e})}))}}downloadMergeConfig(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=yield this.downloadFile(new URL(`${e}${this.cdnConfigBaseUrl.search}`,this.cdnConfigBaseUrl),!1),n=this.resolveConfigIndex(t),r=yield this.downloadExperienceConfig(this.cdnConfigBaseUrl,n),i=this.mergeConfig(r);return i.experienceType=t.experienceType,i}))}downloadExperienceConfig(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=[];return t.forEach((t=>{n.push(this.downloadFile(new URL(`${t}${e.search}`,e),!1))})),yield Promise.all(n)}))}downloadFile(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,S.N)()?1e4:900,r=e.toString();return(0,g.Sm)(r,n).then((e=>{if(e.ok)return e.json();let n="";if(t){const t=e.headers.get("X-Crs-BuildVersion")||"";n=`msedge ref: ${e.headers.get("x-msedge-ref")||""} Status: ${e.status}, Status Text: ${e.statusText}, Url: ${r} and CRS Version: ${t}`,this.resolverErrors.push((0,s.Tr)(a.Wct,"CRS sent non-200 response",n))}else n=`Status: ${e.status}, Status Text: ${e.statusText}, Url: ${r}`,this.resolverErrors.push((0,s.Tr)(a.h6w,"Cdn config fetch received non-200 response",n));return Promise.resolve()}))}))}generateKey(){if((0,S.N)()){const{audienceMode:e="",locale:t={},pageType:n=""}=this.currentTargetScope||{},r=t.content||t,i=r?(0,D.p)(r):"",o=t.display||r;return[e,i,o?(0,D.p)(o):"",n,c.jG.AppType||""].map((e=>e||"")).join("|").toLowerCase()}{let{audienceMode:e="",browser:t=null,deviceFormFactor:n="",locale:r={},os:i={},pageType:o="",platform:a="",pageExperiments:s=null}=this.currentTargetScope||{};const u=r.content||r,{language:l,market:d}=u,{browserType:h="",version:p=""}=t||{};s=(0,k.Mx)(s);return[e,h,p,n,l,d,i,o,a,s?s.join():"",c.jG.AppType||""].map((e=>e||"")).join("|").toLowerCase()}}useConfigService(){const e=(0,C.zp)();if(e){const t=p.c.getQueryParameterByName("enableConfigService",e);if(t)return"true"===t.toLocaleLowerCase()}return c.jG.EnableConfigService}getConfigRetrievalMaxDepth(){const e=p.c.getQueryParameterByName("maxDepth",(0,C.l4)());return e||(c.jG.FeatureFlags&&c.jG.FeatureFlags.crsMaxDepth?c.jG.FeatureFlags.crsMaxDepth:"10")}containsDevOnlyQueryParameters(){const e=(0,C.zp)(),t=p.c.getQueryParameterByName("item",e);if(t&&t.length>0)return!0;const n=p.c.getQueryParameterByName("pcsonly",e);return!!(n&&n.length>0)}getResolverErrors(){return this.resolverErrors}refreshConfigCache(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.useWebWorkerToCache)try{const e=yield(0,d.ot)({id:"refreshconfigs"});if(e&&e.fetched&&void 0!==e.payload&&null!==e.payload){const t=e.payload;this.purgeRenderCacheUponConfigChanges(t.configsEqual);try{(0,m.$o)().setItem(this.peregrineFlightsKey,this.peregrineFlights)}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},a.g_9),{message:"Error writing prg flights to ",pb:Object.assign(Object.assign({},a.g_9.pb),{customMessage:e})}))}if(t.liveCbId){const e=t.liveCbId.toString();this.writeCbidInLocalStorage(e);const n=c.jG.CacheBustingIdentifier||"",r=window._cbid||"";c.jG.IsGitConfigs||e===n&&e===r||this.resolverErrors.push(Object.assign(Object.assign({},a.N1V),{message:"Different Cbid detected than configured.",pb:Object.assign(Object.assign({},a.N1V.pb),{customMessage:`PcsCbid = ${n}. HighestCbid = ${r}. LiveCbid = ${e}.`})}))}}}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},a.rP7),{message:"refreshConfigCache error",pb:Object.assign(Object.assign({},a.rP7.pb),{customMessage:e})}))}}))}isConfigStale(e){return!e||this.stalenessCheckTimestamp-e>2592e5}isServerCacheConfigStale(e){return!e||this.stalenessCheckTimestamp-e>3e5}removeCmsPathFromRelativeUrl(e){return e.replace("cms/api/amp/experienceConfigIndex/","")}getConfigServiceParameters(){return this.configServiceParameters}addConfigTiming(e,t,n){this.configTimings.push({experienceType:e,[n+"FetchDuration"]:performance.now()-t})}getConfigTimings(e={},t=!1){if(c.jG.IsGitConfigs)return void Object.assign(e,L);if(!this.configTimings)return;let n=0,r=0;for(const i of this.configTimings){const o=i.experienceType.toLowerCase(),a=i.cacheFetchDuration,s=i.networkFetchDuration;("entrypoint"===o||"river"===o||"contentpreview"===o||c.jG.IsDebug||t)&&(void 0!==s&&(e["ConfigFetch."+o]=Math.round(s)),void 0!==a&&(e["ConfigCache."+o]=Math.round(a))),void 0!==a&&(n+=a),void 0!==s&&(r+=s)}n&&(e["ConfigCache.All"]=Math.round(n)),r&&(e["ConfigFetch.All"]=Math.round(r))}setConfigTimingsObject(e){this.configTimings=e}getCacheKey(e){return null===e?null:this.removeCmsPathFromRelativeUrl(e)+"_"+this.storageKey}prgFlightsSameAsLocalStorage(){try{const e=(0,m.$o)().getItem(this.peregrineFlightsKey);return e&&this.peregrineFlights&&e===this.peregrineFlights}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},a.A5T),{message:"Error reading prg flights from localStorage",pb:Object.assign(Object.assign({},a.A5T.pb),{customMessage:e})}))}return!1}getConfigsCacheLocalStorageKey(){const{audienceMode:e,pageType:t}=this.currentTargetScope||{},n=c.jG.LocaleContentMarket||{};return`config_hash_${e}_${n.language}_${n.market}_${t}_${c.jG.AppType}`}writeCbidInLocalStorage(e){const t=`cbid_${c.jG.AppType||""}`;try{(0,m.$o)().setItem(t,e)}catch(n){throw`Error writing cbid: ${e} to local storage with key ${t}. Error: ${n}`}}}let Te=(0,y.h)(be);const Pe={getRootConfig:e=>Te.getRootConfig(e),getEntryPointConfigRef:()=>Te.getEntryPointConfigRef(),getConfig:e=>Te.getConfig(e),getConfigSync:e=>Te.getConfigSync(e),mergeConfig:e=>Te.mergeConfig(e),resolveConfigIndex:e=>Te.resolveConfigIndex(e),targetScopeMatched:e=>Te.targetScopeMatched(e),getConfigTimings:(e={},t=!1)=>Te.getConfigTimings(e,t),getResolverErrors:()=>Te.getResolverErrors(),refreshConfigCache:()=>Te.refreshConfigCache(),getInstance:()=>Te,setTargetScopeAndConfigServiceParams:()=>Te.setTargetScopeAndConfigServiceParams(),initialize:(e,t)=>Te.initialize(e,t),getUseConfigService:()=>Te.useConfigService(),overrideConfig:(e,t,n)=>Te.overrideConfig(e,t,n),overrideCurrentRequestTargetScope:e=>Te.overrideCurrentRequestTargetScope(e),overrideCurrentRequestEnvironment:e=>Te.overrideCurrentRequestEnvironment(e),generateKey:()=>Te.generateKey(),clearInternalState:()=>Te.clearInternalState(),initializeCaching:()=>Te.initializeCaching(),getConfigServiceParameters:()=>Te.getConfigServiceParameters(),setConfigTimingsObject:e=>Te.setConfigTimingsObject(e),getCacheKey:e=>Te.getCacheKey(e),updateServerCache:(e,t)=>Te.updateServerCache(e,t)}},32181:function(e,t,n){"use strict";n.d(t,{B5:function(){return u},Fr:function(){return o},Gl:function(){return s},M:function(){return i},lh:function(){return c},nf:function(){return d},oO:function(){return l},sI:function(){return a}});var r=n(59996);function i(e){return d(e,(e=>e.configRef.experienceType),(e=>e.experienceType),null)}function o(e){return d(e,(e=>e.configRef),(e=>e.href),(e=>e))}function a(e){return d(e,null,(e=>e.href),(e=>e))}function s(e){return d(e,r.Z,null,null)}function c(e,t){return d(e,(e=>`${u(e.configRef)}_${t||e.instanceId||""}`),(e=>`${e.experienceType}_${e.href}_${t||e.instanceId||""}`),(e=>`${e}_${t||""}`))}function u(e){return`${e.experienceType}_${e.instanceSrc}_${e.sharedNs||""}`}function l(e){return e&&null!=e.instanceId&&!!d(e,(e=>e.configRef&&e.configRef.experienceType&&e.configRef.instanceSrc),(e=>e.experienceType&&null!=e.href),null)}function d(e,t,n,r,i){if(void 0===i&&(i=null),null!=e){if("string"==typeof e)return r&&r(e)||i;const o=e;if(o.configRef)return t&&t(o)||i;const a=e;if(n)return n(a)||i}return i}},82683:function(e,t,n){"use strict";var r;n.d(t,{O:function(){return r}}),function(e){e.grid="grid",e.horizontalStack="horizontalStack",e.layout="layout",e.verticalStack="verticalStack",e.customExperience="customExperience"}(r||(r={}))},14816:function(e,t,n){"use strict";var r;n.d(t,{f:function(){return r}}),function(e){e.actionTrigger="ActionTrigger",e.button="Button",e.heading="Heading",e.peregrineExperience="PeregrineExperience",e.typography="Typography",e.webComponentExperience="WebComponentExperience"}(r||(r={}))},2278:function(e,t,n){"use strict";n.d(t,{HB:function(){return v}});var r=n(23547),i=n(26007),o=n(78722),a=n(45506),s=n(33379),c=n(12884);const u="//assets.msn.com",l="//assets.msn.cn",d=e=>"localhost.msn.com"===e.split(":",1)[0];function h(e){if(/^\/[\w.-]+(\/[\w.-]+)*$/.test(e))return!(e.includes("/../")||e.includes("/./")||e.endsWith("/..")||e.endsWith("/."))}function p(e){return e.startsWith("/")?e:"/"+e}function g(e){return e.endsWith("/")?e:e+"/"}function f(e){return e.startsWith("/")?e.slice(1):e}const m=(e,t,n)=>{const c=new URLSearchParams(e),m="true"===c.get("renderWidget"),v="true"===c.get("useDeployedBundles"),y=((e,t)=>t?u:d(e)?`//${e}`:o.jG.IsChinaCompliance?l:u)(t,m||v);if(c.has("entry")){const e=p(c.get("entry").split("/").slice(0,-1).join("/"));return y&&h(e)&&(d(t)||e.startsWith("/bundles"))?g(y+e):g(y)}if(y&&d(t)&&!v){if((0,s.N)())return n?y+n:n;return y+__WEBPACK_LOCAL_STATICS_PATH__}if(y){const t=a.Al.ClientSettings&&a.Al.ClientSettings.queryparams,o=(e||"").substring(1),s=(t||"").substring(1);let c=o+"&"+s;c=decodeURIComponent(c);let u=new r.h(c).get("bundles");u&&(u=h(p(u))?f(u):null);const l=i.c.getParamsWithItems(c).find((e=>"spalink"===e.key));let d=l&&l.value;if(d&&(d=h(p(d))?f(d):null,d=d?d.split("/")[0]:null),n){const e=n.split("/");return e[4]=d||(u||"latest"),y+e.join("/")}}return n},v=()=>{n.p=m((0,c.zp)(),(0,c.zw)(),n.p)}},44979:function(e,t,n){"use strict";n.d(t,{DO:function(){return c},Nd:function(){return s},fH:function(){return a}});var r=n(78722),i=n(43488),o=n(70587);class a{constructor({params:e,qspPrefix:t,spec:n}={},r){this.requestData=new i.m4(n||o.j4,t||o.mx),e&&this.requestData.loadQueryParams(e),r&&(this.RequestId=r)}get requestId(){return this.RequestId||this.app.ActivityId}get app(){return r.jG}get data(){return this.requestData.data}}function s(e,t,n=!0){if("function"==typeof e){const t=e();if(t||0===t)return t}if(n)throw new Error("Expected "+t+" to return value. Possible invalid RequestContext spec used or the spec doesn't contain this data.")}function c(e){return s(e.data.locationHref,"locationHref",!1)}},64550:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r,i=n(95527);function o(e,t=r.Telemetry){if(!e)return void console.log(`EventType: ${t} payload to be dispatched is either null or empty.`);const n=document.querySelector(`.${i.$j}`);if(!n||!n.hasAttributes())return void console.log(`Div ${i.$j} is not present on the page.`);const o={type:t,name:e.name||"",payload:e};n.dispatchEvent(new CustomEvent(i.y7,{bubbles:!0,cancelable:!0,composed:!0,detail:o}))}!function(e){e.Telemetry="telemetry"}(r||(r={}))},21858:function(e,t,n){"use strict";n.d(t,{Go:function(){return a},TR:function(){return c},Y6:function(){return u},Yw:function(){return l}});var r=n(94516);const i=new RegExp("\\:([\\d]{2})");function o(){return new Date}function a(e){return(o().getTime()-e.getTime())/1e3}function s(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function c(e,t){return new Date(e.valueOf()+60*t*60*1e3)}function u(e,t){const n=parseInt(t),r=parseInt(i.exec(t)[1]),o=n<0?-1:1,a=new Date(e.getTime()+60*(60*n+o*r)*1e3),s=`0${Math.abs(n)}`.substr(-2)+":"+`0${Math.abs(r)}`.substr(-2);return a.toISOString().replace("Z",(o<0?"-":"+")+s)}function l(e){const t=a(e),n=function(){const e=o();return e.setHours(0,0,0,0),e}(),i=s(n,-1),c=s(n,-6),u=function(){const e=o();return new Date(e.getFullYear(),0,0,0,0,0,0)}();return t>=-3300&&t<-60?r.i.InMinutes:t<0?r.i.None:t<120?r.i.JustNow:t<3600?r.i.LessThanOneHour:e>=n?r.i.Today:e>=i?r.i.Yesterday:e>=c?r.i.ThisWeek:e>=u?r.i.ThisYear:r.i.FullDate}},36569:function(e,t,n){"use strict";var r;n.d(t,{Q:function(){return u},V:function(){return r}}),function(e){e.Hour="Hour",e.HourMin="HourMin",e.HourTimezone="HourTimezone",e.HourMinTimezone="HourMinTimezone",e.HourTimezoneLong="HourTimezoneLong",e.HourMinTimezoneLong="HourMinTimezoneLong",e.DayWeek="DayWeek",e.MonthDayYear="MonthDayYear",e.LongMonthDayYear="LongMonthDayYear",e.MonthDay="MonthDay",e.Year="Year",e.Month="Month",e.MonthShort="MonthShort",e.Day="Day",e.Week="Week",e.MonthDayWeek="MonthDayWeek",e.MonthDayWeekLong="MonthDayWeekLong",e.YearMonthDayWeekLong="YearMonthDayWeekLong",e.YearMonthLong="YearMonthLong"}(r||(r={}));const i=new Map([[r.DayWeek,{weekday:"short",day:"numeric"}],[r.LongMonthDayYear,{month:"long",day:"numeric",year:"numeric"}],[r.MonthDayYear,{month:"short",day:"numeric",year:"numeric"}],[r.MonthDay,{month:"short",day:"numeric"}],[r.Year,{year:"numeric"}],[r.Month,{month:"numeric"}],[r.MonthShort,{month:"short"}],[r.Day,{day:"numeric"}],[r.Hour,{hour:"numeric"}],[r.HourMin,{hour:"numeric",minute:"numeric"}],[r.HourTimezone,{hour:"numeric",timeZoneName:"short"}],[r.HourMinTimezone,{hour:"numeric",minute:"numeric",timeZoneName:"short"}],[r.HourTimezoneLong,{hour:"numeric",timeZoneName:"long"}],[r.HourMinTimezoneLong,{hour:"numeric",minute:"numeric",timeZoneName:"long"}],[r.Week,{weekday:"short"}],[r.MonthDayWeek,{weekday:"short",month:"short",day:"numeric"}],[r.MonthDayWeekLong,{weekday:"long",month:"long",day:"numeric"}],[r.YearMonthDayWeekLong,{weekday:"long",month:"long",day:"numeric",year:"numeric"}],[r.YearMonthLong,{month:"long",year:"numeric"}]]),o=["en-us","en-gb","el-gr"],a=[r.DayWeek,r.HourTimezoneLong,r.HourMinTimezoneLong,r.MonthDay,r.MonthShort,r.Week,r.MonthDayWeek,r.YearMonthDayWeekLong,r.YearMonthLong,r.LongMonthDayYear],s=new Map([["default",{longPm:"pm",shortPm:"p",longAm:"am",shortAm:"a"}],["el-gr",{longPm:"μ.μ.",shortPm:"μ",longAm:"π.μ.",shortAm:"π"}]]),c=new Map([["default",{hour:"numeric"}],["zh-cn",{hour:"numeric",hour12:!1}],["zh-tw",{hour:"numeric",hour12:!1}],["zh-hk",{hour:"numeric",hour12:!1}]]);class u{constructor(e,t){this.locale=e||"en-us",this.timeZone=t||void 0,this.hour12=Intl.DateTimeFormat(this.locale,c.get(this.locale)||c.get("default")).resolvedOptions().hour12,this.localeOption=s.get(this.locale)||s.get("default"),this.timeFormats=new Map,this.timeFormatsEnGb=new Map,this.timeFormatsEnUs=new Map}formatHour(e,t){return this.formatDateTimeFormatText(e,r.Hour,Object.assign({},t))}formatYear(e,t){return this.formatDateTimeFormatText(e,r.Year,Object.assign({},t))}formatMonth(e,t){return this.formatDateTimeFormatText(e,r.Month,Object.assign({},t))}formatMonthShort(e,t){return this.formatDateTimeFormatText(e,r.MonthShort,Object.assign({},t))}formatDay(e,t){return this.formatDateTimeFormatText(e,r.Day,Object.assign({},t))}formatHourLabel(e){return this.formatHour(e,{excludeSpace:!1})}formatHourMinute(e,t){return this.formatDateTimeFormatText(e,r.HourMin,Object.assign({},t))}formatHourTimezone(e,t,n=!1){let i=r.HourTimezone;return n&&(i=r.HourTimezoneLong),this.formatDateTimeFormatText(e,i,Object.assign({},t))}formatHourMinuteTimezone(e,t,n=!1){let i=r.HourMinTimezone;return n&&(i=r.HourMinTimezoneLong),this.formatDateTimeFormatText(e,i,Object.assign({},t))}formatDayWithWeek(e,t){let n=this.formatDateTimeFormatText(e,r.DayWeek,Object.assign({},t));if(t&&n.indexOf(",")<0&&n.indexOf(" ")>0){const e=n.split(" ");2!=e.length||isNaN(parseInt(e[0]))||(t.removeWeek?n=e[0]:t.forceWeekdayAhead&&(n=`${e[1]} ${e[0]}`))}return n}formatWeek(e,t){return this.formatDateTimeFormatText(e,r.Week,Object.assign({},t))}formatLongMonthDayYear(e,t){let n=this.formatDateTimeFormatText(e,r.LongMonthDayYear,Object.assign({},t));if(t&&t.useComma){const i=this.formatDateTimeFormatText(e,r.LongMonthDayYear,Object.assign({},t));n=n.replace(`${i} `,`${i}, `)}return n}formatMonthDayYear(e,t){let n=this.formatDateTimeFormatText(e,r.MonthDayYear,Object.assign({},t));if(t&&t.useComma){const i=this.formatDateTimeFormatText(e,r.MonthDay,Object.assign({},t));n=n.replace(`${i} `,`${i}, `)}return n}formatMonthDay(e,t){return this.formatDateTimeFormatText(e,r.MonthDay,Object.assign({},t))}formatWeekShort(e,t){let n=this.formatDateTimeFormatText(e,r.Week,Object.assign({},t));if(n.indexOf(",")<0&&n.indexOf(" ")>0){const e=n.split(" ");2!=e.length||isNaN(parseInt(e[0]))||(n=e[1])}return n}formatMonthDayWithWeek(e,t){let n=this.formatDateTimeFormatText(e,r.MonthDayWeek,Object.assign({},t));if(t&&t.forceWeekdayAhead&&n.indexOf(",")<0&&n.indexOf(" ")>0){const e=n.split(" ");2!=e.length||isNaN(parseInt(e[0]))||(n=`${e[1]} ${e[0]}`)}return n}formatMonthDayWithWeekLong(e,t){let n=this.formatDateTimeFormatText(e,r.MonthDayWeekLong,Object.assign({},t));if(t&&!t.forceWeekdayAhead&&n.indexOf(",")<n.indexOf(" ")){const e=n.split(",");2==e.length&&(n=`${e[1]}, ${e[0]}`)}return n}formatDateTime(e,t,n){return this.formatDateTimeFormatText(e,t,Object.assign({},n))}getFormatObj(e){let t=e;return this.hour12||(e===r.Hour&&(t=r.HourMin),e===r.HourTimezone&&(t=r.HourMinTimezone),e===r.HourTimezoneLong&&(t=r.HourMinTimezoneLong)),o.indexOf(this.locale)<0&&a.indexOf(t)<0?this.hour12?(this.timeFormatsEnUs.has(t)||this.timeFormatsEnUs.set(t,new Intl.DateTimeFormat("en-us",Object.assign({timeZone:this.timeZone},i.get(t)))),this.timeFormatsEnUs.get(t)):(this.timeFormatsEnGb.has(t)||this.timeFormatsEnGb.set(t,new Intl.DateTimeFormat("en-gb",Object.assign({timeZone:this.timeZone},i.get(t)))),this.timeFormatsEnGb.get(t)):(this.timeFormats.has(t)||this.timeFormats.set(t,new Intl.DateTimeFormat(this.locale,Object.assign({timeZone:this.timeZone},i.get(t)))),this.timeFormats.get(t))}formatDateTimeFormatText(e,t,n){const r=this.getFormatObj(t).format(e);let i=this.postProcess(r,n)||"";return i=decodeURIComponent(encodeURIComponent(i).replace(/%E2%80%AF/gi,"%20")),i}postProcess(e,t){let n=e;return t&&t.excludeComma&&(n=n.replace(/,/g,"")),t&&t.excludeSpace&&(n=n.replace(/\s/g,"")),n}}},94516:function(e,t,n){"use strict";var r;n.d(t,{i:function(){return r}}),function(e){e[e.None=0]="None",e[e.JustNow=1]="JustNow",e[e.LessThanOneHour=2]="LessThanOneHour",e[e.Today=3]="Today",e[e.Yesterday=4]="Yesterday",e[e.ThisWeek=5]="ThisWeek",e[e.ThisYear=6]="ThisYear",e[e.FullDate=7]="FullDate",e[e.InMinutes=8]="InMinutes"}(r||(r={}))},24066:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var r=n(33940),i=n(65135),o=n(83448),a=n(73),s=n(33379);function c(e,t,c,u){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(0,s.N)())return;const r=yield n.e("diagnostic-web-vitals").then(n.bind(n,45436));(0,o.lr)().then((()=>{const n=c?{timeToPageReveal:e[a.Y5],timeToPageVisible:e[a.U4]}:void 0;r.initDiagnosticsWebVitals((e=>{u?u({markers:e}):i.M0.sendLoadTimeEvent({markers:e}),Object.entries(e).forEach((([e,n])=>{t[e]=n}))}),e&&e[a.dd]||-1,n)}))}))}},98304:function(e,t,n){"use strict";n.d(t,{iVH:function(){return mr},Evv:function(){return or},EoX:function(){return ir},d1d:function(){return hr},NMS:function(){return rr},iJb:function(){return ur},a4J:function(){return sr},Eol:function(){return Te},YHd:function(){return Vo},gZU:function(){return Bo},_Qv:function(){return _o},L8S:function(){return zo},KH7:function(){return Go},_2Z:function(){return $o},lz:function(){return Do},fvr:function(){return Uo},Bjk:function(){return No},ydI:function(){return Ho},D1F:function(){return jo},WB4:function(){return Wo},ja9:function(){return Ro},nrW:function(){return Ko},FTS:function(){return qo},m9g:function(){return er},Cy3:function(){return lr},Rjz:function(){return $},TQP:function(){return V},fXs:function(){return _},a8F:function(){return gr},rax:function(){return Ia},Z7:function(){return Ie},fje:function(){return Ae},G1z:function(){return Me},na5:function(){return Le},Xqh:function(){return xe},Kbm:function(){return Ee},eto:function(){return ba},UpF:function(){return $r},tfk:function(){return zr},tSD:function(){return Vr},XFJ:function(){return _r},j7$:function(){return Ou},ATu:function(){return Fu},z48:function(){return Lu},L_b:function(){return Iu},uO0:function(){return Ru},Fh0:function(){return Du},dfm:function(){return Ut},o25:function(){return Nu},vZ$:function(){return re},w1v:function(){return ne},x7Y:function(){return ee},B0G:function(){return te},rWi:function(){return Dt},cak:function(){return Wt},rWY:function(){return Ft},jtM:function(){return Rt},h6w:function(){return Fr},Wct:function(){return Or},fkG:function(){return Gt},vH5:function(){return k},EqU:function(){return M},xyt:function(){return A},m9U:function(){return E},IFy:function(){return x},QzW:function(){return I},NPc:function(){return qe},dET:function(){return Ke},fdh:function(){return ra},gX:function(){return Re},iS2:function(){return We},SBd:function(){return Oe},SEf:function(){return Fe},gbr:function(){return De},fU5:function(){return Be},Vwf:function(){return He},lIV:function(){return Ge},sGX:function(){return Ne},HFn:function(){return Ue},TZh:function(){return vr},KDn:function(){return yr},F0_:function(){return Cr},Qsh:function(){return Tr},TKQ:function(){return wr},if_:function(){return br},EIi:function(){return Sr},MmB:function(){return ai},Sp0:function(){return gt},jhM:function(){return js},MD5:function(){return va},huq:function(){return Sa},L90:function(){return ya},V3_:function(){return Ca},GrI:function(){return ke},WXX:function(){return Pe},J_l:function(){return Mc},EUJ:function(){return me},MFH:function(){return Ht},Psw:function(){return dr},rq1:function(){return Aa},ggZ:function(){return ka},Hc7:function(){return ge},THK:function(){return fe},huh:function(){return pe},kKy:function(){return le},COw:function(){return he},RL1:function(){return de},G9t:function(){return La},SQx:function(){return Hs},Wyj:function(){return Gs},bWr:function(){return _s},Eaw:function(){return zs},Gfw:function(){return j},Cfk:function(){return Kn},Zmj:function(){return zn},v73:function(){return qn},rmC:function(){return Qn},I2B:function(){return Yn},vvT:function(){return Zn},ryt:function(){return Xn},K8d:function(){return Jn},lu7:function(){return Dr},ASE:function(){return Rr},IGh:function(){return ie},PYF:function(){return xa},day:function(){return be},$fg:function(){return ce},Lx_:function(){return ue},U4N:function(){return At},fNQ:function(){return wt},dxF:function(){return It},SSg:function(){return Mt},DE1:function(){return yt},udk:function(){return xt},yf9:function(){return Ct},oxX:function(){return Pt},jCZ:function(){return Tt},Q3G:function(){return vt},QW8:function(){return ft},wXh:function(){return mt},sf4:function(){return St},T4K:function(){return kt},jns:function(){return bt},Gm$:function(){return Lt},AIp:function(){return fr},AvP:function(){return je},JYb:function(){return Ma},TBk:function(){return nr},gzO:function(){return Bt},zay:function(){return Nt},NGC:function(){return jt},KKn:function(){return ma},hTy:function(){return Fc},ynG:function(){return fa},MeS:function(){return we},qzL:function(){return Se},d1R:function(){return Jt},Deb:function(){return on},GUM:function(){return dn},Oee:function(){return cn},xz5:function(){return un},W9t:function(){return ln},ylR:function(){return wn},xsK:function(){return Sn},Lyo:function(){return On},wuF:function(){return bn},qoF:function(){return In},bvM:function(){return kn},Ybf:function(){return Tn},yj8:function(){return Ln},ELf:function(){return An},$$P:function(){return Pn},df6:function(){return En},fX9:function(){return Cn},CZl:function(){return an},bf3:function(){return sn},g_B:function(){return yn},is$:function(){return fn},lxu:function(){return Mn},zyV:function(){return pn},hj3:function(){return mn},oG5:function(){return gn},_qL:function(){return Fn},Oex:function(){return rn},HSf:function(){return hn},njC:function(){return vn},Y3w:function(){return Wn},t7r:function(){return xn},pa7:function(){return Rn},FER:function(){return Dn},Mc7:function(){return Nn},XWd:function(){return Hn},_nz:function(){return Un},jSV:function(){return $n},qok:function(){return Vn},yL3:function(){return Bn},Z6e:function(){return _n},nZ_:function(){return jn},C$l:function(){return Gn},rQV:function(){return Qe},w5f:function(){return Ze},Jn:function(){return ae},ev0:function(){return oe},GDZ:function(){return se},v8C:function(){return cr},yJ4:function(){return pr},rEw:function(){return ar},P0B:function(){return Ur},Yp2:function(){return Br},DWd:function(){return Hr},rJ2:function(){return Gr},bAs:function(){return $e},pbt:function(){return qr},apB:function(){return Xr},Kuw:function(){return Kr},eE5:function(){return Zr},g52:function(){return Qr},gTq:function(){return Yr},Ub$:function(){return Jr},k8J:function(){return Ls},T5b:function(){return Is},pCD:function(){return xs},EDA:function(){return f},wJ9:function(){return ye},L7$:function(){return ve},BlE:function(){return v},u45:function(){return C},yWd:function(){return w},XFR:function(){return S},US9:function(){return T},n82:function(){return m},p3y:function(){return y},pIg:function(){return b},ovB:function(){return P},gX7:function(){return vs},mjE:function(){return Cs},SyQ:function(){return ms},Abn:function(){return Ss},qst:function(){return ys},IA3:function(){return _e},IU$:function(){return oi},Eyn:function(){return G},Rz$:function(){return B},umh:function(){return H},anG:function(){return U},mFi:function(){return tr},bfJ:function(){return tn},A_P:function(){return nn},TXH:function(){return en},u$4:function(){return kc},MA5:function(){return Ce},me0:function(){return Rs},MFQ:function(){return Os},nS9:function(){return Ds},Fe_:function(){return Ws},Aps:function(){return Fs},$9$:function(){return Ns},Hif:function(){return Jo},sEv:function(){return ea},vAF:function(){return Yo},vwD:function(){return Xo},fcE:function(){return ta},M7L:function(){return na},tkv:function(){return Uu},GB_:function(){return Pr},N1V:function(){return Mr},CS7:function(){return Lr},GLL:function(){return Ar},Sp_:function(){return kr},A5T:function(){return Ir},g_9:function(){return xr},rP7:function(){return Er},_8J:function(){return Wc},de3:function(){return Rc},cg9:function(){return it},UHb:function(){return nt},o6C:function(){return Je},bwz:function(){return Xe},r_t:function(){return et},A31:function(){return tt},MmD:function(){return ht},lZX:function(){return ot},Ue9:function(){return Ye},q6p:function(){return ct},gr5:function(){return rt},I2u:function(){return ut},P8E:function(){return lt},ZKD:function(){return pt},QUT:function(){return st},Aeb:function(){return at},oPt:function(){return dt},njS:function(){return R},wVp:function(){return L},dQ6:function(){return Ea},NM0:function(){return N},kSd:function(){return W},MTH:function(){return F},NGZ:function(){return D},gIC:function(){return O},Yg3:function(){return Ps},pay:function(){return Zo},VI5:function(){return Qo},fBs:function(){return Yt},U3v:function(){return Kt},MKs:function(){return Zt},Mqb:function(){return _t},pZW:function(){return $t},Uvb:function(){return Vt},m73:function(){return zt},lej:function(){return Qt},t43:function(){return qt},a6r:function(){return Ks},Fst:function(){return Zs},sX$:function(){return Ve},bEm:function(){return nc},E7H:function(){return Na},ic4:function(){return Wa},tLx:function(){return Ka},tN1:function(){return Ga},daM:function(){return Ua},HPv:function(){return za},Ead:function(){return $a},Ely:function(){return Ba},pjz:function(){return Ha},XDS:function(){return _a},rVI:function(){return qa},nvG:function(){return Va},xQV:function(){return Ra},VWS:function(){return ja},w49:function(){return Sc},gwT:function(){return rc},vw0:function(){return ic},jD_:function(){return oc},WZq:function(){return ac},nwJ:function(){return sc},Fo5:function(){return cc},Dj_:function(){return uc},fCl:function(){return lc},w_D:function(){return dc},fmC:function(){return hc},hhX:function(){return pc},UDm:function(){return gc},USb:function(){return fc},E67:function(){return mc},X2J:function(){return vc},xwd:function(){return Cc},FEf:function(){return yc},Uk1:function(){return wc},WjS:function(){return Da},BXO:function(){return ls},s22:function(){return us},h8f:function(){return Fa},sZw:function(){return es},xkR:function(){return ts},a1x:function(){return ns},ATD:function(){return rs},B26:function(){return Qa},$_n:function(){return Ja},BuR:function(){return Ya},fpK:function(){return is},cEh:function(){return os},Lgs:function(){return as},oid:function(){return Za},C4G:function(){return ss},rQm:function(){return cs},g$z:function(){return Xa},agl:function(){return Oa},q0_:function(){return Vs},Y6G:function(){return $s},ev7:function(){return Bs},KyA:function(){return Pc},_yq:function(){return bc},lnl:function(){return Tc},dhI:function(){return vu},$eE:function(){return yu},W56:function(){return Cu},HKi:function(){return uu},Nh3:function(){return lu},bV8:function(){return du},hig:function(){return pu},bIr:function(){return hu},QQY:function(){return gu},rfm:function(){return mu},S8$:function(){return fu},_X1:function(){return cu},I4h:function(){return au},jhV:function(){return su},KWu:function(){return ou},Cm8:function(){return iu},mZ5:function(){return ti},PUF:function(){return ei},fG_:function(){return Ec},XI8:function(){return bi},EDN:function(){return Mu},$Ej:function(){return Ta},a3w:function(){return Pa},A9S:function(){return Ot},Php:function(){return Et},vYO:function(){return xc},cXq:function(){return Nc},c$4:function(){return Xc},wop:function(){return eu},Kdh:function(){return zc},Pc$:function(){return _c},xPl:function(){return Uc},LCb:function(){return Qc},R9m:function(){return jc},v2K:function(){return Kc},oHd:function(){return Bc},EuH:function(){return Yc},oy8:function(){return Vc},Wtq:function(){return Hc},rHl:function(){return tu},cNQ:function(){return Zc},jGO:function(){return $c},R4R:function(){return qc},UKl:function(){return nu},k6j:function(){return Jc},M4n:function(){return Gc},THd:function(){return wa},hxo:function(){return Lc},PMq:function(){return Ic},srQ:function(){return ds},dw4:function(){return Eu},WiH:function(){return Oc},Hx8:function(){return Dc},rT2:function(){return bs},urR:function(){return Ts},KX1:function(){return As},lyH:function(){return ks},n_f:function(){return Ms},UWM:function(){return Es},vat:function(){return ze},yaB:function(){return Xt},FsZ:function(){return ws},LwW:function(){return ri},Nxj:function(){return ii},xuo:function(){return Ac},ERp:function(){return Ki},qJ4:function(){return Zi},drq:function(){return ru},H4x:function(){return X},hT$:function(){return Di},sq0:function(){return qs},dlb:function(){return xi},jB2:function(){return si},x8M:function(){return Xi},EFO:function(){return ro},Xb$:function(){return Si},JIJ:function(){return li},BAH:function(){return ju},BG4:function(){return Wu},ZI9:function(){return Pi},vk3:function(){return Ai},XXL:function(){return qi},Y7e:function(){return zi},m0y:function(){return uo},C$_:function(){return co},MiS:function(){return yo},OzP:function(){return to},_Y2:function(){return Y},OPi:function(){return q},s$v:function(){return ji},A0i:function(){return Mi},qrV:function(){return ui},jao:function(){return di},_h2:function(){return ci},$RH:function(){return Gi},w_l:function(){return Ri},DyB:function(){return Fo},_Bs:function(){return yi},NYL:function(){return hi},cow:function(){return pi},Ukw:function(){return Fi},TXU:function(){return _i},rYL:function(){return Vi},BjF:function(){return Ui},lx2:function(){return $i},vMx:function(){return Bi},Vhf:function(){return Ji},_TC:function(){return Yi},wy1:function(){return Hi},weJ:function(){return Li},Nb3:function(){return vi},Gb:function(){return Qi},BkL:function(){return Ci},hu0:function(){return Oi},S6L:function(){return Wi},kgv:function(){return ao},sCZ:function(){return so},TyD:function(){return io},aES:function(){return no},sPL:function(){return Ti},_Rg:function(){return Ni},nTL:function(){return Q},G1Z:function(){return Z},_lB:function(){return K},AYT:function(){return J},DyR:function(){return gi},DZb:function(){return Co},fcT:function(){return oo},XM_:function(){return eo},Jt0:function(){return wi},z$F:function(){return z},pBE:function(){return ho},zEz:function(){return Ei},kKw:function(){return ki},O96:function(){return fi},cq2:function(){return mi},CwI:function(){return lo},s5R:function(){return Ii},N39:function(){return xu},s7S:function(){return ni},Ecc:function(){return ec},SWP:function(){return Qs},KdC:function(){return Xs},XQI:function(){return Ys},J_V:function(){return Js},YrP:function(){return tc},U7j:function(){return gs},IVG:function(){return ps},mfB:function(){return hs},kiM:function(){return fs},nnD:function(){return Lo},IX6:function(){return jr},Zsh:function(){return Nr},B70:function(){return mo},pzZ:function(){return go},v1x:function(){return fo},nWA:function(){return bo},BKE:function(){return wo},YlS:function(){return po},NYk:function(){return To},uIb:function(){return ko},cFY:function(){return vo},fSk:function(){return Oo},G0I:function(){return Eo},sep:function(){return Mo},u$0:function(){return xo},LP$:function(){return So},YhM:function(){return Po},uth:function(){return Io},M3l:function(){return Ao},jAy:function(){return Us},$HJ:function(){return ha},Od5:function(){return ia},lG7:function(){return ga},yPw:function(){return pa},pOl:function(){return oa},lGs:function(){return da},OnJ:function(){return la},X1V:function(){return sa},_wC:function(){return ua},OE6:function(){return ca},uSS:function(){return aa},mnt:function(){return h},EYX:function(){return Au},huY:function(){return wu},hy5:function(){return Su},NNy:function(){return Pu},rey:function(){return ku},czH:function(){return bu},uzv:function(){return Tu},GQ:function(){return d}});var r=n(79664),i=n(68679);const o=r.z.Alert,a=r.z.NoAlert,s=r.z.HighImpact,c=r.z.Critical,u=i.C.Fallback,l=(i.C.Exceptional,{build:""});function d(e){Object.assign(l,e)}function h(){return l}function p(e,t=r.z.Alert,n,i,o){const a={id:e,severity:t,pb:void 0===n?l:n};return void 0!==i&&(a.message=i),void 0!==o&&(a.source=o),a}function g(e,t){return{build:"",userImpacting:e,errorBehavior:t}}const f=p(1399,a),m=p(8029),v=p(8030),y=p(8031),C=p(8032,s),S=p(8033,s),w=p(8034),b=p(8035),T=p(8036),P=p(8037),k=p(8041,a),A=p(8042),E=p(8043),M=p(8045),x=p(8046,a),I=p(8047),L=p(8052),O=p(8053),F=p(8054,s),D=p(8055,s),R=p(8056),W=p(8057),N=p(8058,a),j=p(8059),U=p(8075),H=p(8076),G=p(8077),B=p(8078),$=p(8090),V=p(8091),_=p(8092),z=p(8100,s,g(!0)),q=p(8101,a),K=p(8102,a),Z=p(8103,o,g(!0)),Q=p(8104,o,g(!0)),Y=p(8105,a),J=p(8107,a),X=p(8109,a),ee=p(8150),te=p(8151,a),ne=p(8152),re=p(8153),ie=p(8160),oe=p(8193),ae=p(8194),se=p(8195),ce=p(8201),ue=p(8202),le=p(8210),de=p(8211),he=p(8212),pe=p(8213),ge=p(8214),fe=p(8215),me=p(8219),ve=p(8220),ye=p(8221),Ce=p(8230),Se=p(8260),we=p(8261,s),be=p(8280),Te=p(8350),Pe=p(8380),ke=p(8381),Ae=p(8600),Ee=p(8601),Me=p(8602),xe=p(8603),Ie=p(8604),Le=p(8605),Oe=p(8810,s),Fe=p(8811,s),De=p(8812,s),Re=p(8813,s),We=p(8814,s),Ne=p(8841,s),je=p(8842,c),Ue=p(8843),He=p(8844),Ge=p(8845,c),Be=p(8846,c),$e=p(8847),Ve=p(8848,s),_e={LoadExperienceError:p(8941)},ze=p(9052),qe=p(9150),Ke=p(9151),Ze=p(9408),Qe=p(9409),Ye=p(9421),Je=p(9424),Xe=p(9425),et=p(9426),tt=p(9427),nt=p(9428),rt=p(9429),it=p(9430),ot=p(9431),at=p(9432),st=p(9433),ct=p(9434),ut=p(9435),lt=p(9436),dt=p(9437),ht=p(9438),pt=p(9439),gt=p(11103),ft=p(13e3),mt=p(13001),vt=p(13100),yt=p(13101),Ct=p(13102),St=p(13103),wt=p(13104),bt=p(13105),Tt=p(13108),Pt=p(13114),kt=p(13115),At=p(13121),Et=p(13126),Mt=p(13127),xt=p(13136),It=p(13137),Lt=p(13138),Ot=p(13143,a),Ft=p(14e3),Dt=p(14001),Rt=p(14003),Wt=p(14004),Nt=p(14006),jt=p(14007),Ut=p(14008),Ht=p(14100,s),Gt=p(14101),Bt=p(14102),$t=p(15e3),Vt=p(15001),_t=p(15002),zt=p(15003),qt=p(15004),Kt=p(15005),Zt=p(15006),Qt=p(15007),Yt=p(15100,s),Jt=p(15101),Xt=p(15303),en=p(18105),tn=p(18108),nn=p(18110),rn=p(2e4),on=p(20001),an=p(20002),sn=p(20003),cn=p(20007,a),un=p(20008),ln=p(20011,a),dn=p(20012),hn=p(20013),pn=p(20014),gn=p(20016),fn=p(20018),mn=p(20020),vn=p(20021),yn=p(20022),Cn=p(20023),Sn=p(20051),wn=p(20053),bn=p(20054),Tn=p(20056),Pn=p(20061),kn=p(20062),An=p(20063),En=p(20064,a),Mn=p(20066),xn=p(20068),In=p(20069,r.z.NoAlert),Ln=p(20071,a),On=p(20072,a),Fn=p(20074),Dn=p(20075),Rn=p(20076),Wn=p(20077),Nn=p(20078),jn=p(20079),Un=p(20080),Hn=p(20081),Gn=p(20082,a),Bn=p(20083),$n=p(20084),Vn=p(20085),_n=p(20086),zn=p(20150),qn=p(20151),Kn=p(20152),Zn=p(20153),Qn=p(20154),Yn=p(20155),Jn=p(20156),Xn=p(20157),er=p(20158),tr=p(20159),nr=p(20162,s),rr=p(20171),ir=p(20172),or=p(20173),ar=p(20174),sr=p(20175),cr=p(20176),ur=p(20178),lr=p(20179),dr=p(20180),hr=p(20184),pr=p(20186),gr=p(20188),fr=p(20189),mr=p(20190,a),vr=p(20200,a),yr=p(20201),Cr=p(20204,a),Sr=p(20205,a),wr=p(20206,c,g(!0)),br=p(20209,a,l,"Service request failed"),Tr=p(20210,a,l,"1S request (assets.msn.*) failed. Retrying using backup domain (assets2.msn.*)"),Pr=p(22012),kr=p(22014,c,g(!0)),Ar=p(22019),Er=p(22020),Mr=p(22022,a),xr=p(22023,a),Ir=p(22024,a),Lr=p(22025,a),Or=p(22027),Fr=p(22028),Dr=p(22029,c),Rr=p(22030,c),Wr="WindowsShellAccountManager.connector.ts",Nr=p(24580,a,l,void 0,Wr),jr=p(24583,o,l,void 0,Wr),Ur=p(28e3),Hr=p(28001),Gr=p(28002),Br=p(28003),$r=p(28100,a),Vr=p(28101),_r=p(28102),zr=p(28103),qr=p(28400),Kr=p(28401,a),Zr=p(28410),Qr=p(28411,a),Yr=p(28414),Jr=p(28415),Xr=p(28416),ei=p(28600),ti=p(28601),ni=p(29002,a),ri=p(29100),ii=p(29101),oi=p(29102),ai=p(29103),si=p(29500,s,g(!0)),ci=p(29501,o,g(!0)),ui=p(29502,o,g(!0)),li=p(29503,a),di=p(29504),hi=p(29505,o,g(!0)),pi=p(29506,o,g(!0)),gi=p(29507,o,g(!0)),fi=p(29510,o,g(!0)),mi=p(29511,o,g(!0)),vi=p(29515,o,g(!0)),yi=p(29517,o,g(!0)),Ci=p(29519,o,g(!0)),Si=p(29522,o,g(!0)),wi=p(29524,o,g(!1,u)),bi=p(29526,o,g(!0)),Ti=p(29527,o,g(!0)),Pi=p(29528),ki=p(29530,a),Ai=p(29531,o,g(!0)),Ei=p(29532,a,g(!1)),Mi=p(29533,o,g(!0)),xi=p(29534,a,g(!1)),Ii=p(29536,s,g(!0)),Li=p(29538,a,g(!0)),Oi=p(29539,o,g(!0)),Fi=p(29540,s,g(!0)),Di=p(29541,a,g(!1)),Ri=p(29542,o,g(!0)),Wi=p(29543,o,g(!0)),Ni=p(29544,a,g(!0)),ji=p(29545,s,g(!0)),Ui=p(29550,c,g(!0)),Hi=p(29551,c,g(!0)),Gi=p(29552,c,g(!0)),Bi=p(29553,s,g(!0)),$i=p(29554,a,g(!0)),Vi=p(29555,o,g(!0)),_i=p(29556,o,g(!0)),zi=p(29558,o,g(!0)),qi=p(29559,o,g(!0)),Ki=p(29560,o,g(!0)),Zi=p(29561,o,g(!0)),Qi=p(29562,o,g(!0)),Yi=p(29563,o,g(!0)),Ji=p(29564,c,g(!0)),Xi=p(29565,o,g(!0)),eo=p(29567,a,g(!1,u)),to=p(29568,o,g(!0)),no=p(29570,o,g(!1)),ro=p(29571,o,g(!1)),io=p(29585,a,g(!1)),oo=p(29589,a,g(!0)),ao=p(29590,a,g(!0)),so=p(29591,a,g(!0)),co=p(29592,a,g(!1)),uo=p(29597,o,g(!0)),lo=p(29598,a,g(!1)),ho=p(29599,a,g(!0)),po=p(29603),go=p(29604),fo=p(29605),mo=p(29606,a),vo=p(29608,a),yo=p(29609,s,g(!0)),Co=p(29624,a),So=p(29690),wo=p(29710),bo=p(29716),To=p(29719),Po=p(29729,a),ko=p(29734,a),Ao=p(29744,a),Eo=p(29751),Mo=p(29752),xo=p(29753),Io=p(29754),Lo=p(29756,a),Oo=p(29757),Fo=p(29955,o,g(!0)),Do=p(33018,a),Ro=p(33020),Wo=p(33100),No=p(33102),jo=p(33103),Uo=p(33105),Ho=p(33110),Go=p(33112),Bo=p(33113,a),$o=p(33114),Vo=p(33130,c,g(!0)),_o=p(33150),zo=p(33151),qo=p(33160,c,g(!0)),Ko=p(33161,c,g(!0)),Zo=p(34005,a),Qo=p(34009,a),Yo=p(35600,a),Jo=p(35601,a),Xo=p(35602,a),ea=p(35603,a),ta=p(35700),na=p(35701),ra=p(35800),ia=p(36300),oa=p(36302),aa=p(36311),sa=p(36313),ca=p(36314,a),ua=p(36315),la=p(36317,a),da=p(36320,a),ha=p(36321),pa=p(36323,a),ga=p(36324,a),fa=p(36401),ma=p(36500),va=p(36600),ya=p(36601),Ca=p(36602),Sa=p(36603),wa=p(36604),ba=p(36605),Ta=p(36606),Pa=p(36607),ka=p(36700),Aa=p(36701,a),Ea=p(36702),Ma=p(36703,s,g(!0)),xa=p(36704),Ia=p(36705,a),La=p(36991,o,g(!1)),Oa=p(37e3),Fa=p(37001),Da=p(37002),Ra=p(37020),Wa=p(37021),Na=p(37022),ja=p(37023),Ua=p(37024),Ha=p(37025),Ga=p(37026),Ba=p(37028),$a=p(37029),Va=p(37030),_a=p(37031),za=p(37032),qa=p(37033),Ka=p(37035),Za=p(37055),Qa=p(37058),Ya=p(37060),Ja=p(37061),Xa=p(37062),es=p(37063),ts=p(37064),ns=p(37065),rs=p(37066),is=p(37068),os=p(37069),as=p(37070),ss=p(37072),cs=p(37073),us=p(37074),ls=p(37075),ds=p(37300,a),hs=p(37550),ps=p(37551),gs=p(37552),fs=p(37553),ms=p(37560),vs=p(37561),ys=p(37562),Cs=p(37563),Ss=p(37566),ws=p(37568),bs=p(38040),Ts=p(38041),Ps=p(38046,c),ks=p(38105),As=p(38116),Es=p(38119),Ms=p(38120),xs=p(38600),Is=p(38601),Ls=p(38602),Os=p(38603),Fs=p(38604),Ds=p(38605),Rs=p(38606),Ws=p(38607,a),Ns=p(38608,a),js=p(39710,a),Us=p(40303,a),Hs=p(41171,c),Gs=p(41173,c),Bs=p(41178),$s=p(41179),Vs=p(41180),_s=p(41185,c),zs=p(41250,a),qs=p(42602),Ks=p(43e3),Zs=p(43012,a),Qs=p(43700),Ys=p(43701),Js=p(43702),Xs=p(43703),ec=p(43705),tc=p(43706,a),nc=p(43801),rc=p(43900),ic=p(43901),oc=p(43902),ac=p(43903),sc=p(43904),cc=p(43905),uc=p(43906),lc=p(43907),dc=p(43908),hc=p(43909),pc=p(43910),gc=p(43911),fc=p(43912),mc=p(43913),vc=p(43914),yc=p(43915),Cc=p(43916),Sc=p(43917),wc=p(43918),bc=p(43968),Tc=p(43970),Pc=p(43985),kc=p(43991),Ac=p(44200),Ec=p(44300),Mc=p(44709),xc=p(45700),Ic=p(50100),Lc=p(50101),Oc=p(50400,a),Fc=p(50402),Dc=p(50403),Rc=p(60020),Wc=p(60021),Nc=p(70202),jc=p(70203),Uc=p(70204),Hc=p(70205),Gc=p(70206),Bc=p(70207),$c=p(70208),Vc=p(70209),_c=p(70210),zc=p(70211),qc=p(70212),Kc=p(70213),Zc=p(70214),Qc=p(70216),Yc=p(70217),Jc=p(70218),Xc=p(70222),eu=p(70223),tu=p(70224),nu=p(70225),ru=p(70226),iu=(r.z.NoAlert,p(73210,o,g(!0))),ou=p(73211),au=p(73212,s),su=p(73213,s),cu=p(73215,o,g(!0)),uu=p(73255,s,g(!0)),lu=p(73256,s,g(!0)),du=p(73257,s,g(!0)),hu=p(73258,s,g(!0)),pu=p(73259,s,g(!1)),gu=p(73260),fu=p(73261,o,g(!0)),mu=p(73262,s,g(!0)),vu=p(73263,s,g(!0)),yu=p(73264,s,g(!1)),Cu=p(73265),Su=(r.z.HighImpact,r.z.HighImpact,r.z.HighImpact,r.z.HighImpact,r.z.HighImpact,r.z.HighImpact,p(90300)),wu=p(90301),bu=p(90303),Tu=p(90305),Pu=p(90306),ku=p(90307),Au=p(90308,a),Eu=p(112001,a),Mu=p(135020),xu=p(140006),Iu=(r.z.NoAlert,p(143e3,a)),Lu=p(143001,c),Ou=p(143002,c),Fu=p(143003,c),Du=p(143004),Ru=p(143005),Wu=p(146e3,o,g(!0)),Nu=p(222201,a),ju=p(222224),Uu=p(223201)},20390:function(e,t,n){"use strict";n.d(t,{M:function(){return h}});var r=n(1970),i=n(84147),o=n(26482),a=n(95912),s=n(53723);class c extends s.i{constructor(e,t,n,r,i,o,a){super(t,n,r,i,o,a),this.RequestId=e}set isMetrics(e){this._isMetrics=e}get isMetrics(){return this._isMetrics}}var u=n(67509),l=n(33379),d=n(34449);class h{constructor(e,t=""){this.requestId=t,(0,l.N)()?(this.logger=o.e.getInstance("ExperienceLogger",i.i.Info,u.N.Browser),this.isDebugEnabled=((0,d._)(e,"debug")||"").toLowerCase()in{1:1,true:1},this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):(this.logger=o.e.getInstance("ExperienceLogger",i.i.Info,u.N.NodeJs),this.isDebugEnabled=!1),this.setupLogLevel()}getLoggingService(){return this.logger}isDebug(){return this.isDebugEnabled}setDebug(e){this.isDebugEnabled=e,this.setupLogLevel()}setTags(e){this.tags=e}log(e,t){if(!this.tags||!this.tags.length||t&&t.length&&t.filter((e=>this.tags.includes(e))).length>0){const t=new c(this.requestId,e);this.logger.info(t)}}logError(e){const t=new c(this.requestId,e);this.logger.error(t)}logCallback(e){this.logger.infoCallback(e)}logObjects(...e){const t=new c(this.requestId,null,e);this.logger.info(t)}logSingleObject(e,t=!1){const n=new c(this.requestId,null,e);n.isMetrics=t,this.logger.info(n)}setupLogLevel(){this.logger.setLevel(this.isDebug()?i.i.Info:i.i.Error),this.setupAppenders()}setupAppenders(){this.logger.removeAllAppenders(),(0,l.N)()?this.logger.addAppender(new r.N(this.logger.getLevel())):this.logger.addAppender(new a.m(this.logger.getLevel()))}}},68364:function(e,t,n){"use strict";n.d(t,{H:function(){return s},OO:function(){return a},Tr:function(){return c}});var r=n(65135),i=n(98304),o=n(49972);function a(e,t,n,i,a={}){const s=c(t,n,i||(0,o.n)(e),a);s.pb.stack=e&&e.stack||void 0,r.M0&&r.M0.sendAppErrorEvent(s)}function s(e,t,n,i={}){r.M0&&r.M0.sendAppErrorEvent(c(e,t,n,i))}function c(e,t,n,r={}){const o=(0,i.mnt)();return Object.assign(Object.assign({},e),{message:t||e.message,pb:n?Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),e.pb),{customMessage:n}),r),{w:1}):Object.assign(Object.assign(Object.assign(Object.assign({},o),e.pb),r),{w:1})})}},86969:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(34449),i=n(33379);class o{constructor(){(0,i.N)()?(this.isDebugEnabled=((0,r._)(window.location.href,"debug")||"").toLowerCase()in{1:1,true:1},this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):this.isDebugEnabled=!1}getLoggingService(){return null}isDebug(){return this.isDebugEnabled}setDebug(e){this.isDebugEnabled=e}setTags(e){}log(e,t){this.isDebug()&&console.info(e)}logError(e){console.error(e)}logCallback(e){this.isDebug()&&console.info(e())}logObjects(...e){this.isDebug()&&console.log(...e)}logSingleObject(e,t){this.isDebug()&&console.log(e)}}},33954:function(e,t,n){"use strict";function r(e){i=e}n.d(t,{E:function(){return r},k:function(){return i}});let i=new(n(86969).C)},34449:function(e,t,n){"use strict";function r(e,t){const n=t.replace(/[[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(e);if(!r)return null;const i=r[2];return decodeURIComponent(i.replace(/\+/g," "))||""}n.d(t,{_:function(){return r}})},29772:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(22704),i=n(54533),o=n(17971);function a(e={}){const t=Object.assign(Object.assign({},(0,r.Ou)()),(0,r.Y9)()),n=[],o={WW:{pid:0},Resolver:{pid:1},Ads:{pid:2},Telemetry:{pid:3},"Content Preview":{pid:4},Images:{pid:5},JS:{pid:6},Statics:{pid:7},Configs:{pid:8},Services:{pid:9},nextPID:{pid:20}},a=100;!function(e,t,n){const r=[{name:"Ads",regex:/(\/srtb\.|taboola|outbrain)/i},{name:"Telemetry",regex:/(otf\.|\/c\.gif)/i},{name:"Content Preview",regex:/\/content\/view\/v[0-9]\/Preview\//i},{name:"Images",regex:/(img-s-msn-com|\.svg)/i},{name:"JS",regex:/\.js/i},{name:"Statics",regex:/statics/i},{name:"Configs",regex:/\/config/i},{name:"Services",regex:/(\/service\/|api|\/getappanoncookie|content|microsoftonline)/i}];let i=performance.getEntriesByType("resource").filter((t=>{const{duration:n,startTime:r}=t;return g(e,r,r+n)}));r.forEach((e=>{h(e.name,n);const r=[];i.filter((t=>{const n=t.name.match(e.regex);return n||r.push(t),n})).forEach(((n,r)=>{const i=new URL(n.name),o=i.pathname.length>1?i.pathname:i.hostname;t.push({async:!0,timelineName:e.name,coreName:o,idSuffix:`-${r}`,from:n.startTime,to:n.startTime+n.duration})})),i=r}))}(e,n,o),function(e,t,n,r){n.forEach((n=>{const{async:i,timelineName:o}=n;i&&h(o,r),g(e,n.from,n.to)&&t.push(n)}))}(e,n,(0,i.iG)(),o),d(e,n,t,o,/^WW\./,"WW");const f=Object.assign({},window._appTimings||{});d(e,n,f,o,/.*/);const m=[];m.push(c(e,"Global","NavStart",a,0,"g")),Object.keys(t).filter((n=>n.match(/TT/)&&g(e,t[n]))).sort(((e,n)=>t[e]-t[n])).forEach((n=>m.push(c(e,"Global",n,a,t[n],"g")))),Object.keys(t).filter((n=>n.match(/^WW\./i)&&g(e,t[n]))).sort(((e,n)=>t[e]-t[n])).forEach((n=>m.push(c(e,"WW",n,o.WW.pid,t[n],"p")))),m.push(s("process_name",a,{name:"Main"})),m.push(s("process_sort_index",a,{sort_index:a}));const{uploadTrace:v}=e;return l(e,n,!0).forEach(((t,n)=>{const{pid:r}=o[t.name];t.measures.forEach(((t,i)=>{const{timelineName:o,coreName:a,idSuffix:s,from:c,to:l,customData:d}=t,h=("000"+i).substr(-3,3),p=a+s,g=v?function(e){const t=e.lastIndexOf("/");return t>=0?e.substr(t+1):e}(p):p,f=`${h}-${g}`;m.push(...function(e,t,n,r,i,o,a,s,c,l){return[u(e,t,n,l?"B":"b",r,i,a,{id:o}),u(e,t,n,l?"E":"e",r,i,s,{id:o,args:JSON.stringify(c)})]}(e,o,f,r,n,i,c,l,d))})),m.push(s("process_name",r,{name:t.name})),m.push(s("process_sort_index",r,{sort_index:r})),m.push(s("thread_name",r,{name:t.name},n)),m.push(s("thread_sort_index",r,{sort_index:n},n))})),l(e,n,!1).forEach(((t,n)=>{t.measures.forEach((t=>{const{timelineName:r,coreName:i,idSuffix:o,from:a,to:s,customData:c}=t,l=i+o;m.push(function(e,t,n,r,i,o,a,s){const c=p(a-o);return u(e,t,n,"X",r,i,o,{dur:c,args:JSON.stringify(s)})}(e,r,l,100,n,a,s,c))})),m.push(s("thread_name",100,{name:t.name},n)),m.push(s("thread_sort_index",100,{sort_index:n},n))})),m}function s(e,t,n,r){const i={name:e,ph:"M",pid:t,args:n};return null!=r&&(i.tid=r),i}function c(e,t,n,r,i,o){return u(e,t,n,"i",r,null,i,{s:o})}function u(e,t,n,r,i,o=null,a,s){const c=Object.assign({cat:t,name:n,ph:r,pid:i,tid:o,ts:p(a)},s);return null!=o&&(c.tid=o),c}function l(e,t,n){const r=(0,o.Z)(t.filter((t=>!!t.async===n&&g(e,t.from,t.to))),(e=>e.timelineName)),i=[];let a=0;return Object.keys(r).forEach((e=>{const t=r[e].sort(((e,t)=>e.from-t.from));a=Math.max(a,t[t.length-1].to),i.push({name:e,measures:t})})),i.sort(((e,t)=>e.measures[0].from-t.measures[0].from))}function d(e,t,n,r,i,o){const a=/-?[Ss]tart$/,s={"-Start":"-End","-start":"-end",Start:"End",start:"end"},c=[];Object.keys(n).filter((e=>e.match(i))).forEach((i=>{const u=i.match(a);if(!u)return;let l=i.replace(a,"");const d=`${l}${s[u[0]]}`,h=u&&n[d];if(!h)return;c.push(i),c.push(d);let p=o;if(!p){const e=l.match(/(.+)\.(.+)/);if(!e)return;p=e[1],l=e[2]}const f=n[i];g(e,f,h)&&t.push({async:!!r[p],timelineName:p,coreName:l,idSuffix:"",from:f,to:h})}));for(const e of c)delete n[e]}function h(e,t){if(!t[e])return t[e]={pid:t.nextPID.pid++},!0}function p(e){return Math.round(1e3*e)}function g(e,t,n){return!e.uploadTrace||!e.maxTime||(!t||t<=e.maxTime)&&(!n||n<=e.maxTime)}},30876:function(e,t,n){"use strict";n.d(t,{Y:function(){return r},c:function(){return o}});var r,i=n(33954);function o(e){try{const t=new URL(e).searchParams,n=t.get("expPerf"),i=t.get("expPerfSkip");if("all"==i)return{enablePerfTimeline:!1};if(!i&&!n)return{};const o={enablePerfTimeline:!0,uploadTrace:!1,sampleRate:1,uploadCriteria:{minimumTTVR:0}};if("all"===n)o.trackAllExp=!0,o.experiencesExcludedForPerf={};else if(n){const e=o.experiencesForPerf={};n.split(",").forEach((t=>e[t]=!0))}if(i){const e=o.experiencesExcludedForPerf={};i.split(",").forEach((t=>e[t]=!0))}"true"===t.get("expPerfMarks")&&(o.addPerformanceMarks=!0),"true"===t.get("expPerfTimings")&&(o.addPageTimings=!0);const a=parseInt(t.get("expPerfLevel"));return o.traceLevel=null!=r[a]?a:r.default,o}catch(e){return i.k.logError("Error parsing URL for detecting experience diagnostic switches: "+e),{}}}!function(e){e[e.default=0]="default",e[e.medium=1]="medium",e[e.high=2]="high"}(r||(r={}))},54533:function(e,t,n){"use strict";n.d(t,{Xn:function(){return L},dj:function(){return A},iG:function(){return I},g7:function(){return k},MV:function(){return x},FH:function(){return E},Im:function(){return M}});var r=n(30876),i=n(21050),o=n(52575),a=n(73371),s=n(58281),c=n(22704),u=n(73898);const l=(0,c.Ou)(),d=new s.K,h="-start",p="-end";class g{constructor(e,t,n,r,i){this.timelineName=e,this.instanceId=t,this.addPerfMarks=n,this.addPageTimings=r,this.async=i,this.measures=new v,this.timeRange=[1/0,-1/0],this.timelineName=d.qualifyKey(e)}get timeSpan(){const[e,t]=this.timeRange;if(e!==1/0&&t!==-1/0)return[e,t-e]}startMeasure(e,t,n){const{async:r,startTime:i}=n||{},o=C(i);if(null==o)return{endMeasure:u.Z};const{timeRange:a}=this;o<a[0]&&(a[0]=o);const s=m(e,t),c=this.measures.add({coreName:s,from:o,async:null!=r?r:this.async,idSuffix:""},n);return{endMeasure:n=>{const{customSuffix:r,customData:i,endTime:s}=n||{},u=C(s);if(null==u||u<o)return;if(r&&t!==r){const t=m(e,r);this.measures.rename(c,t)}c.to=u,c.customData=i,u>a[1]&&(a[1]=u);!function(e,t,n,r){if(!n&&!r)return;const{from:i,to:o}=t;if(null!=i){const t=e+h;if(n&&(l[t]=i),r&&performance.mark(t,{startTime:i}),null!=o&&(n&&(l[e]=o-i),r)){const n=e+p;performance.mark(n,{startTime:o}),performance.measure(e,t,n)}}}(y(this.timelineName,c),c,this.addPageTimings,this.addPerfMarks)}}}rename(e){if(this.timelineName!==e){if(this.addPageTimings){const t=this.timelineName;this.measures.get().forEach((n=>{const r=y(t,n);delete l[r+h],delete l[r];const i=y(e,n);l[i+h]=n.from,l[i]=n.to-n.from}))}this.timelineName=e}}getPageMeasures(){return this.measures.get().map((e=>Object.assign(Object.assign({},e),{timelineName:this.timelineName})))}getMeasureValues(e){return this.measures.get(e)}instrumentFunc(e,t,n){return(...r)=>{const i=this.startMeasure(e).endMeasure;try{const o=t.apply(n,r);return o instanceof Promise?f(o,e,i):i(),o}catch(e){i({customSuffix:"error"})}}}instrumentPromise(e,t,n){const r=this.startMeasure(e,null,n).endMeasure;return f(t(),e,r)}}function f(e,t,n){return e.then((()=>n())).catch((()=>n({customSuffix:"error"}))),e}function m(e,t){return t?`${e}-${t}`:e}class v{constructor(){this.list=[],this.map=new Map,this.entIndices=[]}add(e,t){const{list:n}=this;return t&&t.entityMeasure&&this.entIndices.push(n.length),n.push(e),this.addToMap(e)}addToMap(e){const t=e.coreName;let n=this.map.get(t);return n||this.map.set(t,n=[]),e.idSuffix=(0,s.p)(n.length),n.push(e),e}get(e){const{list:t}=this;if(!e)return t;const{coreName:n}=e;let r=t;return n?r=this.map.get(n)||[]:e.entityMeasures&&(r=this.entIndices.map((e=>t[e]))),r}rename(e,t){const n=e.coreName;if(n==t)return;const r=this.map.get(n),i=r.indexOf(e);if(i>=0){r.splice(i,1);for(let e=i,t=r.length;e<t;e++)r[e].idSuffix=(0,s.p)(e);e.coreName=t,this.addToMap(e)}}}function y(e,t){return`${e}-${t.coreName}${t.idSuffix}`}function C(e){return"number"==typeof e?e>=0?e:null:null!=e?null:performance.now()}var S=n(33379),w=n(33954),b=n(58796);let T;const P={};function k(e,t){(0,i.S4)(t),function(e){Object.assign(P,T=(0,r.c)(e))}(e)}function A(){return P}function E(e){P.enablePerfTimeline=e,P.trackAllExp=e,P.enableEntityMetricsTimeline=e,P.traceLevel=r.Y.default}const M=(e,t,n)=>function(e){if(!P.enablePerfTimeline)return!1;const{experiencesForPerf:t}=P;if(t&&t[e])return!0;const{experiencesExcludedForPerf:n}=P;if(n&&n[e])return!1;return P.trackAllExp}(e)?function(e,t,n){const r=F(e,t);return b.U[r]||(b.U[r]=(0,i.uk)(g,e,t,P.addPerformanceMarks,P.addPageTimings,n))}(e,t,n):void 0;function x(e,t){const n=O(e);if(b.U[n]!==e)return void w.k.logError(`Attempted to rename a perf timeline object with mismatching instance key ${n}`);e.rename(t),delete b.U[n];const r=O(e);b.U[r]=e}function I(){const e=[];return Object.keys(b.U).forEach((t=>e.push(...b.U[t].getPageMeasures()))),e}function L(e){P.enableEntityMetricsTimeline&&(0,a.Yt)(e)}function O(e){const{timelineName:t,instanceId:n}=e;return F(t,n)}function F(e,t){return`${e}-${t||"0"}`}(0,S.N)()&&(window._getEntityMetricsCollection=e=>(0,a.HK)(Object.values(b.U),(0,o.At)(e)))},7370:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var r=n(29772),i=n(54533),o=n(21050),a=n(33379),s=n(79278),c=n(30876),u=n(14675),l=n(59902),d=n(73371),h=n(61502);function p(e,t,n,p,f){(0,i.g7)(e,t),(0,s.n1)(),function(e,t,n,r,i){(0,d.TG)(e,n,t,r,i),(0,h.ny)((0,o.oA)("fetch","fetch",!0)),(0,l.DY)((0,o.oA)("custom-em","custom-em",!0))}(f,p,n,(()=>(0,i.FH)(!0)),(()=>(0,i.FH)(!1))),(0,i.dj)().traceLevel>=c.Y.high&&(g("RAF",requestAnimationFrame),g("RAFTimer",u.c)),(0,a.N)()&&(window._getAppPerfTrace=r.c)}function g(e,t){const n=(0,o.oA)(e,e);n&&function e(){const{endMeasure:r}=n.startMeasure("frame");t((()=>{r(),e()}))}()}},58281:function(e,t,n){"use strict";n.d(t,{K:function(){return r},p:function(){return i}});class r{constructor(){this.counts={}}qualifyKey(e){e||(e="NA");return e+this.qualifySuffix(e)}qualifySuffix(e){return i(this.addCount(e)-1)}reset(){this.counts={}}addCount(e){return this.counts[e]=(this.counts[e]||0)+1}}function i(e){return e<=0?"":"-"+(e+1)}},23163:function(e,t,n){"use strict";n.d(t,{Am:function(){return g},F$:function(){return p},H7:function(){return a},Oq:function(){return s},bg:function(){return o},dw:function(){return u},iA:function(){return l},zV:function(){return c}});var r=n(33379);const i=["vendors","microsoft","common","experience"];function o(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("resource").filter((e=>"script"===e.initiatorType));for(const n of i){const r=t.find((e=>e.name.indexOf(n)>=0));r&&d(e,r,n+"JS")}}}function a(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("resource").filter((e=>"script"===e.initiatorType));for(const n of i){const r=t.find((e=>e.name.indexOf(n)>=0));r&&h(e,r,n+"JS")}}}function s(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("navigation");if(t&&t.length){const n=t[0];n&&d(e,n,"html")}}}function c(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("resource");if(t&&t.length){const n=t.find((e=>e.name.indexOf("/Feed/me")>=0));n&&d(e,n,"feed")}}}function u(e){if(!(0,r.N)()||!e)return;const t=navigator;if(t.connection){const n=t.connection;"rtt"in n&&(e.rtt=n.rtt),"downlink"in n&&(e.downlink=n.downlink)}"hardwareConcurrency"in navigator&&(e.hardwareConcurrency=navigator.hardwareConcurrency)}function l(e){e&&(e.isIDBSupported=window.indexedDB?1:0,e.isSWSupported=window.navigator.serviceWorker?1:0,e.isWWPresent=window._isWebWorkerPresent?1:0)}function d(e,t,n){const r=p(t);null!=r&&(e[n+"Cached"]=r?1:0)}function h(e,t,n){const{responseEnd:r,responseStart:i}=t;e[n+"ResponseTime"]=Math.round(r-i),e[n+"ResponseStart"]=Math.round(i),e[n+"ResponseEnd"]=Math.round(r)}function p(e){return void 0!==e.transferSize?!(0!==e.transferSize&&300!==e.transferSize):void 0!==e.nextHopProtocol?!(""!==e.nextHopProtocol):void 0}function g(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("navigation");if(t.length){const n=t[0],r="useragent_launch";"type"in n&&(e.isBrowserLaunch=n.type===r?1:0)}}}},22704:function(e,t,n){"use strict";n.d(t,{A1:function(){return l},O8:function(){return c},Ou:function(){return o},Th:function(){return d},UE:function(){return u},WP:function(){return s},Y9:function(){return a}});var r=n(33379),i=n(27003);function o(){return(0,r.N)()?window._pageTimings||(window._pageTimings={}):i.Gq.get("__diagnostics_pageTimings",(()=>({})))}function a(){return(0,r.N)()?window._secondaryPageTimings||(window._secondaryPageTimings={}):i.Gq.get("__diagnostics_secondaryPageTimings",(()=>({})))}function s(){return(0,r.N)()?window._webVitalsPageTimings||(window._webVitalsPageTimings={}):i.Gq.get("__diagnostics_webVitalsPageTimings",(()=>({})))}function c(e,t=!0){const n=o();if(!e||!n||t&&n.TTVR)return;const r=n[e]||(n[e]=0);n[e]=r+1}function u(){return(0,r.N)()?performance.now():performance.now()-o().ssrTimeOrigin}function l(){if((0,r.N)()&&navigator)return{memory:navigator.deviceMemory,cpu:navigator.hardwareConcurrency,networkSpeed:navigator.connection&&navigator.connection.effectiveType}}function d(){if(!(0,r.N)())return;const e=(performance.getEntriesByType("navigation")||[])[0],t={};for(const n in e){const r=e[n];t[n]="number"==typeof r?Math.round(r):r}return t}},89696:function(e,t,n){"use strict";n.d(t,{FF:function(){return a},hf:function(){return s},v0:function(){return c}});var r=n(22704),i=n(19388),o=n(62676);function a(e,t){const n=performance.now(),r=t&&t.firstTimeOnly;t&&t.logStart&&s(`${e}-start`,n,r);const i=t&&t.perfTimeline,o=i&&i.startMeasure(e).endMeasure;return function(){const i=performance.now();t&&t.logEnd&&s(`${e}-end`,i,r),t&&!t.logDuration||s(e,i-n,r),o&&o()}}function s(e,t=performance.now(),n){const i=(0,r.Ou)();return n&&void 0!==i[e]?i[e]:(i[e]=Math.round(10*t)/10,t)}function c(e,t=performance.now()){const n=e&&(0,i.TZ)(o.DB)||0;return t+(n>0?-n:0)}},14752:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(33940),i=n(33954);const o="-start";class a{constructor(){this.endMarkSuffix="-end","undefined"!=typeof window&&this.initialize(window.performance)}static getInstance(){return a.instance||(a.instance=new a),a.instance}initialize(e){this.performance=e}startMark(e){this.singleMark(e+o)}endMark(e){this.singleMark(e+this.endMarkSuffix),this.measureStartEnd(e)}singleMark(e){const t=this.performance;t&&t.mark&&t.mark(e)}clearMark(e){const t=this.performance;t&&t.clearMarks&&t.clearMarks(e)}clearMeasures(e){const t=this.performance;t&&t.clearMeasures&&t.clearMeasures(e)}measurePromise(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){this.startMark(e);const n=yield t();return this.endMark(e),n}))}measurePerfMarker(e){if(!this.performance)return;const t={},n=this.performance.getEntriesByType("mark");if(!n)return t;for(let r=0;r<n.length;r++){let i=n[r].name;if(!i||null==n[r].startTime)continue;if(i=i.replace(/-(end|start)$/i,""),!i.startsWith(e))continue;const o=t[i]||new c(i);o.processPerfEntry(n[r]),o.isValid&&(t[i]=o)}return t}measureStartEnd(e){const t=this.performance;if(t&&t.measure)try{t.measure(e,e+o,e+this.endMarkSuffix)}catch(t){i.k.logError(`Error while attempting to measure start/end of '${e}'. Error: ${t}`)}}}const s=a.getInstance();class c{constructor(e){this.duration=0,this.markerName=e}get isValid(){return null!=this.startTime}processPerfEntry(e){e.name.endsWith(o)?(this.firstStartTime||(this.firstStartTime=e.startTime),this.startTime=e.startTime):null!=this.startTime&&(this.duration+=e.startTime-this.startTime,this.startTime=null)}}},62676:function(e,t,n){"use strict";n.d(t,{DB:function(){return a},Fz:function(){return d},Hm:function(){return l},IP:function(){return c},MV:function(){return r},P9:function(){return f},V4:function(){return m},Wk:function(){return g},fR:function(){return u},iL:function(){return h},kc:function(){return o},pJ:function(){return s},qh:function(){return i},w:function(){return p},zJ:function(){return v}});const r="TTVR",i="TTVS",o="htmlCached",a="pageRevealStart",s="protocolLaunchStart",c="FromProtocolLaunchStart",u="userAgentStart",l="FromUserAgentStart",d="PCSToJSStart",h="JSStartToOnLoad",p="TTJSStart",g="timeToOnLoad",f="timeToFirstByte",m="prerender",v="FCP_Old"},19388:function(e,t,n){"use strict";n.d(t,{BW:function(){return _},FU:function(){return $},Gb:function(){return V},IJ:function(){return K},IO:function(){return J},Nv:function(){return re},O0:function(){return ve},OZ:function(){return ye},O_:function(){return Z},S_:function(){return ae},TZ:function(){return me},Xl:function(){return X},aR:function(){return Ce},b1:function(){return oe},bO:function(){return le},bP:function(){return ce},dv:function(){return ee},e3:function(){return ie},gh:function(){return ue},ny:function(){return ne},nz:function(){return W},oN:function(){return r},o_:function(){return z},su:function(){return Q},sx:function(){return Se},tW:function(){return te}});var r,i=n(62676),o=n(33379),a=n(59902),s=n(22704),c=n(85663),u=n(14752),l=n(14675);let d,h,p,g,f,m,v;!function(e){e.Primary="primary",e.Secondary="secondary"}(r||(r={}));const y=new Map,C=new Map,S=new Map;let w,b,T,P,k,A,E,M,x=new Map,I=new Map,L=[];const O="TTF.",F="TTVR.",D="TTVS.",R="TTPR.",W="TTSR.";let N="",j=!1,U=!1,H="";const G={};let B;function $(){B=!1}function V(){return G}function _(e="",t=!1,n){if((0,o.N)())return n=n||performance.now(),Y(O,e,t,n)}function z(e="",t=!1,n){if((0,o.N)())return n=n||performance.now(),Y(F,e,t,n),q(e),n}function q(e){if(L.length)try{L.map((t=>t(e)))}catch(e){}}function K(e="",t=!1,n){(0,l.c)((()=>z(e,t,n)))}function Z(e,t,n){Q(e,n-t)&&(0,a.QP)({name:e,startTime:t,endTime:n})}function Q(e,t){if(I.get(e))return!1;const n=performance.getEntriesByName&&performance.getEntriesByName(e);let r;return Boolean(n&&n.length)?I.has(e)||(I.set(e,Math.round(n[0].startTime)),r=!0):(u.A.singleMark(e),I.set(e,(0,c.isNullOrUndefined)(t)?-1:Math.round(t)),r=!0),h&&h.delete(e)&&0===h.size&&A&&A(ue()),r}function Y(e,t,n,r){if(!t||!t.length)return;if(!e||!e.length)return;const o=e+t;if(o.startsWith(F)&&(!f||!f.has(o))&&m&&m.has(o))return void Q(o,n?-1:r);if(S.has(o)&&S.get(o)(o),x.get(o))return;const a=performance.getEntriesByName&&performance.getEntriesByName(o);Boolean(a&&a.length)?x.set(o,Math.round(a[0].startTime)):(u.A.singleMark(o),n?x.set(o,-1):x.set(o,Math.round(r))),o.startsWith(F)&&(G.marker=o,G.value=x.get(o)),p&&p.delete(o)&&0===p.size&&b&&b(pe()),d&&d.delete(o)&&0===d.size&&P&&P(se()),e===D&&M&&M(ge(D,i.qh))}function J(e){d=de(e),p=de(e,"TTVR"),g=de(e,"TTPR"),f=new Set(fe(e,"TTVR")),b&&0===p.size&&P(pe()),P&&0===d.size&&P(se()),j=!0}function X(e){h||(h=new Set,m=new Set,e.forEach((e=>{I.get(e)||h.add(e),e.startsWith(F)&&m.add(e)})),0===h.size&&A&&A(ue()))}function ee(){return j}function te(e){v||(v=e)}function ne(e){e&&j&&d&&p&&(e.startsWith(F)||(e=F+e),f.delete(e),p&&p.delete(e)&&0===p.size&&b&&b(pe()),d&&d.delete(e)&&0===d.size&&P&&P(se()))}function re(){return(0,o.N)()?function(){if(!(0,o.N)())return null;if(T)return T;if(d&&0===d.size)return Promise.resolve(se());return T=new Promise((e=>{P=e})),T}():null}function ie(){return(0,o.N)()?k||(h&&0!==h.size?(k=new Promise((e=>{A=e})),k):Promise.resolve(ue())):null}function oe(){return(0,o.N)()?w||(p&&0===p.size?Promise.resolve(pe()):(w=new Promise((e=>{b=e})),w)):Promise.resolve([])}function ae(){return(0,o.N)()?E||(E=new Promise((e=>{M=e})),E):null}function se(){return[...pe(),...he()]}function ce(){return[...pe(!1),...he()]}function ue(){return[...I]}function le(e){return e===r.Primary?Array.from(d||[]):Array.from(h||[])}function de(e,t){const n=new Set;for(const r of fe(e,t))x.get(r)||n.add(r);return n}function he(){return ge(O)}function pe(e=!0){return e&&!1!==B?ge(F,i.MV,!0):ge(F)}function ge(e,t,n){const r=[];let o=0;if(x.forEach(((t,n)=>{if(n.startsWith(e)){r.push([n,t]);const e=n.startsWith("TTVR");t>o&&(!e||f.has(n))&&(o=t,e&&(N=n));const i=y.get(n);(null==i?void 0:i.name)&&(C.get(i.name)<t&&C.set(i.name,t),i.preserve||r.pop())}})),C.forEach(((t,n)=>{n.startsWith(e)&&r.push([n,t])})),t&&r.push([t,o]),n&&t===i.MV){const e=(0,s.Ou)().refreshDelay||0;r.push(["TTVR.WithRefreshDelay",o+e])}return r}function fe(e,t){let n=[],r=[],i=[];return!e||!e.TTVR||t&&"TTVR"!==t||(n=e.TTVR.map((e=>F+e))),!e||!e.TTF||t&&"TTF"!==t||(i=e.TTF.map((e=>O+e))),e&&e.TTPR&&"TTPR"===t&&(r=e.TTPR.map((e=>R+e))),[...n,...i,...r]}function me(e){const t=performance.getEntriesByName(e);return t&&t[0]&&t[0].startTime?t[0].startTime:-1}function ve(e){const t=I.get(e);return null!=t?t:-1}function ye(){return v}function Ce(e="",t="",n=!1,r){let i=e,o=t;var a;j&&""!==e&&""!==t&&(U||t!==H)&&(i.startsWith(F)||(i=F+e),o.startsWith(F)||(o=F+t),d.has(i)||x.has(i)||f.has(i)||((a=i)&&j&&d&&p&&(a.startsWith(F)||(a=F+a),d.add(a),p.add(a),f.add(a)),y.set(i,{name:o,preserve:n}),C.set(o,-1),r&&S.set(i,r)))}function Se(){return N}},21050:function(e,t,n){"use strict";function r(e,t,n,r=!1,i=!1,o){return new e(t,n,r,i,o)}n.d(t,{S4:function(){return o},fW:function(){return s},oA:function(){return a},uk:function(){return r}});let i=null;function o(e){i=e}const a=(e,t,n)=>i?i(e,t,n):null;function s(e,t,n){return n?n.instrumentPromise(t,e):e()}},58796:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});let r={}},14675:function(e,t,n){"use strict";n.d(t,{c:function(){return o},u:function(){return a}});var r=n(33940),i=n(33379);function o(e){(0,i.N)()&&requestAnimationFrame((()=>setTimeout((()=>e()),0)))}function a(){return(0,r.mG)(this,void 0,void 0,(function*(){return new Promise((e=>o(e)))}))}},97425:function(e,t,n){"use strict";n.d(t,{Ct:function(){return a},Z0:function(){return s},fL:function(){return o},xC:function(){return c}});var r=n(62676),i=n(59902);function o(e){if(performance.getEntriesByType){const t=performance.getEntriesByType("paint").filter((e=>"first-contentful-paint"===e.name));t.length>0&&(e[r.zJ]=Math.round(t[0].startTime))}}function a(e){if(performance&&performance.getEntriesByType&&e&&e[r.MV]){const t=performance.getEntriesByType("navigation");if(t.length){const n=t[0];let i=0,o=0;r.pJ in n&&r.fR in n&&(i=n[r.pJ],o=n[r.fR]),i<0&&o<0&&(e["TTVR."+r.IP]=Math.round(e[r.MV]-i),e["TTVR."+r.Hm]=Math.round(e[r.MV]-o))}}}const s=e=>{let t=-1;const n=e[r.w],o=e[r.P9];n&&o&&(t=n-o),e[r.Fz]=t,(0,i.QP)({name:r.Fz,startTime:o,endTime:n})},c=e=>{let t=-1;const n=e[r.w],o=e[r.Wk];o&&n&&(t=o-n),e[r.iL]=t,(0,i.QP)({name:r.iL,startTime:n,endTime:o})}},79278:function(e,t,n){"use strict";n.d(t,{Dd:function(){return p},d0:function(){return g},n1:function(){return h}});var r=n(21050),i=n(14675),o=n(30876),a=n(33379),s=n(54533),c=n(22704),u=n(8114);const l={},d=new WeakMap;function h(){if(!(0,a.N)())return;const{enablePerfTimeline:e,traceLevel:t}=(0,s.dj)();if(!e||"undefined"==typeof customElements||t<o.Y.high)return;const n=customElements.define;customElements.define=function(...e){const[t,r]=e,i=r.prototype.connectedCallback;return"function"!=typeof i||"getExperienceType"in r.prototype||(r.prototype.connectedCallback=function(...e){const t=p(this.localName,this.instanceId),n=t&&t.startMeasure("init").endMeasure,r=i.apply(this,e);return n&&n(),g(this,t),(0,c.O8)("WC.Count"),r}),n.apply(customElements,e)}}function p(e,t){const n=1===(l[e]=(l[e]||0)+1)?t:(0,u.Z)(t);return(0,r.oA)(e,n)}function g(e,t,n=i.u){if(!e||!e.shadowRoot||!t)return;const r=new f("update",t);r.tryStartMeasure(),n().then((()=>r.tryEndMeasure()));const{traceLevel:o}=(0,s.dj)();o&&function(e,t,n){let r=d.get(e);if(r)return;let i=0;r=new MutationObserver((e=>{t.tryStartMeasure();const r=e.reduce(((e,t)=>(t.addedNodes.forEach((t=>e.added.push(t.nodeName))),t.removedNodes.forEach((t=>e.removed.push(t.nodeName))),t.attributeName&&e.attrs.push(t.attributeName),e)),{added:[],removed:[],attrs:[]}),o={added:r.added.length?r.added.join(","):void 0,removed:r.removed.length?r.removed.join(","):void 0,attrs:r.attrs.length?r.attrs.join(","):void 0};t.addCustomData("mutation"+ ++i,o),n().then((()=>t.tryEndMeasure()))})),r.observe(e.shadowRoot,{childList:!0,subtree:!0,attributes:!0}),r.observe(e,{attributes:!0}),d.set(e,r)}(e,r,n||v)}class f{constructor(e,t){this.measureName=e,this.perfTimeline=t,this.customData={}}tryStartMeasure(){if(!this.coreEndMeasure){const e=this.perfTimeline.startMeasure(this.measureName).endMeasure;this.coreEndMeasure=()=>e({customData:this.customData})}}addCustomData(e,t){this.customData[e]=t}tryEndMeasure(){this.coreEndMeasure&&(this.coreEndMeasure(),this.customData={},this.coreEndMeasure=null)}}let m;function v(){return m||(m=new Promise((e=>(0,i.c)((()=>{m=null,e()})))))}},59902:function(e,t,n){"use strict";n.d(t,{DY:function(){return a},QP:function(){return s},ee:function(){return c},m8:function(){return u}});var r=n(52575);let i,o;function a(e){o=[],i=e}function s(e){i&&i.startMeasure(e.name,void 0,{entityMeasure:!0,startTime:l(e.startTime,-1)}).endMeasure({endTime:l(e.endTime,-1)})}function c(e){return i?(0,r.fJ)(i.getMeasureValues({entityMeasures:!0}),e,"from",!1):[]}function u(e){return o?(0,r.fJ)(o,e,"time",!0):[]}function l(e,t){return null!=e?e:t}},73371:function(e,t,n){"use strict";n.d(t,{TG:function(){return xe},Yt:function(){return Le},HK:function(){return Ie}});var r=n(52575),i=n(65135),o=n(98304),a=n(83130),s=n(33954);function c(e){const t=[];return e&&l(e,t),t.join(",")}function u(e){return e&&!e.startsWith("_")}function l(e,t,n=""){const r=Object.keys(e).filter(u).sort();for(const i of r){const r=e[i];if(null==r)continue;const o=`${n}${n?".":""}${i}`;if("object"==typeof r)l(r,t,o);else{if(!(t.length<100)){s.k.logError("getSortedObjectKeyValuesDeep: circular reference suspect");break}t.push(`${o}=${r.toString().toLowerCase()}`)}}}var d=n(33379),h=n(68364);let p;p=(0,d.N)()&&parseInt((location.href.match(/ems=([\d]+)/)||[null,"0"])[1])||5;const g=e=>Math.floor(101*Math.random())<=(e||p);const f=new Map,m=new Map,v=new Map,y=new Set,C=null;let S,w,b=new Promise((e=>w=e));function T(e,t,n){const{pivots:r,manualPivots:i}=e||{},o={pivotsFinalized:b};if(!((0,d.N)()&&e&&(r&&r.length||i&&i.length)&&t&&n))return o;O("audienceMode",(e=>(0,a.Uc)({audienceMode:e},n))),O("browser",(e=>(0,a.K4)({browser:e},n))),O("deviceFormFactor",(e=>(0,a.Ev)({deviceFormFactor:e},n))),O("displayLocale",(e=>(0,a.fb)({locale:e},n,!0))),O("domain",(e=>(0,a.hI)({domain:e},n))),O("experimentId",(e=>(0,a.W9)({experimentId:e},n))),O("locale",(e=>(0,a.fb)({locale:e},n,!1))),O("ocid",(e=>(0,a.K3)({ocid:e},n))),O("os",(e=>(0,a.zu)({os:e},n))),O("platform",(e=>(0,a.jF)({platform:e},n)));const{pcsInfo:s,bundleInfo:c}=t.ClientSettings;var u,l;return O("env",(e=>(0,a.Sh)(e,s&&s.env))),O("buildAlias",(e=>(0,a.Sh)(e,c&&c.alias))),L("pageType",((e,t)=>(0,a.oM)({pageType:t},{pageType:e}))),L("pageProduct",a.Sh),L("pageName",a.Sh),u="preRender",null!=(l=!!t.IsPrerender)&&(m.set(u,l),E(u)),S=function(e){const t=[],n=[],{pivots:r,manualPivots:i,_sampleRate:o}=e,a=(e,t)=>{e&&e.forEach((e=>{e&&g(e._sampleRate||o)&&t(e)}))},s=e=>{for(const{key:t,matcher:n}of x(e))n||F(t)};return a(r,(e=>{s(e);const n={config:e},r=A(n);(r||r===C)&&t.push(n)})),a(i,(e=>{s(e),n.push(e)})),{defaultPivots:t,manualPivotConfigs:n}}(e),M(),o}function P(){return!(!S||!S.defaultPivots.some((e=>e.success||e.success===C)))}function k(){if(!S)return[];const e=[];for(const t of S.defaultPivots)A(t)&&e.push(I(t.config));return y.size&&(0,h.H)(o.WXX,"Missing pivot field values",[...y].toString()),e}function A(e){let{success:t}=e;if(null!=t)return t;t=!0;for(const{key:n,value:r,matcher:i}of x(e.config)){const e=i&&i.matchFn(r);if(e===C)t=C,y.add(n);else if(!e){t=!1;break}}return e.success=t}function E(e){S&&y.delete(e)&&M()}function M(){if(S&&y.size<=0){for(const e of S.defaultPivots)A(e);w()}}function*x(e){for(const t in e)if(u(t)){const n=f.get(t);yield{key:t,value:e[t],matcher:n}}}function I(e){const t=c(e);return{key:t,key64:btoa(t)}}function L(e,t){O(e,(n=>{const r=v.get(e);return r==C?C:t(r,n)}))}function O(e,t){D(e,(()=>t))}function F(e){D(e,(()=>function(e){return t=>{const n=m.get(e);return n==C?C:n===t}}(e)))}function D(e,t){f.get(e)||f.set(e,{matchFn:t()})}const R=Object.freeze({experience:"e",page:"p",other:"o",script:"js",service:"s",container:"c",custom:"x"});var W;!function(e){e[e.keepPrevious=1]="keepPrevious",e[e.keepThis=2]="keepThis",e[e.keepAll=3]="keepAll"}(W||(W={}));var N=n(61502),j=n(59902),U=n(62676),H=n(58281),G=n(12884),B=n(22704),$=n(23163);const V=new Map([["min",e=>e.length?e.reduce(((e,t)=>Math.min(e,t)),1/0):void 0],["max",e=>e.length?e.reduce(((e,t)=>Math.max(e,t)),-1/0):void 0],["first",e=>{for(const t of e)if(null!=t)return t}]]),_={clientrtt:"tcp",origin:"origin",cdntime:"self"},z=/\/\/([^/]+)\/([^?&#]+)/,q=/^assets\.msn\.(com|cn)/i,K=/^(ent-)?api\.msn\.(com|cn)/i,Z="[cdn]/",Q="[self]/",Y="[self]/[root]",J="[1s-cdn]/";let X;function ee(e,t,n,i){const o=performance.now(),a=function(e){const t=new Map,n=e=>function(e,t){const{name:n}=t;let r=e.get(n);r||e.set(n,r=[]);r.push(t)}(t,e);performance.getEntriesByType("navigation").forEach((e=>{n(function(e,t){return Object.assign({name:e.name,startTime:e.startTime,requestStart:e.requestStart,responseEnd:e.responseEnd,transferSize:e.transferSize,duration:e.duration,serverTiming:e.serverTiming,initiatorType:e.initiatorType,nextHopProtocol:e.nextHopProtocol},t)}(e,{name:Y}))}));return(0,r.fJ)(performance.getEntriesByType("resource"),e,"startTime",true).forEach(n),t}(i),c={networkCounter:new H.K,networkMap:a,filterContext:i},u=function(e,t){const n={name:"experiences",data:{type:R.container}};return e&&e.forEach((e=>{const r=function(e,t){const{filterContext:n,networkMap:r}=t,i=ge(e,["min",[["first","scripts","from"],["first","config","from"]]]),o=i?ge(e,["max",[["first","scripts","to"],["first","config","to"]]]):void 0,a=i&&o?ce(i,o,void 0,n):void 0;let c=fe(e,["first","render","to"]);me(c)||(c=fe(e,["first","update","to"]),c&&s.k.log(`${e.timelineName} is missing 'render' mark`));const u=c&&ge(e,["min",[["first","render","from"],["first","update","from"]]]),l=u?ce(u,c,void 0,n):void 0;if(!a&&!l)return;const d={name:e.timelineName,data:{type:R.experience}};se(d,"init",a),se(d,"render",l),a&&l&&se(d,"_self",ce(i,c,void 0,n));e.getMeasureValues({coreName:N.JS}).forEach((e=>{const n=e.customData,i=function(e,t,n){const r=e&&t.get(e);if(!r)return;const i=oe(r,(e=>Math.abs(e.startTime-n.from)));if(i>=0){const n=r.splice(i,1)[0];return r.length||t.delete(e),n}}(n&&n.url,r,e);re(ne(e)||N.JS,R.service,d,i,e,t)}));const h=e.getMeasureValues({entityMeasures:!0});if(h.length){const e=ae(d,{name:"custom",data:{type:R.custom}});h.forEach((t=>{ie(e,t,n)}))}return d}(e,t);r&&ae(n,r)})),n}(t,c),l=function(e){const t={name:"scripts",data:{type:R.container}},n={name:"services",data:{type:R.container}},r={name:"other",data:{type:R.container}},{networkMap:i}=e;return i.forEach((o=>{o.forEach((o=>{const{initiatorType:a,name:s}=o;if("img"===a)return;let c,u,l,d;const h=te(s);if(h&&h.endsWith(".js")){u=h.replace(/(\.[0-9a-f]{20})?\.js$/,"").replace(/bundles\/v1\/\w+\/[\w.]+\//,""),c=t,l=R.script}else if("css"===a||"iframe"===a||"other"===a||"beacon"===a)c=r,l=R.other;else{c=n,l=R.service;const e=N.ms&&N.ms.getMeasureValues({coreName:s});if(e&&e.length){const{startTime:t}=o;d=e[oe(e,(({from:e})=>Math.abs(e-t)))],u=ne(d)}}let p=u||h;p&&(p=p.toLowerCase(),re(p,l,c,o,d,e),i.delete(s))}))})),[t,n,r]}(c),d=function(e){const t={name:"custom",data:{type:R.custom}};if((0,j.ee)(e).forEach((n=>{ie(t,n,e)})),(0,j.m8)(e).forEach((({name:e,duration:n})=>{!function(e,t,n){ue(e,t,n)}(t,e,n)})),e===r.d9){const n=(0,B.Ou)();le(t,U.P9,n[U.P9],e),le(t,U.MV,n[U.MV],e),1===n[U.V4]&&de(t,U.V4,n[U.V4])}else le(t,U.MV,e.timeFilter.end,e);return t}(i),h={name:"",data:{type:R.container}};se(h,"calc",ce(o,performance.now(),void 0,r.d9));const p=Object.assign({metrics:h.data},e||{}),g={_meta:p};let f=!1;if([d,u,...l].forEach((e=>{const{data:t}=e;(t.children||t.spans||t.durations||t.scalars||t.instants)&&(g[e.name]=t,f=!0)})),f)return n&&n.length&&(p.pivots=n.map((e=>e.key)),p.pivots64=n.map((e=>e.key64))),g}function te(e){if(e){const t=e.match(z);if(t){let[,e,n]=t;return n=n.toLowerCase(),e.match(q)?n=(n.startsWith("service")?J:Z)+n:e.match(K)?n="[1s]/"+n:e===X&&(n=Q+n),n}return e.toLowerCase()}}function ne(e){const t=e&&e.customData;if(t){const{requestName:e,url:n,mappedUrl:r}=t;return e||te(r||n)}}function re(e,t,n,r,i,o){const{networkCounter:a,filterContext:s}=o,c=a.qualifyKey(e),u={name:c,data:{type:t}},l=function(e,t){if(!t)return;const{startTime:n,requestStart:r,responseEnd:i,transferSize:o,duration:a,serverTiming:s}=t,c=!!r,u={name:e,hasFullTimings:c,networkDur:a,networkStart:n};if(c){u.connectDur=r-n,u.requestDur=i-r;const e=(0,$.F$)(t);null!=e&&(u.cached=e?1:0,e||(u.transferSize=o))}if(!u.cached&&(e.startsWith(Z)||e.startsWith(J))&&s&&s.length){const e=u.cdn={};s.forEach((({name:t,duration:n})=>{const r=_[t];r&&(e[r]=n)}))}return u}(c,r);if(l){const{cdn:e,networkStart:t,networkDur:n}=l;se(u,"network",ce(t,void 0,n,s))&&(l.hasFullTimings&&(ue(u,"connect",l.connectDur),ue(u,"request",l.requestDur),de(u,"size",l.transferSize),de(u,"cache",l.cached)),e&&(ue(u,"cdnTCP",e.tcp),ue(u,"cdnSelf",e.self),ue(u,"cdnOrigin",e.origin)))}if(i&&se(u,"app",ce(i.from,i.to,void 0,s))){const e=i.customData,{perfCritical:t,error:n}=e||{};t&&de(u,"critical",1),n&&de(u,"error",1)}u.data.spans&&ae(n,u)}function ie(e,t,n){const r=ce(t.from,t.to,void 0,n);if(r){se(e,t.coreName+t.idSuffix,r)}}function oe(e,t){const n=e&&e.length||0;if(n<=1)return n-1;let r=1/0,i=0;return e.length>1&&e.forEach(((e,n)=>{const o=t(e);o<r&&(r=o,i=n)})),i}function ae(e,t){return pe(e,"children",t.name,t.data),t}function se(e,t,n){return n?pe(e,"spans",t,n):void 0}function ce(e,t,n,{spanMapperFn:r}){return r(e,t,n)}function ue(e,t,n){return he(e,t,n,"durations")}function le(e,t,n,{timeFilterFn:r,timeMapperFn:i}){if(r(n))return he(e,t,i(n),"instants")}function de(e,t,n){return he(e,t,n,"scalars")}function he(e,t,n,i){if(me(n)){return pe(e,i,t,(0,r.NM)(n))}}function pe(e,t,n,r){return(e.data[t]||(e.data[t]={}))[n]=r,r}function ge(e,t){const[n,r]=t,i=[];for(const t of r){const n=fe(e,t);null!=n&&i.push(n)}const o=V.get(n),a=o&&o(i);return me(a)?a:void 0}function fe(e,t){const[n,r,i]=t,o=e.getMeasureValues({coreName:r});if(o&&o.length){const t=V.get(n);if(t){const n=function(e,t,n){return e.getMeasureValues({coreName:t}).map((e=>e[n])).filter((e=>null!=e))}(e,r,i),o=t(n);if(me(o))return o}}}function me(e){return null!=e&&!isNaN(e)}X=(0,G.zw)();var ve=n(73898),ye=n(58796);let Ce,Se,we,be,Te,Pe;const ke=()=>{},Ae=new Map,Ee=new Map,Me=new Map;function xe(e,t,n,r,i){if(Ae.clear(),Ee.clear(),Me.clear(),Se=Ce=void 0,Pe=Te=void 0,be=r||ve.Z,we=i||ve.Z,!((0,d.N)()&&r&&i&&t))return;const{bundleInfo:o,pcsInfo:a}=t.ClientSettings||{};Pe={buildAlias:o&&o.alias,env:a&&a.env};const{pivotsFinalized:s}=T(e,t,n),c=!e&&g(),u=e&&P();Te=!0,u&&s.then((()=>{P()||Oe()})),(c||u)&&(Se=!0,Ce=Fe({props:{},dedupeBehavior:2,startTime:0,getMatches:()=>u?k():[]}))}function Ie(e,t,n){if(Te)return n=n||k(),ee(Pe,e,n,t)}function Le(e){if(Oe()&&e){Re(e,Object.values(ye.U),(0,r.At)())}}function Oe(){if(Ce)return Ce(!0),Se=Ce=void 0,!0}function Fe(e){0===Ae.size&&(!Se&&performance.clearResourceTimings(),be());const{props:t,dedupeBehavior:n,groupId:a,traceId:s}=e,u=c(t)+`|${s||""}|${a||""}`,l=Ae.get(u);if(l&&l.size)if(n&&2!==n){if(1===n)return ke}else{const e=a&&Me.get(a);e&&e.size&&l.forEach((t=>e.delete(t)));const t=s&&Ee.get(s);t&&t.size&&l.forEach((e=>t.delete(e))),l.clear()}let d;return d=t=>{const n=Ae.get(u);if(n&&n.delete(d)){const c=s&&Ee.get(s);c&&c.delete(d);const l=a&&Me.get(a);l&&(t?l.delete(d):(l.forEach((e=>e!==d&&e(!0))),l.clear())),n.size||!Ae.delete(u)||Ae.size||we(),t||function(e){const t=(0,r.At)({start:e.startTime,end:performance.now()}),{spanFilterFn:n}=t,a=Object.values(ye.U).filter((e=>{const{timeSpan:t}=e;return t&&n(t[0],void 0,t[1])})),s={},c=e.getMatches();if(!Re(s,a,t,c))return;try{i.M0.sendLoadTimeEvent({markers:s})}catch(e){(0,h.H)(o.GrI,"Failed to upload entity-metrics for manual trace",`Matches: ${c.map((e=>e.key)).join("|")}`)}}(e)}},De(Ae,u,d),De(Ee,s,d),De(Me,a,d),setTimeout((()=>d(!0)),e.stopTimeout||6e4),d}function De(e,t,n){if(t){let r=e.get(t);!r&&e.set(t,r=new Set),void 0!==n&&r.add(n)}}function Re(e,t,n,r){if(Te&&e){const i=Ie(t,n,r);if(i)return e.entityMetrics=i,!0}}},61502:function(e,t,n){"use strict";n.d(t,{JS:function(){return s},Ud:function(){return c},ms:function(){return o},ny:function(){return a}});var r=n(33940),i=n(33379);let o;function a(e){o=e}const s="service";function c(e={}){const{perfTimeline:t=o,fetchImpl:n}=e;return t?(e,i)=>(0,r.mG)(this,void 0,void 0,(function*(){const r=(e.url||e).toString(),a={url:r};if(i){a.requestName=i.requestName,a.perfCritical=i.perfCritical,delete i.requestName,delete i.perfCritical;const{urlMapper:e}=i;e&&(a.mappedUrl=e(r),delete i.urlMapper)}const c=t===o?r:s,l=t&&t.startMeasure(c).endMeasure;let d;try{const t=n||u(),r=yield t(e,i);return d=!r||!r.ok,r}catch(e){throw d=!0,e}finally{d&&(a.error=!0),l&&l({customData:a})}})):n||u()}function u(){return(0,i.N)()?window.fetch.bind(window):globalThis.fetch.bind(globalThis)}},52575:function(e,t,n){"use strict";n.d(t,{At:function(){return h},NM:function(){return p},d9:function(){return s},fJ:function(){return u}});var r=n(51727),i=n(37641);const o=(e,t)=>n=>n>=e&&n<=t,a={start:-1/0,end:1/0},s={timeFilter:a,spanFilterFn:()=>!0,spanMapperFn:(e,t,n)=>l(e,t,n),timeMapperFn:e=>e,timeFilterFn:()=>!0},c={timeFilter:{start:1/0,end:-1/0},spanFilterFn:()=>!1,spanMapperFn:()=>{},timeMapperFn:()=>{},timeFilterFn:()=>!1};function u(e,{timeFilter:t},n,s){if(e&&n&&t!==a){const{start:a,end:c}=t;if(s){const t=(0,r.Z)(e,{[n]:a},n),o=(0,i.Z)(e,{[n]:c},n);e=e.slice(t,o)}else{const t=o(a,c);e=e.filter((e=>t(e[n])))}}return e}function l(e,t,n,r){if(null!=e&&(null!=t&&(n=t-e),null!=n&&n>=0)){if(r&&null==(e=r(e)))return;return[p(e),p(n)]}}function d(e,t){return(n,r,i)=>{if(e(n,r,i))return l(n,r,i,t)}}function h(e){if(!e)return s;const{start:t,end:n}=e;if(null==t||null==n||t>n)return c;const r=o(t,n),i=e=>p(e-t),a=function(e){const{start:t,end:n}=e;return(e,r,i)=>{if(null==e)return!1;let o;if(null!=r)o=r;else{if(null==i)return!1;o=e+i}return!(o<e)&&e<=n&&o>=t}}(e);return{timeFilter:e,spanFilterFn:a,spanMapperFn:d(a,i),timeMapperFn:i,timeFilterFn:e=>r(e)}}const p=e=>e<5?Math.round(10*e)/10:Math.round(e)},28817:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(33940),i=n(98304),o=n(65135),a=n(33379);class s{constructor(e,t,n,r){this.chromiumApiRetryCount=5,this.isNtpPrivateApiAvailable=e=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[e],this.prefSettingKey=e,this.searchForKeyName=t,this.targetKeyName=n,this.defaultItem=r}getPreferenceSetting(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){try{const n=yield this.getPreferenceSettingValueArray(t),r=n.findIndex((t=>t[this.searchForKeyName]===e));return r>-1?n[r]:null}catch(t){const n=`Failed to find user preference key: ${e}`;return this.logAppError(i.Aps,n,t),null}}))}savePreferenceSetting(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){try{const n=(yield this.getPreferenceSettingValueArray())||[],r=n.findIndex((t=>t[this.searchForKeyName]===e));if(r>-1){const e=Object.assign(Object.assign({},n[r]),t);n[r]=e}else{const r=Object.assign(Object.assign({},this.defaultItem),t);r[this.searchForKeyName]=e,n.push(r)}return this.setAndSavePreferenceSetting(n)}catch(t){const n="Failed to store user preference setting";return this.logAppError(i.nS9,n,`Key:${e}.Error:${t}`),!1}}))}isApiAvailableToUse(){return new Promise((e=>{const t="Error in isApiAvailableToUse";try{this.isGoodToUseNtpSettingsPrivate("getAllPrefs")?void 0===this.isPrefSettingKeyAvailable?window.chrome.ntpSettingsPrivate.getAllPrefs((n=>{if(this.isPrefSettingKeyAvailable=n&&n.findIndex((e=>e.key===this.prefSettingKey))>-1,!this.isPrefSettingKeyAvailable){let e="";try{n&&n.forEach((t=>e+=`${t.key}+`))}catch(e){this.logAppError(i.Aps,"Error: Can not log keylist from preference setting",e)}this.logAppError(i.me0,t,`missing preference key: ${this.prefSettingKey}, available keys: ${e}`)}e(this.isPrefSettingKeyAvailable)})):e(this.isPrefSettingKeyAvailable):(this.logAppError(i.MFQ,t,"getAllPrefs not present"),e(!1))}catch(t){this.logAppError(i.MFQ,"Error: Unexpected throw in isApiAvailableToUse",t),e(!1)}}))}logAppError(e,t,n){null===o.M0||void 0===o.M0||o.M0.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:n})}))}getPreferenceSettingValueArray(e){return(0,r.mG)(this,void 0,void 0,(function*(){try{if(this.settingValuesArray&&!e)return this.settingValuesArray;{const e=yield this.getPreferenceValueFromBrowser();return this.settingValuesArray=e||[],this.settingValuesArray}}catch(e){const t=`Failed to read ${this.prefSettingKey} preference setting`;return this.logAppError(i.k8J,t,e),[]}}))}setAndSavePreferenceSetting(e){if(!(0,a.N)())return!1;try{if(this.isGoodToUseNtpSettingsPrivate("setPref"))return this.settingValuesArray=e,window.chrome.ntpSettingsPrivate.setPref(this.prefSettingKey,this.settingValuesArray),!0;{const e="window.chrome.ntpSettingsPrivate.setPref does not exist.";return this.logAppError(i.T5b,e,`Key:${this.prefSettingKey}`),!1}}catch(e){return!1}}isGoodToUseNtpSettingsPrivate(e){let t=this.isNtpPrivateApiAvailable(e),n=0;for(;n<this.chromiumApiRetryCount&&!t;)n++,setTimeout((()=>{t=this.isNtpPrivateApiAvailable(e),t&&o.M0.sendAppErrorEvent(Object.assign(Object.assign({},i.$9$),{message:`Chromium API retry succeed after ${n} retry`}))}),50);if(!t){const t=`functionName: ${e},\n            canUseDOM: ${(0,a.N)()},\n            windows: ${window},\n            document: ${window&&window.document},\n            createElement: ${window&&window.document&&window.document.createElement},\n            chrome: ${window&&window.chrome},\n            ntpSettingsPrivate: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate},\n            ntpSettingsPrivate funtions: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate&&Object.getOwnPropertyNames(window.chrome.ntpSettingsPrivate).toString()}\n            `;o.M0.sendAppErrorEvent(Object.assign(Object.assign({},i.Fe_),{message:"Failed to get funtion from window.chrome.ntpSettingsPrivate.",pb:Object.assign(Object.assign({},i.Fe_.pb),{customMessage:t})}))}return t}getPreferenceValueFromBrowser(){return new Promise(((e,t)=>{if(this.isGoodToUseNtpSettingsPrivate("getPref"))window.chrome.ntpSettingsPrivate.getPref(this.prefSettingKey,(function(t){t&&t.value?e(t.value):e(null)}));else{const e="window.chrome.ntpSettingsPrivate.getPref does not exist.";this.logAppError(i.pCD,e,""),t(e)}}))}}},84754:function(e,t,n){"use strict";n.d(t,{H1:function(){return p},OM:function(){return u},UU:function(){return l},VS:function(){return c},ZE:function(){return d}});var r=n(33940),i=n(75192),o=n(17440);let a=!1;function s(){return new Promise((e=>{const t=window.chrome;if(t){const n=t.ntpSettingsPrivate;if(n&&"function"==typeof n.getConfigData)return void n.getConfigData((t=>{e((null==t?void 0:t.enabledFeatures)||[])}))}e([])}))}function c(){return(0,r.mG)(this,void 0,void 0,(function*(){return(yield s()).includes("msReducedNtpAdsForNewDevice_stage1")}))}function u(){return(0,r.mG)(this,void 0,void 0,(function*(){return(yield s()).includes("msReducedNtpAdsForNewDevice_stage2")}))}function l(){let e=!1;const t="os-sku";if(!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv))try{if(window&&window.external&&window.external.getHostEnvironmentValue(t)){const n=JSON.parse(window.external.getHostEnvironmentValue(t));e=n&&"192"===n[t]}}catch(e){}return e}function d(){return a}function h(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield o.U.getPreferenceSetting(i.Xm.layoutHistory,!0);return e&&e.value}))}function p(){return(0,r.mG)(this,void 0,void 0,(function*(){try{const e=yield h(),t=e&&e.wpoLayoutHistory,n=e&&e.userLayoutHistory,r={};return(null==t?void 0:t.time)&&(r.promotion=`${t.time}_${"layout"==t.changeKey?"l":"f"}_${t.from}_${t.to}`),(null==n?void 0:n.time)&&(r.selection=`${n.time}_${"layout"==n.changeKey?"l":"f"}_${n.from}_${n.to}`),r}catch(e){return{}}}))}},17440:function(e,t,n){"use strict";n.d(t,{H:function(){return p},U:function(){return g}});var r=n(33940),i=n(27003),o=n(99590),a=n(98304),s=n(28817),c=n(32164),u=n(33379),l=n(52965);function d(e,t){return(e||[]).find((e=>(null==e?void 0:e.key)===t))||null}function h(e,t){const{key:n,value:r,deleteKey:i=!1}=t;let o=e||[];if(i)o=o.filter((e=>e&&(null==e?void 0:e.key)!==n));else{const e=o.findIndex((e=>(null==e?void 0:e.key)===n));if(e>-1)o[e]=Object.assign(Object.assign({},o[e]),{value:r});else{const e={key:n,value:r};o.push(e)}}return o}class p extends s.N{constructor(){super("ntp.user_nurturing","key","value",{key:"default",value:"none"}),this._latestItems=[],this._initializeCachedItemsPromise=new c.o}static getInstance(){return i.Gq.get("__UserNurturingManager__",(()=>new p))}savePreferenceSetting(e,t,n=!1){return(0,r.mG)(this,void 0,void 0,(function*(){try{return yield this._initializeCachedItems(),this._updateCachedItems({key:e,value:t,deleteKey:n}),yield this._updatePersistedItems({key:e,value:t,deleteKey:n})}catch(t){const n="Failed to store user nurturing preference";return this.logAppError(a.nS9,n,`Key:${e}.Error:${t}`),!1}}))}getPreferenceSetting(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){try{if(yield this._initializeCachedItems(),t){const t=yield this._getPersistedItemByKey(e);return this._updateCachedItems({key:e,value:null==t?void 0:t.value,deleteKey:!1}),t}return this._getCachedItemByKey(e)}catch(t){const n=`Failed to find user preference key: ${e}`;return this.logAppError(a.Aps,n,t),null}}))}_initializeCachedItems(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this._initializeCachedItemsPromise.wasSet())return this._initializeCachedItemsPromise.getResultAsync();try{this._items=(yield this.getPreferenceValueFromBrowser())||[],this._latestItems=(0,l.Z)(this._items)}catch(e){const t="Failed to initialize cached items for UserNurturingManager";this.logAppError(a.Aps,t,e)}this._initializeCachedItemsPromise.set(),this._listenToPreferenceChange()}))}_getCachedItemByKey(e){return d(this._items,e)}_getPersistedItemByKey(e){return(0,r.mG)(this,void 0,void 0,(function*(){return d(this._latestItems,e)}))}_updateCachedItems(e){this._items=h(this._items,e)}_updatePersistedItems(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=this._latestItems;return this.setAndSavePreferenceSetting(h(t,(0,l.Z)(e)))}))}deleteKeyValueFromPSL(e){this.savePreferenceSetting(e,null,!0)}_listenToPreferenceChange(){(0,u.N)()&&window.chrome&&window.chrome.ntpSettingsPrivate&&window.chrome.ntpSettingsPrivate.onPrefsChanged.addListener((e=>{const t=(e||[]).find((e=>(null==e?void 0:e.key)===this.prefSettingKey));t&&(this._latestItems=(0,l.Z)(t.value||[]))}))}}const g=(0,o.h)(p)},75192:function(e,t,n){"use strict";n.d(t,{Nn:function(){return u},Xm:function(){return r},nc:function(){return s},rr:function(){return a}});const r={campaigns:"campaigns",feedLayout:"feed_layout",renderSingleColumn:"render_single_column",wpo:"wpo",wpoLytTmpl:"wpo_lyt_tmpl",topSites:"top_sites",recommendedSites:"recommended_sites",viewport:"viewport",wpo_nx:"wpo_nx",layoutPromotion:"layoutPromotion",layoutHistory:"layoutHistory"};var i,o,a;!function(e){e.Ntp="ntp",e.Wpo="wpo"}(i||(i={})),function(e){e.MultiColumn="multi",e.SingleColumn="single"}(o||(o={})),function(e){e.apiError="api_error"}(a||(a={}));const s={tscollapsed:"tscollapsed",layout_mode:"layout_mode",left_rail:"left_rail",quick_links_options:"quick_links_options",single_column:"single_column",recommended_sites:"recommended_sites",daily_discovery_in_search_box:"daily_discovery_in_search_box",news_below_searchbox:"news_below_searchbox",ntp_tips:"ntp_tips",search_history:"search_history",current_location_enabled:"current_location_enabled",enable_sponsored_content:"enable_sponsored_content",enable_split_screen:"enable_split_screen",hide_search_box:"hide_search_box",seen_interest_fre_count:"seen_interest_fre_count",visited_following_feed:"visited_following_feed"};var c;!function(e){e.User="user",e.Wpo="wpo"}(c||(c={}));const u="_split";var l;!function(e){e.NotInChinaCoachMarkButton="notInChinaCoachMarkButton",e.FeedbackLink="feedbackLink"}(l||(l={}))},46536:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var r=n(88828),i=n(14989),o=n(29815),a=n(71443),s=n(52144),c=n(78722),u=n(45506),l=n(44979),d=n(65135),h=n(37457),p=n(33379),g=n(82855),f=n(85663),m=n(19388);class v{static initPage(e,t,n){d.M0.initPage(e,n||c.jG.ActivityIdLowerCaseNoHypens,c.jG.BuildVersion,c.jG.FrontDoorMuid),t&&(0,m.b1)().then((()=>d.M0.initScrollPerformanceTrackers())),s.A.subscribe(s.U.Initialized,y)}static getAppTypeTelemetryContract(e,t,n,r){const i=u.Al&&u.Al.ClientSettings||{},o=i.browser&&"true"===i.browser.ismobile||"phone"===i.deviceFormFactor,a="true"===i.static_page;let s,d,h,g,m=c.jG&&c.jG.CurrentRequestTargetScope&&c.jG.CurrentRequestTargetScope.pageExperiments&&c.jG.CurrentRequestTargetScope.pageExperiments.join(",");r.flights&&(m=r.flights),"edgeChromium"===c.jG.AppType&&m&&m.includes("remfltfromtel")&&(m=void 0),s=r.pageType?r.pageType:i.pagetype,d=r.pageContentTitle?r.pageContentTitle:(0,p.N)()?document.title:"",h=r.pageUrl?r.pageUrl:(0,p.N)()?document.URL:(0,l.DO)(t),g=r.pageViewType?r.pageViewType:v.trackCallbacks(n);let y=c.jG.CurrentMarket;r.locale&&(y=r.locale);return Object.assign({browser:{isMobile:o},flight:{id:m},locale:{mkt:y,lang:c.jG.MarketRequestInputLanguage,region:c.jG.MarketRequestInputRegion,geo_cc:c.jG.MarketRequestInputGeoCountry,mktReason:c.jG.MarketDetectionType},page:Object.assign(Object.assign({appType:c.jG.AppType,canvas:e.pageCanvas,config:e.pageConfiguration,content:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({title:d},!(0,f.isNullOrUndefined)(e.pageContentCategory)&&{category:e.pageContentCategory}),!(0,f.isNullOrUndefined)(e.pageContentSubCategory)&&{subcategory:e.pageContentSubCategory}),!(0,f.isNullOrUndefined)(e.pageContentDomainId)&&{domainId:e.pageContentDomainId}),!(0,f.isNullOrUndefined)(e.pageContentId)&&{id:e.pageContentId}),!(0,f.isNullOrUndefined)(e.pageContentVertical)&&{vertical:e.pageContentVertical}),isAdEnabled:!1,isAutoRefresh:!1,isJSEnabled:!0,isStatic:a,name:e.pageName,ocid:e.pageOcid,product:e.pageProduct,type:s,url:h,viewType:g},!(0,f.isNullOrUndefined)(e.pageTheme)&&{theme:e.pageTheme}),!(0,f.isNullOrUndefined)(e.pageHas3PSearch)&&{has3PSearch:e.pageHas3PSearch})},(!(0,f.isNullOrUndefined)(e.userSignInStatus)||!(0,f.isNullOrUndefined)(e.userSsoStatus)||!(0,f.isNullOrUndefined)(e.userAadState))&&{user:Object.assign(Object.assign(Object.assign({},!(0,f.isNullOrUndefined)(e.userSignInStatus)&&{isSignedIn:e.userSignInStatus}),!(0,f.isNullOrUndefined)(e.userSsoStatus)&&{isSso:e.userSsoStatus}),!(0,f.isNullOrUndefined)(e.userAadState)&&{aadState:e.userAadState})})}static getAppTypeTrackingSystemConfig(e){return(0,h.$)(u.Al&&u.Al.ClientSettings&&u.Al.ClientSettings.domain,c.jG.Environment,c.jG.IsChinaCompliance,e)}static trackCallbacks(e){let t="";switch((0,r.Bn)().currentColumnArrangement){case e.singleColSupported&&i.K$.c1:t="size1column";break;case!e.singleColSupported&&i.K$.c1:case i.K$.c2:t="size2column";break;case i.K$.c3:t="size3column";break;case i.K$.c4:t="size4column";break;case e.fiveColSupported&&i.K$.c5:t="size5column"}return t}static hasFlight(e){const t=c.jG.CurrentRequestTargetScope&&c.jG.CurrentRequestTargetScope.pageExperiments,n=(0,g.Mx)(t);return n&&n.includes(e)}}function y(e){if(e){s.A.get(s.U.CookieConsentProvider)===o.i.OneTrustBanner&&window.addEventListener(a.C,(()=>{const e=d.M0.getPageMetadata();e&&e.contract&&e.contract.page&&(e.contract.page.consentChanged="occ")}))}}},26750:function(e,t,n){"use strict";n.d(t,{s:function(){return b}});var r=n(75559),i=n(33954),o=n(20390),a=n(7370),s=n(54533),c=n(21050),u=n(44979),l=n(45506),d=n(78722),h=n(2278),p=n(33379),g=n(33940),f=n(65135),m=n(29772),v=n(22704);var y=n(98304),C=n(27496),S=n(75542);function w(e,t){return(0,g.mG)(this,void 0,void 0,(function*(){if(e&&e.uploadTrace)try{yield(0,S.F_)();const n=e.uploadTraceDelay||0;yield(0,C.Kb)(n);const r=function(e={}){const t=(0,s.dj)(),{enablePerfTimeline:n,uploadTrace:r,uploadCriteria:i}=t,{minimumTTVR:o,uploadOnErrorCodes:a}=i||{};if(!n||!r)return[];let c,u=!1;const l=(0,v.Ou)().TTVR;l&&l>=o&&(c=l,u=!0);const{observedErrorCodes:d}=e;return d&&d.length&&a&&a.some((e=>d.indexOf(e)>=0))&&(u=!0),u?(0,m.c)({uploadTrace:!0,maxTime:c}):[]}({observedErrorCodes:t.map((e=>e.id))});if(!r||!r.length)return;const i=l.Al&&l.Al.ClientSettings||{},o=(0,v.Ou)(),a={build:i.bundleInfo&&i.bundleInfo.v||void 0,payload:r,preload:l.Al.IsPreload||!1,prevBuild:l.Al.LastKnownAppVersion||void 0,ttvr:o.TTVR,appErrors:t};f.M0.sendAppPerfTraceEvent(a)}catch(e){f.M0.sendAppErrorEvent(Object.assign(Object.assign({},y.Eol),{message:"App trace upload failure",pb:Object.assign(Object.assign({},y.Eol.pb),{customMessage:`App trace upload error: ${e}`})}))}}))}function b(e,t){const{entityMetricsConfig:n,requestContext:g,enableAppTraceUploadOnErrors:f}=e,m=(0,u.Nd)(g.data.locationHref,"locationHref");(0,i.E)(new o.M(m)),(0,a.z)(m,s.Im,l.Al,d.jG.CurrentRequestTargetScope,n);const v=(0,c.oA)("entryPoint","entryPoint"),y=v&&v.startMeasure("init").endMeasure||(()=>{});!1!==t&&(0,h.HB)();const C=[];return f&&(0,p.N)()&&addEventListener(r.tW,(e=>C.push(e.detail.error))),{locationHref:m,initEndMeasure:y,perfTimeline:v,tryUploadAppTraceAsync:e=>w(e,C)}}},34536:function(e,t,n){"use strict";n.d(t,{sG:function(){return _},ql:function(){return z},If:function(){return V}});var r=n(33940),i=n(19388),o=n(22704),a=n(98304),s=n(68364),c=n(97425),u=n(23163);function l(e){window.windowsPerfMarker&&window.windowsPerfMarker(e)}var d=n(82890),h=n(59902),p=n(62676);function g(){const e=`${p.MV}.${d.p.basicFeed}`;!function(e){const t=(0,o.Ou)();for(const[n,r]of e)for(const e of r){const r=t[e];if(null!=r){t[n]=r;break}}}([[e,["TTVR.River","TTVR.GridViewFeed","TTVR.StripeFeed"]]]);const t=(e,t,r)=>{const i=r&&t?r-t:-1;n[e]=i,(0,h.QP)({name:e,startTime:t,endTime:r})},n=(0,o.Ou)(),r=n[e],i=n[`${p.MV}.${d.p.searchBox}`],a=n[`${p.MV}.${d.p.sdCards}`],s=n[d.p.wpoResponseBack];t(d.p.searchBoxToFeed,i,r),t(d.p.feedSDRender,r,a),t(d.p.feedBasicRender,s,r)}var f=n(75542),m=n(53301),v=n(33379);let y=!1,C=!1,S=!1;function w(){!y&&document.hidden?C=!0:"visible"===document.visibilityState&&(S=!0)}function b(){return C}(0,v.N)()&&(window.addEventListener&&window.addEventListener("beforeunload",(function(){y=!0})),void 0!==document.hidden&&null!==document.hidden&&document.addEventListener("visibilitychange",w),w());var T=n(89638),P=n(17873),k=n(78722),A=n(6719),E=n(56698),M=n(70785),x=n(83448),I=n(65135);const L={prefix:"SW",startTime:"StartTime",navigationFetchTime:"NavigationFetchTime",navigationCacheReadTime:"NavigationCacheReadTime",navFeedHandlerComplete:"NavFeedHandlerComplete",navFeedHandlerWillRespond:"NavFeedHandlerWillRespond",navFeedHandlerDidRespond:"NavFeedHandlerDidRespond",navFeedHandlerStart:"NavFeedHandlerStart",navFeedCacheDuration:"NavFeedCacheDuration",navParseDuration:"NavParseDuration",navFeedCachedStatus:"NavFeedCachedStatus",navFeedCacheReadTime:"NavFeedCacheReadTime",navFeedFetchTime:"NavFeedFetchTime",navFeedCacheOpenDuration:"NavFeedCacheOpenDuration"};function O(e){return[L.prefix,e].filter((e=>e.length>0)).join(".")}function F(e,t){return new Promise((n=>{const r=new MessageChannel;r.port1.onmessage=e=>{n(e.data)},e.postMessage(t,[r.port2])}))}function D(){return(0,r.mG)(this,void 0,void 0,(function*(){return function(e){if(!navigator.serviceWorker)return;const t=navigator.serviceWorker.controller;return t?F(t,e):navigator.serviceWorker.ready.then((t=>{const n=t.active;if(n)return F(n,e)}))}({type:"NAV_PERF_DATA"})}))}function R(e){const t=(0,o.Th)();W(t)&&(e[O(L.startTime)]=function(e){return e.requestStart-e.workerStart}(t),e[O(L.navigationFetchTime)]=function(e){const t=e.transferSize;if(0===t||300===t)return-1;return e.responseStart-e.requestStart}(t),e[O(L.navigationCacheReadTime)]=function(e){const t=e.transferSize;return 0===t||300===t?e.responseStart-e.requestStart:-1}(t),function(e){(0,r.mG)(this,void 0,void 0,(function*(){if(!W())return;const t=yield D();e[p.kc]=t&&"hit"===t.cachedStatus?1:0,t&&t.cacheReadTime&&(e[O(L.navigationCacheReadTime)]=Math.round(t.cacheReadTime)),t&&t.fetchTime&&(e[O(L.navigationFetchTime)]=Math.round(t.fetchTime))}))}(e))}function W(e){return!!(e=e||(0,o.Th)())&&Boolean(e.workerStart)}var N=n(34768),j=n(54533),U=n(73713);const H={};let G=!1;function B(){H.primaryLoadTimeEventSent=!1,H.secondaryLoadTimeEventSent=!1,G=!1}function $(e,t={}){const{isSecondaryBeacon:n,reportEntityMetrics:r}=t,i=Object.assign({},n?(0,o.Y9)():(0,o.Ou)());G||!r&&!n||((0,j.Xn)(i),G=!0),Object.keys(i).length&&(n?H.primaryLoadTimeEventSent||(i.isPrimaryLoadTimeEventSent=!1):i.TimeToSendPrimaryPageTimings=Math.round(performance.now()),function t(){try{if(I.M0&&I.M0.getPageMetadata()){const e=(0,o.A1)()||{};if(n){if(H.secondaryLoadTimeEventSent)return;H.secondaryLoadTimeEventSent=!0}else{if(H.primaryLoadTimeEventSent)return;H.primaryLoadTimeEventSent=!0}I.M0.sendLoadTimeEvent({markers:i,deviceCapabilities:e});const t=(0,o.Ou)();t&&n&&(t.telemetryBeaconFireTime=Math.round(performance.now()))}else e.setTimeout(t,500)}catch(e){I.M0&&I.M0.sendAppErrorEvent(Object.assign(Object.assign({},a.IU$),{message:"Unable to send load time event"}))}}())}function V(e,t,n){if(!(0,v.N)())return;const r=(0,f.S0)();r&&t===i.oN.Primary&&m.g.updateAboveTheFoldVisuallyReady.getActionSender(r).send(performance.now());const c=t===i.oN.Primary,u=(0,i.bO)(t);if((0,o.Ou)().IncompleteMarkers=null==u?void 0:u.join(","),b())return void e([]);let l=[];const d=c?a.LwW:a.Nxj;l=c?(0,i.bP)():(0,i.gh)();const h=(0,i.Gb)(),p=h.marker||"None",g=h.value||"None";let y=", Visual dependency callback was unavailable.";if(n){const e=n();y=e.length?`, Incomplete visual dependencies: ${JSON.stringify(e)}.`:", No pending visual dependencies."}(0,s.H)(d,"Missing perf markers",`Missing perf markers: ${JSON.stringify(u)}${y} Last Marked: ${p} ${g}`);const C=(0,i.OZ)();C&&c&&u.includes(`TTVR.${C}`)&&(0,s.H)(a.MmB,"Expected feed timed out while loading",`Expected feed timed out while loading: ${C}`),window.renderCacheEnabled&&c&&(0,N.cB)(),e(l)}function _(e,t={}){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,o.Ou)(),{onAfterPageTimingsUpdated:r,disableLoadTimeEvent:a,reportEntityMetrics:s}=t,d=(0,o.Th)();if(d){const{domComplete:e,loadEventStart:t,responseStart:r,domainLookupEnd:i,domainLookupStart:o,domInteractive:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,fetchStart:h,connectEnd:p,connectStart:g,workerStart:f,responseEnd:m,requestStart:v,unloadEventStart:y,unloadEventEnd:C,type:S,systemEntropy:w,secureConnectionStart:b}=d;n.timeToFirstByte=r,n.timeToDomComplete=e,n.timeToOnLoad=t,n.domainLookupTime=i-o,n.timeToFetchStart=h,n.timeToWorkerStart=f,n.connectStart=g,n.connectTime=p-g,n.requestStart=v,n.requestTime=r-v,n.responseStart=r,n.responseTime=m-r,n.requestResponseTime=m-v,n.fetchTime=m-h,n.swInitTime=h-f,n.swFetchTime=o-h,n.timeToUnload=C-y,n.timeToInteractive=a,n.domContentLoadedEventStart=s,n.domContentLoadedEventEnd=l,n.navigationType=S,n.systemEntropy=w,n.timeToSecureConnection=b-g,function(e){e.buildVer=k.jG.BuildVersion||-1}(n),(0,c.fL)(n),(0,u.Oq)(n),(0,u.bg)(n),(0,u.H7)(n),(0,u.zV)(n),(0,u.Am)(n),(0,c.Z0)(n),(0,c.xC)(n)}(0,u.dw)(n),(0,u.iA)(n);for(const t of e){const e=t[0];n[e]||(n[e]=t[1])}const h=(0,i.sx)();h&&(n.ReasonForTTVR=h);const p=n[A.dd];p&&(l(A.jh),l(A.H$),(0,E.Eu)(p),(0,c.Ct)(n)),T.U.getConfigTimings(n),R(n),n.wasBrowserHiddenAtLeastOnce=b(),g(),r&&r(),(0,x.wY)(),Promise.all([(0,M.o)(),(0,x.lr)()]).then((()=>{(0,E.fv)(n),a||$(window,{reportEntityMetrics:s})})),T.U.refreshConfigCache().then((()=>{!function(){const e=T.U.getResolverErrors();e&&e.length>0&&e.forEach((e=>{I.M0.sendAppErrorEvent(e)}))}()})),(0,P.mS)({id:"PostTtvr",type:"command"})}))}function z(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=(0,o.Ou)(),i=(0,o.Y9)();if((e=e.filter((e=>!(e[0]in r)))).forEach((e=>{const t=e[0];t in r||(i[t]=e[1],r[t]=e[1])})),P.yb){const e=yield(0,P.ot)({id:"perfmarkers"},4e3);if(e&&e.fetched){const t=e.payload;t&&t["WW.MyFeed"]&&(t[d.p.feedRequest]=t["WW.MyFeed"]),Object.assign(i,e.payload),Object.assign(r,e.payload)}}i.TimeToSendSecondaryPerfMarkers=Math.round(performance.now()),t&&t(),n||Promise.all([(0,M.o)(),(0,x.lr)()]).then((()=>{$(window,{isSecondaryBeacon:!0})}))}))}B(),(0,U.U)(B)},63263:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(33940),i=n(34536),o=n(19388),a=n(65135),s=n(75559),c=n(32164),u=n(33379);function l(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(0,u.N)())return;e=e||{};let t=!1;const n=setTimeout((()=>{t=!0,(0,i.If)((e=>d(e)),o.oN.Primary,e.incompleteVisualDependencyCallback)}),e.timeoutOverride||2e4);(0,o.Nv)().then((e=>{t||d(e)}));const l=new c.o;return yield l.getResultAsync();function d(t){return(0,r.mG)(this,void 0,void 0,(function*(){n&&clearTimeout(n),a.M0.config.autoCaptureContentView=!0,a.M0.observeElementTree(document);const r=!!e.pageLoadEventsAvailableCallback&&!e.pageLoadEventsAvailableCallback();r||a.M0.scheduleContentViewEvent(s.NS.Load);const{contentViewTimeoutOverride:o,onBeforeNotifyCallback:c,reportEntityMetrics:u}=e;o&&a.M0.setContentViewTimeout(o),(0,i.sG)(t,{onAfterPageTimingsUpdated:c&&(()=>{c(t)}),disableLoadTimeEvent:r,reportEntityMetrics:u}),l.set()}))}}))}},29904:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var r=n(33940),i=n(22704),o=n(19388),a=n(34536),s=n(33379),c=n(45506),u=n(6719);function l(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(0,s.N)())return;if(e=e||{},c.Al.IsPrerender){(0,i.Y9)()[u.C7]=1}let t=!1;return new Promise((n=>{const i=setTimeout((()=>{n(),t=!0,(0,a.If)(s,o.oN.Secondary,e.incompleteVisualDependencyCallback)}),e.timeoutOverride||2e4);function s(t){return(0,r.mG)(this,void 0,void 0,(function*(){i&&clearTimeout(i);const n=!!e.pageLoadEventsAvailableCallback&&!e.pageLoadEventsAvailableCallback();(0,a.ql)(t,e.onBeforeNotifyCallback&&(()=>{e.onBeforeNotifyCallback(t)}),n)}))}(0,o.e3)().then((e=>{n(),t||s(e)}))}))}))}},80496:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(55067);class i{}i.addVisuallyReadyDependencies=new r.C("AddVisuallyReadyDependencies"),i.markVisuallyReadyComplete=new r.C("MarkVisuallyReadyComplete")},3138:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r,i=n(33940),o=n(19388),a=n(2820),s=n(53301),c=n(75542);!function(e){e.VISUALLY_READY_WILL_FIRE="visuallyReadyWillFire",e.VISUALLY_READY_DID_FIRE="visuallyReadyDidFire",e.PAGE_REVEAL_START_WILL_FIRE="pageRevealStartWillFire",e.PAGE_REVEAL_START_DID_FIRE="pageRevealStartDidFire",e.PAGE_REVEAL_COMPLETE_WILL_FIRE="pageRevealCompleteWillFire",e.PAGE_REVEAL_COMPLETE_DID_FIRE="pageRevealCompleteDidFire"}(r||(r={}));var u=n(63439),l=n(80496);class d extends u.e{constructor(){super(...arguments),this.ttvrMarkers=[],this.getIncompleteVisualDependencies=()=>{const{visuallyReadyDependencies:e}=this.getCurrentState(),t=[];return e.forEach((e=>{e.visuallyReady||t.push(e.experienceType)})),t}}addVisuallyReadyDependencies(e){l.L.addVisuallyReadyDependencies.getActionSender(this).send(e),e.forEach((e=>{this.ttvrMarkers.push(e),(0,a.w)(e,!0)}))}registerVisuallyReadyObserver(){s.g.updateVisuallyReadyTiming.registerObserver((e=>{const t=e.params[0];if(!t)return;const{experienceType:n,endTime:r}=t;if(null!=r){this.getCurrentState().visuallyReadyDependencies.has(n)&&this.markVisuallyReadyComplete(n)}}))}registerMarkersIfNecessary(e,t,n=!1){if(!(this.ttvrMarkers&&0!==this.ttvrMarkers.length||e&&0!==e.length||t&&0!==t.length))return;const r={};r.TTVR=t?[...this.ttvrMarkers,...t]:this.ttvrMarkers,e&&(r.TTF=e),n&&(r.TTPR=[...this.ttvrMarkers],r.TTPR.push("OverlayRemoval")),(0,o.IO)(r)}registerSecondaryPerfMarkers(e){(0,o.Xl)(e)}registerFeedPerfMarker(e){(0,o.tW)(e)}markVisuallyReadyComplete(e){return(0,i.mG)(this,void 0,void 0,(function*(){const{visuallyReadyDependencies:t}=this.getCurrentState();if(t.get(e).visuallyReady)return;l.L.markVisuallyReadyComplete.getActionSender(this).send(e);for(const e of t.values())if(!e.visuallyReady)return;const n=(0,c.S0)();n&&(yield(0,c.FQ)(r.VISUALLY_READY_WILL_FIRE),performance.measure("VisuallyReady"),s.g.updateAboveTheFoldVisuallyReady.getActionSender(n).send(performance.now()),yield(0,c.FQ)(r.VISUALLY_READY_DID_FIRE))}))}}},79159:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(30856),i=n(80496),o=n(83448);class a{reduce(e,t){if(!e)return{visuallyReadyDependencies:new Map};if(!t)return e;let n=!1;const a=Object.assign({},e);return n=n||r.G.handleAction(t,i.L.addVisuallyReadyDependencies,(e=>{e&&e.forEach((e=>{e&&!a.visuallyReadyDependencies.has(e)&&a.visuallyReadyDependencies.set(e,{experienceType:e,visuallyReady:!1})}))})),n=n||r.G.handleAction(t,i.L.markVisuallyReadyComplete,((e,t)=>{if(e){const t=a.visuallyReadyDependencies.get(e);t&&(t.visuallyReady=!0,"GridViewFeed"===e&&(0,o.Bj)())}})),n?a:e}}},12269:function(e,t,n){"use strict";n.d(t,{Qy:function(){return k},jf:function(){return r}});var r,i=n(33940),o=n(45506),a=n(78722),s=n(26007),c=n(83227),u=n(53076),l=n(82890),d=n(68917),h=n(2820),p=n(75542),g=n(53301),f=n(97417),m=n(86108),v=n(33379),y=n(12884),C=n(3138);!function(e){e[e.MSN=1]="MSN",e[e.Windows=2]="Windows",e[e.WindowsWeatherApp=3]="WindowsWeatherApp"}(r||(r={}));const S={eventType:d.Gg.aboveTheFoldVisuallyReady},w={eventType:d.Gg.hydrationComplete},b=[c.x.weatherLocationSearch,c.x.weatherMapGroupSwitcher,c.x.weatherMapForecastCard,c.x.weatherMapWeatherCard,c.x.weatherMapNews,c.x.weatherMapTimeline,c.x.socialPost,c.x.socialShareButton],T=[...[c.x.weatherTodayHistoryWC,c.x.weatherCurrentWC,c.x.weatherMonthlySummaryWC,c.x.weatherForecastHistoryWC,c.x.weatherHistoricalTemperatureWC,c.x.weatherHistoricalRecordWC,c.x.weatherForecastDayNightWC,c.x.weatherLifeEntryWC,c.x.weatherForecastSunMoonPhaseWC,c.x.weatherTravelCarousel,c.x.weatherPageRoot],c.x.weatherData,c.x.weatherPageMeta,c.x.poweredByLegend,c.x.headerNavigationLogo,c.x.bingWebSSO,c.x.searchHistoryCommon,c.x.pivotsNav,c.x.weatherToast,c.x.weatherEplant,c.x.weatherForecastVideo,c.x.weatherFeedback,c.x.weatherLifeIndexEntry,c.x.weatherMapV2,u.z.WeatherMapData,c.x.weatherMapGroupSwitcher,c.x.weatherMapPromotionCard,c.x.weatherMapSidebar,c.x.weatherMapAnimationBox,c.x.weatherMapLegendIndicator,c.x.weatherMapContentModal,c.x.weatherMapTimeline,c.x.weatherMapControlBox,c.x.weatherMapPopup,c.x.weatherMapDataFilter,c.x.cardAction,c.x.edgeHeader,c.x.meControl,c.x.nativeAd,c.x.clarity,c.x.oneFooter,c.x.marketSelector,c.x.msnSettingMenu,c.x.displayAds,c.x.hiddenContent,c.x.feedbackLink,c.x.river,c.x.stripeView,c.x.socialBarV2,c.x.contentPreviewSlide,c.x.weatherHolidayEffects,c.x.weatherNpsCard,c.x.weatherRecommendation,c.x.weatherAds,c.x.weatherMapCarousel,c.x.weatherColdStartGuide,c.x.weatherLocationPanel,c.x.weatherSettingCenter,c.x.weatherFloatButtons,c.x.weatherSlideDrawer,c.x.weatherEplantTasksPhone,c.x.weatherActivityWatchlist,c.x.weatherNotification,c.x.weatherInsightsSection,c.x.weatherPersonaSummary,c.x.weatherExtensionSection,c.x.weatherEventAlert,c.x.weatherMapsRotationWC,c.x.weatherFreDialog],P=[...T,c.x.baseHeader];class k extends C.g{initialize(e){return(0,i.mG)(this,void 0,void 0,(function*(){this.setVisuallyReadyDependencies(e),function(e){2===e.page&&b.forEach((e=>{(0,h.w)(e,!0)}))}(e);const t=(0,p.S0)();if(t){const n=[],r=[];if(e.overrideDefers&&e.overrideDefers.length>=0)for(let t=0;t<e.overrideDefers.length;++t)r.push((0,p.Qz)(S,e.overrideDefers[t]));else 1===e.page?this.handleForecastExperiences(r,e):2===e.page?this.handleMapExperiences(r,e):3===e.page?this.handleMonthlyForecastExperiences(r,e):4===e.page?this.handleRecordsExperiences(r,e):5===e.page?this.handlePollenExperiences(r,e):6===e.page?this.handleWeatherLifeExperiences(r,e):7===e.page&&this.handleHourlyForecastExperiences(r,e);e.ssrEnabled&&this.handleSSRExperiences(n,r,e.isInPureSSRMode),g.g.updateExperienceRenderDeferralState.getActionSender(t).send(n),g.g.updateExperienceLoadDeferralState.getActionSender(t).send(r)}}))}setVisuallyReadyDependencies(e){var t,n,r,i;const s=[],u=null===(t=o.Al.CurrentFlightSet)||void 0===t?void 0:t.has("prg-wea-wcpage"),d=null===(n=o.Al.CurrentFlightSet)||void 0===n?void 0:n.has("prg-1sw-wxbnr"),h=a.jG.isMobile&&((null===(r=o.Al.Locale)||void 0===r?void 0:r.includes("en-us"))||(null===(i=o.Al.Locale)||void 0===i?void 0:i.includes("-jp"))),p=[];switch(e.page){case 1:s.push(c.x.weatherOverviewV2),s.push(c.x.weatherForecast),s.push(c.x.weatherMapMini),d&&s.push(c.x.weatherEventBanner),h&&s.push(c.x.weatherPollenTeaser);break;case 2:if(a.jG.isMobile&&u){s.push(c.x.weatherMapWC);break}s.push(c.x.weatherMapV2);break;case 3:if((0,f.FT)()){s.push(c.x.weatherHistoricalTrends);break}s.push(c.x.weatherMonthCalendar);break;case 4:s.push(c.x.weatherMonthlyTrendChart);break;case 5:s.push(c.x.weatherPollenDailyInfo),s.push(c.x.weatherPollenCityList),s.push(c.x.weatherMapMini);break;case 6:s.push(c.x.weatherForecastTab),s.push(c.x.weatherLifeCurrentV2);break;case 7:a.jG.isMobile?(s.push(c.x.weatherForecastDayWC),s.push(c.x.weatherHourlyHistogramWC)):A()?s.push(c.x.weatherHourlyTab):!function(){var e,t;return(null===(e=o.Al.CurrentFlightSet)||void 0===e?void 0:e.has("prg-wx-awe"))||(null===(t=o.Al.CurrentFlightSet)||void 0===t?void 0:t.has("prg-1sw-wxr"))}()?(s.push(c.x.weatherNowcastHistogram),s.push(c.x.weatherHourlyTab)):(s.push(c.x.weatherNowcastHistogram),s.push(c.x.weatherActivityPlanner))}let g=!1;switch(e.style){case 1:a.jG.isMobile||(g=!0);break;case 3:g=!1}if(u&&2===e.page&&(g=!1),g&&(s.push(c.x.searchBoxCommon),p.push(l.p.searchBox)),!a.jG.isMobile&&(0,f.EY)()&&2==e.style){s.push(c.x.commonHeader);const{pageExperiments:e}=(0,a.Yq)().CurrentRequestTargetScope;e&&e.includes("prg-sprnav")&&s.push(c.x.superNav)}this.addVisuallyReadyDependencies(function(e){if(!m.a||m.a.size<1)return e;return e.filter((e=>!m.a.has(e.toLowerCase())))}(s)),this.registerVisuallyReadyObserver(),this.registerMarkersIfNecessary([],p)}handleSSRExperiences(e,t,n){const r=n?P:T;(0,f.EY)()||r.push(c.x.commonHeader),(0,f.k_)()&&r.push(...this.handleTrendPageLazyLoadExperiences());for(const n of r)(0,v.N)()?n!=c.x.baseHeader&&e.push((0,p.Qz)(w,n)):t.push((0,p.Qz)(w,n))}handleForecastExperiences(e,t){const n=o.Al.ClientSettings.locale,r=`${n.language}-${n.market}`,i=[];new Set(["en-us","ja-jp","fr-fr","de-de","en-gb","en-ca","en-au","en-in","es-es","es-mx","it-it","nl-nl"]).has(r)||i.push(c.x.river),i.push(c.x.stripeView),i.push(c.x.weatherPageRoot),i.push(c.x.socialBarV2),i.push(c.x.poweredByLegend),i.push(c.x.feedbackLink),i.push(c.x.meControl),i.push(c.x.nativeAd),i.push(c.x.clarity),i.push(c.x.oneFooter),i.push(c.x.marketSelector),i.push(c.x.msnSettingMenu),i.push(c.x.displayAds),i.push(c.x.bingWebSSO),i.push(c.x.searchHistoryCommon),i.push(c.x.headerNavigationLogo),i.push(c.x.pivotsNav),a.jG.isMobile&&(i.push(c.x.weatherSlideDrawer),i.push(c.x.weatherEplantTasksPhone)),i.push(c.x.weatherColdStartGuide),i.push(c.x.weatherLocationPanel),i.push(c.x.weatherToast),i.push(c.x.weatherHolidayEffects),i.push(c.x.weatherNpsCard),i.push(c.x.weatherForecastVideo),i.push(c.x.weatherRecommendation),i.push(c.x.weatherEplant),i.push(c.x.weatherFeedback),i.push(u.z.PlacementManager),i.push(u.z.WeatherFeedbackData),i.push(c.x.weatherMapCarousel),i.push(c.x.weatherFloatButtons),i.push(c.x.weatherNotification),i.push(c.x.weatherInsightsSection),i.push(c.x.weatherPersonaSummary),i.push(c.x.weatherExtensionSection),i.push(c.x.weatherFreDialog),i.push(u.z.WeatherActivityWatchlistData),i.push(c.x.weatherActivityWatchlist),i.push(c.x.weatherEventAlert),i.push(c.x.weatherTravelCarousel),(0,f.EY)()||2!==t.style||(i.push(c.x.commonHeader),i.push(c.x.superNav)),i.forEach((t=>e.push((0,p.Qz)(S,t))))}handleMonthlyForecastExperiences(e,t){const n=o.Al.ClientSettings.locale,r=`${n.language}-${n.market}`,i=[];new Set(["en-us","ja-jp","fr-fr","de-de","en-gb","en-ca","en-au","en-in","es-es","es-mx","it-it","nl-nl"]).has(r)||i.push(c.x.river),i.push(c.x.stripeView),i.push(c.x.socialBarV2),i.push(c.x.poweredByLegend),i.push(c.x.feedbackLink),i.push(c.x.meControl),i.push(c.x.nativeAd),i.push(c.x.clarity),i.push(c.x.oneFooter),i.push(c.x.marketSelector),i.push(c.x.msnSettingMenu),i.push(c.x.displayAds),i.push(c.x.bingWebSSO),i.push(c.x.searchHistoryCommon),i.push(c.x.headerNavigationLogo),i.push(c.x.pivotsNav),i.push(c.x.weatherToast),i.push(c.x.weatherDailyTrendChart),i.push(u.z.PlacementManager),i.push(c.x.weatherFloatButtons),i.push(c.x.weatherNotification),i.push(c.x.weatherEplant),(0,f.EY)()||2!==t.style||(i.push(c.x.commonHeader),i.push(c.x.superNav)),(0,f.k_)()&&i.push(...this.handleTrendPageLazyLoadExperiences()),i.forEach((t=>e.push((0,p.Qz)(S,t))))}handleRecordsExperiences(e,t){const n=o.Al.ClientSettings.locale,r=`${n.language}-${n.market}`,i=[];new Set(["en-us","ja-jp","fr-fr","de-de","en-gb","en-ca","en-au","en-in","es-es","es-mx","it-it","nl-nl"]).has(r)||i.push(c.x.river),i.push(c.x.stripeView),i.push(c.x.socialBarV2),i.push(c.x.poweredByLegend),i.push(c.x.feedbackLink),i.push(c.x.meControl),i.push(c.x.clarity),i.push(c.x.oneFooter),i.push(c.x.marketSelector),i.push(c.x.msnSettingMenu),i.push(c.x.displayAds),i.push(c.x.bingWebSSO),i.push(c.x.searchHistoryCommon),i.push(c.x.headerNavigationLogo),i.push(c.x.pivotsNav),i.push(c.x.weatherFloatButtons),i.push(c.x.weatherNotification),i.push(c.x.weatherToast),i.push(u.z.PlacementManager),(0,f.EY)()||2!==t.style||(i.push(c.x.commonHeader),i.push(c.x.superNav)),i.forEach((t=>e.push((0,p.Qz)(S,t))))}handlePollenExperiences(e,t){const n=[];n.push(c.x.stripeView),n.push(c.x.socialBarV2),n.push(c.x.poweredByLegend),n.push(c.x.feedbackLink),n.push(c.x.meControl),n.push(c.x.clarity),n.push(c.x.oneFooter),n.push(c.x.marketSelector),n.push(c.x.msnSettingMenu),n.push(c.x.displayAds),n.push(c.x.bingWebSSO),n.push(c.x.searchHistoryCommon),n.push(c.x.headerNavigationLogo),n.push(c.x.pivotsNav),n.push(c.x.weatherFloatButtons),n.push(c.x.weatherNotification),a.jG.isMobile&&n.push(c.x.weatherSlideDrawer),n.push(c.x.weatherToast),n.push(u.z.PlacementManager),(0,f.EY)()||2!==t.style||(n.push(c.x.commonHeader),n.push(c.x.superNav)),n.forEach((t=>e.push((0,p.Qz)(S,t))))}handleWeatherLifeExperiences(e,t){const n=[];n.push(c.x.river),n.push(c.x.stripeView),n.push(c.x.socialBarV2),n.push(c.x.poweredByLegend),n.push(c.x.feedbackLink),n.push(c.x.meControl),n.push(c.x.clarity),n.push(c.x.oneFooter),n.push(c.x.marketSelector),n.push(c.x.msnSettingMenu),n.push(c.x.displayAds),n.push(c.x.bingWebSSO),n.push(c.x.searchHistoryCommon),n.push(c.x.headerNavigationLogo),n.push(c.x.pivotsNav),n.push(c.x.weatherFloatButtons),n.push(c.x.weatherNotification),n.push(c.x.weatherToast),n.push(u.z.PlacementManager),(0,f.EY)()||2!==t.style||(n.push(c.x.commonHeader),n.push(c.x.superNav)),n.push(c.x.weatherLifeNews),n.push(c.x.weatherRecommendation),n.push(c.x.weatherEplant),n.forEach((t=>e.push((0,p.Qz)(S,t))))}handleHourlyForecastExperiences(e,t){const n=[];n.push(c.x.stripeView),n.push(c.x.socialBarV2),n.push(c.x.poweredByLegend),n.push(c.x.feedbackLink),n.push(c.x.meControl),n.push(c.x.clarity),n.push(c.x.oneFooter),n.push(c.x.marketSelector),n.push(c.x.msnSettingMenu),n.push(c.x.displayAds),n.push(c.x.bingWebSSO),n.push(c.x.searchHistoryCommon),n.push(c.x.headerNavigationLogo),n.push(c.x.pivotsNav),n.push(c.x.weatherFloatButtons),n.push(c.x.weatherNotification),n.push(c.x.weatherToast),n.push(u.z.PlacementManager),(0,f.EY)()||2!==t.style||(n.push(c.x.commonHeader),n.push(c.x.superNav)),a.jG.isMobile&&(n.push(c.x.weatherSlideDrawer),n.push(c.x.weatherOverviewWC)),A()&&n.push(c.x.weatherNowcastHistogram),n.push(u.z.WeatherActivityWatchlistData),n.push(c.x.weatherActivityWatchlist),n.push(c.x.weatherEplant),n.push(c.x.weatherFunFact),n.forEach((t=>e.push((0,p.Qz)(S,t))))}handleMapExperiences(e,t){const n=[...b,c.x.weatherMapControlBox,c.x.weatherMapAlertCard,c.x.weatherMapContentModal,c.x.weatherMapPopup,c.x.weatherMapPromotionCard,c.x.weatherLocationPopup,c.x.weatherMapLayerChooser,c.x.weatherMapLegendIndicator,c.x.weatherMapNaviCard,c.x.weatherMapSidebar,c.x.weatherMapAnimationBox,c.x.weatherMapHurricanePane,c.x.poweredByLegend,c.x.feedbackLink,c.x.meControl,c.x.nativeAd,c.x.clarity,c.x.oneFooter,c.x.marketSelector,c.x.msnSettingMenu,c.x.displayAds,c.x.bingWebSSO,c.x.searchHistoryCommon,c.x.headerNavigationLogo,c.x.pivotsNav,c.x.weatherToast,c.x.weatherFloatButtons,c.x.weatherNotification,c.x.weatherEplant,c.x.weatherMapDataFilter,u.z.PlacementManager];a.jG.isMobile&&n.push(c.x.weatherSlideDrawer),(0,f.EY)()||2!==t.style||(n.push(c.x.commonHeader),n.push(c.x.superNav)),n.forEach((t=>e.push((0,p.Qz)(S,t))))}handleTrendPageLazyLoadExperiences(){const e=[];return e.push(c.x.weatherHistoricalTrends),e.push(c.x.weatherTrendOverview),a.jG.IsChinaCompliance&&e.push(c.x.weatherMapMini),e}}function A(){return-1!=s.c.getParamsWithItems((0,y.zp)(),!0).findIndex((e=>"day"===e.key))}},201:function(e,t,n){"use strict";n.d(t,{j:function(){return p},h:function(){return h}});var r=n(80013),i=n(78722),o=n(45506);class a{constructor(){this.endTime=-1,this.startTime=-1}getDuration(){let e=-1;return-1!==this.startTime&&-1!==this.endTime&&(e=this.endTime-this.startTime),e}getEnd(){return this.endTime}getStart(){return this.startTime}setEnd(e){this.endTime=e||performance.now()}setStart(){this.startTime=performance.now()}}var s=n(33954),c=n(19388),u=n(22704),l=n(60070),d=n(33379);const h={experienceName:void 0,customField:void 0,requestContext:void 0,onExperienceMilestoneTimingUpdate:void 0};class p extends r.Z{constructor(e,t){super(e),this.visuallyReadyTracker=new a,this.initializedTracker=new a,this.domCompleteTracker=new a,this.isStaleRevalidated=!1,this.startInitializeMilestone(),this.startVisuallyReadyMilestone(),this.startDomCompleteMilestone(),this.incrementExpCount("")}componentDidMount(){this.endDomCompleteMilestone()}componentDidUpdate(e,t,n){this.endDomCompleteMilestone()}render(){if((0,d.N)()){const e=""+window.needsHydrate;s.k.log(`Rendering ${this.props.experienceName}. needsHydrate: ${e}`)}this.endInitializeMilestone(),this.startDomCompleteMilestone(),this.incrementExpCount("Render")}markTimeToVisuallyReady(e,t,n){e&&(null==t&&(t=window.performance.now()),(0,c.o_)(this.props.experienceName,!1,t),n&&(0,c.o_)(n,!1,t)),this.endVisuallyReadyMilestone(t)}markTimeToFunctional(e){const t=window.performance.now();(0,c.BW)(this.props.experienceName,!1,t),e&&(0,c.BW)(e,!1,t)}mnsDashAttributes(){if(i.jG.ShowMnsCreatorDashboard){return{"data-config-href":this.props["data-config-href"],"data-experience-type":this.props["data-experience-type"]}}return null}startInitializeMilestone(){this.initializedTracker.setStart(),this.updateStartTiming(this.initializedTracker,l.c.initialized)}endInitializeMilestone(){this.updateEndTiming(this.initializedTracker,l.c.initialized)}startVisuallyReadyMilestone(){this.updateStartTiming(this.visuallyReadyTracker,l.c.visuallyReady)}endVisuallyReadyMilestone(e){this.updateEndTiming(this.visuallyReadyTracker,l.c.visuallyReady,e)}startDomCompleteMilestone(){this.updateStartTiming(this.domCompleteTracker,l.c.domComplete)}endDomCompleteMilestone(){this.updateEndTiming(this.domCompleteTracker,l.c.domComplete)}updateStartTiming(e,t){e.setStart();const{onExperienceMilestoneTimingUpdate:n}=this.props;n&&n(t,e.getStart())}updateEndTiming(e,t,n){if(-1!==e.getEnd())return;e.setEnd(n);const{onExperienceMilestoneTimingUpdate:r}=this.props;r&&r(t,void 0,e.getEnd())}incrementExpCount(e){(0,u.O8)(`Exp.${e}Count`);const t=this.constructor.renderCounterPrefix;t&&(0,u.O8)(`Exp.${t}${e}Count`)}clarityProps(){return!i.jG.ClarityEnabled||o.Al.UserIsSignedIn||o.Al.ClientSettings.functionalonly_cookie_experience?{}:{"data-clarity-mask":!0}}}},58958:function(e,t,n){"use strict";function r(){if(!(null===window||void 0===window?void 0:window.matchMedia))return;const e=window.matchMedia("(prefers-color-scheme: dark)");return e?!!e.matches:void 0}function i(e){return!(!(null==e?void 0:e.useMobile)||!(null==e?void 0:e.isDarkModeForMobile))}n.d(t,{S:function(){return i},Y:function(){return r}})},18544:function(e,t,n){"use strict";n.d(t,{P5:function(){return u},Yw:function(){return s},dw:function(){return a},m0:function(){return o},tT:function(){return c}});var r=n(33442),i=n(56121);const o="#000000",a="#FFFFFF",s=(0,r.l$)((()=>o))(i.ZP),c=((0,r.s5)((()=>o))(i.ZP),80),u=(0,r.$B)((()=>a))(i.ZP)},40859:function(e,t,n){"use strict";n.d(t,{Kf:function(){return p},Tf:function(){return h},Vt:function(){return d}});var r=n(33442),i=n(56121),o=n(9791),a=n(46728),s=n(18544);const c=(e,t)=>e?u(e,t):null,u=(0,o.Z)(((e,t)=>t?(0,a.Z)({},e,t):e),((e,t)=>(t&&t.backgroundColor||e.backgroundColor||"").concat("|").concat(e.direction||"").concat("|").concat(t&&t.direction||""))),l=(e,t,n=!1)=>({tag:n?"div":null,drawBackground:n,value:t,designSystemMergingFunction:(t,n)=>c(t&&Object.assign(Object.assign({},t),{name:e}),n)}),d=(e,t)=>({designSystem:Object.assign(Object.assign({},t),{name:e}),designSystemMergingFunction:c}),h=l("card",r.A4),p=l("image",i.ZP.neutralPalette[s.tT]);l("floating",r.s5)},14989:function(e,t,n){"use strict";n.d(t,{K$:function(){return r},Nm:function(){return g},QM:function(){return m},SX:function(){return d},YY:function(){return c},aK:function(){return f},eH:function(){return y},hg:function(){return u},vW:function(){return v}});var r,i=n(14165),o=n(62371),a=n(42166);!function(e){e.c1="c1",e.c2="c2",e.c3="c3",e.c4="c4",e.c5="c5"}(r||(r={}));let s;function c(e){switch(e){case 0:return r.c1;case 1:return r.c2;case 2:return r.c3;case 3:return r.c4;case 4:return o.p.fiveColSupported()?r.c5:null;default:return null}}function u(){if(o.p.fiveColSupported()&&4===d.length){const e=new l(r.c5,i.sc);d.push(e),h[r.c5]=e}}class l{constructor(e,t,n){this.arrangement=e,this.contentSizePx=t,this.isFirstBreakpoint=n}get minViewportWidthPx(){if(this.isFirstBreakpoint)return 0;if(s){const e=s.get(this.arrangement);if(e)return e}return this.contentSizePx+p}}const d=[new l(r.c1,i.xs,!0),new l(r.c2,i._3),new l(r.c3,i.Xn),new l(r.c4,i.xX)];o.p.fiveColSupported()&&d.push(new l(r.c5,i.sc));const h={};for(const e of d)h[e.arrangement]=e;const p=32;!function(){var e;const t=[0];for(let n=1;n<d.length;n++)t.push(null===(e=d[n])||void 0===e?void 0:e.minViewportWidthPx)}();function g(e){return h[e].contentSizePx}function f(e,t){var n;const r=[];if(e){const t=h[e],n=null==t?void 0:t.minViewportWidthPx;n>0&&r.push(`(min-width: ${(0,a.a)(n)})`)}if(t){const e=h[t],i=d.indexOf(e);i<d.length-1&&r.push(`(max-width: ${(0,a.a)((null===(n=d[i+1])||void 0===n?void 0:n.minViewportWidthPx)-1)})`)}return r.join(" and ")}function m(e){return f(e,e)}function v(e,t){const n=f(e,t);return n?"@media "+n:""}function y(e){return v(e,e)}},14165:function(e,t,n){"use strict";n.d(t,{Xn:function(){return o},_3:function(){return i},iN:function(){return u},jU:function(){return l},sc:function(){return s},xX:function(){return a},xs:function(){return r}});const r=300;let i=624,o=948,a=1272,s=1596,c=null,u=24;function l(e){u=e;const t=function(e){return{Size1ColumnWidth:r,Size2ColumnWidth:2*r+e,Size3ColumnWidth:3*r+2*e,Size4ColumnWidth:4*r+3*e,Size5ColumnWidth:5*r+4*e,Size6ColumnWidth:6*r+5*e}}(e);c=t.Size6ColumnWidth,s=t.Size5ColumnWidth,a=t.Size4ColumnWidth,o=t.Size3ColumnWidth,i=t.Size2ColumnWidth}},88828:function(e,t,n){"use strict";n.d(t,{Bn:function(){return p}});var r=n(14989),i=n(20654),o=n(80329),a=n(45506),s=n(44979),c=n(98304),u=n(27003),l=n(65135);const d="__FastBreakpointManager__";class h{constructor(e){this.callbackMap=new Map,this.refreshBreakpoints(e)}get currentColumnArrangement(){return this.indexToStandardConverter(i.Z.currentBreakpoint())}refreshBreakpoints(e){var t;const n=[0];(0,r.hg)();for(let e=1;e<r.SX.length;e++)n.push(null===(t=r.SX[e])||void 0===t?void 0:t.minViewportWidthPx);i.Z.breakpoints=n,i.Z.defaultBreakpoint=void 0!==e?(0,s.Nd)(e.data.breakpoint,"breakpoint"):0}set breakpoints(e){if(i.Z.breakpoints=e,o.R1&&Array.isArray(o.R1)){const t=o.R1.length;for(let e=0;e<t;e++)o.R1.pop();e.forEach((e=>o.R1.push(e)))}}get breakpoints(){return i.Z.breakpoints}updateBreakpointsBasedFromContainerWidth(e){if(e>=r.SX[3].contentSizePx)return;const t=[];for(let n=0;n<this.breakpoints.length;n++)(0===n||e>=r.SX[n].contentSizePx)&&t.push(r.SX[n].contentSizePx);this.breakpoints=t}subscribe(e){const t=t=>{e(this.indexToStandardConverter(t))};this.callbackMap.set(e,t),i.Z.subscribe(t)}unsubscribe(e){i.Z.unsubscribe(this.callbackMap.get(e)),this.callbackMap.delete(e)}indexToStandardConverter(e){return r.SX&&r.SX[e]?r.SX[e].arrangement:(l.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.rax),{message:"Cannot read property arrangement of undefined",pb:Object.assign(Object.assign({},c.rax.pb),{customMessage:"timestamp: "+performance.now()+". columnArrangements["+e+"] is undefined.columnArrangements: "+JSON.stringify(r.SX)+"; breakpoints: "+JSON.stringify(this.breakpoints),isPrerender:null===a.Al||void 0===a.Al?void 0:a.Al.IsPrerender})})),r.SX&&e>=r.SX.length&&r.SX[r.SX.length-1]?r.SX[r.SX.length-1].arrangement:r.K$.c1)}}const p=(e,t)=>(t&&u.Gq.set(d,new h(e)),u.Gq.get(d,(()=>new h(e))))},65308:function(e,t,n){"use strict";n.d(t,{KJ:function(){return i}});var r=n(49088);function i(e,t){o("name",e,t)}function o(e,t,n){if(!(0,r.T)(t)){let r=a(e,t);r?r.setAttribute("content",n):(r=document.createElement("meta"),r.setAttribute(e,t),r.setAttribute("content",n),document.querySelector("head").appendChild(r))}}function a(e,t){return document.head.querySelector(`meta[${e}='${t}']`)}},7419:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(65135);function i(e,t,n,i){r.M0.sendAppErrorEvent(Object.assign(Object.assign({},n),{message:i,pb:Object.assign(Object.assign({},n.pb),{customMessage:e&&e.toString(),stack:e&&e.stack,componentStack:t&&t.componentStack})}))}},49088:function(e,t,n){"use strict";function r(e){return!e||!function(e){if(!e)return e;if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}(e)}n.d(t,{T:function(){return r}})},74398:function(e,t,n){"use strict";n.d(t,{g:function(){return B},L:function(){return G}});var r=n(33940),i=n(63439),o=n(55067),a=n(93303);class s{}s.renderExperience=new o.C(a.B.renderAction),s.dataConnectorMergeInit=new o.C(a.B.dataConnectorMergeInitAction);var c,u=n(32164),l=n(78722),d=n(34960),h=n(32181);!function(e){e[e.NotStarted=0]="NotStarted",e[e.WaitingToLoad=1]="WaitingToLoad",e[e.LoadedWaitingToRender=2]="LoadedWaitingToRender",e[e.ReadyToRender=3]="ReadyToRender",e[e.Failed=4]="Failed",e[e.Unknown=5]="Unknown"}(c||(c={}));var p,g=n(81428);!function(e){e.batch="batch",e.renderWhenAvailable="renderWhenAvailable"}(p||(p={}));var f=n(33954),m=n(98304),v=n(68364),y=n(49972),C=n(53076),S=n(83227),w=n(2820),b=n(60070),T=n(53301),P=n(75542),k=n(99620),A=n(24222),E=n(65135),M=n(38156),x=n(89526);var I=n(60483),L=n(33379),O=n(12884),F=n(13746),D=n(79127),R=n(73755),W=n(43819),N=n(52246);var j=n(13578),U=n(85663);var H=n(1867);const G={[C.z.BingImageData]:!0,[C.z.TelemetryData]:!0,[C.z.TopSitesLayoutData]:!0,[C.z.PageClickTrackerData]:!0,[C.z.OfficeSharedData]:!0,[S.x.pivotContentV2]:!0};class B extends i.e{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,o,a),this.childMap=new Map,this.childWCMap=new Map,this.telemetryContext=void 0,this.telemetryTags=null,this.$experienceGroup=void 0,this.$connectedComponent=void 0,this.$componentInstance=void 0,this.$renderIfOffline=!1,this.$experienceType=void 0,this.$maxWaitToBatchRenderChildExperiences=4e3,this.$milestoneDataConnector=void 0,this.onExperienceMilestoneTimingUpdate=(e,t,n)=>{if((0,w.w)(this.experienceType)&&(void 0===this.$milestoneDataConnector&&(this.$milestoneDataConnector=(0,P.S0)()||null),this.$milestoneDataConnector))switch(e){case b.c.domComplete:this.updateTiming(T.g.updateDomCompleteTiming,e,t,n);break;case b.c.initialized:this.updateTiming(T.g.updateInitTiming,e,t,n);break;case b.c.rendered:this.updateTiming(T.g.updateRenderTiming,e,t,n);break;case b.c.visuallyReady:this.updateTiming(T.g.updateVisuallyReadyTiming,e,t,n),n>0&&this.perfTimeline&&this.visuallyReady.set(n);break;case b.c.startLoading:this.updateTiming(T.g.updateStartLoadingTiming,e,t,n);break;default:f.k.log(`Milestone timing update was attempted for an unknown milestone type: ${e}`)}},this.onAppError=e=>E.M0.sendAppErrorEvent(e),this.selectComponentState=this.selectComponentState.bind(this);const s=e.split("_");this.$experienceType=s[0];const c=s.length>1?this.$experienceType+s[1]:this.$experienceType;this.config=D.j.processConfig(this.config,c),this.perfTimeline&&(this.visuallyReady=new u.o)}get connectedComponent(){return this.$connectedComponent}get componentInstance(){return this.$componentInstance}set componentInstance(e){this.$componentInstance=e}get experienceType(){return this.$experienceType}set renderIfOffline(e){this.$renderIfOffline=e}get childComponentInstanceList(){const e={};return this.childMap.forEach(((t,n)=>{e[n]=t.componentInstance})),this.childWCMap.forEach(((t,n)=>{e[n]=t})),e}mapDispatchToProps(e,t){return{}}mergeProps(e,t,n){let r={};return l.jG.ShowMnsCreatorDashboard&&(r={"data-config-href":this.configHref,"data-experience-type":this.experienceType}),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({onExperienceMilestoneTimingUpdate:this.onExperienceMilestoneTimingUpdate},r),n),e),t),this.requestContext&&{requestContext:this.requestContext}||{})}connectComponent(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if((0,L.N)()&&!navigator.onLine&&!this.$renderIfOffline)return void(t&&t.onAppErrorCallback&&t.onAppErrorCallback({id:404,message:"No network",severity:0}));const n=this.perfTimeline&&this.perfTimeline.startMeasure("connect").endMeasure;var r,i;yield this.onComponentConnect(t),this.telemetryObject&&(r=e,i=this.telemetryObject,e=class extends x.Component{constructor(e,t){super(e,t),this.telemetryObject=i}render(){return x.createElement(r,Object.assign({},this.props,this.telemetryObject.render()))}}),this.perfTimeline&&(e=function(e,t,n){return class extends x.Component{constructor(){super(...arguments),this.firstRender=!0}render(){if(this.firstRender&&n){this.firstRender=!1;const e=t.startMeasure("render").endMeasure;n.then((t=>e({endTime:t})))}return this.lastRenderEnd=t.startMeasure("update").endMeasure,x.createElement(e,Object.assign({},this.props))}componentDidMount(){this.lastRenderEnd()}componentDidUpdate(){this.lastRenderEnd()}}}(e,this.perfTimeline,this.visuallyReady.getResultAsync()),this.mapStateToProps=this.perfTimeline.instrumentFunc("mapStateToProps",this.mapStateToProps,this),this.mapDispatchToProps=this.perfTimeline.instrumentFunc("mapDispatchToProps",this.mapDispatchToProps,this),this.mergeProps=this.perfTimeline.instrumentFunc("mergeProps",this.mergeProps,this));const o=(0,N.$j)(this.mapStateToProps.bind(this),this.mapDispatchToProps.bind(this),this.mergeProps.bind(this),{pure:!0})(e);return this.$connectedComponent=(0,H.r)(this.selectComponentState,this.namespace)(o),n&&n(),this.$connectedComponent}))}mergeOrdinalChildExperiences(e,t,n){if(!e)return null;if(t<1)return E.M0.sendAppErrorEvent(Object.assign(Object.assign({},m.jtM),{message:"listStartFrom must be greater than 0."})),e;const r=this.config;if(!r.additionalChildExperiences||0===r.additionalChildExperiences.length)return e;const i=D.j.getOrdinalObjectForCurrentBreakpoint(r.additionalChildExperiences);let o=t+e.length;return i.children.forEach((r=>{const i=r.arrangement,a={experienceArrangement:i};if(i&&i.startPosition>=t&&i.startPosition<=o){const s=i.startPosition-t,c={configInfo:r.childExperienceConfigInfo,initialProps:a};e.splice(s,0,c),o++,"function"==typeof n&&n(c)}})),e}onComponentConnect(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.$connectorProps=e,e){if(this.telemetryObject=this.telemetryObject||e.experienceTelemetry,!this.telemetryObject){const t={type:M.c9.Module,name:this.$experienceType,content:{}};e.parentTelemetry&&!(0,j.Z)(e.parentTelemetry)?this.telemetryObject=e.parentTelemetry.addOrUpdateChild(t,this.telemetryObject):this.telemetryObject=new I.D(t)}this.telemetryTags=this.telemetryObject.render(),(0,U.isFunction)(e.onAppErrorCallback)&&(this.onAppError=e.onAppErrorCallback)}yield this.loadDataConnectors();for(const e of this.injectedDataConnectors)s.dataConnectorMergeInit.getActionSender(this).send(e),A.J.registerInjection(this.fullNamespace,e);yield this.onLoadChildExperiences()}))}getNewComponentInstance(e){if(this.$connectedComponent){const t=Object.assign(Object.assign({},e),{key:this.namespace});this.$componentInstance=x.createElement(this.$connectedComponent,t)}return this.$componentInstance}getOrdinalChildExperiences(){const e=this.config;if(!e.additionalChildExperiences||0===e.additionalChildExperiences.length)return null;const t=[];return D.j.getOrdinalObjectForCurrentBreakpoint(e.additionalChildExperiences).children.forEach((e=>{const n={experienceArrangement:e.arrangement};t.push({configInfo:e.childExperienceConfigInfo,initialProps:n})})),t}onLoadChildExperiences(){return(0,r.mG)(this,void 0,void 0,(function*(){yield this.loadChildrenExperiences(D.j.getChildrenExperienceConfigInfos(this.config,this.$connectorProps),this.$connectorProps)}))}loadChildrenExperiences(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(!e||0===e.length)return;const n=[],r=()=>{this.readyExperienceToRender(e)};for(const i of e){const e=this.startProcessingChildExperience(i,r,Object.assign(Object.assign({},t),{experienceTelemetry:(0,d.r$)(this.telemetryObject,(0,h.M)(i))}));n.push(e)}yield Promise.all(n)}))}loadChildrenWceExperiences(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>(0,r.mG)(this,void 0,void 0,(function*(){this.childWCMap.set(e.instanceId,yield(0,F.F)(e,Object.assign(Object.assign({},t),{namespace:this.fullNamespace+"_"+e.instanceId})))})))))}))}get injectedDataConnectors(){return[]}loadDataConnectors(){return(0,r.mG)(this,void 0,void 0,(function*(){yield Promise.all(D.j.getChildrenDataConnectorConfigInfos(this.config).map((e=>this.loadDataConnector(e))))}))}loadChildExperience(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if((0,P.gy)((0,h.M)(e)))return void(yield this.loadChildrenExperiences([e],t));const n=yield this.getChildExperienceConnector(e,t);n?this.addConnectorToChildMap(e,n):e.state=c.Failed}))}getChildExperienceConnectorProps(e,t){return{parentTelemetry:this.telemetryObject,context:this.$connectorProps&&this.$connectorProps.context,onAppErrorCallback:this.onAppError,requestContext:this.requestContext}}reRenderExperience(){s.renderExperience.getActionSender(this).send()}reInitExperienceState(){s.renderExperience.getActionSender(this).send()}createTimingExtArgs(e){}updateTiming(e,t,n,r){const i=(0,P.v)(this.$experienceType,this.$experienceGroup,this.namespace,n,r),o=this.createTimingExtArgs(t),a=e.getActionSender(this.$milestoneDataConnector);o?a.send(i,o):a.send(i)}getChildExperienceConnector(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,h.M)(e);try{const r=new R.D(e,null,this.fullNamespace,this.store,this.requestContext,n);yield r.loadConnector();const{connector:i}=r;return yield r.getConnectedExperience(Object.assign(Object.assign({},this.getChildExperienceConnectorProps(n,e.instanceId)),t||{})),i.getNewComponentInstance(),i}catch(t){if(!(0,L.N)())throw t;return E.M0.sendAppErrorEvent(Object.assign(Object.assign({},m.rWi),{message:`Failed to load experience ${n||""}`,pb:Object.assign(Object.assign({},m.rWi.pb),{customMessage:`${JSON.stringify(e)}, with error: ${t}`})})),null}}))}loadDataConnector(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(0,h.Fr)(e))return void E.M0.sendAppErrorEvent(Object.assign(Object.assign({},m.zay),{message:"configInfo or Href is null while loading data connector",pb:Object.assign(Object.assign({},m.zay.pb),{customMessage:(0,g.Vm)(e)})}));const t=(0,h.M)(e);try{const n=new R.D(t&&G[t]?null:e,"","",W._.getInstance().store,this.requestContext,t);yield n.loadConnector(!0)}catch(n){E.M0.sendAppErrorEvent((0,v.Tr)(m.NGC,`Data connector loading failed for ${t||""}`,`${(0,g.Vm)(e)}, with error: ${n}`))}}))}selectComponentState(e){return this.getCurrentState()}startProcessingChildExperience(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=(0,P.gy)((0,h.M)(e));if(r&&r.shouldResolve){if((0,L.N)()){let i=!0;r.deferralType===k.e.CustomEventBasedDeferral&&(i=!1,e.state=c.Unknown),this.resolveDependency(e,r.shouldResolve,(()=>this.loadAndRenderExperience(e,t,!0,n)),i)}}else yield this.loadAndRenderExperience(e,t,!1,n)}))}loadAndRenderExperience(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function*(){const r=(0,h.M)(e),o=(0,h.Fr)(e);if(e&&(o||G[r])&&e.instanceId)try{const o=yield this.getChildExperienceConnector(e,i);if(!o)return void(e.state=c.Failed);const a=(0,P._k)(r);a&&a.shouldResolve?this.resolveDependency(e,a.shouldResolve,(()=>{e.state=c.ReadyToRender,this.addConnectorToChildMap(e,o),t()}),!0):(e.state=c.ReadyToRender,this.addConnectorToChildMap(e,o),n&&t())}catch(t){if(!(0,L.N)())throw t;e.state=c.Failed,E.M0.sendAppErrorEvent((0,v.Tr)(m.cak,`Attempted to delay load child ${r} and failed as associated deferral promise returned an error`,(0,y.n)(t)))}else E.M0.sendAppErrorEvent(Object.assign(Object.assign({},m.dfm),{message:`Attempted to load child with invalid experience ${r||""}`,pb:Object.assign(Object.assign({},m.dfm.pb),{customMessage:(0,g.Vm)(e)})}))}))}addConnectorToChildMap(e,t){this.childMap.has(e.instanceId)?E.M0.sendAppErrorEvent(Object.assign(Object.assign({},m.rWY),{message:`Duplicate child instance found: ${t.namespace}`,pb:Object.assign(Object.assign({},m.rWY.pb),{customMessage:`href: ${(0,O.l4)()}, parentNamespace: ${this.fullNamespace}`})})):this.childMap.set(e.instanceId,t)}readyExperienceToRender(e){const t=this.config;if(!t.childExperiencesRenderType||t.childExperiencesRenderType===p.batch)for(const t of e)if(t.state!==c.ReadyToRender&&t.state!==c.Failed&&t.state!==c.Unknown)return;this.reRenderExperience()}resolveDependency(e,t,n,r){let i=!0,o=null;r&&(o=setTimeout((()=>{i&&(i=!1,n())}),this.$maxWaitToBatchRenderChildExperiences)),t().then((()=>{r&&clearTimeout(o),i&&(i=!1,n())}))}}},73755:function(e,t,n){"use strict";n.d(t,{D:function(){return b},k:function(){return T}});var r=n(33940),i=n(32181),o=n(8158),a=n(89638),s=n(98304),c=n(21050),u=n(54533),l=n(68364),d=n(49972),h=n(75542),p=n(53301),g=n(78690),f=n(79127),m=n(83227),v=n(65932),y=n(43819),C=n(65135),S=n(8114),w=n(33379);class b{constructor(e,t,n,r,o,a){this.configIndexId=e,this.parentNamespace=n,this.parentStore=r,this.requestContext=o,this.experienceConnector=void 0,this.experienceComponent=void 0,this.$experienceType=a||"string"!=typeof e&&(0,i.M)(e),this.instanceId=t||(0,i.nf)(this.configIndexId,(e=>e.instanceId),(e=>e.instanceId),(e=>t),"")}get experienceType(){return this.$experienceType}get connector(){return this.experienceConnector}static earlyLoadBundles(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,i.M)(e);if(e&&t&&!(0,h.gy)(t)){if(t===m.x.river)return;b.earlyLoadBundlePromises.has(t)||b.earlyLoadBundlePromises.set(t,o.n.loadExperience(t));const n=(0,i.Fr)(e),s=yield a.U.getConfig(n);f.j.getChildrenDataConnectorConfigInfos(s.properties).forEach((e=>(0,r.mG)(this,void 0,void 0,(function*(){b.earlyLoadBundles(e)})))),f.j.getChildrenExperienceConfigInfos(s.properties).forEach((e=>(0,r.mG)(this,void 0,void 0,(function*(){b.earlyLoadBundles(e)}))))}}))}loadConnector(e=!1){return(0,r.mG)(this,void 0,void 0,(function*(){let t="start;";try{if(!this.configIndexId&&!this.$experienceType)throw C.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.MFH),{message:"Failed loading experience bundle due to missing configIndexId and experienceType",pb:Object.assign(Object.assign({},s.MFH.pb),{customMessage:`Details: " ${JSON.stringify({instanceId:this.instanceId,parentNamespace:this.parentNamespace})}`})})),new Error("Cannot load a connector bundle without either the experienceType, or configIndexId");t+="nullCheck;";const n=(0,c.oA)(this.$experienceType||(0,S.Z)(),this.instanceId);let r,l;t+="perfTimeline;";const d=this.configIndexId&&(0,i.Fr)(this.configIndexId);l=d?n?n.instrumentPromise("config",(()=>a.U.getConfig(d))):a.U.getConfig(d):Promise.resolve({experienceType:this.$experienceType,properties:{}}),t+="configPromise;";const h=[l];let p;this.$experienceType||(r=yield l,this.$experienceType=r.experienceType,t+="awaitConfigPromise;",n&&((0,u.MV)(n,this.$experienceType),t+="renamePerfTimeline;")),b.earlyLoadBundlePromises.has(this.$experienceType)||(p=n?n.instrumentPromise("scripts",(()=>o.n.loadExperience(this.$experienceType))):o.n.loadExperience(this.$experienceType),h.push(p),t+="loadExperienceBundle;"),yield Promise.all(h),t+="waitForLoaderPromises;",r||(r=yield l,t+="awaitConfigPromise;");const g=b.earlyLoadBundlePromises.has(this.$experienceType)?yield b.earlyLoadBundlePromises.get(this.$experienceType):yield p;t+="getBundleModule;";const f=n&&n.startMeasure("init").endMeasure;this.updateExperienceLoadedMilestone(this.$experienceType),t+="updateExperienceLoadedMilestone;";const m=r.properties,P=g[this.$experienceType+"Connector"],k=g[this.$experienceType+"Reducer"];this.experienceComponent=g[this.$experienceType];const A=y._.getInstance();let E=null;E=null==this.configIndexId?T({instanceId:this.instanceId,configRef:{experienceType:this.$experienceType,instanceSrc:"NA"}}):"string"==typeof this.configIndexId?T({experienceType:this.$experienceType,instanceId:this.instanceId,href:this.configIndexId}):T(this.configIndexId,this.instanceId),t+="getExperienceNamespace;";const M=this.parentNamespace?this.parentNamespace:"",x=this.parentStore?this.parentStore:A.store;this.experienceConnector=new P(e?this.$experienceType:E,M,A.rootReducer,new k(m),x,m,this.requestContext),t+="newExperienceConnector;",e&&(0,w.N)()&&(0,v.T3)(this.$experienceType,this.experienceConnector.getCurrentState()),this.experienceConnector.configHref=(0,i.sI)(this.configIndexId),f&&f()}catch(e){throw C.M0.sendAppErrorEvent((0,l.Tr)(s.gzO,"loadComponent failed",`Details: ${JSON.stringify({error:(0,d.n)(e,!0),instanceId:this.instanceId,parentNamespace:this.parentNamespace,configIndex:this.configIndexId,linesRunUntilFailure:t})}`)),e}}))}getConnectedExperience(e){return(0,r.mG)(this,void 0,void 0,(function*(){this.experienceConnector||(yield this.loadConnector());try{return this.experienceConnector.connectComponent(this.experienceComponent,e)}catch(t){throw C.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.fkG),{message:"connectComponent failed",pb:Object.assign(Object.assign({},s.fkG.pb),{customMessage:`Details: " ${JSON.stringify({error:t,connectorProps:e,instanceId:this.instanceId,parentNamespace:this.parentNamespace,configIndex:this.configIndexId})}`})})),new Error("ExperienceLoader connectComponent failed")}}))}updateExperienceLoadedMilestone(e){const t=(0,h.S0)();t&&p.g.updateExperienceCurrentState.getActionSender(t).send([(0,h.bn)(e,g.D.loaded,null,null)])}}function T(e,t){const n=t||e&&e.instanceId||"";return(0,i.lh)(e,n)}b.earlyLoadBundlePromises=new Map},81765:function(e,t,n){"use strict";n.d(t,{Bs:function(){return g},E7:function(){return p},Eg:function(){return h},Lr:function(){return r},S7:function(){return d},WX:function(){return f},Wi:function(){return l},ZG:function(){return s},d5:function(){return i},hE:function(){return o},il:function(){return c},kO:function(){return v},mw:function(){return m},pt:function(){return a},yV:function(){return u}});const r={PrivacyUrl:"https://go.microsoft.com/fwlink/?LinkID=286759",SamDomain:"https://srtb.msn.com/",SamEndpoint:"auction",SamOpenRtbEndpoint:"auctionopenrtb",AppId:"msnappid",PublisherId:"msn",Ecasession:"init",RiverRegion:"river",RiverDoubleWide:"river-dbl",RiverHalfTextOnly:"river-half-textonly",RiverHalf:"river-half",ReservedRiver:"resriver",UserOptOut:"userOptOut",UserOptOutOptions:"userOptOutOptions",DefaultPartnerCookieSyncTimeout:500,BulkCookieSyncTimeout:1e3,WaitForAdResponseAfterWPOResponseTimeout:1500,DefaultContentServiceBaseUrl:"https://assets.msn.com/content/",WaitForAdResponseToRenderAdsEarly:700,SamOpenRTBMinTimeout:800},i={river:"oneriver.main",infopane:"oneriver.spartan.infopane","infopane-tab":"oneriver.spartan.tabinfopane",rivert:"oneriver.maint"},o={BeaconFormatDecoded:"decoded",BeaconFormatEncoded:"encoded",BeaconTypeAdServed:"adserved",BeaconTypeClick:"click",BeaconTypeJsTracker:"jsTracker",BeaconTypeVisibility:"visibility",BeaconTypeVideoProgress:"videoProgress",StartEvent:"start",FirstQuartileEvent:"firstquartile",ThirdQuartileEvent:"thirdquartile",MidPointEvent:"midpoint",CompleteEvent:"complete",ProgressEvent:"progress",UserActionEvent:"userAction"};var a;!function(e){e.Click="click",e.Ready="ready",e.Play="play",e.Pause="pause",e.Ended="ended",e.Telemetry="telemetry",e.VolumeChange="volumechange",e.TimeUpdate="timeupdate",e.Error="error",e.CanPlay="canplay",e.CanPlayThrough="canplaythrough"}(a||(a={}));const s={CMSListServiceUrl:"v1/cms/api/amp/Document/",CMSContentServiceURl:"view/v1/Preview/",DefaultProviderName:"Microsoft"},c={ContentType:"application/json",Method:"POST",CacheControl:"no-cache",Skipsessioncall:"false",ContentTypeKey:"Content-Type",FlightIdKey:"x-ms-flightId",CacheControlKey:"Cache-Control",ClientIdKey:"X-MSEdge-ClientID",MarketKey:"X-MSEdge-Market",AuthCookieNameKey:"x-ms-authCookieName",Timeout:3e3,BCPCookieKey:"BCP",UserAgent:"User-Agent"},u={MSAOptOut:"msaoptout",BrowserOptOut:"TOptOut",AppAnonCookieExist:"aace",TaboolaSessionCookieName:"ecasession",CookieDomain:"msn.com",AnonCookieName:"ANON",LiverampEnvelopeId:"adslrid"},l={"de-de":"BBGgbuP","en-gb":"BBI4NMr","en-us":"BBI4MeJ","it-it":"BBH0fea","de-at":"BBIbKRf","de-ch":"BBH6mkD","pl-pl":"BBGgsgw","tr-tr":"BBH3vBx","es-es":"BBGdmuQ","en-au":"BBGfT6j","es-ar":"BBH69zf","es-cl":"BBH6qTU","es-co":"BBH3TQV","es-pe":"BBIbVzn","es-mx":"BBGg7xs","pt-br":"BBI4jJ6","en-ca":"BBI4FN9","he-il":"BBIbHNd","fr-ch":"BBIfDNl","nl-be":"BBH6zcN","fr-be":"BBIclrE","fr-fr":"BBI4XBF","nl-nl":"BBGgoUg","pt-pt":"BBH3qlj","zh-cn":"BBPRWnl","ja-jp":"AAvs5xw","ko-kr":"AAvrTXp","en-xl":"AAxzSQi","es-us":"AAuAfA8","fr-ca":"BBH6Awm","es-xl":"BBIfH5i","cs-cz":"BBPwecC","da-dk":"BBGKGmb","el-gr":"BBIc8WA","fi-fi":"BBH6Cse","hu-hu":"BBPw6XX","nb-no":"BBI4EVt","ru-ru":"BBH3gvW","sv-se":"BBH3vHp","ar-ae":"BBIf1cG","ar-eg":"BBIcggw","ar-sa":"BBIc6wN","en-ae":"BBIbBRO","en-ie":"BBIclgh","en-za":"BBIc5NR","en-in":"BBGeThK","en-sg":"BBIfqX9","en-nz":"BBIc483","zh-hk":"BBIbPBb","hi-in":"BBH85g2","mr-in":"BBU7J93","te-in":"BBU7JcP","bn-in":"BBU7Qw4","id-id":"BBIc9Ls","th-th":"BBIbPH4","vi-vn":"BBIcbQS","es-ve":"BBIcaTp","fr-xl":"AAD4nFo","en-my":"BBIclH7","en-ph":"BBIcbaP","zh-tw":"BBH3qpv"},d={"de-de":"Anzeige","en-gb":"Ad","en-us":"Ad","it-it":"Ann.","de-at":"Anzeige","de-ch":"Anzeige","pl-pl":"Reklama","tr-tr":"R","es-es":"Publicidad","en-au":"Ad","es-ar":"Patrocinado","es-cl":"Patrocinado","es-co":"Patrocinado","es-pe":"Patrocinado","es-mx":"Patrocinado","pt-br":"Publicidade","en-ca":"Ad","he-il":"מודעה","fr-ch":"Sponsorisé","nl-be":"Advertentie","fr-be":"Sponsorisé","fr-fr":"Sponsorisé","nl-nl":"Advertentie","pt-pt":"Pub","zh-cn":"广告","ja-jp":"PR","ko-kr":"AD","en-xl":"Ad","es-us":"Patrocinado","fr-ca":"Pub","es-xl":"Patrocinado","cs-cz":"Reklama","da-dk":"Annonce","el-gr":"Ad","fi-fi":"Mainos","hu-hu":"Hird.","nb-no":"Annonse","ru-ru":"Реклама","sv-se":"Annons","ar-ae":"إعلان","ar-eg":"إعلان","ar-sa":"إعلان","en-ae":"Ad","en-ie":"Ad","en-za":"Ad","en-in":"Ad","en-sg":"Ad","en-nz":"Ad","zh-hk":"廣告","hi-in":"एड","mr-in":"जाहिरात","te-in":"ప్రకటన","bn-in":"বিজ্ঞাপন","id-id":"Ad","th-th":"Ad","vi-vn":"Ad","es-ve":"Patrocinado","fr-xl":"Sponsorisé","en-my":"Ad","en-ph":"Ad","zh-tw":"廣告"},h=["ja-jp","ko-kr","zh-cn"],p={MyFeedPivotId:"oneriver.myfeed",StripeMyFeedPivotId:"stripe.myfeed",EditInterestPivotId:"oneriver.editinterests"};var g;!function(e){e[e.AdBuffering=1]="AdBuffering",e[e.ContentBuffering=2]="ContentBuffering",e[e.AdError=10]="AdError",e[e.AdPlayStarted=11]="AdPlayStarted",e[e.AdPlayCompleted=13]="AdPlayCompleted",e[e.AdSkipped=15]="AdSkipped",e[e.AdTimeout=16]="AdTimeout",e[e.AdPause=17]="AdPause",e[e.AdResume=18]="AdResume",e[e.ContentError=20]="ContentError",e[e.ContentStart=21]="ContentStart",e[e.ContentContinue=22]="ContentContinue",e[e.ContentComplete=23]="ContentComplete",e[e.CC=30]="CC",e[e.Pause=31]="Pause",e[e.Seek=32]="Seek",e[e.Mute=33]="Mute",e[e.FullScreenEnter=34]="FullScreenEnter",e[e.Info=35]="Info",e[e.VideoQuality=36]="VideoQuality",e[e.Resume=37]="Resume",e[e.FullScreenExit=38]="FullScreenExit",e[e.Replay=39]="Replay",e[e.Unmute=40]="Unmute",e[e.ContentImpression3PP=41]="ContentImpression3PP",e[e.Facebook=51]="Facebook",e[e.Twitter=52]="Twitter",e[e.Email=53]="Email",e[e.CommonPlayerImpression=61]="CommonPlayerImpression",e[e.EndslateVideos=64]="EndslateVideos",e[e.EndslateContinuous=65]="EndslateContinuous",e[e.EndslateCancelCountdown=66]="EndslateCancelCountdown",e[e.EndslateShown=67]="EndslateShown",e[e.PlayerStarting=90]="PlayerStarting",e[e.AdLoading=91]="AdLoading",e[e.AdLoaded=92]="AdLoaded",e[e.VideoLoading=93]="VideoLoading",e[e.ContentOpen=101]="ContentOpen",e[e.Content25Percent=102]="Content25Percent",e[e.Content50Percent=103]="Content50Percent",e[e.Content75Percent=104]="Content75Percent",e[e.Canplay=105]="Canplay",e[e.Canplaythrough=106]="Canplaythrough"}(g||(g={}));const f=["cs-cz","da-dk","de-at","de-ch","de-de","en-gb","el-gr","fi-fi","fr-be","fr-ch","fr-fr","hu-hu","it-it","nb-no","nl-be","nl-nl","pl-pl","pt-br","pt-pt","ru-ru","sv-se","tr-tr","zh-cn"],m=["en-us","es-us"],v=["en-au","en-nz"]},83097:function(e,t,n){"use strict";var r,i;n.d(t,{IR:function(){return i}}),function(e){e.Anon="ANON",e.AppAnon="APP_ANON",e.Unknown=""}(r||(r={})),function(e){e.AnonCookieExists="ace",e.AppAnonCookieExists="aace"}(i||(i={}))},53076:function(e,t,n){"use strict";var r;n.d(t,{z:function(){return r}}),function(e){e.AdminPortalData="AdminPortalData",e.AdService="AdService",e.AdsManager="AdsManager",e.BackgroundData="BackgroundData",e.BingAdsManager="BingAdsManager",e.BingAdsService="BingAdsService",e.BingImageData="BingImageData",e.CasualGamesData="CasualGamesData",e.CategoryData="CategoryData",e.ChannelData="ChannelData",e.ChromiumPageSettings="ChromiumPageSettings",e.CoachmarkData="CoachmarkData",e.CommunityEditorData="CommunityEditorData",e.ConditionalBannerData="ConditionalBannerData",e.DailyBriefServiceClient="DailyBriefServiceClient",e.DisplayAdsManager="DisplayAdsManager",e.Esports="Esports",e.ExperienceLoadedData="ExperienceLoadedData",e.ExperienceLoadedDataConnector="ExperienceLoadedDataConnector",e.ExperienceTrackerCasualGamesLandingData="ExperienceTrackerCasualGamesLandingData",e.ExperienceTrackerChannelData="ExperienceTrackerChannelData",e.ExperienceTrackerCommunityData="ExperienceTrackerCommunityData",e.ExperienceTrackerContentToolsData="ExperienceTrackerContentToolsData",e.ExperienceTrackerData="ExperienceTrackerData",e.ExperienceTrackerEdgeData="ExperienceTrackerEdgeData",e.ExperienceTrackerEdgeNextData="ExperienceTrackerEdgeNextData",e.ExperienceTrackerFinanceData="ExperienceTrackerFinanceData",e.ExperienceTrackerFirstPartyData="ExperienceTrackerFirstPartyData",e.ExperienceTrackerGamingFeedData="ExperienceTrackerGamingFeedData",e.ExperienceTrackerHomePageData="ExperienceTrackerHomePageData",e.ExperienceTrackerHubData="ExperienceTrackerHubData",e.ExperienceTrackerMicrosoftNewsData="ExperienceTrackerMicrosoftNewsData",e.ExperienceTrackerMMXData="ExperienceTrackerMMXData",e.ExperienceTrackerPrismData="ExperienceTrackerPrismData",e.ExperienceTrackerQnaData="ExperienceTrackerQnaData",e.ExperienceTrackerRecipesData="ExperienceTrackerRecipesData",e.ExperienceTrackerWidgets="ExperienceTrackerWidgets",e.ExperienceTrackerShoppingData="ExperienceTrackerShoppingData",e.ExperienceTrackerSportsData="ExperienceTrackerSportsData",e.ExperienceTrackerSuperAppData="ExperienceTrackerSuperAppData",e.ExperienceTrackerTrafficData="ExperienceTrackerTrafficData",e.ExperienceTrackerTravelData="ExperienceTrackerTravelData",e.ExperienceTrackerHealthData="ExperienceTrackerHealthData",e.ExperienceTrackerUgcData="ExperienceTrackerUgcData",e.ExperienceTrackerViewsData="ExperienceTrackerViewsData",e.ExperienceTrackerWeatherData="ExperienceTrackerWeatherData",e.ExperienceTrackerWeatherDataConnector="ExperienceTrackerWeatherDataConnector",e.ExperienceTrackerWindowsNewsAndInterestsData="ExperienceTrackerWindowsNewsAndInterestsData",e.ExperienceTrackerWindowsData="ExperienceTrackerWindowsData",e.ExperienceTrackerSuperWindowsData="ExperienceTrackerSuperWindowsData",e.ExperienceTrackerWindowsShellData="ExperienceTrackerWindowsShellData",e.ExperienceTrackerWindowsShellV2Data="ExperienceTrackerWindowsShellV2Data",e.ExperienceTrackerWindowsWidgetsData="ExperienceTrackerWindowsWidgetsData",e.FeedbackData="FeedbackData",e.GamingChannelData="GamingChannelData",e.HubPageSettings="HubPageSettings",e.IrisData="IrisData",e.LayoutPreferenceData="LayoutPreferenceData",e.LocationFeed="LocationFeed",e.MarketSelector="MarketSelector",e.MilestoneData="MilestoneData",e.MsccCookieBannerData="MsccCookieBannerData",e.MsNewsPageSettings="MsNewsPageSettings",e.NavigationData="NavigationData",e.NurturingPlacementManager="NurturingPlacementManager",e.OfficeSharedData="OfficeSharedData",e.OneTrustCookieConsentData="OneTrustCookieConsentData",e.PageClickTrackerData="PageClickTrackerData",e.PageLayout="PageLayout",e.PageSettingsData="PageSettingsData",e.PlacementManager="PlacementManager",e.PollsService="PollsService",e.PoweredByData="PoweredByData",e.Preload="Preload",e.QnaFeedService="QnaFeedService",e.RewardsData="RewardsData",e.RewardsCoachmarkData="RewardsCoachmarkData",e.SearchHistoryEdgenextData="SearchHistoryEdgenextData",e.SharedState="SharedState",e.SharedTimestampUtil="SharedTimestampUtil",e.SignInData="SignInData",e.SocialPostData="SocialPostData",e.SportsAroundTheLeagueData="SportsAroundTheLeagueData",e.SportsData="SportsData",e.SportsDataUtils="SportsDataUtils",e.SportsGameSummaryData="SportsGameSummaryData",e.SportsInfoSharedState="SportsInfoSharedState",e.SportsOlympicData="SportsOlympicData",e.SportsPersonalizationData="SportsPersonalizationData",e.SportsPreviousMatchupsData="SportsPreviousMatchupsData",e.SportsWorldCupData="SportsWorldCupData",e.SuperComponentData="SuperComponentData",e.Telemetry="Telemetry",e.ShellNewTabData="ShellNewTabData",e.SmartListSharedData="SmartListSharedData",e.TelemetryData="TelemetryData",e.TelemetryDataEdgeChromium="TelemetryDataEdgeChromium",e.TelemetryEdgeChromium="TelemetryEdgeChromium",e.TopicData="TopicData",e.TopSitesLayoutData="TopSitesLayoutData",e.TravelData="TravelData",e.VerticalPropertyData="VerticalPropertyData",e.VideoDataManager="VideoDataManager",e.ViewsNativeAd="ViewsNativeAdConnector",e.ViewsFullPage="ViewsFullPage",e.WeatherActivityWatchlistData="WeatherActivityWatchlistData",e.WeatherData="WeatherData",e.WeatherCardData="WeatherCardData",e.WeatherFeedbackData="WeatherFeedbackData",e.WeatherPageMeta="WeatherPageMeta",e.WeatherPersonaData="WeatherPersonaData",e.WeatherMapData="WeatherMapData",e.FinanceData="FinanceData",e.MoneyInfoSharedState="MoneyInfoSharedState",e.SocialData="SocialData",e.WindowsNewsAndInterestsData="WindowsNewsAndInterestsData",e.WindowsShellData="WindowsShellData",e.WindowsPageSettings="WindowsPageSettings",e.HyperLocalPromotionCardClosedKey="weather-map-hyper-local-promotion-card-closed"}(r||(r={}))},83227:function(e,t,n){"use strict";var r;n.d(t,{x:function(){return r}}),function(e){e.ShoppingCategoryPage="ShoppingCategoryPage",e.aboveRiverBlock="AboveRiverBlock",e.actionTray="ActionTray",e.aiCharacterCard="AiCharacterCard",e.aicharacterLandingPage="AicharacterLandingPage",e.aicharacterPaintPage="AicharacterPaintPage",e.animator="Animator",e.articleCloseButton="ArticleCloseButton",e.articleFre="ArticleFre",e.articlePage="ArticlePage",e.articleRelatedStories="ArticleRelatedStories",e.articleTopComment="ArticleTopComment",e.autosCard="AutosCard",e.autosCarousel="AutosCarousel",e.autosEntityCardWC="AutosEntityCardWC",e.autosEntitySpan="AutosEntitySpan",e.autosMarketplaceCard="AutosMarketplaceCard",e.backToTopButton="BackToTopButton",e.backgroundGallery="BackgroundGallery",e.backgroundGradient="BackgroundGradient",e.backgroundImageCommon="BackgroundImageCommon",e.backgroundImageEdge="BackgroundImageEdge",e.backgroundImageWC="BackgroundImageWC",e.bannerManager="BannerManager",e.baseHeader="BaseHeader",e.bingAdsManager="BingAdsManager",e.bingAnswers="BingAnswers",e.bingCards="BingCardsExperience",e.bingDailyQuizCard="BingDailyQuizCard",e.bingHealthCard="BingHealthCard",e.bingHealthFitnessCard="BingHealthFitnessCard",e.bingHomepageFeed="BingHomepageFeed",e.bingMiniShopping="BingMiniShopping",e.bingShopping="BingShopping",e.bingShoppingLifestyleCard="BingShoppingLifestyleCard",e.bingShoppingMeStripe="BingShoppingMeStripe",e.bingThisOrThatCard="BingThisOrThatCard",e.bingWebSSO="BingWebSSO",e.boostAd="BoostAd",e.boostAdCard="BoostAdCard",e.brandZone="BrandZone",e.breakingNews="BreakingNews",e.breakingNewsWC="BreakingNewsWC",e.calendarCard="CalendarCard",e.cardAction="CardAction",e.cardActionV2="CardActionV2",e.cardActionWC="CardActionWC",e.cashbackCarouselCard="CashbackCarouselCard",e.casualGamesBanner="CasualGamesBanner",e.casualGamesCard="CasualGamesCard",e.casualGamesCarouselCard="CasualGamesCarouselCard",e.casualGamesFeed="CasualGamesFeed",e.casualGamesFrame="CasualGamesFrame",e.casualGamesGameplay="CasualGamesGameplay",e.casualGamesHub="CasualGamesHub",e.casualGamesLanding="CasualGamesLanding",e.casualGamesLandingV2="CasualGamesLandingV2",e.casualGamesStripeCarouselCard="CasualGamesStripeCarouselCard",e.channelEntryPoint="ChannelEntryPoint",e.channelFilterCard="ChannelFilterCard",e.channelList="ChannelList",e.channelPage="ChannelPage",e.channelStore="ChannelStore",e.channelSuggestedSidebar="ChannelSuggestedSidebar",e.channelsNews="ChannelsNews",e.clarity="Clarity",e.cmsBaseExperience="CmsBaseExperience",e.cmsExperience="CmsExperience",e.coachmark="Coachmark",e.coachmarkWC="CoachmarkWC",e.codexBingChat="CodexBingChat",e.coldStart="ColdStart",e.coldStartWC="ColdStartWC",e.comboCard="ComboCard",e.comments="Comments",e.commonAutoSuggest="CommonAutoSuggest",e.commonHeader="CommonHeader",e.commonHeaderWC="CommonHeaderWC",e.commonSearchBoxEdgeNext="CommonSearchBoxEdgeNext",e.commonSettingsEdgeNext="CommonSettingsEdgeNext",e.communityCard="CommunityCard",e.communityComposeCopilotWC="CommunityComposeCopilotWC",e.communityEditorData="CommunityEditorData",e.communityInfoCard="CommunityInfoCard",e.commuteCard="CommuteCard",e.companyNewsCard="CompanyNewsCard",e.complexContentPreview="ComplexContentPreview",e.conditionalBanner="ConditionalBanner",e.conditionalBannerHpWC="ConditionalBannerHpWC",e.conditionalBannerWC="ConditionalBannerWC",e.consumptionFeed="ConsumptionFeed",e.consumptionFeedWC="ConsumptionFeedWC",e.consumptionPage="ConsumptionPage",e.contentActionsToolbar="ContentActionsToolbar",e.contentCarouselMultiple="ContentCarouselMultiple",e.contentFlexInfoPane="ContentFlexInfoPane",e.contentGroup="ContentGroup",e.contentGroupCard="ContentGroupCard",e.contentNavigationBar="ContentNavigationBar",e.contentPreview="ContentPreview",e.contentPreviewSlide="ContentPreviewSlide",e.contentProvider="ContentProvider",e.contentRelated="ContentRelated",e.contentSharingToolbar="ContentSharingToolbar",e.contentTts="ContentTts",e.contextualFeedback="ContextualFeedback",e.covidChatBot="CovidChatBot",e.cpcMonetizationDashboard="CpcMonetizationDashboard",e.dailyBrief="DailyBrief",e.dailyBriefWC="DailyBriefWC",e.dailyDiscovery="DailyDiscovery",e.dashboardFallback="DashboardFallback",e.dashboardSettings="DashboardSettings",e.denseCard="DenseCard",e.desktopFeed="DesktopFeed",e.desktopFeedHubWC="DesktopFeedHubWC",e.desktopFeedViewsWC="DesktopFeedViewsWC",e.desktopFeedWC="DesktopFeedWC",e.devTools="DevTools",e.didYouKnowImageWCExperience="DidYouKnowImageWCExperience",e.didYouKnowWCExperience="DidYouKnowWCExperience",e.digestCard="DigestCard",e.displayAds="DisplayAds",e.displayAdsWC="DisplayAdsWC",e.displayAdsWithContentFallback="DisplayAdsWithContentFallback",e.distributionFeed="DistributionFeed",e.distributionHeader="DistributionHeader",e.distributionPage="DistributionPage",e.distributionPivotsNav="DistributionPivotsNav",e.edgeChromiumPageWC="EdgeChromiumPageWC",e.edgeHeader="EdgeHeader",e.edgeNextPage="EdgeNextPage",e.edgePage="EdgePage",e.edgePageSettings="PageSettings",e.edgeShopping="EdgeShopping",e.editorsChoicePromoCard="EditorsChoicePromoCard",e.electionCard="ElectionCard",e.elections="Elections",e.enterpriseComplianceBanner="EnterpriseComplianceBanner",e.entertainmentCard="EntertainmentCard",e.entryPoint="EntryPoint",e.entryPointEdgeNext="EntryPointEdgeNext",e.entryPointHpMobile="EntryPointHpMobile",e.entryPointHpWC="EntryPointHpWC",e.entryPointMobileHub="EntryPointMobileHub",e.entryPointViewsWC="EntryPointViewsWC",e.eoabViews="EoabViews",e.eoabViewsAutos="EoabViewsAutos",e.eoabViewsFinance="EoabViewsFinance",e.eoabViewsShopping="EoabViewsShopping",e.eoabViewsTravel="EoabViewsTravel",e.esportsCard="EsportsCard",e.esportsCasualGamesCard="EsportsCasualGamesCard",e.esportsLiveStreamCard="EsportsLiveStreamCard",e.esportsLivestreamCarouselWC="EsportsLivestreamCarouselWC",e.esportsStreamsCard="EsportsStreamsCard",e.eventHubFollowHeader="EventHubFollowHeader",e.eventHubHeroNav="EventHubHeroNav",e.eventHubPage="EventHubPage",e.exampleOfferCard="ExampleOfferCard",e.experiencePreviewCta="ExperiencePreviewCta",e.externalContentPreview="ExternalContentPreview",e.externalNativeAd="ExternalNativeAd",e.familyCard="FamilyCard",e.feedContainer="FeedContainer",e.feedLevelFeedbackWC="FeedLevelFeedbackWC",e.feedNavigationHp="FeedNavigationHp",e.feedToggle="FeedToggle",e.feedbackCard="FeedbackCard",e.feedbackDialog="FeedbackDialog",e.feedbackDialogWC="FeedbackDialogWC",e.feedbackLink="FeedbackLink",e.feedbackLinkWC="FeedbackLinkWC",e.financeAdvancedChart="FinanceAdvancedChart",e.financeAnalysisPage="FinanceAnalysisPage",e.financeAnalystRatingCard="FinanceAnalystRatingCard",e.financeAskLandingPage="FinanceAskLandingPage",e.financeBingAds="FinanceBingAds",e.financeCardCommon="FinanceCardCommon",e.financeCarousel="FinanceCarousel",e.financeChartPage="FinanceChartPage",e.financeCollectionDetailTable="FinanceCollectionDetailTable",e.financeCollectionPerformanceCard="FinanceCollectionPerformanceCard",e.financeCombinationCard="FinanceCombinationCard",e.financeCompanyPage="FinanceCompanyPage",e.financeCompanyProfileCard="FinanceCompanyProfileCard",e.financeCompareAdd="FinanceCompareAdd",e.financeCompareChartView="FinanceCompareChartView",e.financeCompareHeader="FinanceCompareHeader",e.financeComparePage="FinanceComparePage",e.financeCompareTable="FinanceCompareTable",e.financeCompositionTemplate="FinanceCompositionTemplate",e.financeCrashCourseFeed="FinanceCrashCourseFeed",e.financeCrashCourseViewer="FinanceCrashCourseViewer",e.financeCryptoInsights="FinanceCryptoInsights",e.financeCryptoLearnCard="FinanceCryptoLearnCard",e.financeCryptoMarketHighlight="FinanceCryptoMarketHighlight",e.financeCryptoQnA="FinanceCryptoQnA",e.financeCryptoTable="FinanceCryptoTable",e.financeCurrencyConverter="FinanceCurrencyConverter",e.financeDetailComposition="FinanceDetailComposition",e.financeDetailHeader="FinanceDetailHeader",e.financeDetailNavigation="FinanceDetailNavigation",e.financeDetailPageV2="FinanceDetailPageV2",e.financeDetailsCard="FinanceDetailsCard",e.financeDetailsCardV2="FinanceDetailsCardV2",e.financeDianomiAds="FinanceDianomiAds",e.financeDiscoverySection="FinanceDiscoverySection",e.financeEarningChart="FinanceEarningChart",e.financeEarningGameCard="FinanceEarningGameCard",e.financeEarningsCalendarCard="FinanceEarningsCalendarCard",e.financeEarningsCard="FinanceEarningsCard",e.financeEarningsEventCard="FinanceEarningsEventCard",e.financeEarningsForecast="FinanceEarningsForecast",e.financeEarningsReport="FinanceEarningsReport",e.financeEconomicIndicator="FinanceEconomicIndicator",e.financeEtfInvestors="FinanceEtfInvestors",e.financeEtfL3Holdings="FinanceEtfL3Holdings",e.financeEtfProfile="FinanceEtfProfile",e.financeEventBrief="FinanceEventBrief",e.financeEventLandingPage="FinanceEventLandingPage",e.financeEventsCalendarCard="FinanceEventsCalendarCard",e.financeEventsComposition="FinanceEventsComposition",e.financeEventsTimeline="FinanceEventsTimeline",e.financeExploreCenter="FinanceExploreCenter",e.financeFeeds="FinanceFeeds",e.financeFeedsSection="FinanceFeedsSection",e.financeFinancialsCard="FinanceFinancialsCard",e.financeFinancialsChartCard="FinanceFinancialsChartCard",e.financeFinancialsKeyratiosComposition="FinanceFinancialsKeyratiosComposition",e.financeFinancialsLineChart="FinanceFinancialsLineChart",e.financeFollowButton="FinanceFollowButton",e.financeFundCard="FinanceFundCard",e.financeFundCardWrapper="FinanceFundCardWrapper",e.financeGamificationCard="FinanceGamificationCard",e.financeGradeChart="FinanceGradeChart",e.financeIndicesCard="FinanceIndicesCard",e.financeInsiderTrades="FinanceInsiderTrades",e.financeInsights="FinanceInsights",e.financeInvestorBioCard="FinanceInvestorBioCard",e.financeInvestorDetailPage="FinanceInvestorDetailPage",e.financeInvestorHoldingsHighlight="FinanceInvestorHoldingsHighlight",e.financeInvestorHoldingsTable="FinanceInvestorHoldingsTable",e.financeInvestorNavigationRail="FinanceInvestorNavigationRail",e.financeInvestorPerformanceCard="FinanceInvestorPerformanceCard",e.financeInvestorPerformanceGraph="FinanceInvestorPerformanceGraph",e.financeInvestorPortfolioSectors="FinanceInvestorPortfolioSectors",e.financeInvestorProfileHeader="FinanceInvestorProfileHeader",e.financeKeyFactsCard="FinanceKeyFactsCard",e.financeL1TopStories="FinanceL1TopStories",e.financeL2NewsCard="FinanceL2NewsCard",e.financeL3FinancialsNavigation="FinanceL3FinancialsNavigation",e.financeL3HistoryTab="FinanceL3HistoryTab",e.financeL3OptionsPage="FinanceL3OptionsPage",e.financeL3OwnershipBasic="FinanceL3OwnershipBasic",e.financeL3OwnershipEventsList="FinanceL3OwnershipEventsList",e.financeL3OwnershipGraph="FinanceL3OwnershipGraph",e.financeL3OwnershipHoldersTable="FinanceL3OwnershipHoldersTable",e.financeL3PageComposition="FinanceL3PageComposition",e.financeL3RelatedPage="FinanceL3RelatedPage",e.financeL4IncomeStatementTable="FinanceL4IncomeStatementTable",e.financeL4KeyRatiosTable="FinanceL4KeyRatiosTable",e.financeL4PageComposition="FinanceL4PageComposition",e.financeLandingPageV2="FinanceLandingPageV2",e.financeLearnPage="FinanceLearnPage",e.financeListDetailHeader="FinanceListDetailHeader",e.financeListDetailPage="FinanceListDetailPage",e.financeListLandingPage="FinanceListLandingPage",e.financeMarketCard="FinanceMarketCard",e.financeMarketDescription="FinanceMarketDescription",e.financeMarketMoversCard="FinanceMarketMoversCard",e.financeMarketStatus="FinanceMarketStatus",e.financeMarketSummaryTrend="FinanceMarketSummaryTrend",e.financeMarketsPageComposition="FinanceMarketsPageComposition",e.financeMergeWatchlist="FinanceMergeWatchlist",e.financeMiddleLayer="FinanceMiddleLayer",e.financeNewInvestorQuickStarter="FinanceNewInvestorQuickStarter",e.financeNewsCard="FinanceNewsCard",e.financeNewsContent="FinanceNewsContent",e.financeNewsLandingpage="FinanceNewsLandingpage",e.financeNotificationBar="FinanceNotificationBar",e.financePerfRankCard="FinancePerfRankCard",e.financePortfolioList="FinancePortfolioList",e.financeProjectionPromoteCard="FinanceProjectionPromoteCard",e.financePwaTip="FinancePwaTip",e.financeRecentlyViewedCard="FinanceRecentlyViewedCard",e.financeRecommendationCard="FinanceRecommendationCard",e.financeRecommendationCardV2="FinanceRecommendationCardV2",e.financeRedLine="FinanceRedLine",e.financeRelatedEarnings="FinanceRelatedEarnings",e.financeReturnCalculator="FinanceReturnCalculator",e.financeScreener="FinanceScreener",e.financeSearchBox="FinanceSearchBox",e.financeSectionValuationCard="FinanceSectionValuationCard",e.financeSentimentChart="FinanceSentimentChart",e.financeSentimentWizard="FinanceSentimentWizard",e.financeStockL2="FinanceStockL2",e.financeTitleCard="FinanceTitleCard",e.financeTopRated="FinanceTopRated",e.financeTrendCard="FinanceTrendCard",e.financeTrendingRelated="FinanceTrendingRelated",e.financeUserNavigation="FinanceUserNavigation",e.financeVideosFeed="FinanceVideosFeed",e.financeWalkthrough="FinanceWalkthrough",e.financeWatchlistCard="FinanceWatchlistCard",e.financeWatchlistListView="FinanceWatchlistListView",e.financeWatchlistManagement="FinanceWatchlistManagement",e.financeWatchlistMiniView="FinanceWatchlistMiniView",e.financeWatchlistPage="FinanceWatchlistPage",e.financeWatchlistPageV2="FinanceWatchlistPageV2",e.financeWatchlistStart="FinanceWatchlistStart",e.financeWatchlistSuggestion="FinanceWatchlistSuggestion",e.financeWatchlistSummary="FinanceWatchlistSummary",e.firstPartyPage="FirstPartyPage",e.fitnessCard="FitnessCard",e.fitnessSingleVideo="FitnessSingleVideo",e.fitnessSingleVideoHealthapp="FitnessSingleVideoHealthapp",e.flyoutCard="FlyoutCard",e.followingFreConfirmation="FollowingFreConfirmation",e.followingFreFullWidth="FollowingFreFullWidth",e.foodSimilarItems="FoodSimilarItems",e.forumDealsPage="ForumDealsPage",e.freMarketSelector="FreMarketSelector",e.frequentSitesCardWC="FrequentSitesCardWC",e.galleryPage="GalleryPage",e.gameCard="GameCard",e.gamingChannel="GamingChannel",e.gamingCompeteCard="GamingCompeteCard",e.gamingDiscoverStrip="GamingDiscoverStrip",e.gamingGamerModeUpsellCard="GamingGamerModeUpsellCard",e.gamingInterestGroupCard="GamingInterestGroupCard",e.gamingMatchCard="GamingMatchCard",e.gamingMediaCarousel="GamingMediaCarousel",e.gamingPage="GamingPage",e.gamingPersonalizationCard="GamingPersonalizationCard",e.gamingRecentlyPlayedCard="GamingRecentlyPlayedCard",e.gamingRecommendedCard="GamingRecommendedCard",e.gamingRedditCard="GamingRedditCard",e.gamingRewardsCard="GamingRewardsCard",e.gamingStreamCard="GamingStreamCard",e.gamingTournamentCard="GamingTournamentCard",e.gamingUpcomingCard="GamingUpcomingCard",e.gamingVideoCard="GamingVideoCard",e.generalElections="GeneralElections",e.gmailEmailPreview="GmailEmailPreview",e.gridViewFeed="GridViewFeed",e.groceryCouponSdCard="GroceryCouponSdCard",e.headerMenuWindowsShell="HeaderMenuWindowsShell",e.headerNavigationLogo="HeaderNavigationLogo",e.headerWindowsShellV2="HeaderWindowsShellV2",e.headerWindowsShellWC="HeaderWindowsShellWC",e.healthArticlesCardWC="HealthArticlesCardWC",e.healthDietPlanScheduleWC="HealthDietPlanScheduleWC",e.healthDietPlansPage="HealthDietPlansPage",e.healthExpertCommunity="HealthExpertCommunity",e.healthExpertCreation="HealthExpertCreation",e.healthExpertTermsConditions="HealthExpertTermsConditions",e.healthFeedbackWC="HealthFeedbackWC",e.healthFitnessCarousel="HealthFitnessCarousel",e.healthFitnessChallengePage="HealthFitnessChallengePage",e.healthFoodAtoz="HealthFoodAtoz",e.healthFoodHealtheffectsWC="HealthFoodHealtheffectsWC",e.healthFoodRecipesWC="HealthFoodRecipesWC",e.healthHub="HealthHub",e.healthHubAskProfessionals="HealthHubAskProfessionals",e.healthHubCondition="HealthHubCondition",e.healthHubDiagnostics="HealthHubDiagnostics",e.healthHubDrugs="HealthHubDrugs",e.healthHubHealthapp="HealthHubHealthapp",e.healthHubHealthappShell="HealthHubHealthappShell",e.healthHubPage="HealthHubPage",e.healthHubProcedures="HealthHubProcedures",e.healthHubSymptoms="HealthHubSymptoms",e.healthInterestsManager="HealthInterestsManager",e.healthInterestsManagerShell="HealthInterestsManagerShell",e.healthQnAWCExperience="HealthQnAWCExperience",e.healthRiverWC="HealthRiverWC",e.healthTipReact="HealthTipReact",e.healthTipWC="HealthTipWC",e.healthTopSpan="HealthTopSpan",e.healthTopicFlyout="HealthTopicFlyout",e.healthTopicFlyoutShell="HealthTopicFlyoutShell",e.healthTranslationWC="HealthTranslationWC",e.healthWidget="HealthWidget",e.hiddenContent="HiddenContent",e.holidayEffects="HolidayEffects",e.homePage="HomePage",e.homepageFooter="HomepageFooter",e.homepageHeader="HomepageHeader",e.horoscopeAnswerCard="HoroscopeAnswerCard",e.horoscopeAnswerCardWC="HoroscopeAnswerCardWC",e.horoscopeCard="HoroscopeCard",e.hotListCard="HotListCard",e.iframe="IFrame",e.imageSearch="ImageSearch",e.imageSearchWC="ImageSearchWC",e.immersiveFullscreen="ImmersiveFullscreen",e.industryNewsCard="IndustryNewsCard",e.infopane="Infopane",e.inspirationCard="InspirationCard",e.interestFreCard="InterestFreCard",e.interestManagementCard="InterestManagementCard",e.interests="Interests",e.interestsLeftRail="InterestsLeftRail",e.interestsManager="InterestsManager",e.interestsSearch="InterestsSearch",e.interestsV1Wrapper="InterestsV1Wrapper",e.interestsV2="InterestsV2",e.interestsV3="InterestsV3",e.interestsWC="InterestsWC",e.languageToggle="LanguageToggle",e.languageToggleWC="LanguageToggleWC",e.layoutSwitcher="LayoutSwitcher",e.legacySharingToolbar="LegacySharingToolbar",e.linkedInCard="LinkedInCard",e.linkedInNewsCard="LinkedInNewsCard",e.localGuideCard="LocalGuideCard",e.localHubHeader="LocalHubHeader",e.localNews="LocalNews",e.localNewsViewCard="LocalNewsViewCard",e.localizeStringsTempExperience="LocalizeStringsTempExperience",e.locationContentCard="LocationContentCard",e.locationEditorDialog="LocationEditorDialog",e.locationMarker="LocationMarker",e.locationSelector="LocationSelector",e.locationTime="LocationTime",e.lottery="Lottery",e.mailSignoutBanner="MailSignoutBanner",e.mangaCard="MangaCard",e.mangaHub="MangaHub",e.mangaPage="MangaPage",e.mangaSlideShow="MangaSlideShow",e.marketAggregator="MarketAggregator",e.marketLanguageToggleWC="MarketLanguageToggleWC",e.marketSelector="MarketSelector",e.marketplaceCardWC="MarketplaceCardWC",e.meControl="MeControl",e.meControlWC="MeControlWC",e.meStripe="MeStripe",e.meStripeWC="MeStripeWC",e.mediaServices="MediaServices",e.meetNow="MeetNow",e.microsoftEdgeWidget="MicrosoftEdgeWidget",e.microsoftFeedCard="MicrosoftFeedCard",e.microsoftLogo="MicrosoftLogo",e.microsoftNewsPage="MicrosoftNewsPage",e.migrationConsent="MigrationConsent",e.miniHeader="MiniHeader",e.mmxPage="MMXPage",e.mns="Mns",e.mnsCreatorDashboard="MnsCreatorDashboard",e.mobileAppUpsell="MobileAppUpsell",e.mobileChannelSlider="MobileChannelSlider",e.mobileConsumptionPage="MobileConsumptionPage",e.mobileFeed="MobileFeed",e.mobileFeedHub="MobileFeedHub",e.mobileFeedWC="MobileFeedWC",e.mobileFooter="MobileFooter",e.mobileHeader="MobileHeader",e.mobileMarketSelector="MobileMarketSelector",e.mobileNotification="MobileNotification",e.mobilePopupWindow="MobilePopupWindow",e.mobileRewardsCard="MobileRewardsCard",e.mobileShoppingCard="MobileShoppingCard",e.mobileStoryViewer="MobileStoryViewer",e.mobileTip="MobileTip",e.mobileWidget="MobileWidget",e.modernRightRail="ModernRightRail",e.moneyAugmentCard="MoneyAugmentCard",e.moneyCard="MoneyCard",e.moneyInfo="MoneyInfo",e.moneyInfoCard="MoneyInfoCard",e.moneyInfoCardWC="MoneyInfoCardWC",e.moneyInfoSpan="MoneyInfoSpan",e.msRewards="MsRewards",e.msRewardsWC="MsRewardsWC",e.msaAddressForm="MsaAddressForm",e.msnSettingMenu="MsnSettingMenu",e.myBriefRiverCard="MyBriefRiverCard",e.nativeAd="NativeAd",e.nativeAdWC="NativeAdWC",e.navigationPageExperience="NavigationPageExperience",e.newsFlipperCard="NewsFlipperCard",e.newsGroupsCard="NewsGroupsCard",e.newsGuard="NewsGuard",e.newsHeadlineBelowSearchbox="NewsHeadlineBelowSearchbox",e.newsSegmentCarousel="NewsSegmentCarousel",e.newsbarFeedFooter="NewsbarFeedFooter",e.newsbarFeedWC="NewsbarFeedWC",e.newsbarUpsell="NewsbarUpsell",e.newsbarUpsellWC="NewsbarUpsellWC",e.newsletterSignup="NewsletterSignup",e.newsletterSignupPage="NewsletterSignupPage",e.nextdoorCard="NextdoorCard",e.nextdoorPage="NextdoorPage",e.notificationBell="NotificationBell",e.notificationBellWC="NotificationBellWC",e.nudgeSpotlightCard="NudgeSpotlightCard",e.office="Office",e.officeCoachmark="OfficeCoachmark",e.officeDocumentsTableWC="OfficeDocumentsTableWC",e.officeLeftRail="OfficeLeftRail",e.onThisDayCard="OnThisDayCard",e.onThisDayCardSmall="OnThisDayCardSmall",e.onThisDayCardWC="OnThisDayCardWC",e.oneFooter="OneFooter",e.overlay="Overlay",e.overlayWC="OverlayWC",e.pageRefresh="PageRefresh",e.pageRefreshWC="PageRefreshWC",e.panoPage="PanoPage",e.partnerUpsellCard="PartnerUpsellCard",e.partnerWidget="PartnerWidget",e.personalFinanceExpenseDistribution="PersonalFinanceExpenseDistribution",e.personalFinanceTransactionsCard="PersonalFinanceTransactionsCard",e.personalizeNavButton="PersonalizeNavButton",e.photoCard="PhotoCard",e.pillWC="PillWC",e.pivotContent="PivotContent",e.pivotContentV2="PivotContentV2",e.pivotsMobileWC="PivotsMobileWC",e.pivotsNav="PivotsNav",e.pollsCard="PollsCard",e.pollsCardWC="PollsCardWC",e.portugueseElectionExperience="PortugueseElectionExperience",e.poweredByLegend="PoweredbyLegend",e.poweredByLegendWC="PoweredbyLegendWC",e.prayerTimesCard="PrayerTimesCard",e.premiumProfilePromoCard="PremiumProfilePromoCard",e.prideEventCard="PrideEventCard",e.prismCards="PrismCards",e.prismCarouselCard="PrismCarouselCard",e.prismFeed="PrismFeed",e.prismSdCard="PrismSdCard",e.proactiveCanvas="ProactiveCanvas",e.productivityHub="ProductivityHub",e.profileArticles="ProfileArticles",e.profilePromoCard="ProfilePromoCard",e.promoBanner="PromoBanner",e.promoBannerWC="PromoBannerWC",e.publisherCarousel="PublisherCarousel",e.publisherList="PublisherList",e.publisherSubscribeFollowButton="PublisherSubscribeFollowButton",e.publishersManagement="PublishersManagement",e.pullToRefresh="PullToRefresh",e.qna="Qna",e.qnaFeed404Page="QnaFeed404Page",e.qnaFeedCard="QnaFeedCard",e.qnaFeedCardMenu="QnaFeedCardMenu",e.qnaFeedCarousel="QnaFeedCarousel",e.qnaFeedCategoriesMenu="QnaFeedCategoriesMenu",e.qnaFeedExploreTopics="QnaFeedExploreTopics",e.qnaFeedList="QnaFeedList",e.qnaFeedMyTopics="QnaFeedMyTopics",e.qnaFeedPage="QnaFeedPage",e.qnaFeedRelatedQuestions="QnaFeedRelatedQuestions",e.qnaFeedReportCard="QnaFeedReportCard",e.qnaFeedSuggestedTopics="QnaFeedSuggestedTopics",e.qnaFeedTopicDetail="QnaFeedTopicDetail",e.qnaFeedTrendingQuestions="QnaFeedTrendingQuestions",e.quizCard="QuizCard",e.reactionBreakdownDialog="ReactionBreakdownDialog",e.realEstateCard="RealEstateCard",e.recipesCards="RecipesCards",e.recipesFeed="RecipesFeed",e.recipesSdCard="RecipesSdCard",e.recipesSearch="RecipesSearch",e.recipesSingleDetail="RecipesSingleDetail",e.recipesSingleVideo="RecipesSingleVideo",e.recommendedCardFeed="RecommendedCardFeed",e.recommendedCardWC="RecommendedCardWC",e.recommendedInterests="RecommendedInterests",e.recommendedSearch="RecommendedSearch",e.recommendedSearchBelowSearchBox="RecommendedSearchBelowSearchBox",e.recommendedSearchCarousel="RecommendedSearchCarousel",e.recommendedSearchCarouselWC="RecommendedSearchCarouselWC",e.recommendedSearchesCard="RecommendedSearchesCard",e.recommendedSites="RecommendedSites",e.recommendedSitesWC="RecommendedSitesWC",e.recommendedTopics="RecommendedTopics",e.relatedSearchesCard="RelatedSearchesCard",e.rewardsCardWC="RewardsCardWC",e.rewardsDailyCheckinCard="RewardsDailyCheckinCard",e.rewardsDailySetCard="RewardsDailySetCard",e.rightRailCarousel="RightRailCarousel",e.rightRailProviderCarousel="RightRailProviderCarousel",e.river="River",e.riverPlaceholder="RiverPlaceholder",e.scrollDownButton="ScrollDownButton",e.sdCardMaskWC="SdCardMaskWC",e.searchBoxCommon="SearchBoxCommon",e.searchBoxEdge="SearchBoxEdge",e.searchBoxWC="SearchBoxWC",e.searchBoxWindowsShell="SearchBoxWindowsShell",e.searchHistoryCommon="SearchHistoryCommon",e.searchHistoryEdge="SearchHistoryEdge",e.searchHistoryEdgeNextWC="SearchHistoryEdgeNextWC",e.seeMoreButtonWindowsShell="SeeMoreButtonWindowsShell",e.selectCarousel="SelectCarousel",e.settingsDialogMsNews="SettingsDialogMsNews",e.sharedLinks="SharedLinks",e.sharedState="SharedState",e.sharepointNewsCard="SharepointNewsCard",e.shopContentCarousel="ShopContentCarousel",e.shoppingAllStoresPage="ShoppingAllStoresPage",e.shoppingArticlePage="ShoppingArticlePage",e.shoppingAssistant="ShoppingAssistant",e.shoppingBingProductDetails="ShoppingBingProductDetails",e.shoppingBlackjackDealPage="ShoppingBlackjackDealPage",e.shoppingBlackjackPage="ShoppingBlackjackPage",e.shoppingBuyingGuide="ShoppingBuyingGuide",e.shoppingBuyingGuidesCard="ShoppingBuyingGuidesCard",e.shoppingCardWC="ShoppingCardWC",e.shoppingCarousel="ShoppingCarousel",e.shoppingCarouselProngWC="ShoppingCarouselProngWC",e.shoppingCarouselWC="ShoppingCarouselWC",e.shoppingCart="ShoppingCart",e.shoppingCashback="ShoppingCashback",e.shoppingChatDetailPage="ShoppingChatDetailPage",e.shoppingCheckoutModal="ShoppingCheckoutModal",e.shoppingCheckoutPage="ShoppingCheckoutPage",e.shoppingColdStart="ShoppingColdStart",e.shoppingContentCard="ShoppingContentCard",e.shoppingCouponsPage="ShoppingCouponsPage",e.shoppingDealsHomePage="ShoppingDealsHomePage",e.shoppingDebugPage="ShoppingDebugPage",e.shoppingEdgeInsightsCard="ShoppingEdgeInsightsCard",e.shoppingEntryBaseExperience="ShoppingEntryBaseExperience",e.shoppingEventsDealCard="ShoppingEventsDealCard",e.shoppingFeedCard="ShoppingFeedCard",e.shoppingForumFavorites="ShoppingForumFavorites",e.shoppingForumHome="ShoppingForumHome",e.shoppingForumLandingPage="ShoppingForumLandingPage",e.shoppingForumOrderCancelPage="ShoppingForumOrderCancelPage",e.shoppingForumOrderConfirmation="ShoppingForumOrderConfirmation",e.shoppingForumOrderDetails="ShoppingForumOrderDetails",e.shoppingForumOrdersPage="ShoppingForumOrdersPage",e.shoppingForumProductPage="ShoppingForumProductPage",e.shoppingForumRefundDetailsPage="ShoppingForumRefundDetailsPage",e.shoppingForumRefundOrderPage="ShoppingForumRefundOrderPage",e.shoppingForumReturnDetailsPage="ShoppingForumReturnDetailsPage",e.shoppingForumReturnOrderPage="ShoppingForumReturnOrderPage",e.shoppingForumSellerPage="ShoppingForumSellerPage",e.shoppingGrid="ShoppingGrid",e.shoppingGroupedCarousel="ShoppingGroupedCarousel",e.shoppingGuidesPage="ShoppingGuidesPage",e.shoppingHomepage="ShoppingHomepage",e.shoppingInspiration="ShoppingInspiration",e.shoppingLeaderboard="ShoppingLeaderboard",e.shoppingLiveBasePage="ShoppingLiveBasePage",e.shoppingLiveEmbedPage="ShoppingLiveEmbedPage",e.shoppingLiveFeedPage="ShoppingLiveFeedPage",e.shoppingLiveInmobiDetailsPage="ShoppingLiveInmobiDetailsPage",e.shoppingLiveProductDetailsPage="ShoppingLiveProductDetailsPage",e.shoppingLiveVideoPlayer="ShoppingLiveVideoPlayer",e.shoppingModal="ShoppingModal",e.shoppingModelOverlay="ShoppingModelOverlay",e.shoppingMomentInTimePage="ShoppingMomentInTimePage",e.shoppingMultiTabCarousel="ShoppingMultiTabCarousel",e.shoppingNotification="ShoppingNotification",e.shoppingPage="ShoppingPage",e.shoppingPageBase="ShoppingPageBase",e.shoppingPageContent="ShoppingPageContent",e.shoppingProductDetailPage="ShoppingProductDetailPage",e.shoppingProductPage="ShoppingProductPage",e.shoppingSdCard="ShoppingSdCard",e.shoppingSearch="ShoppingSearch",e.shoppingSearchNav="ShoppingSearchNav",e.shoppingSearchResultPage="ShoppingSearchResultPage",e.shoppingShippingAddress="ShoppingShippingAddress",e.shoppingShopTheLookPage="ShoppingShopTheLookPage",e.shoppingSmartList="ShoppingSmartList",e.shoppingSpinWheel="ShoppingSpinWheel",e.shoppingTopSpan="ShoppingTopSpan",e.shoppingVideoShortsCarousel="ShoppingVideoShortsCarousel",e.shoppingViewsCarousel="ShoppingViewsCarousel",e.showFeed="ShowFeed",e.signInControlWC="SignInControlWC",e.signInFlyoutWC="SignInFlyoutWC",e.simpleBanner="SimpleBanner",e.slideShow="SlideShow",e.slideshowWC="SlideshowWC",e.smartList="SmartList",e.social="Social",e.socialAvatar="SocialAvatar",e.socialBar="SocialBar",e.socialBarV2="SocialBarV2",e.socialBarWC="SocialBarWC",e.socialComment="SocialComment",e.socialCommentWC="SocialCommentWC",e.socialEntrypoint="SocialEntrypoint",e.socialGiveSupportButton="SocialGiveSupportButton",e.socialLeadGenInArticle="SocialLeadGenInArticle",e.socialNotification="SocialNotification",e.socialPost="SocialPost",e.socialPostCard="SocialPostCard",e.socialPostEditorWC="SocialPostEditorWC",e.socialProfile="SocialProfile",e.socialProfileActionMenu="SocialProfileActionMenu",e.socialProfileCard="SocialProfileCard",e.socialProfilePromo="SocialProfilePromotion",e.socialRelatedSources="SocialRelatedSources",e.socialReportMenu="SocialReportMenu",e.socialRewardsMedal="SocialRewardsMedal",e.socialRewardsPromotion="SocialRewardsPromotion",e.socialShareButton="SocialShareButton",e.socialStarRating="SocialStarRating",e.socialSubscriptionBanner="SocialSubscriptionBanner",e.socialSubscriptionNotification="SocialSubscriptionNotification",e.socialSubscriptionOverlay="SocialSubscriptionOverlay",e.socialSubscriptionOverlaySummary="SocialSubscriptionOverlaySummary",e.socialSubscriptionPaywall="SocialSubscriptionPaywall",e.socialSubscriptionUpsell="SocialSubscriptionUpsell",e.socialSupportResult="SocialSupportResult",e.socialTipHistory="SocialTipHistory",e.socialTipIntroduction="SocialTipIntroduction",e.socialTipPromotion="SocialTipPromotion",e.socialTipPromotionInArticle="SocialTipPromotionInArticle",e.socialTipSelection="SocialTipSelection",e.sportsAroundTheLeague="SportsAroundTheLeague",e.sportsAugmentCard="SportsAugmentCard",e.sportsBackgroundUx="SportsBackgroundUx",e.sportsBrackets="SportsBrackets",e.sportsCard="SportsCard",e.sportsCardWC="SportsCardWC",e.sportsCommentary="SportsCommentary",e.sportsCountdownTimer="SportsCountdownTimer",e.sportsCricketLayoutManager="SportsCricketLayoutManager",e.sportsCricketLeagueStats="SportsCricketLeagueStats",e.sportsCricketMatchRow="SportsCricketMatchRow",e.sportsCricketPartnerships="SportsCricketPartnerships",e.sportsCricketRankings="SportsCricketRankings",e.sportsCricketScorecard="SportsCricketScorecard",e.sportsCricketScoresAndSchedule="SportsCricketScoresAndSchedule",e.sportsEntityHeader="SportsEntityHeader",e.sportsFeaturedMatchesCard="SportsFeaturedMatchesCard",e.sportsFullStandings="SportsFullStandings",e.sportsGameInformation="SportsGameInformation",e.sportsGameScore="SportsGameScore",e.sportsGameSummary="SportsGameSummary",e.sportsGameSummaryFull="SportsGameSummaryFull",e.sportsGameTimeline="SportsGameTimeline",e.sportsGcPlayerStats="SportsGcPlayerStats",e.sportsGcTeamStats="SportsGcTeamStats",e.sportsGptAnalysis="SportsGptAnalysis",e.sportsInfo="SportsInfo",e.sportsInfoSpan="SportsInfoSpan",e.sportsLayoutRenderer="SportsLayoutRenderer",e.sportsMatchRow="SportsMatchRow",e.sportsMatchupCard="SportsMatchupCard",e.sportsMobileTabPanel="SportsMobileTabPanel",e.sportsOlympicCard="SportsOlympicCard",e.sportsOlympicCardWC="SportsOlympicCardWC",e.sportsPage="SportsPage",e.sportsPageContent="SportsPageContent",e.sportsPersonMatchRow="SportsPersonMatchRow",e.sportsPersonalizationStrip="SportsPersonalizationStrip",e.sportsPlayerBio="SportsPlayerBio",e.sportsPlayerInsights="SportsPlayerInsights",e.sportsPreviousMatchups="SportsPreviousMatchups",e.sportsRankingsFull="SportsRankingsFull",e.sportsScoresAndSchedule="SportsScoresAndSchedule",e.sportsScoresAndScheduleFull="SportsScoresAndScheduleFull",e.sportsSquad="SportsSquad",e.sportsStandings="SportsStandings",e.sportsStandingsList="SportsStandingsList",e.sportsStats="SportsStats",e.sportsTabLayout="SportsTabLayout",e.sportsTeamFormation="SportsTeamFormation",e.sportsTeamProbability="SportsTeamProbability",e.sportsTennisScoresAndScheduleFull="SportsTennisScoresAndScheduleFull",e.sportsTennisTournamentInfo="SportsTennisTournamentInfo",e.sportsTournamentInfo="SportsTournamentInfo",e.sportsTournamentLeaderboard="SportsTournamentLeaderboard",e.sportsTournamentMatchRow="SportsTournamentMatchRow",e.sportsTournamentResultsAndSchedule="SportsTournamentResultsAndSchedule",e.sportsTournamentSchedule="SportsTournamentSchedule",e.sportsTournamentStandings="SportsTournamentStandings",e.sportsUnavailablePlayers="SportsUnavailablePlayers",e.sportsVideoList="SportsVideoList",e.sportsWorldCupCard="SportsWorldCupCard",e.sportsWorldCupCardWC="SportsWorldCupCardWC",e.spotlightCard="SpotlightCard",e.spotlightCardWC="SpotlightCardWC",e.starterKit="StarterKit",e.starterKitWC="StarterKitWC",e.stickyPeek="StickyPeek",e.storyCarousel="StoryCarousel",e.storyPage="StoryPage",e.stripe="Stripe",e.stripeFeed="StripeFeed",e.stripeView="StripeView",e.stripeWC="StripeWC",e.summaryCardWC="SummaryCardWC",e.superAppPage="SuperAppHomepage",e.superBreakingNews="SuperBreakingNews",e.superCoachMark="SuperCoachMark",e.superCoachMarkWC="SuperCoachMarkWC",e.superListCard="SuperListCard",e.superNav="SuperNav";e.superNavCoachMark="SuperNavCoachMark",e.superappBannerWC="SuperappBannerWC",e.superappUpsellCardWC="SuperappUpsellCardWC",e.tabbedFeedWC="TabbedFeedWC",e.tabbedInfopane="TabbedInfopane",e.tabbedInfopaneTabPreview="TabbedInfopaneTabPreview",e.taboolaRiver="TaboolaRiver",e.testBingNudge="TestBingNudge",e.themePicker="ThemePicker",e.themePickerWC="ThemePickerWC",e.tipsCard="TipsCard",e.toast="Toast",e.toastWC="ToastWC",e.todoCardWC="TodoCardWC",e.topSites="TopSites",e.topSitesBookmarks="TopSitesBookmarks",e.topSitesCommon="TopSitesCommon",e.topSitesEdge="TopSitesEdge",e.topSitesEdgeNextWC="TopSitesEdgeNextWC",e.topSitesNewsbar="TopSitesNewsbar",e.topicTags="TopicTags",e.topicsHub="TopicsHub",e.trafficCard="TrafficCard",e.trafficCardWC="TrafficCardWC",e.trafficMap="TrafficMap",e.trafficPage="TrafficPage",e.translateTemporary="TranslateTemporary",e.travelArticlePageCard="TravelArticlePageCard",e.travelArticlePill="TravelArticlePill",e.travelCard="TravelCard",e.travelCarousel="TravelCarousel",e.travelCollectionCard="TravelCollectionCard",e.travelDestination="TravelDestination",e.travelDestinationBanner="TravelDestinationBanner",e.travelDestinationDetailsBanner="TravelDestinationDetailsBanner",e.travelFeed="TravelFeed",e.travelInspirationCard="TravelInspirationCard",e.travelInspirationCardWC="TravelInspirationCardWC",e.travelLandingPage="TravelLandingPage",e.travelMsnHpCard="TravelMsnHpCard",e.travelPage="TravelPage",e.travelSaveButton="TravelSaveButton",e.travelSdDestinationsCard="TravelSdDestinationsCard",e.travelSdFlightsCard="TravelSdFlightsCard",e.travelSdHotelsCard="TravelSdHotelsCard",e.travelSdThemesCard="TravelSdThemesCard",e.travelTabCarousel="TravelTabCarousel",e.travelTourActivityCard="TravelTourActivityCard",e.trendingNews="TrendingNews",e.trendingNow="TrendingNow",e.trendingNowWC="TrendingNowWC",e.trendingSearchCard="TrendingSearchCard",e.trendingTopics="TrendingTopics",e.tripleCard="TripleCard",e.ugcCreator="UgcCreator",e.ugcCreatorHomepage="UgcCreatorHomepage",e.userInitiatedPageRefresh="UserInitiatedPageRefresh",e.userProfileDisplay="UserProfileDisplay",e.verticalLeftNav="VerticalLeftNav",e.videoCard="VideoCard",e.videoCardWC="VideoCardWC",e.videoDetails="VideoDetails",e.videoList="VideoList",e.videoShoppingCard="VideoShoppingCard",e.videoShoppingCarouselCard="VideoShoppingCarouselCard",e.videosFeed="VideosFeed",e.viewsArticle="ViewsArticle",e.viewsCoachmark="ViewsCoachmark",e.viewsGallery="ViewsGallery",e.viewsNativeAd="ViewsNativeAd",e.viewsRail="ViewsRail",e.voiceSearch="VoiceSearch",e.voiceSearchWC="VoiceSearchWC",e.waffleWC="WaffleWC",e.walletPersonalizedOfferSdCardWC="WalletPersonalizedOfferSdCardWC",e.watch="Watch",e.watchWC="WatchWC",e.watchlistCard="WatchlistCard",e.watchlistView="WatchlistView",e.waterTrackerCard="WaterTrackerCard",e.weatherActivityPlanner="WeatherActivityPlanner",e.weatherActivityWatchlist="WeatherActivityWatchlist",e.weatherAds="WeatherAds",e.weatherCard="WeatherCard",e.weatherCardData="WeatherCardData",e.weatherCardWC="WeatherCardWC",e.weatherCarousel="WeatherCarousel",e.weatherColdStartGuide="WeatherColdStartGuide",e.weatherCurrentWC="WeatherCurrentWC",e.weatherDailyTrendChart="WeatherDailyTrendChart",e.weatherData="WeatherData",e.weatherEplant="WeatherEplant",e.weatherEplantTasksPhone="WeatherEplantTasksPhone",e.weatherEventAlert="WeatherEventAlert",e.weatherEventBanner="WeatherEventBanner",e.weatherExtensionSection="WeatherExtensionSection",e.weatherFeedback="WeatherFeedback",e.weatherFloatButtons="WeatherFloatButtons",e.weatherForecast="WeatherForecast",e.weatherForecastDayNightWC="WeatherForecastDayNightWC",e.weatherForecastDayWC="WeatherForecastDayWC",e.weatherForecastHistoryWC="WeatherForecastHistoryWC",e.weatherForecastPerHourWC="WeatherForecastPerHourWC",e.weatherForecastSunMoonPhaseWC="WeatherForecastSunMoonPhaseWC",e.weatherForecastSunMoonWC="WeatherForecastSunMoonWC",e.weatherForecastTab="WeatherForecastTab",e.weatherForecastVideo="WeatherForecastVideo",e.weatherFunFact="WeatherFunFact",e.weatherFreDialog="WeatherFreDialog",e.weatherGuidedConversation="WeatherGuidedConversation",e.weatherHistoricalRecordWC="WeatherHistoricalRecordWC",e.weatherHistoricalTemperatureWC="WeatherHistoricalTemperatureWC",e.weatherHistoricalTrends="WeatherHistoricalTrends",e.weatherHolidayEffects="WeatherHolidayEffects",e.weatherHourlyHistogramWC="WeatherHourlyHistogramWC",e.weatherHourlyTab="WeatherHourlyTab",e.weatherImmersiveForecastWC="WeatherImmersiveForecastWC",e.weatherInfoCard="WeatherInfoCard",e.weatherInfoMini="WeatherInfoMini",e.weatherInfoSpan="WeatherInfoSpan",e.weatherInsightsSection="WeatherInsightsSection",e.weatherLifeAllQuiz="WeatherLifeAllQuiz",e.weatherLifeCurrent="WeatherLifeCurrent",e.weatherLifeCurrentV2="WeatherLifeCurrentV2",e.weatherLifeDayHourPanel="WeatherLifeDayHourPanel",e.weatherLifeEntryWC="WeatherLifeEntryWC",e.weatherLifeFactsCard="WeatherLifeFactsCard",e.weatherLifeHolidayCard="WeatherLifeHolidayCard",e.weatherLifeIndexEntry="WeatherLifeIndexEntry",e.weatherLifeNews="WeatherLifeNews",e.weatherLifeQuizCard="WeatherLifeQuizCard",e.weatherLifeSpecialToday="WeatherLifeSpecialToday",e.weatherLocationCardWC="WeatherLocationCardWC",e.weatherLocationPanel="WeatherLocationPanel",e.weatherLocationPopup="WeatherLocationPopup",e.weatherLocationSearch="WeatherLocationSearch",e.weatherLocationSearchPhoneWC="WeatherLocationSearchPhoneWC",e.weatherLocationWC="WeatherLocationWC",e.weatherMapAlertCard="WeatherMapAlertCard",e.weatherMapAnimationBox="WeatherMapAnimationBox",e.weatherMapCarousel="WeatherMapCarousel",e.weatherMapContentModal="WeatherMapContentModal",e.weatherMapControlBox="WeatherMapControlBox",e.weatherMapDataFilter="WeatherMapDataFilter",e.weatherMapForecastCard="WeatherMapForecastCard",e.weatherMapGroupSwitcher="WeatherMapGroupSwitcher",e.weatherMapGroupSwitcherButtonWC="WeatherMapGroupSwitcherButtonWC",e.weatherMapHurricanePane="WeatherMapHurricanePane",e.weatherMapLayerChooser="WeatherMapLayerChooser",e.weatherMapLegendIndicator="WeatherMapLegendIndicator",e.weatherMapLegendWC="WeatherMapLegendWC",e.weatherMapLifeIndex="WeatherMapLifeIndex",e.weatherMapLifeTips="WeatherMapLifeTips",e.weatherMapMini="WeatherMapMini",e.weatherMapNaviCard="WeatherMapNaviCard",e.weatherMapNews="WeatherMapNews",e.weatherMapPopup="WeatherMapPopup",e.weatherMapPromotionCard="WeatherMapPromotionCard",e.weatherMapSidebar="WeatherMapSidebar",e.weatherMapTimeline="WeatherMapTimeline",e.weatherMapTimelineWC="WeatherMapTimelineWC",e.weatherMapV2="WeatherMapV2",e.weatherMapWC="WeatherMapWC",e.weatherMapWeatherCard="WeatherMapWeatherCard",e.weatherMapsRotationWC="WeatherMapsRotationWC",e.weatherMinimapWC="WeatherMinimapWC",e.weatherMonthCalendar="WeatherMonthCalendar",e.weatherMonthlyForecastSummary="WeatherMonthlyForecastSummary",e.weatherMonthlySummaryWC="WeatherMonthlySummaryWC",e.weatherMonthlyTrendChart="WeatherMonthlyTrendChart",e.weatherNotification="WeatherNotification",e.weatherNowcastHistogram="WeatherNowcastHistogram",e.weatherNpsCard="WeatherNpsCard",e.weatherOverviewV2="WeatherOverviewV2",e.weatherOverviewWC="WeatherOverviewWC",e.weatherPageMeta="WeatherPageMeta",e.weatherPageRoot="WeatherPageRoot",e.weatherPageV2="WeatherPageV2",e.weatherPageWC="WeatherPageWC",e.weatherPersonaCard="WeatherPersonaCard",e.weatherPersonaSummary="WeatherPersonaSummary",e.weatherPollenCityList="WeatherPollenCityList",e.weatherPollenDailyInfo="WeatherPollenDailyInfo",e.weatherPollenImages="WeatherPollenImages",e.weatherPollenNodata="WeatherPollenNodata",e.weatherPollenTeaser="WeatherPollenTeaser",e.weatherPollenWeatherForecast="WeatherPollenWeatherForecast",e.weatherRecommendation="WeatherRecommendation",e.weatherSettingCenter="WeatherSettingCenter",e.weatherSlideDrawer="WeatherSlideDrawer",e.weatherToast="WeatherToast",e.weatherTodayCard="WeatherTodayCard",e.weatherTodayHistoryWC="WeatherTodayHistoryWC",e.weatherTodayMini="WeatherTodayMini",e.weatherTodayMiniWC="WeatherTodayMiniWC",e.weatherTravelCarousel="WeatherTravelCarousel",e.weatherTrendOverview="WeatherTrendOverview",e.weatherVideoEntryWC="WeatherVideoEntryWC",e.welcomeGreetingLight="WelcomeGreetingLight",e.welcomeGreetingWC="WelcomeGreetingWC",e.widgetPickerWC="WidgetPickerWC",e.widgets="Widgets",e.widgetsDynamicFeed="WidgetsDynamicFeed",e.widgetsHomePage="WidgetsHomePage",e.winAppWC="WinAppWC",e.windowsOfficeFeed="WindowsOfficeFeed",e.windowsShellAccountManager="WindowsShellAccountManager",e.windowsShellBannerManager="WindowsShellBannerManager",e.windowsShellBannersManager="WindowsShellBannersManager",e.windowsShellColdStartBanner="WindowsShellColdStartBanner",e.windowsShellColdStartCard="WindowsShellColdStartCard",e.windowsShellContentPreview="WindowsShellContentPreview",e.windowsShellDialogBox="WindowsShellDialogBox",e.windowsShellEntry="WindowsShellEntry",e.windowsShellHeader="WindowsShellHeader",e.windowsShellHotList="WindowsShellHotList",e.windowsShellImportBrowserDataBanner="WindowsShellImportBrowserDataBanner",e.windowsShellInfopane="WindowsShellInfopane",e.windowsShellLocationDialog="WindowsShellLocationDialog",e.windowsShellMarketMismatchBanner="WindowsShellMarketMismatchBanner",e.windowsShellMorningDigest="WindowsShellMorningDigest",e.windowsShellNewsPromoCard="WindowsShellNewsPromoCard",e.windowsShellNotificationBanner="WindowsShellNotificationBanner",e.windowsShellNotificationSettings="WindowsShellNotificationSettings",e.windowsShellPinOverlay="WindowsShellPinOverlay",e.windowsShellRecommendedInterests="WindowsShellRecommendedInterests",e.windowsShellRefreshAnimationBanner="WindowsShellRefreshAnimationBanner",e.windowsShellRefreshDiscoveryBanner="WindowsShellRefreshDiscoveryBanner",e.windowsShellRiver="WindowsShellRiver",e.windowsShellSettingsMenu="WindowsShellSettingsMenu",e.windowsShellShoppingBanner="WindowsShellShoppingBanner",e.windowsShellSoftLanding="WindowsShellSoftLanding",e.windowsShellTrendingTopics="WindowsShellTrendingTopics",e.windowsWidgetsHub="WindowsWidgetsHub",e.xboxFeedWC="XboxFeedWC",e.xfeed="Xfeed",e.xfeedWC="XfeedWC",e.yandexSearchBoxWC="YandexSearchBoxWC"}(r||(r={}))},38895:function(e,t,n){"use strict";n.d(t,{NH:function(){return l},PC:function(){return r},PQ:function(){return i},SL:function(){return o},XW:function(){return c},mX:function(){return a},my:function(){return s},pN:function(){return u}});const r="prg-",i="v3",o="v3.1",a="/resolver/api/resolve/",s="prg-crsfdheadrem",c="prg-callcrsfrakm",u="https://assets.msn.com",l="https://assets.msn.cn"},82890:function(e,t,n){"use strict";var r;n.d(t,{X:function(){return i},p:function(){return r}}),function(e){e.basicFeed="BasicFeed",e.desktopFeedStart="DesktopFeedStart",e.discoverCarouselSection="FinanceDiscoverSection_carouselCard",e.discoverFirstSection="FinanceDiscoverSection_first",e.discoverFollowedSection="FinanceDiscoverSection_followedCard",e.discoverSecondSection="FinanceDiscoverSection_second",e.feed="Feed",e.feedBasicRender="FeedBasicRender",e.feedRequest="FeedRequest",e.feedRequestFG="FeedRequest.FG",e.feedSDRender="FeedSDRender",e.isPrerenderedAd="isPrerenderedAd",e.firstSectionRenderStart="FirstSectionRenderStart",e.riverFirstSection="RiverFirstSection",e.sdCards="SDCards",e.searchBox="SearchBox",e.searchBoxToFeed="SearchBoxToFeed",e.secondSectionRenderEnd="SecondSectionRenderEnd",e.secondSectionRenderStart="SecondSectionRenderStart",e.TTPR="TTPR",e.viewCards="ViewCards",e.wpoCallStart="WpoCallStart",e.wpoResponseBack="WpoResponseBack",e.feedCallStart="FeedCallStart",e.feedResponseBack="FeedResponseBack",e.feedParse="FeedParse",e.configEndToFeedStart="ConfigEndToFeedStart",e.feedResponseTo1SSectionProcessed="FeedResponseTo1SSectionProcessed",e.isSSREnabled="isSSREnabled",e.isSSRCompleted="isSSRCompleted",e.isSSRAborted="isSSRAborted",e.complete="Complete",e.sectionRenderStart="sectionRenderStart"}(r||(r={}));const i="WidgetsConfigsEnd"},12108:function(e,t,n){"use strict";var r,i;n.d(t,{F:function(){return i},G:function(){return r}}),function(e){e.Article="article",e.ArticleFullScreen="articlefullscreen",e.CasualGames="casualgames",e.CasualGamesPlay="casualgamesplay",e.ChannelSource="channel::source",e.ChannelTopic="channel::topic",e.CmsExperience="shopping::cms",e.CmsBaseExperience="shopping::cmsbase",e.DHP="dhp",e.EdgeWelcome="edgewelcome",e.ForumDealsPage="shopping::buydirect::superdeals",e.Gallery="gallery",e.GalleryFullScreen="galleryfullscreen",e.Homepage="hp",e.Launcher="launcher",e.Lenovo="lenovo",e.MMX="mmx",e.NewsAndInterests="newsandinterestshp",e.Newsbar="newsbar",e.NewsbarUpsell="newsbarupsell",e.NewsCoronavirus="news::coronavirus",e.NewsVLP="news",e.NTP="ntp",e.Story="story",e.Shopping="shopping",e.ShoppingDealsCategory="shopping::deals-category",e.ShoppingProductDetails="shopping::product",e.ShoppingExpressCheckout="shopping::express-checkout",e.ShoppingForumCheckout="shopping::buydirect::checkout",e.ShoppingForumProductPage="shopping::buydirect::product",e.ShoppingForumcheckoutWidget="shopping::buydirect::checkout::widget",e.ShoppingForumProductDetails="shopping::buydirect::product1",e.ShoppingForumCancelOrder="shopping::buydirect::cancel-order",e.ShoppingForumReturnDetails="shopping::buydirect::return-details",e.ShoppingForumReturnOrder="shopping::buydirect::return-orders",e.ShoppingForumRefundDetails="shopping::buydirect::refund-details",e.ShoppingForumRefundOrder="shopping::buydirect::refund-orders",e.ShoppingLiveDetails="shoppinglivedetails",e.ShoppingLiveInmobiDetails="shoppingliveinmobidetails",e.ShoppingLiveEmbed="shopping::live::embed",e.ShoppingLiveFeed="shopping::live",e.ShoppingLiveBase="shopping::live",e.ShoppingMomentInTime="shopping::mit",e.ShoppingExplore="shopping::explore",e.ShoppingExploreHalloween="shopping::explore::halloween",e.ShoppingCouponsPage="shopping::coupons",e.ShoppingDealsHomePage="shopping::deals::coupons",e.ShoppingStoreCouponsPage="shopping::store-coupons",e.ShoppingStyles="shopping::styles",e.ShoppingStylesHomePage="shopping::style-ideas",e.ShoppingLanding="shopping::buydirect",e.ShoppingSearchResult="shopping::buydirect::search",e.ShoppingCart="shopping::buydirect::cart",e.ShoppingOrders="shopping::buydirect::orders",e.ShoppingForumOrderConfirmation="shopping::buydirect::order-confirmation",e.ShoppingForumOrderDetails="shopping::buydirect::order-details",e.ShoppingForumHome="shopping::buydirect::home",e.Source="source",e.Sports="sports",e.Topic="topic",e.Travel="travel",e.TravelPlaces="travel::places",e.TravelCollections="travel::collections",e.Video="video",e.VideoInf="videoinf",e.WebContent="webcontent",e.Widget="widget",e.Windows="windowshp",e.WindowsShellHP="windowsshellhp",e.ShoppingAllStoresPage="shopping::stores::popular",e.ShoppingLiveProductDetailsPage="shopping::live::product",e.ShoppingForumSellerPage="shopping::buydirect::stores",e.ShoppingForumFavorites="shopping::buydirect::favorites",e.ShoppingBlackjackPage="shopping::deals",e.ShoppingBlackjackDealPage="shopping::deals::product",e.ShoppingSearch="shopping::search",e.ShoppingBingProductDetails="shopping::product-details",e.ShoppingInspiration="shopping::inspire",e.ShoppingBuyingGuide="shopping::buying-guide",e.ShoppingAssistant="shopping::ai",e.ShoppingShopDeals="shopping::shopdeals",e.ShoppingArticlePage="shopping::shop-article",e.ShoppingGuidesPage="shopping::shop-guides",e.ShoppingDebugPage="shopping::debug"}(r||(r={})),function(e){e.Adult="adult",e.Enterprise="enterprise",e.Kids="kids"}(i||(i={}))},33799:function(e,t,n){"use strict";var r,i,o;n.d(t,{Hy:function(){return r},Qm:function(){return i},mv:function(){return o}}),function(e){e[e.Unknown=0]="Unknown",e[e.NotSignedIn=1]="NotSignedIn",e[e.SignedIn=2]="SignedIn"}(r||(r={})),function(e){e.MSA="MSA",e.AAD="AAD",e.UNSUPPORTED_SOVEREIGNTY="UNSUPPORTED_SOVEREIGNTY"}(i||(i={})),function(e){e[e.NonAadAccount=0]="NonAadAccount",e[e.AadAccount=1]="AadAccount",e[e.Unknown=2]="Unknown"}(o||(o={}))},95527:function(e,t,n){"use strict";n.d(t,{$j:function(){return r},Di:function(){return i},Jl:function(){return a},SD:function(){return u},fw:function(){return o},jr:function(){return s},y7:function(){return c}});const r="peregrine-widgetgroup",i="peregrine-widgets",o="peregrine-widget-settings",a="data-widget",s="data-widget-state",c="PeregrineWidgetEvent",u="prg-pw-"},24222:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(90351),i=n(25514),o=n(93303);const a=new Map;function s(e){return e+"."+o.B.connectorStateKey}const c={registerInjection:function(e,t){let n=a.get(t);n||(n=new Set,a.set(t,n)),n.add(s(e))},initializeExperience:function(e,t,n){const o=s(t),a=(0,r.Z)(e,o,void 0),c=(0,r.Z)(e,s(n),void 0),u=Object.assign(Object.assign({},a),{[n]:c});(0,i.Z)(e,o,u)},reportStateChange:function(e,t,n){const o=a.get(t);if(o)for(const a of o){const o=(0,r.Z)(e,a,void 0);o&&(0,i.Z)(e,a,Object.assign(Object.assign({},o),{[t]:n}))}}}},65932:function(e,t,n){"use strict";n.d(t,{T3:function(){return c},Uo:function(){return a},q1:function(){return s},tz:function(){return o}});var r=n(27003);let i;function o(e){i=e}function a(e,t,n=!0){const r=u();let o=r[e];if(o||(o=[],r[e]=o),o.push(t),n){const n=i(e);if(n){const e=n.getCurrentState();e&&t(e)}}}function s(e,t){const n=u(),r=n[e];if(r&&r.length){for(let e=0;e<r.length;e++)if(r[e]===t){r.splice(e,1);break}n[e]=r}}function c(e,t){const n=u()[e];if(n&&t)for(const e of n)e(t)}function u(){return r.Gq.get("reducers__callbackMap",(()=>({})))}},43819:function(e,t,n){"use strict";n.d(t,{_:function(){return L}});var r=n(52246),i=n(27670),o=n(33954),a=n(22704),s=n(14752),c=n(93303),u=n(44446),l=n(90351),d=n(25514),h=n(46728),p=n(33379),g=n(24222),f=n(85663),m=n(65932);class v{constructor(){this._connectorMap={},this._globalConnectors=[],this._allConnectors=[],this._getDataConnectorPendingPromises=new Map,this.reduce=this.reduce.bind(this)}connectors(){return this._allConnectors}connector(e){return this._connectorMap[e]}globalConnectors(){return this._globalConnectors}getDataConnector(e){const t=this.connector(e);if(t)return Promise.resolve(t);const n=this._getDataConnectorPendingPromises.get(e);if(n)return n.promise;let r,i;const o=new Promise(((e,t)=>{r=e,i=t}));return this._getDataConnectorPendingPromises.set(e,{promise:o,resolve:r,reject:i}),o}reduce(e,t){(0,f.isNullOrUndefined)(e)&&(e={});let n=Object.assign({},e),r=!1;const i=t.key;if(void 0!==t&&void 0!==i){const o="string"==typeof t.type;if(o&&t.type.endsWith(c.B.renderAction)){const t=i+"."+c.B.connectorStateKey,o=(0,u.Z)({},(0,l.Z)(e,t,void 0));(0,d.Z)(n,t,o),r=!0}else if(o&&t.type.endsWith(c.B.dataConnectorMergeInitAction)){const e=i,o=t.params[0];o&&(g.J.initializeExperience(n,e,o),r=!0)}else{const e=this._connectorMap[i];if(e){e.isGlobal&&(n=(0,h.Z)({},n));const o=this.computeNextStateForConnector(n,i,t);r=o.stateChanged,r&&(g.J.reportStateChange(n,i,o.newState),(0,p.N)()&&(0,m.T3)(i,o.newState))}else if(!(0,p.N)())throw new Error("Reducer for: "+i+" must not return undefined.")}}else Object.keys(this._connectorMap).forEach((e=>{this.computeNextStateForConnector(n,e,t).stateChanged&&(r=!0)}));return r?n:e}addSubReducerForConnector(e){if(!e)throw new Error("The parameter 'connector' cannot be null.");const t=e.fullNamespace;if(this._connectorMap[t]=e,this._allConnectors.push(e),e.isGlobal&&this._globalConnectors.push(e),this._getDataConnectorPendingPromises.has(e.namespace)){const t=this._getDataConnectorPendingPromises.get(e.namespace);try{t.resolve(e)}catch(e){t.reject(e)}this._getDataConnectorPendingPromises.delete(e.namespace)}e.store.dispatch({key:t,type:"@@connector-view/INIT"})}computeNextStateForConnector(e,t,n){const r=this._connectorMap[t],i=t+"."+c.B.connectorStateKey,o=(0,l.Z)(e,i,void 0),a=this.subReduce(r.reducer,o,n);if(void 0===a)throw new Error("Reducer for: "+t+" must not return undefined.");const s=a!==o;return s&&(0,d.Z)(e,i,a),{newState:a,stateChanged:s}}subReduce(e,t,n){const r=e.reduce(t,n);return r!==t?r:t}}var y=n(86060),C=n(89526),S=n(73961),w=n(11365),b=n(67514),T=n(34768),P=n(73713);let k=new Map,A=new Map;function E(e){if(!e)return;const t=JSON.stringify(e);let n=k.get(t);if(!n){const r=e.name||"unknown",i=A.get(r)+1||1,o={};n=(e,t)=>{const n=e.key;o[n]?o[n]++:o[n]=1;const a=`DS-${r}${i}-${o[n]}`;return(0,T.kK)(n,a),`${n}-${a}`},k.set(t,n),A.set(r,i)}return n}(0,P.U)((()=>{k=new Map,A=new Map}));var M=n(46036),x=n(80179),I=n(41116);class L{constructor(e){let t;const n=[];if((0,p.N)()&&void 0!==o.k&&o.k&&o.k.isDebug()){t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||i.qC)((0,w.md)(...n))}else t=(0,w.md)(...n);this._rootReducer=new v,e=e||(0,p.N)()&&window.needsHydrate&&(0,M.zp)()||{},(0,p.N)()&&(window.hasPreHydrateState=!(!e||0===Object.keys(e).length)),this._store=(0,i.MT)(this.rootReducer.reduce,e,t)}static resetPageBaseInstance(e){this._instance=new L(e)}get store(){return this._store}get rootReducer(){return this._rootReducer}static getInstance(e){return this._instance||(this._instance=new this(e))}start(){this.rootReducer.connectors().forEach((e=>e.onApplicationStart()))}renderRootElement(e,t,n,i,o){!0!==i&&this.updateJssManagerInstance();const c=C.createElement(r.zt,{store:this._store},e),u=(0,a.Ou)();o?(u.isRenderCachePresent=0,s.A.startMark("SSR.Hydrate"),S.hydrate(c,t,n),s.A.endMark("SSR.Hydrate"),window.needsHydrate=!1):window.needsHydrate?(S.hydrate(c,t),u.isRenderCachePresent=1,window.needsHydrate=!1):(s.A.startMark("CSR.Render"),u.isRenderCachePresent=0,S.render(c,t),s.A.endMark("CSR.Render"))}renderWidget(e,t){const n=C.createElement(r.zt,{store:this._store},e);S.render(n,t)}updateJssManagerInstance(e){const t=(0,b.create)({plugins:[(0,I.default)(),(0,x.default)()]});y.v.createGenerateClassName=e||E,y.v.jss=t}}},93303:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.connectorStateKey="_@STATE@_",e.renderAction="@@connector-view/RENDER",e.dataConnectorMergeInitAction="@@data-connector/MERGE-INIT"}(r||(r={}))},63439:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var r=n(93303),i=n(65932),o=n(61502),a=n(21050),s=n(11365),c=n(25514),u=n(82423);(0,i.tz)(u.K0);class l{constructor(e,t,n,r,i,a,c,u=!1){this.namespace=e,this.parentNamespace=t,this.rootReducer=n,this.reducer=r,this.config=a,this.requestContext=c,this.isGlobal=u,this._fullNamespace=void 0!==t&&""!==t?t+"."+e:e,this.selectState=this.selectState.bind(this),this._subspace=(0,s.Z)(this.selectState,this.namespace)(i);const l=this.perfTimeline=this.tryGetPerfTimeline(e);this.fetch=(0,o.Ud)({perfTimeline:l}),n.addSubReducerForConnector(this)}get store(){return this._subspace}get fullNamespace(){return this._fullNamespace}get configHref(){return this._configHref}set configHref(e){this._configHref=e}getCurrentState(){const e=this.store.getState()[r.B.connectorStateKey];if(!this.isGlobal){const t=this.rootReducer.globalConnectors();0!==t.length&&t.forEach((t=>{(0,c.Z)(e,t.namespace,t.getCurrentState())}))}return e}onApplicationStart(){}selectState(e){return e[this.namespace]}tryGetPerfTimeline(e){const t=e.split("_"),[n]=t,r=t[t.length-1];return(0,a.oA)(n,r)}}},30856:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(58043),i=n(32771);class o{static handleAction(e,t,n){return!!o.endsWith(e.type+"",t.type)&&(n.apply(n,e.params),!0)}static handleActions(e,t,n){const i=e.type+"";return!!(0,r.Z)(t,(e=>o.endsWith(i,e.type)))&&(n.apply(n,e.params),!0)}static safeHandleAction(e,t,n){if(!o.endsWith(e.type+"",t.type))throw"The action payload does not match the action type.";return n.apply(n,e.params),!0}}o.endsWith=String.prototype.endsWith?function(e,t){return e.endsWith(t)}:i.Z},55067:function(e,t,n){"use strict";n.d(t,{C:function(){return p}});var r=n(43819);function i(e,t,n,r){let i;return e&&(i=e.parentNamespace?e.parentNamespace+"."+e.namespace:e.namespace),{key:i,experienceInstanceId:r,type:t,params:n}}function o(e,t){return e?e.store.dispatch(t):r._.getInstance().store.dispatch(t)}var a=n(93303);class s{constructor(e,t,n){this.type=e,this.observers=t,this.connector=n}get send(){return this.dispatchAction()}dispatchAction(){return function(...e){const t=this.tryGetPerfTimeline(),n=t&&t.startMeasure("action",this.type).endMeasure,{payload:r,result:s}=this.getDispatchResult(e);return this.observers.forEach((e=>{try{e.filterConnector&&this.connector!==e.filterConnector||e.observer(r)}catch(t){console.log(`Error calling observer: ${JSON.stringify(e.observer)}, with error: ${t}`)}if(e.dispatchConnector){const t=i(e.dispatchConnector,a.B.renderAction,[],void 0);o(e.dispatchConnector,t)}})),n&&n(),s}}}class c extends s{constructor(e,t,n){super(e,t,n)}getDispatchResult(e){const t=i(this.connector,this.type,e,void 0);return{payload:t,result:o(this.connector,t)}}tryGetPerfTimeline(){return this.connector.perfTimeline}}var u=n(21050);class l extends s{constructor(e,t,n){super(e,t,null),this.experienceInstanceId=n}getDispatchResult(e){const t=i(void 0,this.type,e,this.experienceInstanceId);return{payload:t,result:o(void 0,t)}}tryGetPerfTimeline(){return(0,u.oA)("GlobalActionSender",this.experienceInstanceId||"unknown")}}var d=n(27003);let h=1;class p{constructor(e){this.type=e,this.observerKey=`__ActionMap_${e}_${h++}`}get observers(){return d.Gq.get(this.observerKey,(()=>[]))}set observers(e){d.Gq.set(this.observerKey,e)}getActionSender(e){let t;if(t="string"==typeof e?r._.getInstance().rootReducer.connector(e):e,t)return new c(this.type,this.observers,t)}getGlobalActionSender(e){return new l(this.type,this.observers,e)}registerObserver(e,t){const{dispatchConnector:n,filterConnector:r}=t||{};this.observers.push({observer:e,dispatchConnector:n,filterConnector:r})}unregisterObserver(e){const t=this.observers.findIndex((t=>t.observer===e));t>-1&&this.observers.splice(t,1)}unregisterObservers(){this.observers=[]}}},82423:function(e,t,n){"use strict";n.d(t,{K0:function(){return v},Ki:function(){return y},oU:function(){return m}});var r=n(33940),i=n(32181),o=n(8158),a=n(89638),s=n(44979),c=n(98304),u=n(68364),l=n(43819),d=n(27003),h=n(33379),p=n(65932);const g="GetDataConnector.skippedConnectors",f={};function m(e){return(0,r.mG)(this,void 0,void 0,(function*(){return e?yield l._.getInstance().rootReducer.getDataConnector(e):null}))}function v(e){return l._.getInstance().rootReducer.connector(e)}function y(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,i.M)(e);if(d.Gq.get(g,(()=>new Set)).has(t))return Promise.resolve();const n=d.Gq.get("dataConnectorLoadPromiseMap",(()=>({})));let m=n[t];if(m)return m;let v=f[t];return v||(v=o.n.loadExperience(t).catch((()=>{delete f[t]})),f[t]=v),m=new Promise((t=>(0,r.mG)(this,void 0,void 0,(function*(){try{const t=(0,i.M)(e),n=(0,i.Fr)(e),r=a.U.getConfig(n),o=yield Promise.all([r,v]),c=o[0].properties,u=o[1],d=u[t+"Connector"],g=u[t+"Reducer"],f=l._.getInstance(),m=new d(t,"",f.rootReducer,new g(c),f.store,c,new s.fH);(0,h.N)()&&(0,p.T3)(t,m.getCurrentState())}catch(e){const t=Object.assign({},c.NGC);(0,u.OO)(e,t,"Loading data connector failed.")}t()})))),n[t]=m,m}))}},41710:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(55067);class i{}i.signedInStatus=new r.C("SignedInStatus"),i.signedInStatusConfirmed=new r.C("SignedInStatusConfirmed"),i.useEnterpriseCompliance=new r.C("UseEnterpriseCompliance"),i.useHistory=new r.C("UseHistory"),i.updateLocation=new r.C("UpdateLocation")},16776:function(e,t,n){"use strict";n.d(t,{n:function(){return S}});var r=n(53076),i=n(63439),o=n(33799),a=n(83097),s=n(27583),c=n(68354),u=n(1329),l=n(78722),d=n(33379),h=n(2140),p=n(30856),g=n(41710),f=n(67462);class m{reduce(e,t){if(!e){return{signedIn:this.getSignInStatus(),useEnterpriseCompliance:!1,useHistory:!1}}if(!t)return e;let n,r=!1;return r=p.G.handleAction(t,g.s.signedInStatus,(t=>{n=Object.assign(Object.assign({},e),{signedIn:t})})),r=r||p.G.handleAction(t,g.s.useEnterpriseCompliance,(t=>{n=Object.assign(Object.assign({},e),{useEnterpriseCompliance:t})})),r=r||p.G.handleAction(t,g.s.useHistory,(t=>{n=Object.assign(Object.assign({},e),{useHistory:t})})),r=r||p.G.handleAction(t,g.s.updateLocation,(t=>{n=Object.assign(Object.assign({},e),{location:t})})),n||e}getSignInStatus(){if((0,s.TJ)()){return(0,c.XS)().isSignedIn}if(!(0,d.N)()){const{oneServiceHeaders:e}=(0,h.s)();if(e&&Object.keys(e).length>0&&e.authorization)return o.Hy.SignedIn}if((0,s.hk)())return o.Hy.Unknown;if((0,s.P8)())return(0,u.x6)()?o.Hy.SignedIn:o.Hy.NotSignedIn;const e=l.jG.AuthCookieName;if(""==e)return o.Hy.NotSignedIn;const t="app_anon"==e?a.IR.AppAnonCookieExists:a.IR.AnonCookieExists;return(0,f.ej)(t)?o.Hy.SignedIn:o.Hy.NotSignedIn}}var v=n(247),y=n(65135);class C extends i.e{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,o,a,!0),this.initOverrides=()=>{}}static initialize(e,t,n){let i=e.connector(r.z.SharedState);return i||(i=new C(r.z.SharedState,"",e,new m,t,void 0,n)),(0,v.A)(i),i}getSignInState(){return this.getCurrentState().signedIn}setSignInState(e){const t=this.getCurrentState().signedIn;t!==e?(g.s.signedInStatus.getActionSender(this).send(e),y.M0.addOrUpdateTmplString(`auth-stateChange-${t}-${e}`)):g.s.signedInStatusConfirmed.getActionSender(this).send()}useEnterpriseCompliance(){return this.getCurrentState().useEnterpriseCompliance}}const S=C.initialize},76950:function(e,t,n){"use strict";n.d(t,{ITY:function(){return i}});const r={AboveRiverBlock:"above-river-block",ActionTray:"action-tray",AicharacterPaintPage:"aicharacter-paint-page",ArticleCloseButton:"article-close-button",ArticleFre:"article-fre",ArticleRelatedStories:"article-related-stories",ArticleTopComment:"article-top-comment",AutosCarousel:"autos-carousel",AutosEntityCardWC:"autos-entity-card-wc",AutosEntitySpan:"autos-entity-span",AutosMarketplaceCard:"autos-marketplace-card",BackToTopButton:"back-to-top-button",BackgroundGallery:"background-gallery",BackgroundImageWC:"background-image",BingDailyQuizCard:"bing-daily-quiz-card",BingHealthCard:"bing-health-card",BingHealthFitnessCard:"bing-health-fitness-card",BingHomepageFeed:"bing-homepage-feed",BingThisOrThatCard:"bing-this-or-that-card",BoostAdCard:"boost-ad-card",BrandZone:"brand-zone",BreakingNewsWC:"breaking-news-wc",CalendarCard:"calendar-card",CardActionWC:"card-action",CashbackCarouselCard:"cashback-carousel-card",CasualGamesBanner:"casual-games-banner",CasualGamesCard:"casual-games-card",CasualGamesCarouselCard:"casual-games-carousel-card",CasualGamesFeed:"casual-games-feed",CasualGamesFrame:"casual-games-frame",CasualGamesGameplay:"casual-games-gameplay",CasualGamesHub:"casual-games-hub",CasualGamesLanding:"casual-games-landing",CasualGamesLandingV2:"casual-games-landing-v2",CasualGamesStripeCarouselCard:"casual-games-stripe-carousel-card",ChannelEntryPoint:"channel-entry-point",ChannelFilterCard:"channel-filter-card",ChannelList:"channel-list",ChannelPage:"channel-page",ChannelStore:"channel-store",ChannelSuggestedSidebar:"channel-suggested-sidebar",ChannelsNews:"channels-news",CmsBaseExperience:"cms-base-experience",CmsExperience:"shopping-cms",CoachmarkWC:"coachmark-elem",CodexBingChat:"codex-bing-chat",ColdStartWC:"cold-start",CommonAutoSuggest:"common-auto-suggest",CommonHeaderWC:"common-header",CommonSearchBoxEdgeNext:"common-search-box-edgenext",CommonSettingsEdgeNext:"common-settings-edgenext",CommunityCard:"community-card",CommunityComposeCopilotWC:"community-compose-copilot",CommuteCard:"commute-card",CompanyNewsCard:"company-news-card",ConditionalBannerHpWC:"conditional-banner-hp-wc",ConditionalBannerWC:"conditional-banner-wc",ConsumptionFeedWC:"consumption-feed-wc",ConsumptionPage:"consumption-page",ContentFlexInfoPane:"content-flex-info-pane",ContentGroup:"content-group",ContentGroupCard:"content-group-card",ContentTts:"content-tts",CpcMonetizationDashboard:"cpc-monetization-dashboard",DailyBriefWC:"daily-brief",DailyDiscovery:"daily-discovery",DashboardFallback:"dashboard-fallback",DashboardSettings:"dashboard-settings",DenseCard:"dense-card",DesktopFeedHubWC:"desktop-feed-hub",DesktopFeedViewsWC:"desktop-feed-views",DesktopFeedWC:"desktop-feed",DevTools:"dev-tools",DidYouKnowImageWCExperience:"did-you-know-image-wc-experience",DidYouKnowWCExperience:"did-you-know-wc-experience",DigestCard:"digest-card",DisplayAdsWC:"display-ads",DistributionFeed:"distribution-feed",DistributionHeader:"distribution-header",DistributionPage:"distribution-page",DistributionPivotsNav:"distribution-pivots-nav",EdgeChromiumPageWC:"edge-chromium-page",EdgeShopping:"edge-shopping",ElectionCard:"election-card",EntertainmentCard:"entertainment-card",EntryPointHpMobile:"entry-point-hp-mobile",EntryPointHpWC:"entry-point",EntryPointMobileHub:"entry-point-mobile-hub",EntryPointViewsWC:"entry-point-views",EoabViews:"eoab-views",EoabViewsAutos:"eoab-views-autos",EoabViewsFinance:"eoab-views-finance",EoabViewsShopping:"eoab-views-shopping",EoabViewsTravel:"eoab-views-travel",EsportsCard:"esports-card",EsportsLivestreamCarouselWC:"esports-livestream-carousel-wc",EsportsStreamsCard:"esports-streams-card",EventHubFollowHeader:"event-hub-follow-header",ExampleOfferCard:"example-offer-card",ExperiencePreviewCta:"experience-preview-cta",FamilyCard:"family-card",FeedContainer:"feed-container",FeedLevelFeedbackWC:"feed-level-feedback-wc",FeedNavigationHp:"feed-navigation-hp",FeedbackCard:"feedback-card",FeedbackDialogWC:"feedback-dialog-wc",FeedbackLinkWC:"feedback-link",FinanceCarousel:"finance-carousel",FollowingFreConfirmation:"following-fre-confirmation",FollowingFreFullWidth:"following-fre-full-width",FoodSimilarItems:"food-similar-items",ForumDealsPage:"forum-deals-page",FrequentSitesCardWC:"frequent-sites-card",GameCard:"game-card",GamingChannel:"gaming-channel",GamingCompeteCard:"gaming-compete-card",GamingDiscoverStrip:"gaming-discover-strip",GamingGamerModeUpsellCard:"gaming-gamer-mode-upsell-card",GamingInterestGroupCard:"gaming-interest-group-card",GamingMatchCard:"gaming-match-card",GamingMediaCarousel:"gaming-media-carousel",GamingPage:"gaming-page",GamingPersonalizationCard:"gaming-personalization-card",GamingRecentlyPlayedCard:"gaming-recentlyplayed-card",GamingRecommendedCard:"gaming-recommended-card",GamingRedditCard:"gaming-reddit-card",GamingRewardsCard:"gaming-rewards-card",GamingStreamCard:"gaming-stream-card",GamingTournamentCard:"gaming-tournament-card",GamingUpcomingCard:"gaming-upcoming-card",GamingVideoCard:"gaming-video-card",GeneralElections:"general-elections",GridViewFeed:"grid-view-feed",GroceryCouponSdCard:"grocery-coupon-sd-card",HeaderWindowsShellWC:"header-windows-shell-wc",HealthArticlesCardWC:"health-articles-card",HealthDietPlanScheduleWC:"health-diet-plan-schedule",HealthFeedbackWC:"health-feedback",HealthFitnessCarousel:"health-fitness-carousel",HealthFoodHealtheffectsWC:"health-food-healtheffects",HealthFoodRecipesWC:"health-food-recipes",HealthHubHealthapp:"healthhub-healthapp",HealthInterestsManager:"health-interests-manager",HealthQnAWCExperience:"health-qna-card-wc",HealthRiverWC:"health-river-wc",HealthTipWC:"health-tip-wc",HealthTopSpan:"health-top-span",HealthTopicFlyout:"health-topic-flyout",HealthTranslationWC:"health-translation",HealthWidget:"health-widget",HolidayEffects:"holiday-effects",HomepageFooter:"homepage-footer",HomepageHeader:"homepage-header",HoroscopeAnswerCardWC:"horoscope-answer-card",HotListCard:"hot-list-card",ImageSearchWC:"image-search-wc",ImmersiveFullscreen:"immersive-fullscreen",IndustryNewsCard:"industry-news-card",InspirationCard:"inspiration-card",InterestFreCard:"interest-fre-card",InterestManagementCard:"interest-management-card",InterestsManager:"interests-manager",InterestsWC:"interests-wc",LanguageToggleWC:"language-toggle",LinkedInCard:"linked-in-card",LocalHubHeader:"local-hub-header",LocalizeStringsTempExperience:"localize-strings-temp-experience",Lottery:"lottery-card",MailSignoutBanner:"mail-signout-banner",MangaCard:"manga-card",MarketLanguageToggleWC:"market-language-toggle",MarketplaceCardWC:"marketplace-card",MeControlWC:"me-control",MeStripeWC:"me-stripe",MicrosoftEdgeWidget:"microsoft-edge-widget",MicrosoftFeedCard:"microsoft-feed-card",MobileAppUpsell:"mobile-app-upsell",MobileChannelSlider:"mobile-channel-slider",MobileConsumptionPage:"mobile-consumption-page",MobileFeedHub:"mobile-feed-hub",MobileFeedWC:"mobile-feed-wc",MobileFooter:"mobile-footer",MobileHeader:"mobile-header",MobileMarketSelector:"mobile-market-selector",MobileNotification:"mobile-notification",MobilePopupWindow:"mobile-popup-window",MobileRewardsCard:"mobile-rewards-card",MobileShoppingCard:"mobile-shopping-card",MobileStoryViewer:"mobile-story-viewer",MobileTip:"mobile-tip",MobileWidget:"mobile-widget",MoneyAugmentCard:"money-augment-card",MoneyInfo:"money-info",MoneyInfoCardWC:"money-info-card",MoneyInfoSpan:"money-info-span",MsRewardsWC:"ms-rewards",MsaAddressForm:"msa-address-form",NativeAdWC:"native-ad-wc",NavigationPageExperience:"navigation-page-experience",NewsGroupsCard:"news-groups-card",NewsGuard:"news-guard",NewsHeadlineBelowSearchbox:"news-headline-below-searchbox",NewsSegmentCarousel:"news-segment-carousel",NewsbarFeedFooter:"newsbar-feed-footer",NewsbarFeedWC:"newsbar-feed",NewsbarUpsellWC:"newsbar-upsell",NewsletterSignup:"newsletter-signup",NewsletterSignupPage:"newsletter-signup-page",NextdoorCard:"nextdoor-card",NextdoorPage:"nextdoor-page",NotificationBellWC:"notification-bell",NudgeSpotlightCard:"nudge-spotlight-card",OfficeCoachmark:"office-coachmark",OfficeDocumentsTableWC:"office-documents-table",OfficeLeftRail:"office-leftrail",OnThisDayCardSmall:"on-this-day-card-small",OnThisDayCardWC:"on-this-day-card",OverlayWC:"overlay-wc",PageRefreshWC:"page-refresh",PanoPage:"pano-page",PartnerUpsellCard:"partner-upsell-card",PersonalFinanceExpenseDistribution:"personal-finance-expense-distribution",PersonalFinanceTransactionsCard:"personal-finance-transactions-card",PersonalizeNavButton:"personalize-nav-button",PhotoCard:"photo-card",PillWC:"pill-wc",PivotsMobileWC:"pivots-mobile",PollsCardWC:"polls-card",PoweredbyLegendWC:"poweredby-legend",PrayerTimesCard:"prayer-times-card",PremiumProfilePromoCard:"premium-profile-promo-card",PrideEventCard:"pride-event-card",PrismCards:"prism-cards",PrismCarouselCard:"prism-carousel-card",PrismFeed:"prism-feed",PrismSdCard:"prism-sd-card",ProductivityHub:"productivity-hub",ProfileArticles:"profile-articles",ProfilePromoCard:"profile-promo-card",PromoBannerWC:"promo-banner",PublisherCarousel:"publisher-carousel",PublisherList:"publisher-list",PublisherSubscribeFollowButton:"publisher-subscribe-follow-button",PullToRefresh:"pull-to-refresh",Qna:"qna-card",QnaFeed404Page:"qna-feed-404-page",QnaFeedCard:"qna-feed-card",QnaFeedCardMenu:"qna-feed-card-menu",QnaFeedCarousel:"qna-feed-carousel",QnaFeedCategoriesMenu:"qna-feed-categories-menu",QnaFeedExploreTopics:"qna-feed-explore-topics",QnaFeedList:"qna-feed-list",QnaFeedMyTopics:"qna-feed-my-topics",QnaFeedRelatedQuestions:"qna-feed-related-questions",QnaFeedReportCard:"qna-feed-report-card",QnaFeedSuggestedTopics:"qna-feed-suggested-topics",QnaFeedTopicDetail:"qna-feed-topic-detail",QnaFeedTrendingQuestions:"qna-feed-trending-questions",QuizCard:"quiz-card",ReactionBreakdownDialog:"reaction-breakdown-dialog",RealEstateCard:"real-estate-card",RecipesSdCard:"recipes-sd-card",RecommendedCardFeed:"recommended-card-feed",RecommendedCardWC:"recommended-card",RecommendedInterests:"recommended-interests",RecommendedSearchCarouselWC:"recommended-search-carousel",RecommendedSearchesCard:"recommended-searches-card",RecommendedSitesWC:"recommended-sites",RewardsCardWC:"rewards-card",RewardsDailyCheckinCard:"rewards-daily-checkin-card",RewardsDailySetCard:"rewards-daily-set-card",RightRailProviderCarousel:"right-rail-provider-carousel",ScrollDownButton:"scroll-down-button",SdCardMaskWC:"sd-card-mask",SearchBoxWC:"search-box-wc",SearchHistoryEdgeNextWC:"search-history-edgenext",SelectCarousel:"select-carousel",SharedLinks:"shared-links",SharepointNewsCard:"sharepoint-news-card",ShoppingAllStoresPage:"shopping-all-stores-page",ShoppingArticlePage:"shopping-article-page",ShoppingBingProductDetails:"shopping-bing-product-details",ShoppingBlackjackDealPage:"shopping-blackjack-deal-page",ShoppingBlackjackPage:"shopping-blackjack-page",ShoppingBuyingGuide:"shopping-buying-guide",ShoppingBuyingGuidesCard:"shopping-buying-guides-card",ShoppingCardWC:"shopping-card-wc",ShoppingCarouselProngWC:"shopping-carousel-prong-wc",ShoppingCarouselWC:"shopping-carousel",ShoppingCart:"shopping-cart",ShoppingCashback:"shopping-cashback",ShoppingCategoryPage:"shopping-category-page",ShoppingChatDetailPage:"shopping-chat-detail-page",ShoppingCheckoutModal:"shopping-checkout-modal",ShoppingCheckoutPage:"shopping-checkout-page",ShoppingColdStart:"shopping-cold-start",ShoppingCouponsPage:"shopping-coupons-page",ShoppingDealsHomePage:"shopping-deals-home-page",ShoppingDebugPage:"shopping-debug-page",ShoppingEdgeInsightsCard:"shopping-edge-insights-card",ShoppingEntryBaseExperience:"shopping-entry-base-experience",ShoppingEventsDealCard:"shopping-events-deal-card",ShoppingForumFavorites:"shopping-forum-favorites",ShoppingForumHome:"shopping-forum-home",ShoppingForumLandingPage:"shopping-forum-landing-page",ShoppingForumOrderCancelPage:"shopping-forum-order-cancel-page",ShoppingForumOrderConfirmation:"shopping-forum-order-confirmation",ShoppingForumOrderDetails:"shopping-forum-order-details",ShoppingForumOrdersPage:"shopping-forum-orders-page",ShoppingForumProductPage:"shopping-forum-product-page",ShoppingForumRefundDetailsPage:"shopping-forum-refund-details-page",ShoppingForumRefundOrderPage:"shopping-forum-refund-order-page",ShoppingForumReturnDetailsPage:"shopping-forum-return-details-page",ShoppingForumReturnOrderPage:"shopping-forum-return-order-page",ShoppingForumSellerPage:"shopping-forum-seller-page",ShoppingGrid:"shopping-grid",ShoppingGroupedCarousel:"shopping-grouped-carousel",ShoppingGuidesPage:"shopping-guides-page",ShoppingHomepage:"shopping-homepage",ShoppingInspiration:"shopping-inspiration",ShoppingLeaderboard:"shopping-leaderboard",ShoppingLiveBasePage:"shopping-live-base-page",ShoppingLiveEmbedPage:"shopping-live-embed-page",ShoppingLiveFeedPage:"shopping-live-feed-page",ShoppingLiveInmobiDetailsPage:"shopping-live-inmobi-details-page",ShoppingLiveProductDetailsPage:"shopping-live-product-details-page",ShoppingLiveVideoPlayer:"shopping-live-video-player",ShoppingModal:"shopping-modal",ShoppingModelOverlay:"shopping-model-overlay",ShoppingMomentInTimePage:"shopping-moment-in-time-page",ShoppingMultiTabCarousel:"shopping-multi-tab-carousel",ShoppingNotification:"shopping-notification",ShoppingPageBase:"shopping-page-base",ShoppingPageContent:"shopping-page-content",ShoppingProductDetailPage:"shopping-product-detail-page",ShoppingProductPage:"shopping-product-page",ShoppingSdCard:"shopping-sd-card",ShoppingSearch:"shopping-search",ShoppingSearchResultPage:"shopping-search-result-page",ShoppingShippingAddress:"shopping-shipping-address",ShoppingShopTheLookPage:"shopping-shopthelook-page",ShoppingTopSpan:"shopping-top-span",ShoppingVideoShortsCarousel:"shopping-video-shorts-carousel",ShoppingViewsCarousel:"shopping-views-carousel",SignInControlWC:"sign-in-control",SignInFlyoutWC:"sign-in-flyout",SlideshowWC:"slideshow-wc",SocialAvatar:"social-avatar",SocialBarWC:"social-bar-wc",SocialCommentWC:"social-comment-wc",SocialEntrypoint:"social-entrypoint",SocialLeadGenInArticle:"social-lead-gen-in-article",SocialNotification:"social-notification",SocialPostEditorWC:"social-post-editor",SocialProfileActionMenu:"social-profile-action-menu",SocialProfileCard:"social-profile-card",SocialProfilePromotion:"social-profile-promotion",SocialRelatedSources:"social-related-sources",SocialReportMenu:"social-report-menu",SocialRewardsMedal:"social-rewards-medal",SocialRewardsPromotion:"social-rewards-promotion",SocialStarRating:"social-star-rating",SocialSubscriptionBanner:"social-subscription-banner",SocialSubscriptionNotification:"social-subscription-notification",SocialSubscriptionOverlay:"social-subscription-overlay",SocialSubscriptionOverlaySummary:"social-subscription-overlay-summary",SocialSubscriptionPaywall:"social-subscription-paywall",SocialSubscriptionUpsell:"social-subscription-upsell",SocialSupportResult:"social-support-result",SocialTipHistory:"social-tip-history",SocialTipIntroduction:"social-tip-introduction",SocialTipPromotion:"social-tip-promotion",SocialTipPromotionInArticle:"social-tip-promotion-in-article",SocialTipSelection:"social-tip-selection",SportsAroundTheLeague:"sports-around-the-league",SportsAugmentCard:"sports-augment-card",SportsBackgroundUx:"sports-background-ux",SportsBrackets:"sports-brackets",SportsCardWC:"sports-card",SportsCommentary:"sports-commentary",SportsCountdownTimer:"sports-countdown-timer",SportsCricketLayoutManager:"sports-cricket-layout-manager",SportsCricketLeagueStats:"sports-cricket-league-stats",SportsCricketMatchRow:"sports-cricket-match-row",SportsCricketPartnerships:"sports-cricket-partnerships",SportsCricketRankings:"sports-cricket-rankings",SportsCricketScorecard:"sports-cricket-scorecard",SportsCricketScoresAndSchedule:"sports-cricket-scores-and-schedule",SportsEntityHeader:"sports-entity-header",SportsFeaturedMatchesCard:"sports-featured-matches-card",SportsFullStandings:"sports-full-standings",SportsGameInformation:"sports-game-information",SportsGameScore:"sports-game-score",SportsGameSummary:"sports-game-summary",SportsGameSummaryFull:"sports-game-summary-full",SportsGameTimeline:"sports-game-timeline",SportsGcPlayerStats:"sports-gc-player-stats",SportsGcTeamStats:"sports-gc-team-stats",SportsGptAnalysis:"sports-gpt-analysis",SportsInfo:"sports-info",SportsInfoSpan:"sports-info-span",SportsLayoutRenderer:"sports-layout-renderer",SportsMatchRow:"sports-match-row",SportsMobileTabPanel:"sports-mobile-tab-panel",SportsOlympicCardWC:"sports-olympic-card",SportsPersonMatchRow:"sports-person-match-row",SportsPersonalizationStrip:"sports-personalization-strip",SportsPlayerBio:"sports-player-bio",SportsPlayerInsights:"sports-player-insights",SportsPreviousMatchups:"sports-previous-matchups",SportsRankingsFull:"sports-rankings-full",SportsScoresAndSchedule:"sports-scores-and-schedule",SportsScoresAndScheduleFull:"sports-scores-and-schedule-full",SportsSquad:"sports-squad",SportsStandings:"sports-standings",SportsStandingsList:"sports-standings-list",SportsStats:"sports-stats",SportsTabLayout:"sports-tab-layout",SportsTeamFormation:"sports-team-formation",SportsTeamProbability:"sports-team-probability",SportsTennisScoresAndScheduleFull:"sports-tennis-scores-and-schedule-full",SportsTennisTournamentInfo:"sports-tennis-tournament-info",SportsTournamentInfo:"sports-tournament-info",SportsTournamentLeaderboard:"sports-tournament-leaderboard",SportsTournamentMatchRow:"sports-tournament-match-row",SportsTournamentResultsAndSchedule:"sports-tournament-result-and-schedule",SportsTournamentSchedule:"sports-tournament-schedule",SportsTournamentStandings:"sports-tournament-standings",SportsUnavailablePlayers:"sports-unavailable-players",SportsVideoList:"sports-video-list",SportsWorldCupCardWC:"sports-worldcup-card",SpotlightCardWC:"spotlight-card",StarterKitWC:"starter-kit",StickyPeek:"sticky-peek",StoryCarousel:"story-carousel",StripeWC:"stripe-wc",SummaryCardWC:"summary-card-wc",SuperBreakingNews:"super-breaking-news",SuperCoachMarkWC:"super-coach-mark",SuperListCard:"super-list-card",SuperNav:"super-nav",SuperNavCoachMark:"super-nav-coach-mark",SuperappBannerWC:"superapp-banner",SuperappUpsellCardWC:"superapp-upsell-card",TabbedFeedWC:"tabbed-feed-card",TestBingNudge:"test-bing-nudge",ThemePickerWC:"theme-picker",TipsCard:"tips-card",ToastWC:"ms-toast",TodoCardWC:"todo-card",TopSitesBookmarks:"top-sites-bookmarks",TopSitesEdgeNextWC:"top-sites-edgenext",TopSitesNewsbar:"top-sites-newsbar",TopicTags:"topic-tags",TrafficCardWC:"traffic-card",TranslateTemporary:"translate-temporary",TravelArticlePageCard:"travel-article-page-card",TravelArticlePill:"travel-article-pill",TravelCard:"travel-card",TravelCarousel:"travel-carousel",TravelCollectionCard:"travel-collection-card",TravelDestination:"travel-destination",TravelDestinationBanner:"travel-destination-banner",TravelDestinationDetailsBanner:"travel-destination-details-banner",TravelFeed:"travel-feed",TravelInspirationCardWC:"travel-inspiration-card-wc",TravelLandingPage:"travel-landing-page",TravelMsnHpCard:"travel-msn-hp-card",TravelSaveButton:"travel-save-button",TravelSdDestinationsCard:"travel-sd-destinations-card",TravelSdFlightsCard:"travel-sd-flights-card",TravelSdHotelsCard:"travel-sd-hotels-card",TravelSdThemesCard:"travel-sd-themes-card",TravelTabCarousel:"travel-tab-carousel",TravelTourActivityCard:"travel-tour-activity-card",TrendingNowWC:"trending-now-card",TrendingSearchCard:"trending-search-card",TrendingTopics:"trending-topics-card",UgcCreatorHomepage:"ugc-creator-homepage",VerticalLeftNav:"vertical-left-nav",VideoCardWC:"video-card",VideoDetails:"video-details",VideoShoppingCard:"video-shopping-card",VideoShoppingCarouselCard:"video-shopping-carousel-card",ViewsCoachmark:"views-coachmark",ViewsNativeAd:"views-native-ad",ViewsRail:"views-rail",VoiceSearchWC:"voice-search-wc",WaffleWC:"waffle-wc",WalletPersonalizedOfferSdCardWC:"wallet-personalized-offer-sd-card-wc",WatchWC:"watch-wc",WaterTrackerCard:"water-tracker-card",WeatherCardWC:"weather-card",WeatherCurrentWC:"weather-current",WeatherForecastDayNightWC:"weather-forecast-day-night",WeatherForecastDayWC:"weather-forecast-day",WeatherForecastHistoryWC:"weather-forecast-history",WeatherForecastPerHourWC:"weather-forecast-per-hour",WeatherForecastSunMoonPhaseWC:"weather-forecast-sun-moon-phase",WeatherForecastSunMoonWC:"weather-forecast-sun-moon",WeatherHistoricalRecordWC:"weather-historical-record",WeatherHistoricalTemperatureWC:"weather-historical-temperature",WeatherHourlyHistogramWC:"weather-hourly-histogram",WeatherImmersiveForecastWC:"weather-immersive-forecast-wc",WeatherInfoSpan:"weather-info-span",WeatherLifeEntryWC:"weather-life-entry",WeatherLocationCardWC:"weather-location-card",WeatherLocationSearchPhoneWC:"weather-location-search-phone",WeatherLocationWC:"weather-location",WeatherMapGroupSwitcherButtonWC:"weather-map-group-switcher-button",WeatherMapLegendWC:"weather-map-legend",WeatherMapTimelineWC:"weather-map-timeline",WeatherMapWC:"weather-map",WeatherMapsRotationWC:"weather-maps-rotation",WeatherMinimapWC:"weather-minimap",WeatherMonthlySummaryWC:"weather-monthly-summary",WeatherOverviewWC:"weather-overview",WeatherPageRoot:"weather-page-root",WeatherPageWC:"weather-page",WeatherTodayHistoryWC:"weather-today-history",WeatherTodayMiniWC:"weather-today-mini",WeatherTravelCarousel:"weather-travel-carousel",WeatherVideoEntryWC:"weather-video-entry",WelcomeGreetingLight:"welcome-greeting-light",WelcomeGreetingWC:"welcome-greeting",WidgetPickerWC:"widget-picker-wc",WidgetsDynamicFeed:"widgets-dynamic-feed",WidgetsHomePage:"widgets-home-page",WinAppWC:"win-app-wc",WindowsOfficeFeed:"windows-office-feed",WindowsShellBannersManager:"windows-shell-banners-manager",WindowsShellEntry:"windows-shell-entry",WindowsShellHeader:"windows-shell-header",WindowsShellLocationDialog:"windows-shell-location-dialog",WindowsShellNotificationSettings:"windows-shell-notification-settings",WindowsShellSettingsMenu:"windows-shell-settings-menu",WindowsShellSoftLanding:"windows-shell-soft-landing",WindowsWidgetsHub:"windows-widgets-hub",XboxFeedWC:"xbox-feed-wc",XfeedWC:"xfeed-wc",YandexSearchBoxWC:"yandex-search-box"};function i(e){return r[e]}},53377:function(e,t,n){"use strict";n.d(t,{Fg:function(){return w}});var r=n(33940),i=n(21050),o=n(98304),a=n(68364),s=n(32181),c=n(8158),u=n(89638),l=n(79127),d=n(75542),h=n(76950),p=n(82423),g=n(9791),f=n(80163),m=n(33379),v=n(27003);const y="WebComponentLoader.SkippedExperience",C="WebComponentLoader.LoadedExperience",S="WebComponentLoader.ModuleLoadPromiseMap",w=(0,m.N)()?(0,g.Z)(b,(e=>(0,s.B5)(e.configRef))):b;function b(e){return(0,r.mG)(this,void 0,void 0,(function*(){try{const{configRef:t,configRef:{experienceType:o}}=e;if(v.Gq.get(y,(()=>new Set)).has(o))return;const a=(0,d.gy)(o);a&&a.shouldResolve&&(yield a.shouldResolve());const s=(0,i.oA)(o,e.instanceId);if((0,m.N)()||v.Gq.get(C,(()=>[])).push(e),window.customElements.get((0,h.ITY)(o)))return void(yield T(t,s));const u=T(t,s),l=function(e,t){const n=v.Gq.get(S,(()=>({})));let r=n[e];if(r)return r;return r=(0,i.fW)((()=>c.n.loadExperience(e)),"scripts",t),n[e]=r,r}(o,s),p=(yield Promise.all([u,l]))[1];yield function(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const r=t[e],i=t[e+"Template"];let o=t[e+"Styles"];if(!(0,m.N)()){const n=t[e+"SSRStyles"];o=n||o}const a=(0,h.ITY)(e),s=(0,f.q)(e),c=yield Promise.resolve().then(n.bind(n,89225));if(c.FASTElement.define(r,Object.assign({name:a,template:i,styles:o},r.definition)),s){class e extends r{}c.FASTElement.define(e,Object.assign({name:s,template:i,styles:o},r.definition))}}))}(o,p)}catch(t){const n=Object.assign({},o.gzO);(0,a.OO)(t,n,"Loading web component experience failed.",void 0,{configInfo:e})}}))}function T(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=yield(0,i.fW)((()=>u.U.getConfig(e)),"config",t);if(!n)return;const r=n.properties;if(!r||!r.dataConnectors||r.dataConnectors.length<=0)return;const o=t&&t.startMeasure("loadDataConnectors").endMeasure,a=l.j.getChildrenDataConnectorConfigInfos(r).map((e=>(0,p.Ki)(e)));yield Promise.all(a),o&&o()}))}},28696:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},w:function(){return o}});const r={};let i=1;function o(e){if(!e)return;for(const[t,n]of Object.entries(r))if(n===e)return t;const t=i.toString();return r[t]=e,i++,t}function a(e){const t=r[e];return delete r[e],t}},13746:function(e,t,n){"use strict";n.d(t,{V:function(){return h},F:function(){return p}});var r=n(33940),i=n(33379),o=n(27003),a=n(89526),s=n(28696),c=n(76950),u=n(53377),l=n(80163);class d extends a.Component{constructor(e){var t;super(e),this.rootRef=a.createRef(),this.wcElement=null===(t=e.rootElement)||void 0===t?void 0:t.children[0]}componentDidMount(){this.wcElement&&this.rootRef.current.appendChild(this.wcElement)}componentDidUpdate(){this.wcElement&&this.rootRef.current.appendChild(this.wcElement)}render(){const{id:e,ReactElementName:t,attributes:n}=this.props;return this.wcElement?a.createElement("div",{id:e,ref:this.rootRef}):a.createElement("div",{id:e},a.createElement(t,Object.assign({},n)))}}function h(e,t){if(!e||!e.configRef)return null;const{configRef:n}=e,{experienceType:r,instanceSrc:i}=n,o=(0,c.ITY)(r),d=(0,l.q)(r),h=t&&t.useAlias&&d?d:o;return(0,u.Fg)(e),a.createElement(h,Object.assign({"config-instance-src":i,"instance-id":e.instanceId,"config-shared-ns":null==n?void 0:n.sharedNs,"props-token":(0,s.w)(null==t?void 0:t.properties)},null==t?void 0:t.attributes))}function p(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){if(!e||!e.configRef)return null;const{configRef:n}=e,{experienceType:r,instanceSrc:h}=n,p=(0,c.ITY)(r),g=(0,l.q)(r),f=t&&t.useAlias&&g?g:p,m=t.namespace?"wcid-"+t.namespace:null,v=Object.assign({"config-instance-src":h,"instance-id":e.instanceId,"config-shared-ns":null==n?void 0:n.sharedNs,"props-token":(0,s.w)(null==t?void 0:t.properties)},null==t?void 0:t.attributes);if((0,i.N)()){(0,u.Fg)(e);const t=m?document.getElementById(m):null;return a.createElement(d,{rootElement:t,ReactElementName:f,id:m,attributes:v})}{yield(0,u.Fg)(e);const t=o.Gq.get("renderWceToString"),n=yield t(p,v);return a.createElement("div",{id:m,dangerouslySetInnerHTML:{__html:n}})}}))}},82855:function(e,t,n){"use strict";n.d(t,{Bc:function(){return u},Kd:function(){return s},LB:function(){return a},Mx:function(){return o},W_:function(){return c},sW:function(){return l}});var r=n(38895),i=n(95527);function o(e){if(!e||0===e.length)return e;const t=[];return e.forEach((e=>{const n=e.toLocaleLowerCase().trim();n.startsWith(r.PC)&&t.push(n)})),t.sort()}function a(e,t,n){return!(!n||!e||e<r.PQ)&&!t}function s(e){if(!e||!e.length)return e;const t=[];return e.forEach((e=>{const n=e.trim();n.startsWith(i.SD)&&t.push(n)})),t.sort()}function c(e,t,n){try{return e&&t&&t.includes(r.my)&&"weather"!==n&&"finance"!==n?r.SL:e}catch(e){}return e}function u(e,t=!1){const{itemOverrides:n}=e||{},r=n&&n.find((e=>"should1sUseFdheadQsp"===e.key));if(r&&r.value)return"true"===r.value;if(t)return!1;const i=n&&n.find((e=>"flights"===e.key||"appendflights"===e.key.toLowerCase()));return!!(i&&i.value&&i.value.length>0)}function l(e,t,n){return t||"edgeChromium"===n||("newsAndInterests"===n||"windowsNewsPlus"===n||"winWidgets"===n)||function(e,t,n){return n&&e&&e.length>0&&e.includes(t)}(e,r.XW,!0)?t?r.NH:r.pN:null}},16049:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(33940),i=n(45506),o=n(78722),a=n(26974),s=n(98304),c=n(65135);class u{constructor(e){this.fetchImpl=e}reportFeedbackToOcv(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t={method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};try{const e=yield this.fetchImpl(u.ocvServiceUrl,t);return!!e.ok||(c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.Hc7),{message:"Request is not valid, it has no content, or the manifest is not formatted correctly",pb:Object.assign(Object.assign({},s.Hc7.pb),{customMessage:`Error code: ${e.status} Error message: ${e.statusText}\n                            Request params: ${t} Service url: ${u.ocvServiceUrl}`})})),!1)}catch(e){return c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.THK),{message:"Exception reporting feedback to OCV",pb:Object.assign(Object.assign({},s.THK.pb),{customMessage:`Error code: ${e?e.code:"undefined"} Error message: ${e?e.message:"undefined"}\n                        Request params: ${t} Service url: ${u.ocvServiceUrl}`})})),!1}}))}reportFeedbackToOcvByFiles(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){try{const r=new FormData;if(n)try{const i=yield this.sendLogtoPowerLiftServer(e,n);e.application.extendedManifestData=JSON.stringify({diagnosticsUploadInfo:{diagnosticsEndPoint:"PowerLift",diagnosticsUploadId:i}})}catch(o){c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.THK),{message:"Exception of generate diagnostic data"}))}if(t)try{function a(e){const t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]);let i=r.length;const o=new Uint8Array(i);for(;i--;)o[i]=r.charCodeAt(i);return new Blob([o],{type:n})}const l=yield a(t);r.append("Screenshot",l,"screenshot.png")}catch(d){c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.THK),{message:"Exception of generate screenshot file."}))}try{const h=new File([JSON.stringify(e)],"Manifest.json",{type:"application/json"});r.append("Manifest",h)}catch(p){c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.THK),{message:"Exception of generate Manifest.json."}))}return yield this.fetchImpl(u.ocvServiceUrl,{method:"POST",body:r}),!0}catch(g){return c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.THK),{message:"Exception reporting feedback to OCV",pb:Object.assign(Object.assign({},s.THK.pb),{customMessage:`Error code: ${g?g.code:"undefined"} Error message: ${g?g.message:"undefined"} from reportFeedbackToOcvByFiles\n                        Service url: ${u.ocvServiceUrl}`})})),!1}}))}sendLogtoPowerLiftServer(e,t){var n,o;return(0,r.mG)(this,void 0,void 0,(function*(){const r={data:{dataStringKey:"dataStringValue",ntp_diagnostics:t,system_flags:""},meta:{accounts:[{userId:e.email}],clientCapabilities:[],clientVersion:"",createdAt:(new Date).toISOString(),id:e.clientFeedbackId,sessionId:-1,installId:"0",lang:(null===(o=null===(n=i.Al.ClientSettings)||void 0===n?void 0:n.locale)||void 0===o?void 0:o.language)||"en",platform:e.platform||""}},a={method:"POST",headers:{"Content-Type":"application/json","PowerLift-Api-Key":"x+gaQoO6u4HwIn3IyGCftGVGPstT43PS","PowerLift-Api-Version":"v5"},body:JSON.stringify(r)};try{const e=yield this.fetchImpl(u.powerliftUrl,a);e.ok||c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.EUJ),{message:"Powerlift service response status is not successful",pb:Object.assign(Object.assign({},s.EUJ.pb),{customMessage:`Error code: ${e.status} Error message: ${e.statusText}\n                            Request params: ${a} Service url: ${u.powerliftUrl}`})}));return(yield e.json()).id}catch(e){return c.M0.sendAppErrorEvent(Object.assign(Object.assign({},s.EUJ),{message:"Exception when parse Powerlift service response",pb:Object.assign(Object.assign({},s.EUJ.pb),{customMessage:`Error code: ${e?e.code:"undefined"} Error message: ${e?e.message:"undefined"}\n                        Request params: ${a} Service url: ${u.powerliftUrl}`})})),""}}))}}u.ocvServiceUrl=o.jG.Environment===a.q.int?"https://petrol-int.office.microsoft.com/v1/feedback":"https://petrol.office.microsoft.com/v1/feedback",u.powerliftUrl="https://powerlift-frontdesk.acompli.net/api/incidents"},78722:function(e,t,n){"use strict";n.d(t,{Vh:function(){return F},jG:function(){return R},Yq:function(){return D}});var r,i=n(12108),o=n(33799),a=n(38895),s=n(83097),c=n(98304),u=n(22704),l=n(68848),d=n(31573),h=n(10877),p=n(26974);!function(e){e.getHostPageFromUrl=function(e){if(!e)return;const t=new URL(e),n=t.hostname,r=t.pathname.split("/"),i=(n.match(/[^.]+\.[^.\d]+$/)||{})[0]||"";if(r.length<=h.Qw)return{originalUrl:e,categoryKey:null,verticalKey:null,hostName:n,topDomain:i};const o=5===r[1].length&&2===r[1].split("-").length?1:0,a={originalUrl:e,categoryKey:r[2+o],verticalKey:r[1+o],hostName:n,topDomain:i};return r.length>=h.Qw&&(a.subcategoryKey=r[3+o]),a}}(r||(r={}));var g,f,m,v=n(33379),y=n(12884),C=n(27003),S=n(99590),w=n(1038),b=n(26007),T=n(99038),P=n(45506),k=n(79022),A=n(81428),E=n(82855),M=n(63045),x=n(57967),I=n(67462);!function(e){e.WWW="www",e.MicrosoftStart="microsoftstart",e.INT="int",e.INT1="int1",e.MicrosoftStartINT="microsoftstart-int",e.MicrosoftStartINT1="microsoftstart-int1"}(g||(g={})),function(e){e.MSN="msn",e.MicrosoftStart="microsoftstart"}(f||(f={})),function(e){e.COM="com",e.CN="cn"}(m||(m={}));var L=n(82530);const O="__AppEnvironmentInstance__";class F{constructor(e,t,n,r,i){this.marketMismatchDetails={type:"",mismatchItem1:"",mismatchItem2:""},this.initializeAppEnvironment(e,t,n,r,i)}get ShouldUseFdheadQsp(){return this.shouldUseFdheadQsp}get OneServiceContentMarketQspKey(){return this.oneServiceContentMarketQspKey}get Ecasession(){return void 0===this.ecasession&&(this.ecasession=(0,I.ej)("ecasession")||"init"),this.ecasession}get BrowserOptOut(){return void 0===this.browserOptOut&&(this.browserOptOut="1"===(0,I.ej)("TOptOut")),this.browserOptOut}get isMobile(){var e,t;const n=(null===(e=null===P.Al||void 0===P.Al?void 0:P.Al.ClientSettings)||void 0===e?void 0:e.ocid)||"",r=(null===(t=null===P.Al||void 0===P.Al?void 0:P.Al.ClientSettings)||void 0===t?void 0:t.deviceFormFactor)||"";return n.startsWith("msnaroverlay")||"phone"===r}get isMiniProgram(){const e=P.Al.ClientSettings||{ocid:"",deviceFormFactor:""},t=(0,v.N)()?"weatherminiprogram"===e.ocid||((null===navigator||void 0===navigator?void 0:navigator.userAgent)||"").indexOf("miniProgram")>-1:"weatherminiprogram"===e.ocid;return"phone"===e.deviceFormFactor&&t}get isOverlayFrame(){var e;return((null===(e=null===P.Al||void 0===P.Al?void 0:P.Al.ClientSettings)||void 0===e?void 0:e.ocid)||"").startsWith("msnaroverlay")}get ActivityId(){return this.activityId}set ActivityId(e){this.activityId=e,P.Al.ClientSettings=Object.assign(Object.assign({},P.Al.ClientSettings),{aid:e})}get FrontDoorMuid(){return this.frontDoorMuid}get EnvironmentConfigUrl(){const e=new URL("",this.environmentConfigUrl);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams((0,y.zp)()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get ContentServiceUrlBase(){const e=new URL("",this.contentServiceUrlBase);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.content","dev");const t=new URLSearchParams((0,y.zp)()).get("env.content");return t&&e.searchParams.set("env.content",t),e}get CurrentRequestTargetScope(){return this.currentRequestTargetScope}set CurrentRequestTargetScope(e){this.currentRequestTargetScope=e}get LocaleContentMarket(){var e,t,n;return(0,l.H)(P.Al.ClientSettings&&P.Al.ClientSettings.locale)||(null===(t=null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.content)||(null===(n=this.currentRequestTargetScope)||void 0===n?void 0:n.locale)}get LocaleDisplayLanguage(){return(0,l.H)(P.Al.ClientSettings&&P.Al.ClientSettings.locale,!0)||this.LocaleContentMarket}get LocaleContentMarketString(){const e=this.LocaleContentMarket;return e&&e.language&&e.market?(0,l.p)(e):""}get LocaleDisplayLanguageString(){const e=this.LocaleDisplayLanguage;return e&&e.language&&e.market?(0,l.p)(e):""}get CurrentMarket(){return this.currentMarket}set CurrentMarket(e){this.currentMarket=e}get EnableFiveColLayout(){return this.enableFiveColLayout}set EnableFiveColLayout(e){this.enableFiveColLayout=e}get Environment(){return this.environment}set Environment(e){this.environment=e}get StaticDomain(){return this.staticDomain}get HostPage(){return this.hostPage}set HostPage(e){this.hostPage=e}get AppType(){return this.appType}get AuthCookieName(){return this.authCookieName}set AuthCookieName(e){this.authCookieName=e}get UseOneServiceAuthEndpoints(){return this.useOneServiceAuthEndpoints}set UseOneServiceAuthEndpoints(e){this.useOneServiceAuthEndpoints=e}get UseOneServiceAnonAuthEndpoints(){return this.useOneServiceAnonAuthEndpoints}set UseOneServiceAnonAuthEndpoints(e){this.useOneServiceAnonAuthEndpoints=e}get UseAuthFetch(){return this.useAuthFetch}set UseAuthFetch(e){this.useAuthFetch=e}get AccountInfoPromise(){return this.accountInfoPromise}set AccountInfoPromise(e){this.accountInfoPromise=e}get ResolvedAccountInfo(){return this.resolvedAccountInfo}set ResolvedAccountInfo(e){this.resolvedAccountInfo=e}get BuildVersion(){return this.buildVersion||""}get ClarityEnabled(){return this.clarityEnabled}set ClarityEnabled(e){this.clarityEnabled=e}get IsWinAADUser(){return this.isWinAADUser}set IsWinAADUser(e){this.isWinAADUser=e}get RootTelemetryId(){return this.rootTelemetryId}set RootTelemetryId(e){this.rootTelemetryId=e}get TrackInfo(){return this.trackInfo}set TrackInfo(e){this.trackInfo=e}get UserId(){return this.getUserMuid()||this.userId}set UserId(e){this.userId=e}get OneServiceApiKey(){return this.oneServiceApiKey}set OneServiceApiKey(e){this.oneServiceApiKey=e}get OneServiceOverride(){return this.oneServiceOverride}set OneServiceOverride(e){this.oneServiceOverride=e}get EnvInstanceOverride(){return this.envInstanceOverride}get IsDebug(){return this.isDebug}get ShowMnsCreatorDashboard(){return this.showMnsCreatorDashboard}get NavTargetHostName(){return this.navTargetHost}get NavTargetUrlWithLocale(){return`https://${this.NavTargetHostName}/${this.CurrentMarket}`}get IsChinaCompliance(){return this.isChinaCompliance}get IsCaliforniaRegion(){return this.isCaliforniaRegion}get AssetsUrl(){return this.staticAssetsUrl}get StaticsUrl(){return this.staticsUrl}get topDomain(){return this.isChinaCompliance?m.CN:m.COM}get isGccModUser(){if(this.AccountInfoPromise)return this.AccountInfoPromise.then((e=>(null==e?void 0:e.region_scope)===w.iN.GCC_MODERATE))}get unsupportedEnterpriseCloud(){if(this.AccountInfoPromise)return this.AccountInfoPromise.then((e=>!((null==e?void 0:e.region_scope)===w.iN.GLOBAL)))}get WidgetAttributes(){return this.widgetAttributes}get ServiceUrlBase(){const e=new URL("",this.serviceUrlBase);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,y.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get FeedServiceUrlBase(){if(!this.feedServiceUrlBase)return null;const e=new URL("",this.feedServiceUrlBase);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,y.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get EnterpriseServiceUrlBase(){if(!this.enterpriseServiceDomainUrl)return;const e=new URL("",this.enterpriseServiceDomainUrl);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,y.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get isAadAccountUser(){return this.CurrentRequestTargetScope&&this.CurrentRequestTargetScope.audienceMode===i.F.Enterprise&&this.ResolvedAccountInfo&&this.ResolvedAccountInfo.account_type&&this.ResolvedAccountInfo.account_type===o.Qm.AAD}get IsFrePage(){return this.isFrePage}get DisableCachingConfigs(){return this.disableCachingConfigs}get EnableConfigService(){const e=b.c.getQueryParameterByName("enableConfigService",(0,y.zp)());return e?"true"===e.toLocaleLowerCase():this.enableConfigService}get EnableCMSPPEConfigs(){return P.Al&&P.Al.EnableCMSPPEConfigs}get IsMultiConfigRetrievalEnabled(){return this.isMultiConfigRetrievalEnabled}get SendFeedCallActivityIdInHeader(){return this.sendFeedCallActivityIdInHeader}get ConfigServiceBaseUrl(){return this.configServiceBaseUrl}get CrsRetryBaseUrl(){return this.crsRetryBaseUrl}get FeatureFlags(){return this.featureFlags}get HostHeaderOverride(){return this.hostHeaderOverride}get ConfigRootUrl(){if(!this.configRootUrl)return null;const e=new URL("",this.configRootUrl);"dev"===new URLSearchParams((0,y.zp)()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams((0,y.zp)()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get CacheBustingIdentifier(){return this.cacheBustingIdentifier}get IsGitConfigs(){return this.isGitConfigs}get CountryCode(){return this.countryCode}set CountryCode(e){this.countryCode=e}get ActivityIdLowerCaseNoHypens(){return(P.Al&&P.Al.ClientSettings&&P.Al.ClientSettings.aid||"").toLowerCase()}get Latitude(){return this.latitude}get Longitude(){return this.longitude}get ConfigOrigins(){return this.configOrigins}get CrsVersion(){return this.crsVersion}get CrsPath(){return this.crsPath}get CrsDisableServerCache(){return this.crsDisableServerCache}set CrsDisableServerCache(e){this.crsDisableServerCache=e}get LanguageRegionMismatch(){return this.findLanguageRegionMismatch()?"marketmismatch":""}get isWindowsDashboard(){return"newsAndInterests"===R.AppType||"windowsNewsPlus"===R.AppType||"winWidgets"===R.AppType}get LanguageRegionMismatchExplicit(){return this.findLanguageRegionMismatchExplicit()?"marketmismatch":""}get MarketRequestInputLanguage(){return this.marketRequestInputLanguage}get MarketRequestInputRegion(){return this.marketRequestInputRegion}get MarketRequestInputGeoCountry(){return this.marketRequestInputGeoCountry}get MarketDetectionType(){return this.marketDetectionType}findLanguageRegionMismatch(){var e,t,n,r,i,o,a,s,c;if(P.Al.ClientSettings&&"true"===P.Al.ClientSettings.static_page)return!1;const u=P.Al.ClientSettings&&(null===(e=P.Al.ClientSettings)||void 0===e?void 0:e.market)&&(null===(n=null===(t=P.Al.ClientSettings)||void 0===t?void 0:t.market)||void 0===n?void 0:n.detection),d=P.Al.ClientSettings&&(null===(r=P.Al.ClientSettings)||void 0===r?void 0:r.market)&&(null===(o=null===(i=P.Al.ClientSettings)||void 0===i?void 0:i.market)||void 0===o?void 0:o.requestInput),h=(0,l.H)(P.Al.ClientSettings&&(null===(a=P.Al.ClientSettings)||void 0===a?void 0:a.locale)&&(null===(c=null===(s=P.Al.ClientSettings)||void 0===s?void 0:s.locale)||void 0===c?void 0:c.content));if(u&&("implicitExisting"===u.type||"implicitNew"===u.type||"cm"===u.type)&&d){if(h){if(d.language.toLowerCase()!==h.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=d.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=h.language.toLowerCase(),!0;if(d.region&&d.region.toLowerCase()!==h.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=d.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=h.market.toLowerCase(),!0}if("implicitExisting"===u.type&&d.geo_country.toLowerCase()!==u.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=d.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=u.geo_country.toLowerCase(),!0}return!1}get MarketMismatchDetail(){return this.findLanguageRegionMismatch()||this.findLanguageRegionMismatchExplicit()?this.marketMismatchDetails:null}findLanguageRegionMismatchExplicit(){var e,t,n,r,i,o,a,s,c;if(P.Al.ClientSettings&&"true"===P.Al.ClientSettings.static_page)return!1;const u=P.Al.ClientSettings&&(null===(e=P.Al.ClientSettings)||void 0===e?void 0:e.market)&&(null===(n=null===(t=P.Al.ClientSettings)||void 0===t?void 0:t.market)||void 0===n?void 0:n.detection),d=P.Al.ClientSettings&&(null===(r=P.Al.ClientSettings)||void 0===r?void 0:r.market)&&(null===(o=null===(i=P.Al.ClientSettings)||void 0===i?void 0:i.market)||void 0===o?void 0:o.requestInput),h=(0,l.H)(P.Al.ClientSettings&&(null===(a=P.Al.ClientSettings)||void 0===a?void 0:a.locale)&&(null===(c=null===(s=P.Al.ClientSettings)||void 0===s?void 0:s.locale)||void 0===c?void 0:c.content));if(u&&"compliance"!==u.type&&"url"!==u.type&&d){if(h){if(d.language.toLowerCase()!==h.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=d.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=h.language.toLowerCase(),!0;if(d.region&&d.region.toLowerCase()!==h.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=d.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=h.market.toLowerCase(),!0}if(d.geo_country.toLowerCase()!==u.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=d.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=u.geo_country.toLowerCase(),!0}return!1}setConfigOrigin(){const e={feature:M.w.Production,loc:M.w.Production};return this.IsGitConfigs&&!this.EnableConfigService||(e.feature=M.w.Production,e.loc=M.w.Production),e}static getInstance(e=null,t=null,n=null,r=null,i=null){return C.Gq.get(O,(()=>new F(e,t,n,r,i)))}static resetInstance(e=null,t=null,n=null,r=null,i=null){const o=new F(e,t,n,r,i);return C.Gq.set(O,o),R=(0,S.h)(F),R}initializeAppEnvironment(e,t,n,i,o){const s=(0,y.Td)(),u=(0,v.N)()?(0,y.$w)(h.Xs):null,l=(0,y.l4)(),g=(0,y.Dp)(),f=(0,y.zp)();let m=null;const C=P.Al&&P.Al.ClientSettings,S=b.c.getParamsWithItems(f,!0);if(C){const e=S&&S.find((e=>"revip"===e.key));this.isCaliforniaRegion=C.geo_subdivision&&"california"==C.geo_subdivision.toLocaleLowerCase(),this.isChinaCompliance=s.toLowerCase().endsWith(".cn")||C.isChinaCompliance||C.useCnDomain||e&&e.value&&"cn"===e.value.toLocaleLowerCase()||!1,(0,d.sV)(this.isChinaCompliance),this.activityId=this.tryReformatGuid(C.aid),this.currentMarket=this.LocaleContentMarketString||C.apps_locale,this.countryCode=C.geo_country,this.frontDoorMuid=C.fd_muid,this.latitude=C.geo_lat,this.longitude=C.geo_long,this.configRootUrl=C.configRootUrl?new URL("",C.configRootUrl):null,m=(0,p.s)(C.pcsInfo&&C.pcsInfo.env||"prod"),this.setAccountInfoPromise(),this.appType=C.apptype||"",this.authCookieName=this.getAuthCookieName(),this.useOneServiceAuthEndpoints=!1,this.useOneServiceAnonAuthEndpoints=!1,this.useAuthFetch=!1,this.featureFlags=C.featureFlags,this.disableCachingConfigs=!(!this.featureFlags||!this.featureFlags.disableCachingConfigs)&&"true"===this.featureFlags.disableCachingConfigs,this.enableConfigService=!this.featureFlags||!this.featureFlags.enableConfigService||"true"===this.featureFlags.enableConfigService,this.sendFeedCallActivityIdInHeader=(!this.featureFlags||!this.featureFlags.disableActivityIdInHeader||"true"!==this.featureFlags.disableActivityIdInHeader)&&("edge"===this.appType||"hub"===this.appType),this.cacheBustingIdentifier=C.cbid;const{bundleInfo:t,pcsInfo:n}=C||{},r=this.getRunTimePropertyBag(t,n);(0,c.GQ)(r),(0,x.r7)(r),this.configIndexDocId=C.configIndexDocId,this.widgetAttributes=C.widgetAttributes}const w=(0,p.s)(b.c.getQueryParameterByName("env",l));this.environment=w||m||p.q.prod,this.envInstanceOverride=b.c.getQueryParameterByName("instance",l);const T=C&&C.servicesEndpoints,k=T&&T.feedService&&T.feedService.domain||g;this.serviceDomainUrl=n||k,this.oneServiceOverride=o,this.staticDomain=new URL(k).host,this.staticAssetsUrl=T&&T.staticConfig&&T.staticConfig.domain,this.staticsUrl=`${this.staticAssetsUrl}/staticsb/statics/`,this.enterpriseServiceDomainUrl=T&&T.enterpriseFeedService&&T.enterpriseFeedService.domain;const{crs:A={}}=T||{},{v:M,domain:I,path:L}=A;this.crsVersion=M,this.crsDomain=I,this.crsPath=L||a.mX;const{requestInput:O={},detection:F={}}=C&&C.market||{},{language:D="",region:R="",geo_country:W=""}=O||{},{type:N=""}=F||{};this.marketRequestInputLanguage=D,this.marketRequestInputRegion=R,this.marketRequestInputGeoCountry=W,this.marketDetectionType=N,this.serviceUrlBase=e||u&&u.getAttribute(h.X8)&&new URL("",u.getAttribute(h.X8))||new URL("/service/",this.serviceDomainUrl),this.feedServiceUrlBase=this.serviceDomainUrl&&new URL("/service/",this.serviceDomainUrl)||void 0,this.hostPage=r.getHostPageFromUrl(l),this.isFrePage="1"===b.c.getQueryParameterByName("fre",l),this.userId=this.getUserMuid(),this.rootTelemetryId=u?Number(u.getAttribute(h.DB)):0;const j=u&&u.getAttribute(h.uw),U=u&&u.getAttribute(h.Kz);if(this.trackInfo={sitePage:{page_product:j,page_type:U}},this.setNavTargetHostName(),this.setTargetScope(),this.crsVersion=(0,E.W_)(this.crsVersion||"",this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments,this.appType||""),this.isGitConfigs=this.useGitConfigs(),this.configOrigins=this.setConfigOrigin(),"mmx"===this.appType&&P.Al&&!P.Al.IsMmxWwwContentRequest){const e=(0,y.Td)().endsWith(".cn")?"https://assets.msn.cn":"https://assets.msn.com";this.contentServiceUrlBase=new URL("/content/",e)}else this.contentServiceUrlBase=this.serviceDomainUrl?new URL("/content/",this.serviceDomainUrl):void 0;this.isMultiConfigRetrievalEnabled=this.useMultiConfigsRetrieval();const H=this.getConfigServiceBaseUrl(this.isMultiConfigRetrievalEnabled,t);this.configServiceBaseUrl=H?new URL("",H):null,this.environmentConfigUrl=this.serviceDomainUrl?new URL("/config/v1/",this.serviceDomainUrl):void 0,this.isDebug=(b.c.getQueryParameterByName("debug",l)||"").toLowerCase()in{1:1,true:1}||(b.c.getQueryParameterByName("item",l)||"").toLowerCase().indexOf("/debug")>0||s.includes("localhost"),this.showMnsCreatorDashboard=null!=b.c.getQueryParameterByName("mnsDash",l),this.oneServiceApiKey=this.getOneServiceApiKey(),this.enableFiveColLayout=!1,i&&(this.hostHeaderOverride=i);const G={appType:this.appType,flights:P.Al.CurrentFlights,itemOverrides:S},B=f&&(f.includes("vptest=1")||f.includes("reqsrc=vp")),$="edgeChromium"===this.appType&&!(0,v.N)();this.shouldUseFdheadQsp=B||(0,E.Bc)(G,$),this.oneServiceContentMarketQspKey=this.shouldUseFdheadQsp?"market":"cm"}getOneServiceApiKey(){var e;if(this.widgetAttributes&&this.widgetAttributes.feed&&this.widgetAttributes.feed.apiKey)return this.widgetAttributes.feed.apiKey;const t="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM";let n;switch(this.appType){case"windowsShell":case"windowsShellV2":n="pWw5OmQehOA0XNfgcgrTrwEJZJJJzE83ovtTQx6JRG";break;case"newsAndInterests":case"windowsNewsPlus":case"winWidgets":n="AEbyVYqTQAPvg4lWwMSFHaLkDzl3weRKKIDDInLQUj";break;case"edgeChromium":n="1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc";break;case"bingHomepage":case"distribution":n=P.Al.ClientSettings.pagetype===i.G.Lenovo?"OrorOEMX3w4Hsk49OXMM6YayCYQw3OHcpzqiXEk9xd":P.Al.ClientSettings.pagetype===i.G.EdgeWelcome?"oPFhbDSAghltCuG6UvQCcxmngSVye65eXQHHu3voxZ":"QMmdky7jrTlM4mWJmMYQTi71lp678KyZJBKHCAyKCg";break;case"sharedWidgets":n="hFWgtnoLG1BXruRRhEVJo5ACP8414XUG0Ric6JbyND";break;case"gaming":n="play"===(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.pageType)?t:"Uj7u7bqBgMhDGBUVPSbcHUe0pU7X8TbVRviCO2fojo";break;case"travel":n="8RwD77wJgNQmmVBdGmZsK6vvPCrG58iRCQRoPsE4JJ";break;case"health":n="FywQv6H345wNCU4yKWraF2esI9qiMQFx90v53mMHrm";break;default:n=t}return n}getUserMuid(){let e;const t=(0,I.jG)();return(0,k.Z)(t)&&(e="m-"+t),e}getConfigServiceBaseUrl(e=!0,t=null){const n=this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments,r=(0,E.sW)(n,this.isChinaCompliance,this.appType),i=this.isGitConfigs?`${this.crsPath}${this.crsVersion||a.PQ}/config/`:`${this.crsPath}${e?"v2/":""}configindex/`;return t?t+i:(L&&L.env,(0,v.N)()&&(this.renderWidgets()||"sharedWidgets"===this.appType||"bingHomepage"===this.appType||"distribution"===this.appType||"gaming"===this.appType||("sports"===this.appType||"finance"===this.appType)&&this.widgetAttributes)?r?`${r}`+i:(this.crsDomain||"https://www.msn."+(this.IsChinaCompliance?"cn":"com"))+i:(r&&(this.crsRetryBaseUrl=(0,y.Dp)()?(0,y.Dp)()+i:null),r||(0,y.Dp)()?(r||(0,y.Dp)())+i:null))}useMultiConfigsRetrieval(){const e=(0,y.zp)();if(e){const t=b.c.getQueryParameterByName("isMultiConfigRetrievalEnabled",e);if(t)return"true"===t.toLocaleLowerCase()}return!this.featureFlags||!this.featureFlags.isMultiConfigRetrievalEnabled||"true"===this.featureFlags.isMultiConfigRetrievalEnabled}useGitConfigs(){const e=(0,y.zp)();if(e){const t=b.c.getQueryParameterByName("isGitConfig",e);if(t)return"true"===t.toLocaleLowerCase()}return(0,E.LB)(this.crsVersion,this.configIndexDocId,this.appType)}renderWidgets(){const e=(0,y.zp)();if(e){const t=b.c.getQueryParameterByName("renderWidget",e);if(t)return"true"===t.toLocaleLowerCase()}return!1}getAuthCookieName(){if(this.authCookieName)return this.authCookieName;let e;switch((P.Al&&P.Al.ClientSettings).apptype||""){case"windows":e=P.Al.ClientSettings.pagetype===i.G.Windows?"anon":"app_anon";break;case"aicharacter":case"bingHomepage":case"community":case"contentTools":case"finance":case"firstParty":case"gaming":case"health":case"homePage":case"hub":case"hybrid":case"microsoftNews":case"personalize":case"recipes":case"sharedWidgets":case"shopping":case"sports":case"traffic":case"travel":case"ugc":case"views":case"weather":default:e="anon";break;case"edge":case"edgeChromium":case"distribution":case"mmx":case"newsAndInterests":case"windowsNewsbar":case"windowsNewsPlus":case"winWidgets":case"windowsShell":case"windowsShellV2":case"office":case"channel":case"superApp":e="app_anon"}return e}setAccountInfoPromise(){this.ResolvedAccountInfo=null,this.AccountInfoPromise=new Promise((e=>{if(!((0,v.N)()&&window.chrome&&window.chrome.authPrivate&&window.chrome.authPrivate.getPrimaryAccountInfo))return e(null);const t=Math.round(performance.now());window.chrome.authPrivate.getPrimaryAccountInfo((n=>{const r=Math.round(performance.now());return(0,u.Ou)()["Auth.GetPrimaryAccountInfo"]=r-t,this.ResolvedAccountInfo=n,e(n)}))})),this.AccountInfoPromise}tryReformatGuid(e){if(e&&32===e.length){const t=e.match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/i);t&&(e=t.slice(1).join("-"))}return e}setTargetScope(){if(!P.Al||!P.Al.ClientSettings)return;let e;const t=decodeURIComponent((0,I.ej)(s.IR.AppAnonCookieExists)),n=(0,I.ej)(h.nM),{child:r}=t&&(0,A.dW)(t)||{};e=t&&(1===r||n)?i.F.Kids:P.Al.ClientSettings.audienceMode||i.F.Adult;const{browser:o,deviceFormFactor:a,domain:c,ocid:u,os:l,pagetype:d}=P.Al.ClientSettings,p=P.Al.CurrentFlights.split(",");if(this.currentRequestTargetScope={audienceMode:e,browser:o,deviceFormFactor:a,domain:c,locale:{content:this.LocaleContentMarket,display:this.LocaleDisplayLanguage},ocid:u,os:l,platform:"web",pageType:d,pageExperiments:p},!this.currentRequestTargetScope.locale&&T.b.stringHasData(this.LocaleContentMarketString)){const e=this.LocaleContentMarketString.split("-");e.length>1&&(this.currentRequestTargetScope.locale={language:e[0],market:e[e.length-1],content:{language:e[0],market:e[e.length-1]},display:{language:e[0],market:e[e.length-1]}})}}setNavTargetHostName(){let{subDomain:e,domainName:t,topLevelDomain:n}={subDomain:g.WWW,domainName:f.MSN,topLevelDomain:m.COM};const r="homePage"!==this.appType&&P.Al&&P.Al.CurrentFlightSet&&P.Al.CurrentFlightSet.has("1s-viewurldomain");switch(this.environment){case p.q.prod:case p.q.staging:e=r?g.MicrosoftStart:g.WWW;break;case p.q.int1:e=r?g.MicrosoftStartINT1:g.INT1;break;case p.q.int:case p.q.intpr:case p.q.intperf:e=r?g.MicrosoftStartINT:g.INT}this.isChinaCompliance&&(n=m.CN),this.navTargetHost=`${e}.${t}.${n}`}getRunTimePropertyBag(e,t){const n={appType:this.appType};t&&(n.pcsVersion=t.v,n.pcsEnv=t.env);const{alias:r,v:i}=e||{};this.buildVersion=i||"",n.build=this.buildVersion,r&&(n.buildAlias=r);const o=P.Al.CurrentFlights;return o&&(n.shouldDelayUntilLoadTime="edgeChromium"===this.appType&&P.Al.IsPrerender,n.shouldSupressWarnings=o.includes("warningsremoved")),n}}const D=F.getInstance;let R=(0,S.h)(F)},48328:function(e,t,n){"use strict";n.d(t,{Qe:function(){return s}});var r=n(95527),i=n(81428),o=n(33379),a=n(10877);function s(){var e;return(0,o.N)()?(0,i.dW)(document.head.dataset.clientSettings||(null===(e=document.getElementsByClassName(r.fw)[0])||void 0===e?void 0:e.getAttribute(a.nr))):null}},1038:function(e,t,n){"use strict";var r;n.d(t,{Ak:function(){return a},I4:function(){return i},d3:function(){return o},iN:function(){return r},oD:function(){return s}}),function(e){e.GLOBAL="GLOBAL",e.GCC_MODERATE="GCC_MODERATE"}(r||(r={}));const i="d7b530a4-7680-4c23-a8bf-c52c121d2e87",o="https://enterprisenews.microsoft.com",a="EnterpriseOneService",s=87},26974:function(e,t,n){"use strict";var r;function i(e){switch(e){case r.prod:case r.staging:return r.prod;case r.int1:return r.int1;case r.int:case r.intpr:case r.intperf:return r.int;default:return null}}n.d(t,{q:function(){return r},s:function(){return i}}),function(e){e.prod="prod",e.staging="staging",e.int1="int1",e.int="int",e.intpr="intPR",e.intperf="intPerf"}(r||(r={}))},45506:function(e,t,n){"use strict";n.d(t,{nP:function(){return P},Al:function(){return k}});var r=n(81765),i=n(12108),o=n(27003),a=n(99590),s=n(12884),c=n(33379),u=n(10877),l=n(68848),d=n(26007),h=n(987),p=n(20424),g=n(81428),f=n(98304),m=n(33954),v=n(72620);function y(e){return"shd_"+e}var C=n(1038),S=n(95527),w=n(65135);const b="__HeadDataInstance__";class T{constructor(e){this.enableCMSPPEConfigs=!1,this.initializeHeadData(e)}get Locale(){return this.locale}get MarketDir(){return this.marketDir}set MarketDir(e){this.marketDir=e}get CurrentFlights(){return this.currentFlights||""}set CurrentFlights(e){this.currentFlights=e,this.currentFlightSet=new Set((e||"").split(",")),this.setSweeperStoredHeadData(r.il.FlightIdKey,this.currentFlights)}get CurrentFlightSet(){return this.currentFlightSet}get ClientSettings(){return this.clientSettings}set ClientSettings(e){this.clientSettings=e}get Diagnostics(){return this.diagnostics}set Diagnostics(e){this.diagnostics=e}get EnableCMSPPEConfigs(){return this.enableCMSPPEConfigs}get EdgeNTPHeader(){return this.edgeNTPHeader}set EdgeNTPHeader(e){this.edgeNTPHeader=e}get UserIsSignedIn(){return this.userIsSignedIn}get IsPreload(){return this.isPreload}set IsPreload(e){this.isPreload=e}get IsPrerender(){return this.isPrerender}set IsPrerender(e){this.isPrerender=e}get IsBlendedEnterprise(){return this.isBlendedEnterprise}set IsBlendedEnterprise(e){this.isBlendedEnterprise=e}get IsMmxWwwContentRequest(){return this.isMmxWwwContentRequest}set IsMmxWwwContentRequest(e){this.isMmxWwwContentRequest=e}get IsServiceWorkerCache(){return this.isServiceWorkerCache}get LastKnownAppVersion(){return this.lastKnownAppVersion}get AnonCookieName(){return this.anonCookieName}set AnonCookieName(e){this.anonCookieName=e}get SsoComplete(){return this.ssoComplete}get AadState(){return this.aadState}set AadState(e){this.aadState=e}set LocaleName(e){this.locale=e}get SelectedFeedPivot(){return this.selectedFeedPivot}set SelectedFeedPivot(e){this.selectedFeedPivot=e}get LastSelectedPivot(){return this.lastSelectedPivot}set LastSelectedPivot(e){this.lastSelectedPivot=e}get SwitchedPivot(){return this.switchedPivot}set SwitchedPivot(e){this.switchedPivot=e}static getInstance(){return o.Gq.get(b,(()=>new T))}static resetInstance(e){const t=new T(e);return o.Gq.set(b,t),k=(0,a.h)(T),k}initializeHeadData(e){if(e)return void this.initializeFromData(e);if(this.newRidNeeded=void 0,this.lastUsedActivityIdBacking=void 0,this.locationSearch=(0,s.zp)(),this.htmlElement=(0,c.N)()?(0,s.SV)(u.x$.html)[0]:null,this.headElement=(0,c.N)()?(0,s.SV)(u.x$.head)[0]:null,this.applicationCache=(0,c.N)()?window.applicationCache:null,this.selectedFeedPivot=(0,c.N)()?(0,h.$o)().getItem(u.pv):null,this.widgetSettingsElement=(0,c.N)()?(0,s.ZI)(S.fw)[0]:null,!this.htmlElement||!this.headElement)return;this.initializeFromDom(),window&&window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&(this.isServiceWorkerCache=!0),this.isServiceWorkerCache&&(this.initializeFromStorage(),this.initializeLastUsedActivityId());const t=(0,l.H)(this.clientSettings&&this.clientSettings.locale),n=this.clientSettings&&t&&t.language&&t.market;this.locale=n?(0,l.p)(t):"";const r=this.htmlElement.getAttribute(u.cp);this.marketDir=r&&r.toLocaleLowerCase()||"",this.setQueryItemProvidedValues();const i=(this.widgetSettingsElement||this.headElement).getAttribute(u.js);if(i){const e=(0,g.dW)(i);this.anonCookieName=e.anonckname,this.userIsSignedIn=1===e.signedin}d.c.getQueryParameterByName("backgroundpreload",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPreload=!0,this.logDocumentVisibility()),d.c.getQueryParameterByName("prerender",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPrerender=!0,this.logDocumentVisibility()),(0,c.N)()&&window.ShellFeedsApp&&window.ShellFeedsApp.shellFeedsExperienceInfo&&!window.ShellFeedsApp.shellFeedsExperienceInfo.isWebviewVisible&&0===window.ShellFeedsApp.shellFeedsExperienceInfo.buttonInteraction&&(this.isPreload=!0),this.setIsBlendedEnterprise(),this.setIsMmxWwwContentRequest()}get lastUsedActivityId(){if(this.lastUsedActivityIdBacking)return this.lastUsedActivityIdBacking;const e=this.getStoredActivityIdKey(),t=(0,h.$o)().getItem(e);return t&&(this.lastUsedActivityIdBacking=(0,g.dW)(t)),this.lastUsedActivityIdBacking}set lastUsedActivityId(e){const t=this.getStoredActivityIdKey();if(e){if(e.id&&e.ts){try{(0,h.$o)().setItem(t,JSON.stringify(e),!1)}catch(e){const t=e&&e.message;(0,w.dK)().then((()=>{w.M0.sendAppErrorEvent(Object.assign(Object.assign({},f.dw4),{message:t}))}))}this.lastUsedActivityIdBacking=e}}else(0,h.$o)().removeItem(t)}get storedHeadData(){return function(e){const t=y(e),n=(0,h.$o)().getItem(t);return n?(0,g.dW)(n):null}(this.clientSettings.pagetype)}set storedHeadData(e){!function(e,t){const n=y(e);t?(0,h.$o)().setItem(n,JSON.stringify(t)):(0,h.$o)().removeItem(n)}(this.clientSettings.pagetype,e)}initializeFromData(e){var t,n;this.clientSettings=e.clientSettings,this.edgeNTPHeader=e.edgeNTPHeader,this.selectedFeedPivot=null===(t=e.edgeNTPHeader)||void 0===t?void 0:t.selectedFeedPivot,this.setFlights(e.clientInfo),this.setQueryItemProvidedValues();const r=(0,l.H)(this.clientSettings&&(null===(n=this.clientSettings)||void 0===n?void 0:n.locale)),i=this.clientSettings&&r&&r.language&&r.market;this.locale=i?(0,l.p)(r):"",this.marketDir=e.marketDir&&e.marketDir.toLocaleLowerCase()||"",this.setIsBlendedEnterprise(),this.setIsMmxWwwContentRequest()}initializeFromDom(){this.setFlights((this.widgetSettingsElement||this.headElement).getAttribute(u.um));const e=(this.widgetSettingsElement||this.headElement).getAttribute(u.IX);this.diagnostics=(0,g.dW)(e);const t=(this.widgetSettingsElement||this.headElement).getAttribute(u.nr);if(!t)return;if(this.clientSettings=(0,g.dW)(t),!this.clientSettings)return;this.calculateForwardableParams();const{pagetype:n}=this.clientSettings;if(!n){const e=(this.widgetSettingsElement||this.headElement).getAttribute(u.AU);this.clientSettings.pagetype=null==e?void 0:e}if(n)try{const e=(0,h.$o)().getObject(u.It.pageVersions)||{};this.lastKnownAppVersion=e[n];const{bundleInfo:t}=this.clientSettings;t&&this.lastKnownAppVersion!==t.v&&(e[n]=t.v,(0,h.$o)().setObject(u.It.pageVersions,e))}catch(e){m.k.log(`${this.logPrefix()} couldn't complete local storage related operation.`)}}initializeFromStorage(){const e=this.storedHeadData;e&&this.populateFromApiResponse(e)}populateFromApiResponse(e){if(!e)return;const t=e.clientSettings,n=e.info;if(!t||!n)return;if(this.clientSettings.pageGenTime>=t.pageGenTime)return void(this.storedHeadData=null);const r=this.clientSettings.queryparams,i=this.clientSettings&&this.clientSettings.bundleInfo&&this.clientSettings.bundleInfo.v;this.clientSettings=t,this.clientSettings.bundleInfo=Object.assign(this.clientSettings.bundleInfo||{},{v:i}),this.clientSettings.queryparams=r,this.calculateForwardableParams(),this.setFlights(n)}calculateForwardableParams(){const e=this.clientSettings?this.clientSettings.queryparams:"";if(!e)return;const t=e.toLocaleLowerCase(),n=["fdhead","item"].map((e=>{const n=d.c.getQueryParameterByName(e,t);return n?`${e}=${encodeURIComponent(n)}`:null})).filter((e=>e));this.clientSettings.forwardablequeryparams=n.join("&")}initializeLastUsedActivityId(){const e=this.lastUsedActivityId,t=this.clientSettings.aid,n=(0,v.Z)(this.clientSettings.pageGenTime).getTime();this.newRidNeeded=!(!e||!n||e.id!==t),n&&(!e||n>e.ts)&&(this.lastUsedActivityId={id:t,ts:n})}setFlights(e){this.CurrentFlights=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),this.currentFlightSet=new Set(this.currentFlights.split(","))}setSweeperStoredHeadData(e,t){if(!e)return;const n=y("sweeper"),r=p.y7.getObject(n)||{};t?r[e]=t:delete r[e],p.y7.setObject(n,r)}setIsBlendedEnterprise(){this.IsBlendedEnterprise=this.clientSettings&&this.clientSettings.audienceMode===i.F.Enterprise&&this.clientSettings.browser&&"edgeChromium"===this.clientSettings.browser.browserType&&parseInt(this.clientSettings.browser.version)>=C.oD}setIsMmxWwwContentRequest(){this.isMmxWwwContentRequest=this.currentFlights&&this.currentFlights.includes("prg-mmxcontent-t")}setQueryItemProvidedValues(){const e=d.c.getParamsWithItems((0,s.zp)(),!0),t=e.find((e=>"cms"===e.key));this.enableCMSPPEConfigs=t&&"ppe"===t.value,this.setCurrentFlightsTestOverride(e)}setCurrentFlightsTestOverride(e){if((0,s.Td)().toLowerCase().includes("localhost")&&e){const t=e.find((e=>"flights"===e.key));t&&(this.currentFlights=t.value,this.currentFlightSet=new Set(this.currentFlights.split(",")))}}getStoredActivityIdKey(){return"sai_"+this.clientSettings.pagetype}logPrefix(){return"HeadData:"+((0,c.N)()?"":` [Head:${this.widgetSettingsElement||this.headElement}] and [Html:${this.htmlElement}]`)}logDocumentVisibility(){(0,c.N)()&&((0,f.GQ)({isVisible:"visible"===document.visibilityState}),document.addEventListener("visibilitychange",(()=>{(0,f.GQ)({isVisible:"visible"===document.visibilityState})})))}}const P=T.getInstance;let k=(0,a.h)(T)},78059:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e.OneColumn="OneColumn",e.TwoColumn="TwoColumn",e.ThreeColumn="ThreeColumn",e.FourColumn="FourColumn",e.FiveColumn="FiveColumn",e.Any="Any"}(r||(r={}))},27583:function(e,t,n){"use strict";n.d(t,{ML:function(){return W},P8:function(){return P},TJ:function(){return M},_K:function(){return I},aS:function(){return L},hk:function(){return E},iG:function(){return A},lT:function(){return k},me:function(){return O},qn:function(){return b},t0:function(){return D},tx:function(){return F},vW:function(){return R},yd:function(){return N}});var r=n(95527),i=n(48328),o=n(10877),a=n(64084),s=n(1329),c=n(33379),u=n(12884),l=n(41651),d=n(96154),h=n(49945),p=n(76754),g=n(33954),f=n(76323);const m=(0,i.Qe)()||{},v={newsAndInterests:1,windowsNewsbar:1,windowsNewsPlus:1,winWidgets:1,windowsShell:1,windowsShellV2:1,distribution:1,superApp:1,channel:1},y={edgeChromium:1},C={winWidgets:1},S={shopping:1},w=(0,f.p)((()=>m&&m.apptype)),b=(0,f.p)((()=>(0,c.N)()&&w()in C)),T=(0,f.p)((()=>(0,c.N)()&&!(0,p.pE)()&&!(w()in v)&&!M()&&!x())),P=(0,f.p)((()=>T()&&!(w()in y))),k=((0,f.p)((()=>T()&&(!(w()in y)||!(0,s.mb)()))),(0,f.p)((()=>T()&&!D()&&!W())));function A(){return!!(0,d.AE)(o.Li)}function E(){return W()||D()}const M=(0,f.p)((()=>"edgeChromium"!==w()&&!(w()in S)&&function(){const{browser:e}=m,{browserType:t=""}=e||{};return!!/edgeChromium/i.test(t)}()&&function(){const e=new URLSearchParams((0,u.zp)()).get("ocid")||(null==m?void 0:m.ocid),t=null==e?void 0:e.toLowerCase();return!o.Oj.has(t)&&"homePage"!==w()&&!o.up.has(t)}())),x=()=>(0,c.N)()&&document&&document.body&&document.body.getElementsByClassName(r.Di).length>0,I=(0,f.p)((()=>(0,h.Nv)("prg-1s-workid")));function L(){const e=(0,a.nh)();if(e)return g.k.log("dual-auth: tryGet1SAuthToken returned live tokens"),e;const t=(0,a.Wl)();if(t)return g.k.log(`dual-auth: tryGet1SAuthToken returned cached tokens that are ${(0,a.wX)()}`),t;g.k.log("dual-auth: tryGet1SAuthToken returned empty tokens")}function O(e){const t={};return e&&(t[o.Yu.authorization]=`Bearer ${e}`),t}function F(e){const t={};return e&&(t[o.Yu.entAuthorization]=e),t}function D(){return P()&&(0,l.YU)()||R()||(0,l.SY)()||(0,l.jG)()}function R(){return P()&&!(0,l.YU)()&&(0,s.x6)()&&("expired"==(0,a.wX)()||(0,l.hU)())}function W(){return P()&&!(0,s.x6)()&&(0,l.KK)()}function N(){(0,s.$v)(),P.cache.clear()}},64084:function(e,t,n){"use strict";n.d(t,{Wl:function(){return h},nh:function(){return m},tx:function(){return f},wX:function(){return p}});var r=n(33799),i=n(1329),o=n(987),a=n(49945);const s="1s-tokens",c=12096e5;var u;let l,d;function h(){return l=g(),l&&l.accessToken?l:void 0}function p(){if(l=g(),!l)return"notAvailable";const e=l.expiresOn,t=new Date(e),n="expired";if(!t.getTime())return n;const o=new Date,s="valid";if(t>o)return s;if((0,a.Nv)("prg-noext"))return n;{const e=(0,i.x6)();if(e&&e.account_type===r.Qm.MSA){if(new Date(t.getTime()+c)>o)return s}}return n}function g(){return l=l||void 0===l&&(0,o.$o)().getObject(s)||null,l}function f(e){l=void 0,d=e;const{accessToken:t,expiresOn:n}=e||{};t&&n?(0,o.$o)().setObject(s,{accessToken:t,expiresOn:n}):(0,o.$o)().removeItem(s)}function m(){return d}!function(e){e.NotAvailable="notAvailable",e.Expired="expired",e.Valid="valid"}(u||(u={}))},1329:function(e,t,n){"use strict";n.d(t,{$v:function(){return l},ac:function(){return s},mb:function(){return u},sM:function(){return a},x6:function(){return c}});var r=n(96154),i=n(76323),o=n(81428);const a="currentaccount",s=365,c=(0,i.p)((()=>{const e=(0,r.AE)(a,!0),t=e&&(0,o.dW)(e),{login_hint:n}=t||{};return n&&t})),u=(0,i.p)((()=>!!(0,r.AE)(a)));function l(){u.cache.clear(),c.cache.clear()}},68354:function(e,t,n){"use strict";n.d(t,{KO:function(){return d},XS:function(){return l}});var r=n(33799),i=n(83097),o=n(96154),a=n(81428);const s=()=>{const e=(()=>{const e=(0,o.AE)("els",!0),t=e&&(0,a.dW)(e);return t&&Object.prototype.hasOwnProperty.call(t,"account_type")&&t})();if(e){if("MSA"===e.account_type)return r.Qm.MSA;if("AAD"===e.account_type)return r.Qm.AAD}};var c=n(83977),u=n(76323);const l=(0,u.p)((()=>{let e,t;return(0,c.vs)()?(e=r.Hy.SignedIn,t=(0,c.Yn)()):(0,o.AE)("els")?(t=s(),e=t?r.Hy.SignedIn:r.Hy.NotSignedIn):(0,o.AE)("lt")||(0,o.AE)(i.IR.AppAnonCookieExists)?(t=r.Qm.MSA,e=r.Hy.SignedIn):e=r.Hy.NotSignedIn,{isSignedIn:e,accountType:t}}));function d(){l.cache.clear()}},83977:function(e,t,n){"use strict";n.d(t,{E1:function(){return c},Yn:function(){return s},vs:function(){return u}});var r=n(33799),i=n(96154),o=n(81428);const a=()=>{const e=(0,i.AE)("elt",!0),t=e&&(0,o.dW)(e),{access_token:n,account_type:r,login_hint:a}=t||{};return(n||r||a)&&t},s=()=>{const e=a();if(e){if("MSA"===e.account_type)return r.Qm.MSA;if("AAD"===e.account_type)return r.Qm.AAD}},c=()=>{const e=a();return e&&e.login_hint},u=()=>!!(0,i.AE)("elt")},49945:function(e,t,n){"use strict";n.d(t,{Nv:function(){return s}});var r=n(27003),i=n(33379);const o="__PageExperimentInstance__";function a(e){r.Gq.set(o,e)}function s(e){var t,n;if(!r.Gq.has(o)&&(0,i.N)()){a(c(document.head.dataset.info||(null===(n=null===(t=window.document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.info)||""))}const s=r.Gq.get(o);return s&&s.has(e)}function c(e){const t=(e||"").replace(/(^f:|;.*$)/g,"").split(",");return new Set(t)}},247:function(e,t,n){"use strict";n.d(t,{A:function(){return s},m:function(){return a}});var r=n(33799);class i{constructor(){this._signInState=r.Hy.Unknown,this.initOverrides=()=>{}}getSignInState(){return this._signInState}setSignInState(e){this._signInState=e}useEnterpriseCompliance(){return!1}}i._instance=new i;let o=i._instance;function a(e){if(o!==i._instance||!e)return o;e()}function s(e){o=e}},61285:function(e,t,n){"use strict";n.d(t,{E:function(){return a},M:function(){return r}});var r,i=n(27583),o=n(76323);!function(e){e.App="app",e.EdgeId="edgeid",e.Web="web"}(r||(r={}));const a=(0,o.p)((()=>(0,i.TJ)()?r.EdgeId:(0,i.P8)()?r.Web:r.App))},85305:function(e,t,n){"use strict";n.d(t,{EX:function(){return l},u6:function(){return c}});var r=n(10877),i=n(31573),o=n(96154),a=n(76323),s=n(81428);function c(e){const t=e||(0,i.g8)()||"al_app_anon",n=u();return!!(n&&(["anon","al_anon"].includes(t)&&n.AL_ANON||["app_anon","al_app_anon"].includes(t)&&n.AL_APP_ANON))}const u=(0,a.p)((()=>{const e=(0,o.AE)(r.tX,!0);return(0,s.dW)(e)}));function l(){u.cache.clear()}},41651:function(e,t,n){"use strict";n.d(t,{C8:function(){return v},KK:function(){return P},SY:function(){return f},YU:function(){return p},bf:function(){return m},bm:function(){return S},bq:function(){return C},dy:function(){return g},hU:function(){return y},hq:function(){return b},jG:function(){return w},m5:function(){return T},y2:function(){return k}});var r=n(13971),i=n(33379),o=n(49945),a=n(76323),s=n(81428);const c="uxlogin",u="uxlogout",l="uxedit",d="useRedirect",h="uxswitch",p=(0,a.p)((()=>{const e=(0,r.U)();return e&&"1"===e.getItem(c)||(0,i.N)()&&location.search&&location.search.includes("uxlogin=1")}));function g(){const e=(0,r.U)();e&&p()&&(e.removeItem(c),p.cache.clear())}const f=(0,a.p)((()=>{const e=(0,r.N)();return e&&!!e.getItem(u)}));function m(){const e=(0,r.N)();e&&f()&&(e.removeItem(u),f.cache.clear())}function v(){const e=(0,r.N)();e&&e.setItem(u,"1"),f.cache.clear()}const y=(0,a.p)((()=>{const e=(0,r.U)();return e&&"1"===e.getItem(l)}));function C(){const e=(0,r.U)();e&&y()&&(e.removeItem(l),y.cache.clear())}function S(){const e=(0,r.U)();e&&e.setItem(l,"1"),y.cache.clear()}const w=(0,a.p)((()=>{const e=(0,r.U)();return!(0,o.Nv)("prg-noredirect")&&e&&"1"===e.getItem(d)&&function(){const e=document.head.dataset.clientSettings||"",{browser:t}=(0,s.dW)(e)||{},{browserType:n=""}=t||{};return!!/safari/i.test(n)}()}));function b(){const e=(0,r.U)();e&&"1"===e.getItem(d)&&(e.removeItem(d),w.cache.clear())}function T(){const e=(0,r.U)();e&&e.setItem(d,"1"),w.cache.clear()}const P=(0,a.p)((()=>{const e=(0,r.U)();return e&&"1"===e.getItem(h)}));function k(){const e=(0,r.U)();e&&P()&&(e.removeItem(h),P.cache.clear())}},10877:function(e,t,n){"use strict";n.d(t,{AU:function(){return s},Cd:function(){return W},DB:function(){return h},Eo:function(){return O},IX:function(){return a},Ib:function(){return R},It:function(){return x},Ji:function(){return m},Kj:function(){return D},Kz:function(){return g},Li:function(){return y},Oj:function(){return H},Qw:function(){return f},V3:function(){return P},X8:function(){return d},Xs:function(){return r},Yu:function(){return k},cp:function(){return l},cs:function(){return C},js:function(){return u},m$:function(){return v},nM:function(){return S},nr:function(){return o},og:function(){return T},pv:function(){return F},rD:function(){return A},tX:function(){return w},uD:function(){return N},um:function(){return c},up:function(){return j},uw:function(){return p},x$:function(){return i},yz:function(){return b}});const r="msnewsroot",i={html:"html",head:"head",body:"body"},o="data-client-settings",a="data-diagnostics",s="data-pagetype",c="data-info",u="data-js",l="dir",d="data-service-url",h="data-telemetry-id",p="data-page-product",g="data-page-type",f=2,m="APP_ANON",v="aace",y="ace",C="OSATE",S="child",w="AL_STATE",b="WID",T="APP_WID",P="split-screen",k={activityId:"x-client-activityid",adsReferer:"ads-referer",authorization:"Authorization",entAuthorization:"Ent-Authorization",muid:"MUID",rpsToken:"UserAuthToken",taboolaSessionId:"taboola-sessionId",xboxToken:"s-xbox-token",traceParent:"traceparent"},A={traceId:"ddd-activityid",debugId:"ddd-debugid",userType:"ddd-usertype",isStatic:"X-Statics-Fallback"};var E,M;!function(e){e.Presentation="presentation"}(E||(E={})),function(e){e.Unknown="Unknown",e.Portrait="Portrait",e.Landscape="Landscape"}(M||(M={}));const x={pageVersions:"pageVersions"},I={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default"}},L={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default",sharedNs:"msn-ns"}},O=e=>{let t;switch(e){case"default":t=I;break;case"shared":t=L;break;default:t=void 0}return t},F="selectedPivot",D="switchedPivot",R="pivotSelectionSource";var W,N;!function(e){e[e.Undefined=0]="Undefined",e[e.Basic=1]="Basic",e[e.Advanced=2]="Advanced",e[e.Premium=3]="Premium"}(W||(W={})),function(e){e.Init="init",e.Config="config",e.Targeted="targeted",e.Sticky="sticky",e.NoSticky="no_sticky",e.Admin="admin",e.Forced="forced",e.Manual="manual"}(N||(N={}));new Set(["winp0dash","winp1taskbar","winp1taskbarent","winp1taskbardirect","winp1taskbardirectent","winp1taskbarent","winp2juntaskbar","winp2juntaskbarent","winp2","winp2ent","winp2fp","winp2fpent","winp2fptaskbar","winp2fptaskbarent","winp2fptaskbarhover","winp2fptaskbarhoverent","winp2widget","winp2widgetent"]);const j=new Set(["finance-app-win","weather-app-win","winpstoreapp"]);new Set(["msedgdhp","msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);var U;!function(e){e.outlookMobile="OnOOutlookMobile",e.officeMobile="OnOOfficeMobile",e.sapphire="OnOStartApp",e.skype="OnOSkype"}(U||(U={}));const H=new Set(["hpmsn"])},55755:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(33379),i=n(73713);let o;function a(){return o||(o=new URLSearchParams(null===window||void 0===window?void 0:window.location.search)),o}(0,r.N)()||(0,i.U)((()=>{o=null}))},32005:function(e,t,n){"use strict";n.d(t,{Sm:function(){return P},br:function(){return A},cb:function(){return k}});var r=n(33940),i=n(33379),o=n(2140);function a(e){const t=(0,o.s)();return function(n,r){if(r||(r={}),!s(r,"Referer")){const e="string"==typeof n?n:n.url;!function(e,t,n,r){const i=(u[r]||u[c])(e,t);if(delete n.referrerPolicy,!i)return;n.headers=n.headers||{},n.headers.Referer=i}(t.url,e,r,r.referrerPolicy)}return s(r,"User-Agent")||function(e,t){e.headers=e.headers||{},e.headers["User-Agent"]=`${t} (via node-fetch)`}(r,t.userAgent),e(n,r)}}function s(e,t){return e.headers&&void 0!==e.headers[t]}const c="strict-origin-when-cross-origin",u={"no-referrer":(e,t)=>{},"no-referrer-when-downgrade":(e,t)=>l(e,t)?void 0:e.href,origin:(e,t)=>e.origin+"/","origin-when-cross-origin":(e,t)=>d(e,t)?e.href:e.origin+"/","same-origin":(e,t)=>d(e,t)?e.href:void 0,"strict-origin":(e,t)=>l(e,t)?void 0:e.origin+"/","strict-origin-when-cross-origin":(e,t)=>d(e,t)?e.href:u["strict-origin"](e,t),"unsafe-url":(e,t)=>e.href};function l(e,t){return"https:"===e.protocol&&t.startsWith("http:")}function d(e,t){return t.startsWith(e.origin+"/")}n(73040);var h=n(91898),p=n(98878),g=n(26007);function f(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=yield p.o.get(e);return n?Promise.resolve(n):t(e).then((e=>e.blob())).then((e=>e.text())).then((t=>(p.o.set(e,t),t)))}))}function m(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(e&&t&&n))return Promise.resolve();yield p.o.set(`${e}-${t}-${n}`,i)}))}const v="https://peregrinebaselines.blob.core.windows.net/baselines";function y(e,t,n,i,o,a){var s;return(0,r.mG)(this,void 0,void 0,(function*(){const c=yield f(`${v}/${t}`,a);let u;try{u=JSON.parse(c)}catch(e){return o()}const l=null===(s=null==u?void 0:u.interceptions)||void 0===s?void 0:s.find((({urlPattern:t})=>g.c.urlPatternToRegExp(t).test(e))),d=null==l?void 0:l.interceptionsHash,y=null==l?void 0:l.urlPattern;if(d){const e=`${u.fileNamePrefix}-interceptions-${d}.json`,t=yield f(`${v}/${e}`,a),o=JSON.parse(t),s=yield function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){if(!(e&&t&&n))return Promise.resolve(void 0);const r=`${e}-${t}-${n}`,i=yield p.o.get(r);return Promise.resolve(i)}))}(i,y,n);o[n]&&void 0!==o[n].Times&&void 0===s&&(yield m(i,y,n,o[n].Times-1));const c=o&&0!==s?o[n]:null;if(s>0)yield m(i,y,n,s-1);else if(0===s)return null;return new h.Response(null==c?void 0:c.Body,{status:null==c?void 0:c.Status,headers:null==c?void 0:c.Headers,statusText:"OK"})}return o()}))}var C=n(33954);let S,w,b;class T{constructor(){"undefined"!=typeof AbortController&&(this.controller=new AbortController)}abort(){return!!this.controller&&(this.controller.abort(),!0)}setAbortSignal(e){this.controller&&(e.signal=this.controller.signal)}}function P(e,t,n,a,s,c,u=!1){var l;return(0,r.mG)(this,void 0,void 0,(function*(){s||(s=fetch);const d=()=>function(e,t,n,o,a,s,c=!1){return(0,r.mG)(this,void 0,void 0,(function*(){a||(a=fetch),o||(o=new T),(0,i.N)()&&(s=!1);let r=null;if(void 0===t?t=b:b>0&&(t=Math.min(t,b)),t>0&&(r=1e4,r=setTimeout((()=>{if(!o.abort())throw new Error(`Fetch for ${e} aborted due to timeout of ${t} ms. AbortController is not supported.`)}),t)),n||(n={method:"GET"}),!(0,i.N)()&&!n.agent&&S&&w){const e=function(e){return"http:"===e.protocol?S:w};n.agent=e}(0,i.N)()||n.headers&&n.headers.Connection||(n.headers=new Headers(n.headers),n.headers.set("Connection","keep-alive")),n.signal||o.setAbortSignal(n);const u=performance.now();let l,d=0;const h={};let p;const g=()=>{if(!(0,i.N)()){const n={abortableFetch:{url:e,statusCode:d,timestamp:(new Date).toISOString(),timeElapsed:(performance.now()-u).toFixed(2),timeOut:t.toFixed(2),oneWebServiceLatency:p,errorMessage:l&&l.message,errorName:l&&l.name,errorCode:l&&l.code,errorType:l&&l.type,cluster:h.cluster,dddDebugId:h.dddDebugId,wpoId:h.wpoId,afd:h.afd}};c||C.k.logSingleObject(n,!0)}r&&clearTimeout(r)};return a(e,n).then((e=>{var t,n,r;return d=e.status,p=null===(t=e.headers)||void 0===t?void 0:t.get("onewebservicelatency"),s&&(h.cluster=e.headers.get("x-fabric-cluster")||(null===(r=null===(n=e.headers.get("ddd-debugid"))||void 0===n?void 0:n.split("|"))||void 0===r?void 0:r[3]),h.afd=e.headers.get("x-msedge-ref"),h.dddDebugId=e.headers.get("ddd-debugid"),h.wpoId=e.headers.get("x-wpo-activityid")),e})).catch((n=>{if(l=n,"AbortError"===n.name)throw new Error(`Fetch for ${e} aborted due to timeout of ${t} ms.`);throw new Error(n)})).then((e=>(g(),e)),(e=>{throw g(),e}))}))}(e,t,n,a,s,c,u);if((0,i.N)())return d();const h=(0,o.s)(),p=null===(l=null==h?void 0:h.url)||void 0===l?void 0:l.searchParams,g=null==p?void 0:p.get("interceptions-config-file"),f=null==p?void 0:p.get("ssrTimestamp");return!(!g||!(null==n?void 0:n.method))?y(e,g,n.method,f,d,s):d()}))}function k(){return{abortToken:null,timeoutMs:900,fetchImpl:a(fetch)}}function A(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){return n||(n=k()),P(e,n.timeoutMs,t,n.abortToken,n.fetchImpl,n.trackApiClusterInServer)}))}},96154:function(e,t,n){"use strict";n.d(t,{AE:function(){return o}});var r=n(81428);let i;function o(e,t){if(!e)return null;if(t)return function(e){var t;const n=null===(t=document.cookie)||void 0===t?void 0:t.match(`\\b${e}=([^;]*)`);return n?(0,r.fB)(n[1]):null}(e);if(!i){const e="undefined"!=typeof document&&document.cookie.split("; ");i={};const t=e&&e.length;for(let n=0;n<t;n++){const t=e[n].indexOf("=");i[e[n].slice(0,t).toLocaleLowerCase()]=(0,r.fB)(e[n].slice(t+1))}}const n=e.toLocaleLowerCase();return i[n]||null}},56205:function(e,t,n){"use strict";n.d(t,{i:function(){return i},q:function(){return o}});var r=n(33954);function i(){let e;try{const t=(null===document||void 0===document?void 0:document.createElement("canvas")).getContext("webgl");if(!t)return!1;const n=t.getExtension("WEBGL_debug_renderer_info"),r=t.getParameter(n.UNMASKED_RENDERER_WEBGL);e=String(r).startsWith("ANGLE")&&!(r.includes("Google")||r.includes("Microsoft"))||String(r).startsWith("Apple")}catch(t){r.k.log("Unexpected exception when get gpuRendererInfo, "+t),e=!1}return e}function o(){try{return!!document.createElement("canvas").getContext("webgl2")}catch(e){return r.k.log("Unexpected exception when initialize webgl2 context! "+e),!1}}},13971:function(e,t,n){"use strict";function r(){try{return localStorage}catch(e){return null}}function i(){try{return sessionStorage}catch(e){return null}}n.d(t,{N:function(){return i},U:function(){return r}})},76754:function(e,t,n){"use strict";n.d(t,{K$:function(){return g},Rz:function(){return f},_3:function(){return m},pE:function(){return y},tr:function(){return d},wq:function(){return v}});var r,i=n(33379),o=n(76323);!function(e){e.outlookMobile="OnOOutlookMobile",e.officeMobile="OnOOfficeMobile",e.sapphire="OnOStartApp",e.skype="OnOSkype",e.winWeatherApp="weather-app-win",e.winMoneyApp="finance-app-win"}(r||(r={}));const a=["ios","android","ipados"];let s=C("ocid"),c=C("chpltfm"),[u,l]=c.toLowerCase().split("-");function d(){if(!(0,i.N)())return!1;const e=window.sapphireWebViewBridge,t=window.webkit,n=e&&e.send,r=t&&t.messageHandlers&&t.messageHandlers.send&&t.messageHandlers.send.postMessage;return!(!n&&!r)}function h(){const e=c&&"outlook"===u&&a.includes(l),t=s===r.outlookMobile;return e||t}function p(){const e=c&&["office","union"].includes(u)&&a.includes(l),t=s===r.officeMobile;return e||t}function g(){return s===r.winWeatherApp}function f(){return h()||p()}function m(){const e=s===r.skype||"skype"===u;return(0,i.N)()&&(null===(t=window.skypeWebviewBridge)||void 0===t?void 0:t.isSkype)||e;var t}function v(){return d()||s===r.sapphire||"superappdhp"===s}const y=(0,o.p)((()=>d()||m()||p()||h()||v()||g()||s===r.winMoneyApp));function C(e){try{return new URL(location.href).searchParams.get(e)||""}catch(e){return""}}},71484:function(e,t,n){"use strict";n.d(t,{ou:function(){return d}});var r,i=n(33940),o=n(98304),a=n(78722),s=n(33379);!function(e){e.Unknown="unknown",e.Connected="connected",e.Disconnected="disconnected",e.Aborted="aborted"}(r||(r={}));let c=r.Unknown,u=null,l=!1;function d(e=5e3){(0,s.N)()&&(c=r.Unknown,h(e))}function h(e=5e3,t){return(0,i.mG)(this,void 0,void 0,(function*(){return l=!1,t&&(u=window.setTimeout((()=>{l=!0,t.abort()}),e)),function(e){const t={method:"HEAD",cache:"reload"};e&&(t.signal=e);return fetch(`https://assets.msn.${a.jG.IsChinaCompliance?"cn":"com"}/statics/icons/favicon.ico`,t)}(t&&t.signal).then((()=>(c=r.Connected,(0,o.GQ)({networkStatus:c}),!0))).catch((e=>(c=e&&"AbortError"===e.name?r.Aborted:r.Disconnected,(0,o.GQ)({networkStatus:c}),!1))).finally((()=>{clearTimeout(u)}))}))}},62371:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r,i=n(12108),o=n(78722),a=n(45506);!function(e){e.isDhpPage=function(){return a.Al.ClientSettings.pagetype===i.G.DHP},e.isNtpPage=function(){return a.Al.ClientSettings.pagetype===i.G.NTP},e.fiveColSupported=function(){return o.jG.EnableFiveColLayout}}(r||(r={}))},81428:function(e,t,n){"use strict";function r(e){try{if(e)return JSON.parse(e)}catch(e){}return null}function i(e,t){const n=parseInt(e);return isNaN(n)?t:n}function o(e){try{return JSON.stringify(e)}catch(e){return null}}function a(e){try{return decodeURIComponent(e)}catch(e){}}n.d(t,{Vm:function(){return o},dW:function(){return r},fB:function(){return a},hh:function(){return i}})},79941:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(33940);n(33379);let i={};function o(e){e=e||{},(()=>{(0,r.mG)(this,void 0,void 0,(function*(){const{newUrl:t,invalidatePageCache:n=!0}=e;if(n){const{invalidatePageCacheHandler:e}=i;if(e){const t=e();t&&t.then&&(yield t)}}t?window.location.replace(t):window.location.reload(n)}))})()}},32164:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});class r{constructor(e){this.promise=new Promise(((e,t)=>{this.resolver=e})),e&&setTimeout((()=>this.set(void 0)),e)}set(e){this.resolver(e),this.valueSet=!0}wasSet(){return this.valueSet}getResultAsync(){return this.promise}}},73713:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});const r=[];function i(e){r.push(e)}},34960:function(e,t,n){"use strict";n.d(t,{GI:function(){return l},ku:function(){return c},r$:function(){return s},w_:function(){return u}});var r=n(38156),i=n(65135),o=n(78722),a=n(10877);function s(e,t){if(e){const n={type:r.c9.Module,name:t,content:{}};return e.addOrUpdateChild(n)}return null}function c(){var e;if(!i.M0)return;const t=null===(e=i.M0.getPageMetadata)||void 0===e?void 0:e.call(i.M0);return t&&t.contract&&t.contract.page?t.contract.page.ocid:void 0}function u(e){if("windowsShell"===o.jG.AppType||"windowsShellV2"===o.jG.AppType)return function(e){if(!e)return e;try{const t=new URL(e),n=t.searchParams;return c()&&n.set("ocid",c()),n.set("cvid",i.M0.getRequestId()),t.toString()}catch(t){return e}}(e);const t=c(),n=e.toLowerCase();if(!t||-1!=n.indexOf("?ocid=")||-1!=n.indexOf("&ocid="))return e;const r=-1==e.indexOf("?")?"?":"&";return`${e}${r}ocid=${encodeURIComponent(t)}`}function l(e){if(!e)return null;const t=Object.assign({},e);return t[a.Yu.entAuthorization]&&(t[a.Yu.entAuthorization]="*****"),t[a.Yu.rpsToken]&&(t[a.Yu.rpsToken]="*****"),t[a.Yu.authorization]&&(t[a.Yu.authorization]="*****"),t}},27496:function(e,t,n){"use strict";n.d(t,{Kb:function(){return o}});var r=n(33940);setTimeout;let i=setTimeout;function o(e){return(0,r.mG)(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{i(t,e)}))}))}},23547:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});class r{constructor(e){this.searchParams=Object.create(null),this.parseQueryString(e)}set(e,t){return null!=t&&(this.searchParams[e]=t),this}get(e){return this.searchParams[e]}delete(e){delete this.searchParams[e]}toString(){const e=Object.keys(this.searchParams);return e.length?e.sort().map((e=>`${e}=${this.searchParams[e]}`)).join("&"):""}parseQueryString(e){if(!e)return;const t=e.indexOf("?");t>-1&&(e=e.substring(t+1)),e.split("&").forEach((e=>{const t=e.split("="),n=t[0];this.get(n)||(this.searchParams[n]=t[1])}))}}},26007:function(e,t,n){"use strict";n.d(t,{K:function(){return g},c:function(){return r}});var r,i=n(99038),o=n(79022),a=n(54433),s=n(92170),c=n(13578),u=n(48151),l=n(91341),d=n(33954),h=n(49972),p=n(12884);function g(e,t){try{const n=new URL(e,(0,p.Dp)());return t&&t.forEach((([e,t])=>e&&null!=t&&n.searchParams.append(e,t))),n}catch(e){d.k.logError((0,h.n)(e))}}!function(e){const t=/[^A-Za-z0-9]+/g;function n(e,t=!1){if(!(0,o.Z)(e))return null;return d((e||"").split("?")[1],t)}function r(e){return e=e.replace(/\+/g," "),e=decodeURIComponent(e)}function d(e,t=!1){const n=[];if(e&&e.startsWith("?")&&(e=e.substring(1)),e){const i=(e=e.split("#")[0]).split("&");for(let e=0;e<i.length;e++){const o=i[e].split("=");let s=o[0],c=o[1];t&&(s=r(s),c&&(c=r(c)));const u={key:s,value:c},l=(0,a.Z)(n,(e=>e.key===u.key));-1===l?n.push(u):n[l]=u}}return n}e.getParamsFromUrl=n,e.encodeURIComponentForPrime=function(e){return encodeURIComponent(e.replace(t,"-"))},e.getParams=d,e.getParamsWithItems=function(e,t=!1,n="item"){const i=[];if(e){e.startsWith("?")&&(e=e.substring(1));const o=(e=e.split("#")[0]).split("&");for(let e=0;e<o.length;e++){const a=o[e].split("=");let s=a[0],c=a[1];if(t&&(s=r(s),c&&(c=r(c))),s.toLowerCase()===n){c=c.replace("::::",";;;;");const e=c.split(":");if(2===e.length){s=e[0],c=e[1].replace(";;;;","::::");const t={key:s,value:c};-1===i.findIndex((e=>e.key===t.key))&&i.push(t)}}}}return i};const h={};function g(e){const t={},r=n(e,!0);return r&&r.length&&r.forEach((e=>t[e.key]=e.value)),t}e.getQueryParameterByName=function(e,t){h[t]||(h[t]=g(t));const n=h[t][e];return void 0!==n?n:null},e.isValidUrl=function(e,t){return(0,o.Z)(e)&&e.length>0&&(!t||t&&0===e.indexOf("http"))},e.keyValueArrayToQueryString=function(e){return!(0,s.Z)(e)||(0,c.Z)(e)?"":e.filter((e=>i.b.isKeyValuePair(e,(e=>"string"==typeof e),(e=>"string"==typeof e)))).map((e=>e.key+"="+e.value)).join("&")},e.getParamsObj=g,e.joinSubpathToURL=function(e,t){const n=e.href,r=(0,u.Z)(n,"/"),i=(0,l.Z)(t,"/");return new URL(`${r}/${i}`)},e.updateSearchParam=function(e,t,n){return e&&e.searchParams&&e.searchParams.get(t)&&e.searchParams.set(t,n),e},e.appendSearchParam=function(e,t,n,r){return e&&(e.searchParams||r?e.searchParams.append(t,n):e=new URL(e.href+(e.search.indexOf("?")>=0?"&":"?")+t+"="+n)),e},e.getAbsoluteUrl=function(e){return e.indexOf("://")>0||0===e.indexOf("//")?e:(0,p.Dp)()+e};const f=new Set(["/","$","^","+",".","(",")","=","!","|"]);e.urlPatternToRegExp=function(e){if(0==e.indexOf("/")&&e.lastIndexOf("/")>0){const t=e.slice(1,e.lastIndexOf("/")),n=e.substring(e.lastIndexOf("/")+1)||void 0;return new RegExp(t,n)}return function(e){const t=["^"];let n;for(let r=0;r<e.length;++r){const i=e[r];if(f.has(i))t.push("\\"+i);else if("*"!==i)switch(i){case"?":t.push(".");break;case"{":n=!0,t.push("(");break;case"}":n=!1,t.push(")");break;case",":if(n){t.push("|");break}t.push("\\"+i);break;default:t.push(i)}else{const n=e[r-1];let i=1;for(;"*"===e[r+1];)i++,r++;const o=e[r+1];!(i>1)||"/"!==n&&void 0!==n||"/"!==o&&void 0!==o?t.push("([^/]*)"):(t.push("((?:[^/]*(?:/|$))*)"),r++)}}return t.push("$"),new RegExp(t.join(""))}(e)},e.compareURLs=function(e,t){try{const n=new URL(e),r=new URL(t),i=n.searchParams,o=r.searchParams,a=[],s=[],c=[];return i.forEach(((e,t)=>{o.has(t)?o.get(t)!==i.get(t)&&c.push(t):s.push(t)})),o.forEach(((e,t)=>{i.has(t)||a.push(t)})),{hostMismatch:n.hostname!==r.hostname,pathMismatch:n.pathname!==r.pathname,paramsMissingLeft:a.join(","),paramsMissingRight:s.join(","),paramsDiff:c.join(",")}}catch(e){return{}}}}(r||(r={}))},99038:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r,i=n(79022),o=n(16572);!function(e){function t(e){return null!=e}e.isNotNullOrUndefined=t,e.isDefined=function(e){return void 0!==e},e.isKeyValuePair=function(t,n,r){return e.isNonNullObject(t)&&n(t.key)&&r(t.value)},e.isNonNullObject=function(e){return e&&"object"==typeof e},e.isNotNull=function(e){return null!==e},e.isNullOrWhiteSpace=function(e){return!(0,i.Z)(e)||""===e.trim()},e.toNumber=function(e,t=-1){if(!e)return t;const n=(0,o.Z)(e);return isNaN(n)?t:n},e.arrayHasData=function(e){return!!t(e)&&(e.constructor===Array&&e.length>0)},e.stringHasData=function(e){return(0,i.Z)(e)&&e.trim().length>0},e.objectToString=function e(t){let n="",r=!0;if("object"!=typeof t)return n;for(const i in t)"object"==typeof t[i]?n+=r?`${e(t[i])}`:`-${e(t[i])}`:n+=r?`${t[i]}`:`-${t[i]}`,r=!1;return n},e.removeHyphens=function(e){if(e)return e.replace(/-/g,"")}}(r||(r={}))},17873:function(e,t,n){"use strict";n.d(t,{R0:function(){return u},mS:function(){return f},ot:function(){return g},yb:function(){return c}});var r=n(21050),i=n(98304),o=n(33954),a=n(33379),s=n(78722);let c,u;const l=new Map;let d;const h=(0,r.oA)("WebWorkerUtility","WebWorkerUtility",!0),p=new Map;function g(e,t,n=!0,r=!0){const a={id:e&&e.id||"",fetched:!1,payload:null};if(!e||!e.id)return Promise.resolve(a);if(!c&&(!u||u&&"appanoncookie"!==e.id))return Promise.resolve(a);const s=h&&h.startMeasure(e.id).endMeasure,g=p.get(e.id);if(g)return r&&p.delete(e.id),s&&s({customSuffix:"standbymessage"}),Promise.resolve(g);let f,m;t&&(m=new Promise((r=>{f=setTimeout((()=>{l.delete(e.id);const c=`Web worker request timed out after ${t}ms for request id: [${e.id}]`;n&&(d?d(Object.assign(Object.assign({},i.s7S),{message:"Web worker request timed out",pb:Object.assign(Object.assign({},i.s7S.pb),{customMessage:c})})):o.k.logError(c)),s&&s({customSuffix:"timeout"}),r(Object.assign(Object.assign({},a),{timeout:!0}))}),t)})));const v=new Promise((t=>{l.set(e.id,{type:e.type||"data",callback:e=>{f&&clearTimeout(f),s&&s(),t(e)}})}));return window.webWorker.postMessage({id:e.id,type:e.type||"data",payload:e.payload}),t?Promise.race([v,m]):v}function f(e){c&&e&&e.id&&window.webWorker.postMessage({id:e.id,type:e.type||"command",payload:e.payload||null})}var m;c=!1,u=!1,(0,a.N)()&&(c=void 0!==m?m:!!window.webWorker,window._isWebWorkerPresent=c,u=c),"edgeChromium"===s.jG.AppType&&(c=!1,s.jG.StaticDomain&&s.jG.StaticDomain.endsWith("cn")&&(u=!1)),(c||u)&&(window.webWorker.onmessage=e=>{const{data:t}=e,n=l.get(t.id);if(!n)return void p.set(t.id,t);"data"===n.type&&l.delete(t.id);const r=n.callback;r&&r(t)},setTimeout((()=>{window.webWorkerMessages&&Array.isArray(window.webWorkerMessages)&&(window.webWorkerMessages.forEach((e=>{e.id&&p.set(e.id,e)})),delete window.webWorkerMessages)})))},13959:function(e,t,n){"use strict";var r;n.d(t,{K:function(){return r}}),function(e){e[e.Banner=999999]="Banner",e[e.CookieWall=1100]="CookieWall",e[e.Dialog=900]="Dialog",e[e.Flyout=700]="Flyout",e[e.Overlay=600]="Overlay",e[e.Nav=500]="Nav",e[e.Over=300]="Over",e[e.Above=100]="Above",e[e.Default=0]="Default",e[e.Below=-1]="Below",e[e.Buried=-2]="Buried"}(r||(r={}))},70312:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(32005),i=n(33379);function o(){return(0,i.N)()?window.fetch.bind(window):r.br}},987:function(e,t,n){"use strict";n.d(t,{$o:function(){return a}});var r=n(13638),i=n(33379);class o extends r.C{constructor(){let e=null;if((0,i.N)())try{e=localStorage}catch(e){}super(e)}}function a(){return s}let s=new o},62850:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(98304),i=n(33379);function o(e){if((0,i.N)()){const t="storageTest";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){(e||"function"==typeof e)&&e(Object.assign(Object.assign({},r.F0_),{message:`Local Storage is not defined ${t}`}))}}return!1}},20424:function(e,t,n){"use strict";n.d(t,{G:function(){return s},y7:function(){return a}});var r=n(13638),i=n(33379);class o extends r.C{constructor(){let e=null;if((0,i.N)())try{e="sessionStorage"in window&&window.sessionStorage}catch(e){}super(e)}}let a=new o;function s(){return a}},84344:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(98304),i=n(33379);function o(e){if((0,i.N)()){const t="storageTest";try{return window.sessionStorage.setItem(t,t),window.sessionStorage.removeItem(t),!0}catch(t){(e||"function"==typeof e)&&e(Object.assign(Object.assign({},r.EIi),{message:`Session Storage is not defined: ${t}`}))}}return!1}},13638:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(81428),i=n(33954);class o{constructor(e){this.storage=e}get supported(){return!!this.storage}getItem(e){if(this.supported)return this.storage.getItem(e)}getObject(e,t){const n=this.getItem(e);if(null!=n){const e=(0,r.dW)(n);if(null!=e)return e}return t}key(e){if(this.supported&&e>=0)return this.storage.key(e)}keys(){return this.supported?Object.keys(this.storage):[]}setObject(e,t){void 0!==t?this.setItem(e,JSON.stringify(t)):this.removeItem(e)}removeObject(e){const t=this.removeItem(e);if(null!=t)return(0,r.dW)(t)}setItem(e,t,n=!0){if(this.supported)try{if(!t)throw"Attempted to store null/undefined value: "+t;this.storage.setItem(e,t)}catch(e){if(!n)throw e;i.k.logError(e)}else if(!n)throw new Error("WebStorage not supported")}get length(){if(this.supported)return this.storage.length}removeItem(e){if(this.supported){const t=this.getItem(e);return this.storage.removeItem(e),t}}clear(){this.supported&&this.storage.clear()}removeSubstringKeys(e){if(!this.supported||!e)return;const t=[];for(let n=0;n<this.storage.length;n++){const r=this.key(n);r&&r.includes(e)&&t.push(r)}for(let e=0;e<t.length;e++)this.removeItem(t[e])}}},12884:function(e,t,n){"use strict";n.d(t,{$w:function(){return p},Dp:function(){return u},G8:function(){return h},J3:function(){return S},SV:function(){return g},Td:function(){return s},Wo:function(){return d},ZI:function(){return f},b0:function(){return w},bs:function(){return m},fA:function(){return v},ij:function(){return o},l4:function(){return a},tM:function(){return C},x_:function(){return y},zp:function(){return l},zw:function(){return c}});var r=n(33379),i=n(2140);function o(){return(0,r.N)()?window.navigator.userAgent:(0,i.s)().userAgent}function a(){return(0,r.N)()?window.location.href:(0,i.s)().url.href}function s(){return(0,r.N)()?window.location.hostname:(0,i.s)().url.hostname}function c(){return(0,r.N)()?window.location.host:(0,i.s)().url.host}function u(){return(0,r.N)()?window.location.origin:(0,i.s)().url.origin}function l(){return(0,r.N)()?window.location.search:(0,i.s)().url.search}function d(){return(0,r.N)()?window.location.pathname:(0,i.s)().url.pathname}function h(){return(0,r.N)()?window.document.cookie:(0,i.s)().cookie}function p(e){if(!(0,r.N)())throw new Error("getDocumentElementById is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementById(e)}function g(e){if(!(0,r.N)())throw new Error("getDocumentElementsByTagName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByTagName(e)}function f(e){if(!(0,r.N)())throw new Error("getDocumentElementsByClassName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByClassName(e)}function m(){return(0,r.N)()?window.indexedDB:null}function v(){return(0,r.N)()?window.innerHeight:(0,i.s)().innerHeight}function y(){return(0,r.N)()?window.devicePixelRatio:(0,i.s)().devicePixelRatio}function C(){return!!((0,r.N)()?window.CSS&&window.CSS.supports&&CSS.supports("display","grid"):(0,i.s)().canUseCssGrid)}function S(){if(!(0,r.N)())throw new Error("SSR currently does not support custom fonts.");return!!(window.CSS&&window.CSS.supports&&CSS.supports("(font-variation-settings: normal)"))}function w(e,t,n=!0,i="anonymous",o,a){if(!(0,r.N)())throw new Error("createScriptTag is unsupported server side. This call should be wrapped in canUseDOM().");const s=document.createElement("script");return t&&(s.id=t),o&&s.setAttribute("class",o),a&&(s.onload=a),s.type="text/javascript",e&&(s.src=e,s.async=n,s.crossOrigin=i),window&&window.NONCE_ID&&(s.nonce=window.NONCE_ID),s}},33379:function(e,t,n){"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv)}n.d(t,{N:function(){return r}})},27003:function(e,t,n){"use strict";n.d(t,{Gq:function(){return i}});let r=new Map;const i=Object.freeze({set(e,t){return r.set(e,t),this},get:function(e,t){let n=r.get(e);return void 0===n&&t&&(n=t(),r.set(e,n)),n},clear(){r.clear()},delete:e=>r.delete(e),has:e=>r.has(e)})},70587:function(e,t,n){"use strict";n.d(t,{Cw:function(){return a},cs:function(){return o},j4:function(){return s},mx:function(){return i}});var r=n(68692);const i="rd",o="OSATE",a="OSAT",s={ver:"0.1.0",spec:{innerWidth:{clientValue:()=>window.innerWidth},innerHeight:{clientValue:()=>window.innerHeight},outerWidth:{clientValue:()=>window.outerWidth},breakpoint:{clientValue:()=>function(e,t){for(let n=t.length-1;n>=0;n--)if(e>=t[n])return n}(window.innerWidth,r.A)},locationHash:{clientValue:()=>window.location.hash},locationHref:{clientValue:()=>window.location.href},locationHost:{clientValue:()=>window.location.host},locationHostName:{clientValue:()=>window.location.hostname},locationOrigin:{clientValue:()=>window.location.origin},locationPathName:{clientValue:()=>window.location.pathname},locationProtocol:{clientValue:()=>window.location.protocol},locationSearch:{clientValue:()=>window.location.search},screenTop:{clientValue:()=>window.screenTop},screenY:{clientValue:()=>window.screenY},canUseCssGrid:{clientValue:()=>window.CSS&&window.CSS.supports&&CSS.supports("display","grid")||!1},devicePixelRatio:{clientValue:()=>window.devicePixelRatio},language:{clientValue:()=>document.documentElement.lang},direction:{clientValue:()=>document.documentElement.dir}}}},68692:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});const r=[0,656,980,1304]},99590:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(33379);function i(e){return"object"==typeof n.g&&n.g.TEST_ENV&&!n.g.TEST_SINGLETONPROXY||(0,r.N)()?e.getInstance():new Proxy(e,{get(e,t,n){const r=e.getInstance(),i=Reflect.get(r,t,r);return"function"==typeof i?i.bind(r):i},set(e,t,n,r){const i=e.getInstance();return Reflect.set(i,t,n,i)}})}},2140:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(27003),i=n(70587);const o="__RequestDataInstance__";class a{constructor(e,t){if(this.url=new URL(e.href),this.innerHeight=e.innerHeight,this.devicePixelRatio=e.devicePixelRatio,this.canUseCssGrid=e.canUseCssGrid,this.requestId=e.requestId,this.cookie=e.cookie,this.referer=e.referer,this.userAgent=e.userAgent,this.clientData=e.clientData,this.oneServiceHeaders=function(e){try{if(e)return JSON.parse(e)}catch(e){}}(e.oneServiceHeaders)||{},this.isPssrMode=t,t){const e=s(i.cs,this.cookie),t=!!e&&"1"===e,n=s(i.Cw,this.cookie);if(t&&n||!e&&!n)return this.msalAuthReady=!0,void(n&&(this.oneServiceHeaders.Authorization=`Bearer ${n}`));this.msalAuthReady=!1,this.pssrRejectedReason=e&&!t?"interactiveLogin":e&&!n?"missOSAT":"missOSATE"}}static getInstance(){const e=r.Gq.get(o);return e||(n.g.TEST_ENV?c({href:"http://localhost:8080/",innerHeight:768,devicePixelRatio:1,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}):c({href:"http://localhost:8080/",innerHeight:0,devicePixelRatio:0,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}))}static resetInstance(e,t=!1){const n=new a(e,t);return r.Gq.set(o,n),n}}function s(e,t){if(t&&e){const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return n&&n.length>1?n[1]:null}return null}const c=a.resetInstance,u=()=>a.getInstance()},56474:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(98304),i=n(65135);class o extends Map{constructor(e,t={}){super(),this.identifier=e,this.subscriptions=new Map,t.initialState&&Object.keys(t.initialState).forEach((e=>{super.set(e,t.initialState[e])}))}set(e,t){super.set(e,t);const n=this.subscriptions.get(e);return n&&n.size?(n.forEach((n=>{try{n&&n(t)}catch(t){i.M0.sendAppErrorEvent(Object.assign(Object.assign({},r.fG_),{message:"Failed to execute subscription callback",pb:Object.assign(Object.assign({},r.fG_.pb),{customMessage:`Error executing subscription callback for key [${e}]`,instanceId:this.identifier,errorMessage:t&&t.message})}))}})),this):this}subscribe(e,t,n={}){if(!t||"function"!=typeof t)return;let r=this.subscriptions.get(e);r||(this.subscriptions.set(e,new Set),r=this.subscriptions.get(e)),r.add(t),this.has(e)&&!1!==n.fireImmediately&&t(this.get(e)),n.signal&&n.signal.addEventListener("abort",(()=>{this.unsubscribe(e,t)}))}unsubscribe(e,t){const n=this.subscriptions.get(e);n&&n.delete(t)}reset(){this.clear(),this.subscriptions.clear()}}},81353:function(e,t,n){"use strict";n.d(t,{t:function(){return g}});var r=n(98680),i=n(61246),o=n(58794),a=n(4629),s=n(82683),c=n(32181),u=n(14816);class l{constructor(e=1){this._index=e,this.subscribed=new Set,this._scrollAmmount=0,this._scrollOffset=0}static fromIndex(e){if(e<2)return l.instance;let t=l.instance;for(;t.next.index<=e;)t=t.next;return t}get index(){return this._index}get scrollAmmount(){return this._scrollAmmount}get scrollOffset(){return this._scrollOffset}add(e){e&&!this.subscribed.has(e)&&(this.subscribed.add(e),this.updateScrollLimits())}remove(e){e&&!this.subscribed.has(e)&&(this.subscribed.delete(e),this.updateScrollLimits())}get same(){return this}get next(){return this._next||(this._next=new l(this.index+1)),this._next}updateScrollLimits(e){let t=!1;void 0!==e&&(this._scrollOffset=e,t=!0);const n=[...this.subscribed].map((e=>(e.state.from||0)-(e.state.to||0))),r=n.length?Math.max.apply(null,n):0;r!==this._scrollAmmount&&(this._scrollAmmount=r,t=!0),t&&this._next&&this._next.updateScrollLimits(this.scrollOffset+this.scrollAmmount)}static get instance(){return this._instance||(this._instance=new l)}}var d=n(80013),h=n(89526);class p extends d.Z{constructor(e){super(e),this.handledProps={context:void 0,direction:void 0,from:void 0,managedClasses:void 0,to:void 0},this.hasScrolled=!1;const{from:t,to:n}=this.props;this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),this.ref=h.createRef(),this.state={from:t,to:n||0,height:t}}render(){const{children:e,style:t={}}=this.props,n=this.getStyles();return h.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses?this.props.managedClasses.scrollable:""),style:Object.assign(Object.assign({},t),n.width)}),h.createElement("div",{style:n.height},h.createElement("div",{ref:this.ref,style:n.positioning},e)))}componentDidMount(){window.addEventListener("scroll",this.onScroll,{passive:!0}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),this.props.context.remove(this)}onScroll(){this.hasScrolled||(this.hasScrolled=!0,this.props.context.add(this),this.initializeHeights());const{context:e}=this.props,t=Math.max(document.documentElement.scrollTop,document.body.scrollTop),{from:n,to:r}=this.state;if(t<e.scrollOffset)return this.setState({height:n});if(t>e.scrollOffset+e.scrollAmmount)return this.setState({height:r});const i=t-e.scrollOffset,o=Math.max(n-i,r);this.setState({height:o})}onResize(){setTimeout((()=>{this.initializeHeights(),this.onScroll()}),100)}initializeHeights(){let{from:e}=this.props;void 0===e&&(e=this.ref.current.scrollHeight||0,this.setState({from:e,height:e},(()=>this.props.context.updateScrollLimits())))}getStyles(){const{direction:e}=this.props,{height:t,from:n}=this.state,r=void 0!==t&&void 0!==n?t-n:0,i={height:`${t}px`,overflowY:r<0?"hidden":null},o={minWidth:"fit-content",overflowX:"visible"},a={display:"flex",alignItems:"center",justifyContent:"center"},s={position:"relative"},c={top:`${r}px`};switch(e){case"bottom":return{height:i,width:o,positioning:s};case"center":return{height:Object.assign(Object.assign({},i),a),width:o,positioning:s};default:return{height:i,width:o,positioning:Object.assign(Object.assign({},s),c)}}}}p.defaultProps={direction:"top",context:l.instance};var g,f=n(98304),m=n(65135),v=n(52965),y=n(13746);!function(e){e.inspect=function(e,t){const n={props:{},missingChildren:[]},d=e.config.composition;if(!d||d.type!==s.O.layout&&d.type!==s.O.horizontalStack)return n;if(!d.page||!d.page.children)return n;n.props=Object.assign({},d.page);let g=!1;const C=d.page.children.map((s=>{if(void 0===s.children)return s;let d=s.children.map((s=>{if(!s.children)return s;if(!e.children)return Object.assign(Object.assign({},s),{children:void 0});const{childType:l}=s.children;if(!l&&(m.M0.sendAppErrorEvent(Object.assign(Object.assign({},f.TZh),{message:`Deprecated composition layout format used: ${JSON.stringify(s.children)}`})),!(0,c.oO)(s.children)))return s;switch(l){case u.f.button:{const{id:e}=s.children;let n=s.children.child;if(t){const r=t(l,e,n);n=r||n}return Object.assign(Object.assign({},s),{children:h.createElement(r.zx,n)})}case u.f.heading:{const{id:e}=s.children;let n=s.children.child;if(t){const r=t(l,e,n);n=r||n}return Object.assign(Object.assign({},s),{children:h.createElement(i.X6,n)})}case u.f.typography:{const{id:e}=s.children;let n=s.children.child;if(t){const r=t(l,e,n);n=r||n}return Object.assign(Object.assign({},s),{children:h.createElement(o.ZT,n)})}case u.f.actionTrigger:{const{id:e}=s.children;let n=s.children.child;if(t){const r=t(l,e,n);if(null===r)return Object.assign(Object.assign({},s),{children:null});n=r||n}return Object.assign(Object.assign({},s),{children:h.createElement(a.px,n)})}case u.f.webComponentExperience:{const e=s.children.child;return g=!0,Object.assign(Object.assign({},s),{children:(0,y.V)(e)})}default:case u.f.peregrineExperience:{const t=s.children;let r;if(t.childType){r=t.child}else r=t;if(!r)return s;const i=r.instanceId,o=e.children[i];return o||n.missingChildren.push(r),Object.assign(Object.assign({},s),{children:o})}}}));return d=d.map((e=>{const t=e.scrollable;if(delete e.scrollable,t){const i=Object.assign(Object.assign({},t),{context:l.fromIndex(t.context)});e.children=(n=e.children,r=i,h.createElement(p,Object.assign(Object.assign({},r),{children:n})))}var n,r;return e})),Object.assign(Object.assign({},s),{children:d})}));return n.props=Object.assign(Object.assign({},n.props),{children:(0,v.Z)(C),supportWebComponents:g}),n}}(g||(g={}))},75542:function(e,t,n){"use strict";n.d(t,{Qz:function(){return b},bn:function(){return T},v:function(){return P},FQ:function(){return v},gy:function(){return g},_k:function(){return m},S0:function(){return h},Hp:function(){return k},F_:function(){return f}});var r=n(33940),i=n(68917),o=n(99620),a=n(53301),s=n(83757),c=n(53076),u=n(43819),l=n(49016);const d=(e,t)=>e.filter((e=>t in e));function h(){return u._.getInstance().rootReducer.connector(c.z.MilestoneData)}function p(e){const t=h();if(!t)return;const n=t.getCurrentState().perExperienceMilestones,r=n&&n.get(e);let i;return r&&(i=r.perInstanceMilestones.get(s.t)),i}function g(e){const t=p(e);if(!t||function(e){let t;switch(e.loadAfter.eventType){case i.Gg.aboveTheFoldVisuallyReady:t=y();break;case i.Gg.belowTheFoldTransitionStart:t=C();break;case i.Gg.hydrationComplete:t=w();break;default:t=(0,l.c)(e.loadAfter.experienceType,e.loadAfter.eventType)}return t}(t))return null;if(t.shouldLoad&&t.loadAfter){return{deferralType:S(t.loadAfter),shouldResolve:t.shouldLoad}}return null}function f(){return h()?y()?Promise.resolve():new Promise((e=>{a.g.updateAboveTheFoldVisuallyReady.registerObserver((t=>{e()}))})):Promise.resolve()}function m(e){const t=p(e);if(!t||function(e){let t;switch(e.renderAfter.eventType){case i.Gg.aboveTheFoldVisuallyReady:t=y();break;case i.Gg.belowTheFoldTransitionStart:t=C();break;case i.Gg.hydrationComplete:t=w();break;default:t=(0,l.c)(e.loadAfter.experienceType,e.renderAfter.eventType)}return t}(t))return null;if(t.shouldRender&&t.renderAfter){return{deferralType:S(t.renderAfter),shouldResolve:t.shouldRender}}return null}function v(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=h();if(!t)return;const n=t.getCurrentState().plugins;if(!n||0===n.length)return;const r=d(n,e);for(const t of r)void 0!==t[e]&&(yield t[e].call(t))}))}function y(){const e=h();if(!e)return!1;const{aboveTheFoldVisuallyReady:t}=e.getCurrentState();return Boolean(t&&t.endTime!==s.n)}function C(){const e=h();return!!e&&e.getCurrentState().belowTheFoldTransitionStart}function S(e){return e.eventType in i.ic?o.e.CustomEventBasedDeferral:o.e.StandardEventBasedDeferral}function w(){const e=h();return!!e&&e.getCurrentState().hydrationComplete}function b(e,t,n,r){return{deferralInfo:e,experienceType:t,experienceGroup:n,experienceInstance:r}}function T(e,t,n,r){return{experienceType:e,currentState:t,experienceGroup:n,experienceInstance:r}}function P(e,t,n,r,i){return{experienceType:e,experienceGroup:t,experienceInstance:n,startTime:r,endTime:i}}function k(){const e=h();e&&a.g.updateHydrationComplete.getActionSender(e).send()}},53301:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(55067);class i{constructor(){this.updateHydrationComplete=new r.C("updateHydrationRenderComplete"),this.updateRiverHydrationComplete=new r.C("updateRiverHydrationRenderComplete"),this.updateAboveTheFoldVisuallyReady=new r.C("updateAboveTheFoldVisuallyReady"),this.updateBelowTheFoldTransitionStart=new r.C("updateBelowTheFoldTransitionStart"),this.updateExperienceLoadDeferralState=new r.C("updateExperienceLoadDeferralState"),this.updateExperienceCurrentState=new r.C("updateExperienceCurrentState"),this.updateExperiencePublicState=new r.C("updateExperiencePublicState"),this.updateExperienceRenderDeferralState=new r.C("updateExperienceRenderDeferralState"),this.updateInitTiming=new r.C("UpdateInitTiming"),this.updatePageComplete=new r.C("updatePageCompleteTiming"),this.updateRenderTiming=new r.C("UpdateRenderTiming"),this.updateVisuallyReadyTiming=new r.C("UpdateVisuallyReadyTiming"),this.updateStartLoadingTiming=new r.C("UpdateStartLoadingTiming"),this.updateDomCompleteTiming=new r.C("UpdateDomCompleteTiming"),this.updateMilestonePlugins=new r.C("updateMilestonePlugin")}resetInstance(){this.updateHydrationComplete.unregisterObservers(),this.updateRiverHydrationComplete.unregisterObservers(),this.updateAboveTheFoldVisuallyReady.unregisterObservers(),this.updateBelowTheFoldTransitionStart.unregisterObservers(),this.updateExperienceLoadDeferralState.unregisterObservers(),this.updateExperienceCurrentState.unregisterObservers(),this.updateExperiencePublicState.unregisterObservers(),this.updateExperienceRenderDeferralState.unregisterObservers(),this.updateInitTiming.unregisterObservers(),this.updatePageComplete.unregisterObservers(),this.updateRenderTiming.unregisterObservers(),this.updateVisuallyReadyTiming.unregisterObservers(),this.updateDomCompleteTiming.unregisterObservers(),this.updateMilestonePlugins.unregisterObservers(),o=new i}}let o=new i},78039:function(e,t,n){"use strict";n.d(t,{m:function(){return p}});var r=n(53301),i=n(68917),o=n(75542),a=n(78690),s=n(49016),c=n(2820);function u(e,t){e.registerObserver((e=>{((e.params||[])[0]||[]).forEach((({deferralInfo:e,experienceType:n})=>{e&&n&&function(e,t,n){if(!e||!t||!(t.eventType in i.Gg)||!t.experienceType&&!t.experienceGroup)return;const{eventType:r,experienceType:o}=t,u=o||t.experienceGroup,l=s.v.get(u);if(l&&l.referencedDependentsDeferralMap){if(l.currentState<r){const t=l.referencedDependentsDeferralMap.get(r);t?t.size>0&&t.set(e,n):l.referencedDependentsDeferralMap.set(r,new Map([[e,n]]))}}else s.v.set(u,{currentState:a.D.notStarted,referencedDependentsDeferralMap:new Map([[r,new Map([[e,n]])]])}),o&&(0,c.w)(o,!0)}(n,e,t)}))}))}function l(){u(r.g.updateExperienceLoadDeferralState,a.D.loadDeferred),u(r.g.updateExperienceRenderDeferralState,a.D.renderDeferred),r.g.updateExperienceCurrentState.registerObserver((e=>{const t=[];if(((e.params||[])[0]||[]).forEach((({experienceType:e,currentState:n})=>{if(!e||!n)return;const r=s.v.get(e);if(!r)return;r.currentState=n;const c=i.ez.get(n),u=c&&r.referencedDependentsDeferralMap.get(c);u&&u.forEach(((e,n)=>{if(!n)return;const r=e===a.D.loadDeferred?a.D.resolvedForLoad:a.D.resolvedForRender;t.push((0,o.bn)(n,r))}))})),t.length){const e=(0,o.S0)();e&&r.g.updateExperienceCurrentState.getActionSender(e).send(t)}}))}var d=n(55953),h=n(63439);class p extends h.e{constructor(e,t,n,i,s,c,u){super(e,t,n,i,s,c,u),this.startObservers(),r.g.updateInitTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],a.D.initialized))),r.g.updateRenderTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],a.D.rendered))),r.g.updateVisuallyReadyTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],a.D.visuallyReady))),r.g.updateStartLoadingTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],a.D.startLoading))),r.g.updateDomCompleteTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],a.D.domComplete))),r.g.updateExperienceLoadDeferralState.registerObserver((e=>{const t=((e.params||[])[0]||[]).map((({experienceType:e,experienceGroup:t,experienceInstance:n})=>(0,o.bn)(e,a.D.loadDeferred,t,n)));t.length&&r.g.updateExperienceCurrentState.getActionSender(this).send(t)})),r.g.updateExperienceRenderDeferralState.registerObserver((e=>{const t=((e.params||[])[0]||[]).map((({experienceType:e,experienceGroup:t,experienceInstance:n})=>(0,o.bn)(e,a.D.renderDeferred,t,n)));t.length&&r.g.updateExperienceCurrentState.getActionSender(this).send(t)}))}startObservers(){l(),(0,d.gc)()}updateExperienceTiming(e,t){e&&e.endTime&&r.g.updateExperienceCurrentState.getActionSender(this).send([(0,o.bn)(e.experienceType,t,e.experienceGroup,e.experienceInstance)])}}},83757:function(e,t,n){"use strict";n.d(t,{n:function(){return i},t:function(){return r}});const r="default",i=-1},39008:function(e,t,n){"use strict";n.d(t,{c:function(){return C}});var r=n(30856),i=n(53301),o=n(60070),a=n(78690),s=n(33954);function c(){return p(i.g.updateAboveTheFoldVisuallyReady,(()=>!0))}function u(){return p(i.g.updateBelowTheFoldTransitionStart,(()=>!0))}function l(e){return h(e,a.D.resolvedForLoad)}function d(e){return h(e,a.D.resolvedForRender)}function h(e,t){return p(i.g.updateExperienceCurrentState,(n=>((n.params||[])[0]||[]).some((n=>n.currentState===t&&n.experienceType===e))))}function p(e,t){return new Promise(((n,r)=>{try{e.registerObserver((e=>{t(e)&&n(!0)}))}catch(e){s.k.logError(e),r(!1)}}))}function g(){return new Promise(((e,t)=>{try{i.g.updateHydrationComplete.registerObserver((()=>{e(!0)}))}catch(e){s.k.logError(e),t(!1)}}))}var f=n(83757),m=n(68917);class v{static updateExperienceCurrentState(e,t,n,r,i){const o=this.getOrCreateExperienceInstanceMilestone(e,t,r,i);o&&(o.currentState=n)}static updateMilestoneTiming(e,t,n,r,i,s,c){const u=this.getOrCreateExperienceInstanceMilestone(e,t,s,c);let l;if(u)switch(n){case o.c.initialized:l=u.initializationTime;break;case o.c.rendered:l=u.renderTime;break;case o.c.visuallyReady:l=u.visuallyReadyTime;break;case o.c.domComplete:l=u.domCompleteTime;break;case o.c.startLoading:return void(l=u.startLoadingTime);case o.c.error:return void(u.currentState=a.D.error);default:throw new Error("Invalid Argument: Unrecognized eventType")}if(!l)throw new Error(`Invalid experience time object while processing timing update for ${n}`);r&&(l.startTime=r),i&&(l.endTime=i)}static updateHydrationComplete(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.hydrationComplete=t}static updateBelowTheFoldTransitionStart(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.belowTheFoldTransitionStart=t}static updateMilestonePlugin(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.plugins&&0!==e.plugins.length?e.plugins=e.plugins.concat(t):e.plugins=t}static updateAboveTheFoldVisuallyReady(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);if(!e.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");e.aboveTheFoldVisuallyReady.startTime=0,e.aboveTheFoldVisuallyReady.endTime=t}static updatePageComplete(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);if(!e.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");e.pageCompleteTiming.startTime=0,e.pageCompleteTiming.endTime=t}static deferExperienceLoad(e,t,n,r,i){const o=this.getOrCreateExperienceInstanceMilestone(e,t,r,i);o.loadAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},v.updateLoadDeferralHandler(o,t)}static deferExperienceRender(e,t,n,r,i){const o=this.getOrCreateExperienceInstanceMilestone(e,t,r,i);o.renderAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},v.updateRenderDeferralHandler(o,t)}static getOrCreateExperienceMilestone(e,t,n){if(!t)throw new Error("Invalid Argument: experienceType");e||(e={aboveTheFoldVisuallyReady:void 0,pageCompleteTiming:void 0,perExperienceMilestones:void 0}),e.perExperienceMilestones||(e.perExperienceMilestones=new Map);let r=e.perExperienceMilestones.get(t);return r||(r={experienceType:t,experienceGroup:n,perInstanceMilestones:new Map},e.perExperienceMilestones.set(t,r)),r}static getOrCreateExperienceInstanceMilestone(e,t,n,r){const i=this.getOrCreateExperienceMilestone(e,t,n),o=r||f.t;let s=i.perInstanceMilestones.get(o);return s||(s={currentState:a.D.notStarted,initializationTime:{endTime:f.n,startTime:f.n},loadAfter:{experienceType:void 0,eventType:void 0},renderAfter:{experienceType:void 0,eventType:void 0},renderTime:{endTime:f.n,startTime:f.n},visuallyReadyTime:{endTime:f.n,startTime:f.n},startLoadingTime:{endTime:f.n,startTime:f.n},domCompleteTime:{endTime:f.n,startTime:f.n}},i.perInstanceMilestones.set(o,s)),s}static updateLoadDeferralHandler(e,t){switch(e.loadAfter.eventType){case m.Gg.aboveTheFoldVisuallyReady:e.shouldLoad=c;break;case m.Gg.belowTheFoldTransitionStart:e.shouldLoad=u;break;case m.Gg.hydrationComplete:e.shouldLoad=g;break;default:return void(e.shouldLoad=l.bind(this,t))}}static updateRenderDeferralHandler(e,t){switch(e.renderAfter.eventType){case m.Gg.aboveTheFoldVisuallyReady:e.shouldRender=c;break;case m.Gg.belowTheFoldTransitionStart:e.shouldRender=u;break;case m.Gg.hydrationComplete:e.shouldRender=g;break;default:return void(e.shouldRender=d.bind(this,t))}}}v.invalidMilestoneModelMessage="Invalid Argument: milestoneModel";var y=n(85663);class C{reduce(e,t){let n;if(n=e?Object.assign({},e):{aboveTheFoldVisuallyReady:{endTime:f.n,startTime:f.n},pageCompleteTiming:{endTime:f.n,startTime:f.n},perExperienceMilestones:new Map},!t)return n;let r=!1;return r=r||this.handlePageLevelActions(r,t,n),r=r||this.handleExperienceLevelActions(r,t,n),n||e}handleExperienceLevelActions(e,t,n){return e=(e=(e=(e=(e=(e=(e=(e=(e=e||r.G.handleAction(t,i.g.updateInitTiming,(e=>this.updateTiming(o.c.initialized,n,e))))||r.G.handleAction(t,i.g.updateRenderTiming,(e=>this.updateTiming(o.c.rendered,n,e))))||r.G.handleAction(t,i.g.updateVisuallyReadyTiming,(e=>this.updateTiming(o.c.visuallyReady,n,e))))||r.G.handleAction(t,i.g.updateStartLoadingTiming,(e=>this.updateTiming(o.c.startLoading,n,e))))||r.G.handleAction(t,i.g.updateDomCompleteTiming,(e=>this.updateTiming(o.c.domComplete,n,e))))||r.G.handleAction(t,i.g.updateExperienceLoadDeferralState,(e=>e.forEach((({deferralInfo:e,experienceType:t,experienceGroup:r,experienceInstance:i})=>{e&&t&&v.deferExperienceLoad(n,t,e,r,i)})))))||r.G.handleAction(t,i.g.updateExperienceRenderDeferralState,(e=>e.forEach((({deferralInfo:e,experienceType:t,experienceGroup:r,experienceInstance:i})=>{e&&t&&v.deferExperienceRender(n,t,e,r,i)})))))||r.G.handleAction(t,i.g.updateExperienceCurrentState,(e=>e.forEach((({experienceType:e,currentState:t,experienceGroup:r,experienceInstance:i})=>{t&&e&&v.updateExperienceCurrentState(n,e,t,r,i)})))))||r.G.handleAction(t,i.g.updateExperiencePublicState,(e=>{}))}handlePageLevelActions(e,t,n){return e=(e=(e=(e=(e=e||r.G.handleAction(t,i.g.updatePageComplete,(e=>v.updatePageComplete(n,e))))||r.G.handleAction(t,i.g.updateAboveTheFoldVisuallyReady,(e=>v.updateAboveTheFoldVisuallyReady(n,e))))||r.G.handleAction(t,i.g.updateBelowTheFoldTransitionStart,(e=>{(0,y.isNullOrUndefined)(e)||v.updateBelowTheFoldTransitionStart(n,e)})))||r.G.handleAction(t,i.g.updateHydrationComplete,(()=>{v.updateHydrationComplete(n,!0)})))||r.G.handleAction(t,i.g.updateMilestonePlugins,(e=>{e.length>0&&v.updateMilestonePlugin(n,e)}))}updateTiming(e,t,n){const{startTime:r,endTime:i,experienceType:o,experienceGroup:a,experienceInstance:s}=n;v.updateMilestoneTiming(t,o,e,r,i,a,s)}}},55953:function(e,t,n){"use strict";n.d(t,{d$:function(){return u},gc:function(){return l},nS:function(){return c}});var r=n(53301),i=n(78690),o=n(73713),a=n(2820);let s=new Map;function c(e,t){let n=s.get(e);n||(s.set(e,{dependenciesMet:!1,DomCompleteCallback:void 0,DomCompleteDependencies:new Map}),n=s.get(e));const r=(i=t).experienceNamespace?`ns-${i.experienceNamespace}`:i.experienceType?`t-${i.experienceType}`:`g-${i.experienceGroup}`;var i;const{DomCompleteDependencies:o}=n;o.get(r)||(o.set(r,{milestoneReached:!1,dependencyId:t}),t.experienceType&&(0,a.w)(t.experienceType,!0))}function u(e,t){const n=s.get(e);!n||n.dependenciesMet?t():n.DomCompleteCallback=t}function l(){r.g.updateExperienceCurrentState.registerObserver((e=>{((e.params||[])[0]||[]).forEach((e=>{e.currentState===i.D.domComplete&&s.forEach(((t,n)=>{let r=!0;const{DomCompleteDependencies:i,DomCompleteCallback:o}=t;for(const t of i.values()){const{dependencyId:{experienceType:n,experienceGroup:i,experienceNamespace:o}}=t;if(n&&n!==e.experienceType||i&&i!==e.experienceGroup||o&&o!==e.experienceInstance||(t.milestoneReached=!0),!t.milestoneReached){r=!1;break}}r&&(t.dependenciesMet=!0,o&&(s.delete(n),o()))}))}))}))}(0,o.U)((()=>{s=new Map}))},49016:function(e,t,n){"use strict";n.d(t,{c:function(){return o},v:function(){return i}});var r=n(73713);let i=new Map;function o(e,t){const n=i.get(e);return!n||n.currentState>=t}(0,r.U)((()=>{i=new Map}))},2820:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(73713);let i={};function o(e,t){return null!=t?i[e]=t:i[e]}(0,r.U)((()=>{i={}}))},68917:function(e,t,n){"use strict";n.d(t,{Gg:function(){return i},ez:function(){return a},ic:function(){return r}});var r,i,o=n(78690);!function(e){e[e.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart"}(r||(r={})),function(e){e[e.startLoading=14]="startLoading",e[e.loaded=4]="loaded",e[e.rendered=8]="rendered",e[e.domComplete=10]="domComplete",e[e.visuallyReady=11]="visuallyReady",e[e.aboveTheFoldVisuallyReady=12]="aboveTheFoldVisuallyReady",e[e.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart",e[e.hydrationComplete=1]="hydrationComplete"}(i||(i={}));const a=new Map([[o.D.loaded,i.loaded],[o.D.rendered,i.rendered],[o.D.domComplete,i.domComplete],[o.D.visuallyReady,i.visuallyReady]])},99620:function(e,t,n){"use strict";var r;n.d(t,{e:function(){return r}}),function(e){e[e.StandardEventBasedDeferral=0]="StandardEventBasedDeferral",e[e.CustomEventBasedDeferral=1]="CustomEventBasedDeferral"}(r||(r={}))},78690:function(e,t,n){"use strict";var r;n.d(t,{D:function(){return r}}),function(e){e[e.notStarted=1]="notStarted",e[e.loadDeferred=2]="loadDeferred",e[e.resolvedForLoad=3]="resolvedForLoad",e[e.loaded=4]="loaded",e[e.initialized=5]="initialized",e[e.renderDeferred=6]="renderDeferred",e[e.resolvedForRender=7]="resolvedForRender",e[e.rendered=8]="rendered",e[e.domComplete=10]="domComplete",e[e.visuallyReady=11]="visuallyReady",e[e.error=12]="error",e[e.startLoading=14]="startLoading"}(r||(r={}))},60070:function(e,t,n){"use strict";var r;n.d(t,{c:function(){return r}}),function(e){e[e.domComplete=0]="domComplete",e[e.error=1]="error",e[e.initialized=2]="initialized",e[e.rendered=3]="rendered",e[e.visuallyReady=5]="visuallyReady",e[e.startLoading=6]="startLoading"}(r||(r={}))},19809:function(e,t,n){"use strict";n.d(t,{$D:function(){return O}});var r=n(33940),i=n(33799),o=n(78722),a=n(61285),s=n(45506),c=n(10877),u=n(27583),l=n(1038),d=n(987),h=n(99038),p=n(23547),g=n(76323),f=n(4875),m=n(34042),v=n(51671),y=n(72447),C=n(33379),S=n(2140),w=n(17157),b=n(11380),T=n(98304),P=n(65135),k=n(73932),A=n(77153),E=n(79022),M=n(27496);const x="prg-telemetry-trace",I="traceparent";function L(e){if("Peregrine"===e){const e=(0,o.Yq)();null===P.M0||void 0===P.M0||P.M0.sendAppErrorEvent(Object.assign(Object.assign({},T.EDA),{message:"Generated OneService params with generic ocid value 'Peregrine'.",pb:Object.assign(Object.assign({},T.EDA.pb),{appType:e.AppType,hostPage:e.HostPage,stackTrace:Error().stack})}),!1)}}var O;!function(e){function t(e=null,t,n=!1,r=null,i=!1,c=(0,f.VQ)()){const u=(0,o.Yq)(),l=[{key:"apikey",value:u.OneServiceApiKey},{key:"activityId",value:u.ActivityId},{key:"ocid",value:n?T(u.TrackInfo,t):t},{key:u.OneServiceContentMarketQspKey,value:u.CurrentMarket},{key:"it",value:(0,a.E)()}];if(L(l.find((e=>"ocid"==e.key)).value),e&&l.push({key:"user",value:e}),c&&l.push({key:f.rZ,value:f.AN}),s.Al.IsBlendedEnterprise&&l.push({key:"audienceMode",value:"enterprise"}),u.ShouldUseFdheadQsp){let e=(0,s.nP)().CurrentFlights;if(r){e=e?`${e},${r}`:r;const t="prg-bngimg-t";-1===e.indexOf(t)&&(e+=","+t),!0===i&&(e=r)}l.push({key:"fdhead",value:e})}if(s.Al&&s.Al.CurrentFlightSet&&s.Al.CurrentFlightSet.has(x)){const e=k.U.getTraceInstance(),t="00-"+e.getTraceId(!0)+"-"+e.getSpanId(!0)+"-00";l.push({key:"traceparent",value:t})}return l}function n(e=(0,f.VQ)(),t,n,a){var h,p,g;return(0,r.mG)(this,void 0,void 0,(function*(){const r={};let f;const T=(0,o.Yq)()||{};if((0,s.nP)().CurrentFlights&&(0,s.nP)().CurrentFlights.includes("prg-tracingheader")){const e=k.U.getTraceInstance(),t=e.getTraceId(!0),n=e.getSpanId(!0);r[c.Yu.traceParent]="00-"+t+"-"+n+"-00"}if("windowsShell"===T.AppType||"windowsShellV2"===T.AppType)T.IsWinAADUser&&(f=yield P(),Object.assign(r,(0,u.tx)(f)));else if("winWidgets"===T.AppType){if((0,C.N)()&&"function"==typeof window.createWindowsWidget1SAuthHeaders){const e=yield window.createWindowsWidget1SAuthHeaders();Object.assign(r,e)}}else{if(T.WidgetAttributes){f=(yield(0,m.yb)()).tokenValue}if(("shopping"==T.AppType||"views"==T.AppType)&&(0,w.wq)()){if((yield(0,v.YX)()).accountType==i.Qm.MSA){Object.assign(r,yield(0,b.dG)());for(const e in r)0===e.indexOf("X-MSEdge")&&delete r[e];return r.SiteName=`api.msn.${T.topDomain}`,(0,b.VQ)(r),r}}if(!f)if(e&&!(yield T.isGccModUser)){const e={id:l.d3,friendlyName:l.Ak},t=yield null===(h=(0,A.Kf)())||void 0===h?void 0:h.getAuthData(e);f=null==t?void 0:t.authToken}else if("gaming"===n&&a&&(0,C.N)()){const e=(0,d.$o)().getObject("xboxXTokenId");e&&e.notAfter&&new Date(e.notAfter)>new Date&&(r[c.Yu.xboxToken]=JSON.stringify(e))}else if(!(null==t?void 0:t.skipDualAuthHeader)&&(0,u.P8)()&&!(0,u.TJ)()){const e=(0,u.hk)()?yield(0,y.IY)():(0,u.aS)();f=null==e?void 0:e.accessToken}Object.assign(r,(0,u.me)(f))}if(!(0,C.N)()){const{oneServiceHeaders:e,cookie:t,referer:n,clientData:i}=(0,S.s)();e&&Object.assign(r,e),i&&(r["X-Client-Data"]=i),t&&(r.Cookie=t),n&&(r.Referer=n);const o=null===(g=null===(p=(0,s.nP)().ClientSettings)||void 0===p?void 0:p.detection)||void 0===g?void 0:g.ip;o&&(r["X-FD-ClientIP"]=o,r["X-MSEdge-ClientIP"]=o)}return r}))}function T(e,t){return h.b.isNonNullObject(e)&&h.b.isNonNullObject(e.sitePage)&&(0,E.Z)(e.sitePage.page_product)&&(0,E.Z)(e.sitePage.page_type)?e.sitePage.page_product+"-"+e.sitePage.page_type+(t?"-"+t:""):t}e.serviceRequestOnComplete=function(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){try{const n=yield e();return t(),n}catch(e){throw t(),e}}))},e.getOneServiceParamsWithoutAuth=t,e.getOneServiceNonDynamicParamsWithoutAuth=function(e,t=!1){const n=(0,o.Yq)(),r=[{key:"apikey",value:n.OneServiceApiKey},{key:"ocid",value:t?T(n.TrackInfo,e):e},{key:n.OneServiceContentMarketQspKey,value:n.CurrentMarket}];return L(r.find((e=>"ocid"==e.key)).value),(0,f.VQ)()&&r.push({key:f.rZ,value:f.AN}),r},e.getOneServiceParamsWithAuth=function(e=null,n,r=!1,i=null,a=!1){const s=(0,o.Yq)(),c=[...t(e,n,r,i,a)],u=s.AuthCookieName;return u&&c.push({key:"scn",value:u.toUpperCase()}),c},e.getOneServiceHeaders=n,e.getOneServiceFeedCallHeaders=function(e,t,i){return(0,r.mG)(this,void 0,void 0,(function*(){const r=yield n(e,null,t,i),a=(0,o.Yq)(),s=a.ActivityId;return a.SendFeedCallActivityIdInHeader&&s&&(r[c.Yu.activityId]=s),r}))},e.getLocationParams=function(e,t){const n=(0,o.Yq)(),r=e||n.Latitude,i=t||n.Longitude;return r&&i?{key:"location",value:`${r}|${i}`}:null},e.getOneServiceOCID=T,e.getBaseRequestData=function(t,n){return(0,r.mG)(this,void 0,void 0,(function*(){return{headers:yield e.getOneServiceHeaders((0,f.VQ)(),n),method:t}}))},e.getCommonParams=function(e,t=!1){return(0,s.nP)().UserIsSignedIn?this.getOneServiceParamsWithAuth((0,o.Yq)().UserId,e,t):this.getOneServiceParamsWithoutAuth((0,o.Yq)().UserId,e,t)},e.getCommonParams2=function(e,t=!1,n=!1){return(0,v.hC)()?this.getOneServiceParamsWithAuth((0,o.Yq)().UserId,e,t,n):this.getOneServiceParamsWithoutAuth((0,o.Yq)().UserId,e,t,n)},e.urlContainsOcidParam=function(e){if(!e)return!1;const t=e.split("?");if(t.length<2)return!1;const n=t[1].split("#")[0];return!!new p.h(n).get("ocid")},e.removeOcidFromUrl=function(e){if(!e)return e;const t=e.split("?");if(t.length<2)return e;const n=t[1].split("#")[0],r=new p.h(n);if(r.get("ocid")){r.delete("ocid");let t=e.replace(n,r.toString());return"?"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}return e},e.removeOcidFromRiverCardProviderResponse=function(t){t&&t.cardMetadata&&t.cardMetadata.length&&t.cardMetadata.forEach((t=>{t.cardContent&&t.cardContent.destinationUrl?t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl):t.subItems&&t.subItems.length&&t.subItems.forEach((t=>{t.cardContent&&t.cardContent.destinationUrl&&(t.cardContent.destinationUrl=e.removeOcidFromUrl(t.cardContent.destinationUrl))})),t.metadata&&t.metadata.relatedCards&&t.metadata.relatedCards.forEach((t=>{t.url=e.removeOcidFromUrl(t.url)}))}))},e.removeOcidFromWindowsOneServiceResponse=function(t){t&&t.cards&&t.cards.forEach((t=>{t.subCards.forEach((t=>{t.url?t.url=e.removeOcidFromUrl(t.url):t.subCards&&t.subCards.forEach((t=>{t.url&&(t.url=e.removeOcidFromUrl(t.url))}))}))}))};const P=(0,g.p)((()=>(0,r.mG)(this,void 0,void 0,(function*(){if(!((0,C.N)()&&window&&window.ShellFeedsApp&&window.ShellFeedsApp.getQueryHeadersAsync))return;const e=yield Promise.race([window.ShellFeedsApp.getQueryHeadersAsync(),(0,M.Kb)(3e3).then((()=>null))]);return e&&e[c.Yu.entAuthorization]||null}))));e._reset=function(){P.cache.clear()},e.addTelemetryTracingQueryParam=function(e){if(s.Al&&s.Al.CurrentFlightSet&&s.Al.CurrentFlightSet.has(x)){const t=k.U.getTraceInstance(),n="00-"+t.getTraceId(!0)+"-"+t.getSpanId(!0)+"-00";e.searchParams.set(I,n)}}}(O||(O={}))},61442:function(e,t,n){"use strict";n.d(t,{O:function(){return P},w:function(){return k}});var r=n(33940),i=n(32005),o=n(98304),a=n(9947),s=n(65135),c=n(33379);class u{constructor(e,t,n,r,i,o,s){if(!e)throw new Error("loggingService is required for ExponentialBackoffRetry.");const l=new a.K(e);this.logInvalidParams(l,t,n,r,i,s),this.loggingService=e,this.maxRetries=t||u.defaultMaxRetries,this.baseRetryDelayInMs=n||u.defaultBaseRetryDelayInMs,this.maxRetryDelayInMs=r||u.maxAllowedRetryDelayInMs,this.factor=i||u.defaultFactor,this.minOffsetInMs=o||u.defaultMinOffsetInMs,this.maxOffsetInMs=s||u.defaultMaxOffsetInMs,(0,c.N)()&&this.loggingService.infoCallback((()=>"ExponentialBackoffRetry has been configured."),null,{maxRetries:t,minTimeout:n,maxTimeout:r,factor:i})}executeRequest(e,t,n,i,o){return(0,r.mG)(this,void 0,void 0,(function*(){return new Promise(((a,s)=>(0,r.mG)(this,void 0,void 0,(function*(){yield this.tryRequest(e,a,s,0,t,n,i,o)}))))}))}logInvalidParams(e,t,n,r,i,o){t&&(t<1||t>u.maxAllowedRetries)&&e.fatal(`maxRetries should be at least 1 and less than ${u.maxAllowedRetries}.`),n&&n<u.defaultBaseRetryDelayInMs&&e.fatal("baseRetryDelay has to be a positive value greater than or equal to 100."),n&&o&&n<=o&&e.fatal("baseRetryDelay must not be smaller than the maximum delay offset."),r&&(r<=0||r>u.maxAllowedRetryDelayInMs)&&e.fatal(`maxRetryDelay has to be a positive value less than ${u.maxAllowedRetryDelayInMs}.`),i&&i<=0&&e.fatal("factor has to be a positive value.")}tryRequest(e,t,n,i,a,u,l,d){return(0,r.mG)(this,void 0,void 0,(function*(){const r=()=>(0,c.N)()&&i<this.maxRetries&&!d;try{const n=l||1e4,r=yield this.timeoutServiceRequest(n,e(i));t(r)}catch(c){if(r()){const r=3,d=parseFloat((Math.random()*(this.minOffsetInMs-this.maxOffsetInMs)+this.maxOffsetInMs).toFixed(r)),h=.5,p=Math.random()<h?-1:1,g=Math.min(this.baseRetryDelayInMs*Math.pow(this.factor,i),this.maxRetryDelayInMs)+d*p;if(this.loggingService.warnCallback((()=>`Retrying the request in ${g} milliseconds.`),u,{error:c,currentRetry:i+1,requestInfo:a}),s.M0&&s.M0.sendAppErrorEvent){const e=("string"==typeof c?c:c.message)||"";s.M0.sendAppErrorEvent(Object.assign(Object.assign({},o.if_),{pb:Object.assign(Object.assign({},o.if_.pb),{retryAttemptsMade:i,serviceFailed:u&&u.Message,maxRetries:this.maxRetries,customMessage:`${this.getActivityName(u)}. Error details: '${e}'. Retrying the request in ${g} milliseconds`})}),!1)}setTimeout((()=>this.tryRequest(e,t,n,i+1,a,u,l)),g)}else this.loggingService.errorCallback((()=>r()?`ExponentialBackoffRetry has exceeded maximum retries ${this.maxRetries}`:"Request has failed."),u,{error:c,currentRetry:i,requestInfo:a}),n(c)}}))}timeoutServiceRequest(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return new Promise(((n,i)=>(0,r.mG)(this,void 0,void 0,(function*(){const r=setTimeout((()=>i(new Error(`Service Request Timed out after ${e} milliseconds!`))),e);try{const e=yield t;n(e),clearTimeout(r)}catch(e){i(e),clearTimeout(r)}}))))}))}getActivityName(e){return`Activity name: '${e&&e.Message||"None"}'`}}u.defaultBaseRetryDelayInMs=100,u.defaultFactor=2,u.defaultMaxOffsetInMs=25,u.defaultMaxRetries=5,u.defaultMinOffsetInMs=1,u.maxAllowedRetries=10,u.maxAllowedRetryDelayInMs=2e3;var l=n(68364),d=n(45506);const h="//assets.msn",p="prg-1s-bkupdmnt",g="prg-1s-bkupdmnt1",f="prg-1s-bkupdmnt3";var m=n(13010),v=n(1970),y=n(42147),C=n(84147),S=n(19809),w=n(33954);let b,T;function P(e,t={},n,a=!1){return function(){const e=d.Al.CurrentFlightSet;return!(!e||!(e.has(p)||e.has(g)||e.has("prg-1s-bkupdmnt2")||e.has(f)))}()?function(e,t={},n,a=!1){return(0,r.mG)(this,void 0,void 0,(function*(){let r;try{if(r=yield(0,i.Sm)(e,n,t),r&&r.ok)return r}catch(t){(0,l.OO)(t,o.Qsh,o.Qsh.message,`Failed URL: ${e}`)}return r&&r.headers&&r.headers.get("OneWebServiceLatency")||a?r:(e=d.Al.CurrentFlightSet&&d.Al.CurrentFlightSet.has(f)?e.replace(h,"//api.msn").replace("/service/","/"):e.replace(h,"//assets2.msn"),(0,i.Sm)(e,n,t))}))}(e,t,n,a):(0,i.Sm)(e,n,t)}function k(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function*(){const r=A().activityLoggingService.createActivity(t);return i=i||function(){const e=d.Al.CurrentFlightSet;return!(!e||!e.has(p)&&!e.has(g))}(),yield S.$D.serviceRequestOnComplete((()=>function(){if(T)return T;return T=new u(A().loggingService,3),T}().executeRequest(e,null,r,n,i)),(()=>A().activityLoggingService.endActivity(r)))}))}function A(){if(b)return b;const e=m.u.getInstance("ExperienceActivityLogger");return(0,c.N)()&&w.k.isDebug()&&e.addAppender(new v.N(C.i.Activity)),b=new y.N(w.k.getLoggingService(),e),b}},63535:function(e,t,n){"use strict";n.d(t,{PH:function(){return d},Ph:function(){return c},fU:function(){return h},qQ:function(){return u}});var r=n(78722),i=n(45506),o=n(33954);let a,s;const c=new URL("","https://api.msn.com/");function u(){const e=(0,r.Yq)();var t;return a||(t=e.ServiceUrlBase,a=new URL("",t),p(a)),a}function l(){const e=(0,r.Yq)();var t;return s||(t=e.FeedServiceUrlBase,s=new URL("",t),p(s)),s}function d(e,t=u()){return new URL(e+(null==t?void 0:t.search),t)}function h(e,t=l()){return new URL(e+(null==t?void 0:t.search),t)}function p(e){let t=!1;"dev"!==e.searchParams.get("env.service")&&(0,i.nP)().UserIsSignedIn&&(t=!0),o.k.log("u-si: "+(0,r.Yq)().UserId),o.k.log("a-si: "+t),o.k.log("ss-si: "+(0,i.nP)().UserIsSignedIn)}},73:function(e,t,n){"use strict";n.d(t,{U4:function(){return a},Y5:function(){return i},Z6:function(){return r},dd:function(){return o}});const r="fpr",i="TTPR",o="TTVR",a="TTPV"},83448:function(e,t,n){"use strict";n.d(t,{Bj:function(){return d},TR:function(){return p},VD:function(){return h},lr:function(){return u},wY:function(){return l}});var r=n(45506),i=n(32164);let o=!1;const a=new i.o,s=(new i.o,new i.o,new i.o),c=new i.o;function u(){return r.Al.IsPrerender?a.getResultAsync():Promise.resolve()}function l(){s.set()}function d(){c.set()}function h(){return r.Al.IsPrerender?c.getResultAsync():Promise.resolve()}function p(){return r.Al.IsPrerender&&!o}},30699:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(55067);class i{}i.initialize=new r.C("initialize"),i.update=new r.C("update"),i.ntpReset=new r.C("ntpReset"),i.dhpReset=new r.C("dhpReset"),i.marketUpdated=new r.C("marketUpdated"),i.displayOptionUpdated=new r.C("displayOptionUpdated"),i.dhpHideNewsFeedUpdated=new r.C("dhpHideNewsFeedUpdated"),i.hideHomePageImageUpdated=new r.C("hideHomePageImageUpdated"),i.bingShoppingCardVisibilityUpdated=new r.C("bingShoppingCardVisibilityUpdated"),i.weatherCardVisibilityUpdated=new r.C("weatherCardVisibilityUpdated"),i.sportsCardVisibilityUpdated=new r.C("sportsCardVisibilityUpdated"),i.moneyCardVisibilityUpdated=new r.C("moneyCardVisibilityUpdated"),i.horoscopeCardVisibilityUpdated=new r.C("horoscopeCardVisibilityUpdated"),i.onThisDayCardVisibilityUpdated=new r.C("onThisDayCardVisibilityUpdated"),i.electionsCardVisibilityUpdated=new r.C("electionsCardVisibilityUpdated"),i.esportsCardVisibilityUpdated=new r.C("esportsCardVisibilityUpdated"),i.lotteryCardVisibilityUpdated=new r.C("lotteryCardVisibilityUpdated"),i.qnaCardVisibilityUpdated=new r.C("qnaCardVisibilityUpdated"),i.recipesCardVisibilityUpdated=new r.C("recipesCardVisibilityUpdated"),i.autosMarketplaceCardVisibilityUpdated=new r.C("autosMarketplaceCardVisibilityUpdated"),i.healthCardVisibilityUpdated=new r.C("healthCardVisibilityUpdated")},14594:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(33940),i=n(53076),o=n(43819),a=n(30699);function s(){return(0,r.mG)(this,void 0,void 0,(function*(){return new Promise(((e,t)=>(0,r.mG)(this,void 0,void 0,(function*(){try{const t=o._.getInstance().rootReducer.connector(i.z.PageSettingsData);if(t)return e(t);a.f.initialize.registerObserver((()=>e(o._.getInstance().rootReducer.connector(i.z.PageSettingsData))))}catch(e){t(e)}}))))}))}},11708:function(e,t,n){"use strict";var r;n.d(t,{f:function(){return r}}),function(e){e.AiCharacter="aicharacterCardEnabled",e.AutosMarketplaceCard="autosmarketplaceCardEnabled",e.BoostCard="boostCardEnabled",e.HoroscopeCard="horoscopeCardEnabled",e.WeatherCard="weatherCardEnabled",e.SportsCard="sportsCardEnabled",e.MoneyCard="moneyCardEnabled",e.FinanceCard="financeCardEnabled",e.OnThisDayCard="onthisdayCardEnabled",e.SavingsCard="savingsCardEnabled",e.ShoppingCard="shoppingCardEnabled",e.VideoShoppingCard="videoshoppingCardEnabled",e.ShoppingEventCard="eventSDCardShoppingEnabled",e.TrafficCard="trafficCardEnabled",e.EsportsCard="esportsCardEnabled",e.EsportsStreamsCard="esportsStreamsCardEnabled",e.ElectionsCard="genericelectionCardEnabled",e.LotteryCard="lotteryCardEnabled",e.QnaCard="qnaCardEnabled",e.RecipesCard="recipeCardEnabled",e.PrismFeedCard="prismFeedCardEnabled",e.PrismCarouselCard="prismFeedCarouselCardEnabled",e.TravelCard="travelCardEnabled",e.HealthCard="healthCardEnabled",e.TopStoriesCard="topstoriesCardEnabled",e.TrendingTopics="TrendingTopicsUpsellEnabled",e.LocalGuideCard="localGuideCardEnabled",e.GroceryCard="groceryCardEnabled",e.RewardsCard="rewardsCardEnabled",e.RecommendedSearchesCard="recommendedSearchCardEnabled",e.PersonalizedOffersCard="personalizedoffersCardEnabled",e.PollsCard="pollsCardEnabled",e.MarketPlaceCard="marketplaceCardEnabled",e.QuizCard="quizcardCardEnabled",e.CasualGamesCard="esportsCardEnabled",e.CommuteCard="commuteCardEnabled",e.MobileShoppingCard1="mobileShoppingCard1Enabled",e.MobileShoppingCard2="mobileShoppingCard2Enabled",e.MobileShoppingCard3="mobileShoppingCard3Enabled",e.MobileShoppingCard4="mobileShoppingCard4Enabled",e.MobileShoppingCard5="mobileShoppingCard5Enabled",e.TrendingSearchCard="trendingsearchCardEnabled",e.RealEstateCard="realestateCardEnabled",e.MangaCard="mangaCardEnabled",e.PrayerTimesCard="prayertimesCardEnabled",e.Crypto="CryptoCard",e.MarketBrief="MarketBriefCard",e.ElectionCard="ElectionCardEnabled",e.CommunityCard="CommunityCardEnabled"}(r||(r={}))},83152:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return r}}),function(e){e.Location="Location",e.Weather="Weather",e.Finance="Finance",e.Team="Team",e.League="League",e.Player="Player",e.Traffic="Traffic",e.Widget="Widget",e.TopicFeed="TopicFeed"}(r||(r={}))},40721:function(e,t,n){"use strict";n.d(t,{N:function(){return S}});var r,i=n(33940),o=n(33954),a=n(98304),s=n(68364),c=n(33799),u=n(78722),l=n(45506),d=n(17873),h=n(70312),p=n(19809),g=n(63535),f=n(61442),m=n(83152),v=n(11708);!function(e){e.small="OneByOne",e.medium="OneByTwo",e.large="OneByThree"}(r||(r={}));var y=n(65135),C=n(51671);const S=new class extends class{constructor(e){this.fetchImpl=e,this.userUpdateEndpoint="msn/user",this.pdpServiceEndpoint="graph/actions",this.locationsServiceEndPoint="v1/news/users/me/locations",this.userActionServiceEndPoint="news/users/me/actions",this.ocid="pdp-peregrine",this.ocidOverride=!0}getCommonParams(e,t){return e?p.$D.getOneServiceParamsWithAuth(null!=t?t:(0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth(null!=t?t:(0,u.Yq)().UserId,this.ocid,!this.ocidOverride)}getUserDefaultLocation(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit({method:"GET"}),n=(0,g.PH)(this.locationsServiceEndPoint);let r;[...p.$D.getCommonParams2(this.ocid,!this.ocidOverride),{key:"autodetect",value:e&&`${e}`}].forEach((e=>{e.value&&n.searchParams.set(e.key,e.value)}));try{r=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(n.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: getUserDefaultLocation}`;throw new Error(t)}return e}))),"getUserDefaultLocation")}catch(e){return r}return r}))}addToFavoriteLocation(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){const n="Location",r="Follow",o=yield this.getRequestInit({method:"POST",body:JSON.stringify({actionType:r,targetType:n,definitionName:t,degree:"FavoriteLocation",metaData:e})}),a=(0,g.PH)(this.pdpServiceEndpoint),s=(yield(0,C.XJ)())===c.Hy.SignedIn;let u;this.getCommonParams(s).forEach((e=>{e.value&&a.searchParams.set(e.key,e.value)}));try{u=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(a.href,o);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: Location`;throw new Error(t)}return e.json()}))),"addToFavoriteLocation")}catch(e){return!1}return!0}))}removeFavoriteLocation(e,t=!1){return(0,i.mG)(this,void 0,void 0,(function*(){return yield this.deleteFromPdp(m.L.Location,"definitionName",[e],void 0,void 0,void 0,void 0,void 0,t)}))}removeLocation(e,t=!1){return(0,i.mG)(this,void 0,void 0,(function*(){return yield this.deleteFromPdp(m.L.Location,"definitionName",[e],void 0,void 0,void 0,void 0,void 0,t)}))}updatePdpHomeLocation(e,t,n={},r,o=!1){return(0,i.mG)(this,void 0,void 0,(function*(){const a=m.L.Location,s="Follow",u=yield this.getRequestInit({method:"POST"},n,o);u.body=JSON.stringify({actionType:s,targetType:a,definitionName:t,degree:"DefaultLocation",metaData:e});const l=(0,g.PH)(this.pdpServiceEndpoint),d=(yield(0,C.XJ)())===c.Hy.SignedIn;return this.getCommonParams(d&&!o,r).forEach((e=>{e.value&&l.searchParams.set(e.key,e.value)})),yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(l.href,u);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${a}`;throw new Error(t)}return e}))),"setPdpHomeLocation"),this.tryInvalidateBulkFetchedPdpTargetType(a),!0}))}updateTrafficMyRoutes(e,t,n,r,a,s,c){return(0,i.mG)(this,void 0,void 0,(function*(){const u=n.replace(/[^a-zA-Z0-9\-.,_]/g,""),l=m.L.Traffic,d="Follow",h=yield this.getRequestInit({method:"POST",body:JSON.stringify({actionType:d,targetType:l,targetId:u,degree:e,definitionName:t,metadata:r,createdDateTime:s})},c),p=yield this.getTrafficPdpUrl(null,null,a);try{yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(p.href,h);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${l}`;throw new Error(t)}return e.json()}))),"updateTrafficMyRoutes");this.tryInvalidateBulkFetchedPdpTargetType(l)}catch(e){return o.k.logError(e.message),!1}return!0}))}deleteTrafficMyRoutes(e,t,n){return(0,i.mG)(this,void 0,void 0,(function*(){const r=yield this.getRequestInit({method:"DELETE"}),o=yield this.getTrafficPdpUrl(e,t,n);try{yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${m.L.Traffic}`;throw new Error(t)}return e}))),"deleteTrafficFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(m.L.Traffic)}catch(e){return!1}return!0}))}getTrafficMyRoutes(e,t){var n;return(0,i.mG)(this,void 0,void 0,(function*(){const r=yield this.getRequestInit({method:"GET"}),o=yield this.getTrafficPdpUrl(e,null,t);try{const e=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${m.L.Traffic}`;throw new Error(t)}return e}))),"getTrafficFromPdp");return null===(n=yield e.json())||void 0===n?void 0:n.value}catch(e){return null}}))}getTrafficPdpUrl(e,t,n,r="Follow",o){return(0,i.mG)(this,void 0,void 0,(function*(){const i=(0,g.PH)(this.pdpServiceEndpoint),a=(yield(0,C.XJ)())===c.Hy.SignedIn,s=(0,u.Yq)().UserId,l=a?p.$D.getOneServiceParamsWithAuth(s,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth(s,this.ocid,!this.ocidOverride);if(e||t){const n=`targetType eq '${m.L.Traffic}'`,a=e?`degree eq '${e}'`:"",s=t?`definitionName eq '${t}'`:"",c=o?`targetId eq '${o}'`:"";i.searchParams.set("$filter",`actionType eq '${r}' and (${n})${a?` and (${a})`:""}${s?` and (${s})`:""}${c?` and (${c})`:""}`)}return[...l,...n||[]].forEach((e=>{e.value&&i.searchParams.set(e.key,e.value)})),i}))}addToWatchList(e,t=0,n={},r={}){var o;return(0,i.mG)(this,void 0,void 0,(function*(){const a=m.L.Finance,s="Follow",d=yield this.getRequestInit({method:"POST",body:JSON.stringify({actionType:s,targetType:a,targetId:e,metadata:Object.assign({securityType:t,tickerId:this.generateUUID()},r)})},n),h=(0,g.PH)(this.pdpServiceEndpoint),v="zh-cn"!==(0,u.Yq)().CurrentMarket,y=(yield(0,C.XJ)())===c.Hy.SignedIn,S=(null===(o=(0,l.nP)().CurrentFlights)||void 0===o?void 0:o.split(",").filter((e=>e.includes("1s"))).join(","))||"";let w;(y&&v?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,S,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,S,!0)).forEach((e=>{e.value&&h.searchParams.set(e.key,e.value)}));try{w=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(h.href,d);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${a}`;throw new Error(t)}return e.json()}))),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(a)}catch(e){return!1}return!0}))}addListToWatchList(e,t={},n={}){var r;return(0,i.mG)(this,void 0,void 0,(function*(){const o=m.L.Finance,a="Follow",s=yield this.getRequestInit({method:"POST",body:JSON.stringify(e.map((e=>({actionType:a,targetType:o,targetId:e.key,metadata:Object.assign({securityType:e.value,tickerId:this.generateUUID()},n)}))))},t),d=(0,g.PH)(this.pdpServiceEndpoint),h="zh-cn"!==(0,u.Yq)().CurrentMarket,v=(yield(0,C.XJ)())===c.Hy.SignedIn,y=(null===(r=(0,l.nP)().CurrentFlights)||void 0===r?void 0:r.split(",").filter((e=>e.includes("1s"))).join(","))||"";let S;(v&&h?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,y,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,y,!0)).forEach((e=>{e.value&&d.searchParams.set(e.key,e.value)}));try{S=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(d.href,s);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${o}`;throw new Error(t)}return e.json()}))),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(o)}catch(e){return!1}return!0}))}generateUUID(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}sortWatchList(e,t={}){var n,r;return(0,i.mG)(this,void 0,void 0,(function*(){const o=m.L.Finance,a="Follow",s=(null===(n=(0,l.nP)().CurrentFlights)||void 0===n?void 0:n.split(",").filter((e=>e.includes("1s"))).join(","))||"",d=[{key:"fdhead",value:s}],h=yield S.readPdpWithTargetType(m.L.Finance,!0,200,t,!1,d),v=h&&(null===(r=h.value)||void 0===r?void 0:r.filter((e=>e.actionType===a&&e.targetId)));if(!v||v.length<e.length)return!1;const y={};let w=e.length;v.forEach((t=>{let n=e.findIndex((e=>e===t.targetId));n<0&&(n=w,w++),y[t.targetId]=JSON.stringify({actionType:a,targetId:t.targetId,targetType:o,rank:n,metadata:t.metadata})}));const b=yield this.getRequestInit({method:"PUT",body:JSON.stringify(y)},t),T=(0,g.PH)(this.pdpServiceEndpoint);((yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0)).forEach((e=>{e.value&&T.searchParams.set(e.key,e.value)}));try{yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(T.href,b);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: Follow, targetType: ${o}`;throw new Error(t)}return e.json()}))),"sortWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(m.L.Finance)}catch(e){return!1}return!0}))}updateWeatherInterests(e,t,n={},r){return(0,i.mG)(this,void 0,void 0,(function*(){const i=m.L.Weather,a=yield this.getRequestInit({method:"POST",body:JSON.stringify({actionType:"Follow",targetType:i,targetId:e,metadata:t})},n),s=(0,g.PH)(this.pdpServiceEndpoint),u=(yield(0,C.XJ)())===c.Hy.SignedIn;this.getCommonParams(u,r).forEach((e=>{e.value&&s.searchParams.set(e.key,e.value)}));try{const e=yield this.fetchImpl(s.href,a);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update weather interests call`;throw new Error(t)}}catch(e){return o.k.logError(e.message),!1}return!0}))}updateWeatherSettings(e,t,n={},r,o=!1){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!t)return!0;let i="";i=e&&!t?'{"weatherDisplayUnit":"'+e+'"}':!e&&t?'{"userSettings":{"weatherLocationSettingMode":"'+t+'"}}':'{"weatherDisplayUnit":"'+e+'","userSettings":{"weatherLocationSettingMode":"'+t+'"}}';const a=yield this.getRequestInit({method:"POST"},n,o);a.body=i;const s=(0,g.PH)(this.userUpdateEndpoint),u=(yield(0,C.XJ)())===c.Hy.SignedIn;this.getCommonParams(u&&!o,r).forEach((e=>{e.value&&s.searchParams.set(e.key,e.value)}));const l=yield this.fetchImpl(s.href,a);if(l.status>=400){const e=`OneService returned error response. Status: ${l.status} for update weather setting call`;throw new Error(e)}return!0}))}updateFinanceInterests(e){var t;return(0,i.mG)(this,void 0,void 0,(function*(){if(!e)return!1;const n={financeInterests:e},r=JSON.stringify(n),i=yield this.getRequestInit({method:"POST"});i.body=r;const o=(0,g.PH)(this.userUpdateEndpoint),a="zh-cn"!==(0,u.Yq)().CurrentMarket,s=(yield(0,C.XJ)())===c.Hy.SignedIn,d=(null===(t=(0,l.nP)().CurrentFlights)||void 0===t?void 0:t.split(",").filter((e=>e.includes("1s"))).join(","))||"";(s&&a?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,d,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,d,!0)).forEach((e=>{e.value&&o.searchParams.set(e.key,e.value)}));const h=yield this.fetchImpl(o.href,i);if(h.status>=400){const e=`OneService returned error response. Status: ${h.status} for update finance interests call`;throw new Error(e)}return!0}))}updateUserSettings(e,t={},n){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e)return!0;const r=JSON.stringify({userSettings:e},((e,t)=>null!=t?t:void 0)),i=yield this.getRequestInit({method:"POST"},t);i.body=r;const a=(0,g.PH)(this.userUpdateEndpoint),s=(yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth(null!=n?n:(0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth(null!=n?n:(0,u.Yq)().UserId,this.ocid,!this.ocidOverride);for(const{key:e,value:t}of s)t&&a.searchParams.set(e,t);try{const e=yield this.fetchImpl(a.href,i);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update weather setting call`;throw new Error(t)}}catch(e){return o.k.logError(e.message),!1}return!0}))}getPdpUserPreference(e,t={},n){return(0,i.mG)(this,void 0,void 0,(function*(){const r=yield this.getRequestInit({method:"GET"},t),a=(0,g.PH)(this.userUpdateEndpoint),s=(yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth(n||(0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth(n||(0,u.Yq)().UserId,this.ocid,!this.ocidOverride);for(const{key:e,value:t}of s)t&&a.searchParams.set(e,t);try{const e=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(a.href,r);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e}))),"readPDPData");if(!e.ok&&404!=e.status)throw Error(`code=${e.status}, ${e.statusText}`);return Object.assign(Object.assign({},yield e.json()),{is404:404==e.status})}catch(t){if(o.k.logError(t.message),e)throw Error(t.message);return null}}))}updatePdpLayoutPreference(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t={method:"PUT",credentials:"include",body:JSON.stringify({dummyid:{userLayoutPreference:e}})},n=(0,g.PH)(this.userUpdateEndpoint);((yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((e=>{e.value&&n.searchParams.set(e.key,e.value)}));try{const e=yield this.fetchImpl(n.href,t);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for update layout preference setting call`;throw new Error(t)}}catch(e){return o.k.logError(e.message),!1}return!0}))}updateSegmentCardsEnableStatus(e,t=null){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const n=[];if(t){let e;for(e in t)null!=t[e]&&n.push('"'+e+'": '+JSON.stringify(t[e]))}const r=e.map((e=>e.cardType!=v.f.TopStoriesCard?`\\"${e.cardType}\\":${e.enabled?'\\"1\\"':'\\"0\\"'}`:"")).join(","),i=n.length>0?'{"segmentCardSettings":"{'+r+'}","userSettings":{'+n.join(", ")+"}}":'{"segmentCardSettings":"{'+r+'}"}';return this.updateUserPreference(i)}))}updateProductivityCardsEnableStatus(e){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t=`{userSettings:{enterpriseCardsEnabled:"{${e.map((e=>`\\"is${e.cardType}Enabled\\":${e.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(t)}))}updateGamingCardsEnableStatus(e){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t=`{userSettings:{gamingCards:"{${e.map((e=>`\\"is${e.cardType}Enabled\\":${e.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(t)}))}updateMorningDigestEnableStatus(e){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t=`{userSettings:{WindowsShellMorningDigest:"{${e.map((e=>`\\"is${e.cardType}Enabled\\":${e.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(t)}))}updateCommunitySettingsOptOutStatus(e){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e&&!e.length)return!0;const t={};e.forEach((e=>{t[e.settingType]=e.optedOut?"1":"0"}));const n={communitySettings:t};return this.updateUserPreference(JSON.stringify(n))}))}updateWidgetSettings(e,t={},n){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e)return!1;const i=e.map((e=>({actionType:"Follow",targetId:e.cardType,targetType:m.L.Widget,metadata:{prongsv2:{region:e.region,size:r[e.size],position:e.position,widgetDefinitionId:e.widgetDefinitionId}}})));return this.sendGenericActionRequest({additionalHeaders:t,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:n})}))}muteWidget(e,t={},n){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e||!e.length)return!1;const r=e.map((e=>({actionType:"Mute",targetId:e,targetType:m.L.Widget})));return this.sendGenericActionRequest({additionalHeaders:t,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(r),appError:n})}))}disableSpotlightCard(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e)return!1;const n={actionType:"Disabled",definitionName:e,targetId:e,targetType:m.L.TopicFeed};return this.sendGenericActionRequest({endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(n),appError:t})}))}sendGenericActionRequest(e){return(0,i.mG)(this,void 0,void 0,(function*(){const{additionalHeaders:t,additionalParams:n,endpoint:r,method:o,payload:a,appError:s}=e;if(!r||!o)return this.logError(new Error("Missing arguments: 'endpoint' and 'method' should be provided and valid"),s),!1;const l=(0,g.PH)(r);let d;((yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((e=>{e.value&&l.searchParams.set(e.key,e.value)})),n&&n.forEach((e=>{e.value&&l.searchParams.set(e.key,e.value)}));try{JSON.parse(a),d=a}catch(e){d=JSON.stringify(a)}const h=yield this.getRequestInit({method:o,body:d},t),m="GET"==o;try{return yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(l.href,h);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for payload: ${a}`;throw new Error(t)}return!m||(yield e.json())}))),"sendActions")}catch(e){return this.logError(e,s),!1}}))}getUserActions(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=[{key:"actionType",value:e}],n=yield this.sendGenericActionRequest({additionalParams:t,endpoint:this.userActionServiceEndPoint,method:"GET"});return n&&n.value}))}setUserAction(e,t,n){return(0,i.mG)(this,void 0,void 0,(function*(){return!!(yield this.sendGenericActionRequest({endpoint:n?this.pdpServiceEndpoint:this.userActionServiceEndPoint,method:"POST",payload:Object.assign({actionType:e},t)}))}))}deleteUserAction(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){const n=[{key:"actionType",value:e},{key:"targetId",value:t.targetId},{key:"definitionName",value:t.definitionName}];return!!(yield this.sendGenericActionRequest({additionalParams:n,endpoint:this.userActionServiceEndPoint,method:"DELETE"}))}))}deleteUserActionRelatedTraffic(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){const n=yield this.getRequestInit({method:"DELETE"}),r=yield this.getTrafficPdpUrl("Default",null,null,e,t.targetId);try{yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(r.href,n);if(t.status>=400){const n=`OneService returned error response. Status: ${t.status} for actionType: ${e}, targetType: ${m.L.Traffic}`;throw new Error(n)}return t}))),"deleteActionRelatedTraffic"),this.tryInvalidateBulkFetchedPdpTargetType(m.L.Traffic)}catch(e){return!1}return!0}))}updateUserPreference(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit({method:"POST"});t.body=e;const n=(0,g.PH)(this.userUpdateEndpoint);((yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((e=>{e.value&&n.searchParams.set(e.key,e.value)}));try{const r=yield this.fetchImpl(n.href,t);if(r.status>=400){const t=`OneService returned error response while updating user preference. Status: ${r.status}, payload: ${e}`;throw new Error(t)}}catch(e){return!1}return!0}))}setPdpTargetTypesForBulkLoad(e){e&&e.length&&!this.bulkGraphActionTargetTypes&&(this.bulkGraphActionTargetTypes=e)}readPdpWithTargetType(e,t=!1,n,r={},o=!0,s=[]){return(0,i.mG)(this,void 0,void 0,(function*(){if(o){const t=yield this.getFromWebWorker(e);if(t)return t}if(this.bulkGraphActionTargetTypes&&this.bulkGraphActionTargetTypes.length)if(this.bulkGraphActionTargetTypes.indexOf(e)>=0){this.bulkGraphActionResultCache=this.bulkGraphActionResultCache||(yield this.bulkGraphActionPromise||(this.bulkGraphActionPromise=this.fetchPdpWithTargetTypes(this.bulkGraphActionTargetTypes,t,n,r,s)));const i=this.bulkGraphActionResultCache.get(e);if(i)return{value:i}}else y.M0.sendAppErrorEvent(Object.assign(Object.assign({},a.srQ),{message:`Received an unknown target type "${e}" that was not in the bulk graph action target types list "${this.bulkGraphActionTargetTypes}". Falling back to new network call. Please update the EntryPoint config's "graphActionsToBulkLoad" property to include this type.`}));const i=(yield this.fetchPdpWithTargetTypes([e],t,n,r,s)).get(e);if(i)return{value:i}}))}deleteFromPdp(e,t,n,r={},o,a="Follow",s,u=[],l=!1){return(0,i.mG)(this,void 0,void 0,(function*(){const d=yield this.getRequestInit({method:"DELETE"},r,l),h=(0,g.PH)(this.pdpServiceEndpoint),p=(yield(0,C.XJ)())===c.Hy.SignedIn,m=this.getCommonParams(p&&!l),v=`targetType eq '${e}'`,S=n.map((e=>`${t} eq '${e}'`)).join(" or ");let w=`actionType eq '${a}' and (${S}) and (${v})`;o&&(w+=` and (degree eq '${o}')`),h.searchParams.set("$filter",w),[...m,...u].forEach((e=>{e.value&&h.searchParams.set(e.key,e.value)}));try{yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(h.href,d);if(t.status>=400){const n=`OneService returned error response. Status: ${t.status} for actionType: ${a}, targetType: ${e}`;throw new Error(n)}return t}))),"deleteFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(e)}catch(e){return s&&y.M0.sendAppErrorEvent(Object.assign(Object.assign({},s),{pb:Object.assign(Object.assign({},s.pb),{actionType:a,error:e.message})})),!1}return!0}))}tryInvalidateBulkFetchedPdpTargetType(e){this.bulkGraphActionResultCache&&this.bulkGraphActionResultCache.delete(e)}fetchPdpWithTargetTypes(e,t=!1,n,r={},o=[]){return(0,i.mG)(this,void 0,void 0,(function*(){if(!e.length)return new Map;const a=e.map((e=>`targetType eq '${e}'`)).join(" or "),s=[{key:"$top",value:`${n=n||10*e.length*2}`},{key:"$filter",value:`actionType eq 'Follow' and (${a})`}],u=yield this.getRequestInit({method:"GET"},r);!0===t&&(u.cache="no-store");const l=(0,g.PH)(this.pdpServiceEndpoint),d=(yield(0,C.XJ)())===c.Hy.SignedIn;[...s,...this.getCommonParams(d),...o].forEach((e=>{e.value&&l.searchParams.set(e.key,e.value)}));const h=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(l.href,u);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;throw Error(e.statusText)}return e}))),"readPDPData");if(!h.ok)throw Error(`code=${h.status}, ${h.statusText}`);const p=new Map,m=yield h.json();if(!m)return p;if(m.value)for(const e of m.value){let t=p.get(e.targetType);t||p.set(e.targetType,t=[]),t.push(e)}for(const t of e)p.get(t)||p.set(t,[]);return p}))}updateMarketPreference(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t={method:"POST",credentials:"include",body:JSON.stringify({userSettings:{preferredMarket:e}})},n=(0,g.PH)(this.userUpdateEndpoint);((yield(0,C.XJ)())===c.Hy.SignedIn?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((e=>{e.value&&n.searchParams.set(e.key,e.value)}));try{const e=yield this.fetchImpl(n.href,t);if(!e.ok)throw new Error(`Failed to update market preference: Status: ${e.status}`);return!0}catch(e){return o.k.logError(e.message),!1}}))}getFromWebWorker(e){return(0,i.mG)(this,void 0,void 0,(function*(){let t=null;if(d.yb){const n=this.maptoWebWorkerId(e);if(n&&n.trim()){const n=yield(0,d.ot)({id:this.maptoWebWorkerId(e)});n.fetched&&(t=n.payload)}}return t}))}maptoWebWorkerId(e){switch(e){case m.L.Location:return"weatherpdp";case m.L.League:return"sportsleaguepdp";case m.L.Player:return"sportsplayerpdp";case m.L.Team:return"sportsteampdp";case m.L.Finance:return"moneypdp";default:return""}}getRequestInit(e={method:"GET"},t={},n=!1){return(0,i.mG)(this,void 0,void 0,(function*(){const r=yield p.$D.getOneServiceHeaders();return e.headers=Object.assign(Object.assign({},n?{}:r),t),e.credentials="include",e}))}getFollowedLists(){var e;return(0,i.mG)(this,void 0,void 0,(function*(){const t=yield this.getRequestInit({method:"GET"}),n=(0,g.PH)(this.userUpdateEndpoint),r=(yield(0,C.XJ)())===c.Hy.SignedIn,d=(null===(e=(0,l.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((e=>e.includes("1s"))).join(","))||"",h=r?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,d,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,d,!0);for(const{key:e,value:t}of h)t&&n.searchParams.set(e,t);try{const e=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(n.href,t);if(!e.ok){if(e.status>=400&&e.status<500&&408!=e.status)return e;(0,s.OO)(null,a.G9t,"Error get followed list")}return e}))),"getFollowedLists");return e.ok||(0,s.OO)(null,a.G9t,"Error get followed list"),yield e.json()}catch(e){return o.k.logError(e.message),null}}))}addToFollowedLists(e){var t;return(0,i.mG)(this,void 0,void 0,(function*(){const n=m.L.Finance,r=yield this.getRequestInit({method:"POST",body:JSON.stringify({financeListIds:e})}),o=(0,g.PH)(this.userUpdateEndpoint),a=(yield(0,C.XJ)())===c.Hy.SignedIn,s=(null===(t=(0,l.nP)().CurrentFlights)||void 0===t?void 0:t.split(",").filter((e=>e.includes("1s"))).join(","))||"";let d;(a?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0)).forEach((e=>{e.value&&o.searchParams.set(e.key,e.value)}));try{d=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: FollowList, targetType: ${n}`;throw new Error(t)}return e.json()}))),"addToFollowedLists")}catch(e){return!1}return!0}))}deleteFromFollowedLists(e){var t;return(0,i.mG)(this,void 0,void 0,(function*(){const n=m.L.Finance,r=yield this.getRequestInit({method:"DELETE"}),o=(0,g.PH)(this.userUpdateEndpoint),a=(yield(0,C.XJ)())===c.Hy.SignedIn,s=(null===(t=(0,l.nP)().CurrentFlights)||void 0===t?void 0:t.split(",").filter((e=>e.includes("1s"))).join(","))||"";let d;[...a?p.$D.getOneServiceParamsWithAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0):p.$D.getOneServiceParamsWithoutAuth((0,u.Yq)().UserId,this.ocid,!this.ocidOverride,s,!0),...[{key:"financeListIds",value:e.toString()}]].forEach((e=>{e.value&&o.searchParams.set(e.key,e.value)}));try{d=yield(0,f.w)((()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(o.href,r);if(e.status>=400){const t=`OneService returned error response. Status: ${e.status} for actionType: UnFollowList, targetType: ${n}`;throw new Error(t)}return e.json()}))),"deleteFromFollowedLists")}catch(e){return!1}return!0}))}logError(e,t){t?y.M0.sendAppErrorEvent(Object.assign(Object.assign({},t),{pb:Object.assign(Object.assign({},t.pb),{error:e.message})})):o.k.logError(e.message)}}{constructor(){super((0,h.j)()),"windowsNewsPlus"===u.jG.AppType||"newsAndInterests"===u.jG.AppType||"winWidgets"===u.jG.AppType?(this.ocid="winp2",this.ocidOverride=!0):"sharedWidgets"===u.jG.AppType?(this.ocid="hpwidget",this.ocidOverride=!0):"windowsNewsbar"===u.jG.AppType?(this.ocid="winp0dash",this.ocidOverride=!0):"travel"===u.jG.AppType?(this.ocid="travel-verthp-feeds",this.ocidOverride=!0):"gaming"===u.jG.AppType?(this.ocid="startgg-feeds",this.ocidOverride=!0):"bingHomepage"===u.jG.AppType?(this.ocid="BingHp01",this.ocidOverride=!0):"windowsShellV2"===u.jG.AppType&&(this.ocid="pdp-peregrine",this.ocidOverride=!0)}}},22897:function(e,t,n){"use strict";var r=n(64224);function i(e,t){const n=new URLSearchParams(e.location.search);if(n){const e=new URLSearchParams(t.search);if(null==n?void 0:n.keys())for(const t of n.keys())if(n.getAll(t)&&!e.getAll(t).length){n.getAll(t).forEach((n=>e.append(t,n)))}let r="";e.forEach(((e,t)=>r=r.concat(`&${t}=${e}`))),t.search=r.slice(1)}return t}function o(e,t,n){return"string"==typeof e?{pathname:e,state:t,search:n}:e}const a=(0,n(33379).N)()?function(e){const t=e(),n=t.push,r=t.replace;return t.push=(e,r,a)=>n.apply(t,[i(t,o(e,r,a))]),t.replace=(e,n,a)=>r.apply(t,[i(t,o(e,n,a))]),t}(r.lX):null;t.ZP=a},28781:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(55067);class i{}i.pageVisibilityChange=new r.C("PageVisibilityChange"),i.timeForPageReveal=new r.C("TimeForPageReveal"),i.forcePageReload=new r.C("ForcePageReload"),i.updateCurrentPageRefreshState=new r.C("UpdateCurrentPageRefreshState"),i.updateDidRenderStartInBackgroundRenderFlag=new r.C("UpdateDidRenderStartInBackgroundRenderFlag")},56698:function(e,t,n){"use strict";n.d(t,{Eu:function(){return h},bY:function(){return d},fv:function(){return p}});var r=n(53076),i=n(6719),o=n(43819),a=n(28781),s=n(94546),c=n(98304),u=n(65135),l=n(45506);function d(e){const t=o._.getInstance().rootReducer.connector(r.z.Preload);t&&a.X.forcePageReload.getActionSender(t).send(e||s.T.SettingsChange)}function h(e){const t=o._.getInstance().rootReducer.connector(r.z.Preload);t&&a.X.timeForPageReveal.getActionSender(t).send(e)}function p(e){if(!l.Al.IsPreload)return;if("windowsShell"===l.Al.ClientSettings.apptype||"windowsShellV2"===l.Al.ClientSettings.apptype)return e.Win10PerfDCREnabled=1,e[i.Qf]=e[i.dd],delete e[i.dd],void delete e.launchType;const t=function(){const e=o._.getInstance().rootReducer.connector(r.z.Preload);if(!e)return!1;return e.getCurrentState().didRenderStartInBackground}();t&&("edgeChromium"===l.Al.ClientSettings.apptype?(e[i.C7]=1,e[i.eO]=1):e[i.eO]=1);const n=e[i.Lh],a=e[i.dd],s=e[i.pM],d=e[i.pc];let h=!1;if((isNaN(a)||null===a)&&(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.vAF),{message:"TTVR missing during preload."})),h=!0),(isNaN(n)||null===n)&&(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.Hif),{message:"TFPR missing during preload."})),h=!0),h)return;const p=e[i.Lh]=e[i.dd]=Math.min(n,a);t&&(e[i.Qf]=a),isNaN(s)||null===s?u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.vwD),{message:"TTVR.SearchBox missing during preload."})):e[i.pM]=Math.min(p,s),isNaN(d)||null===d?u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.sEv),{message:"TTF.SearchBox missing during preload."})):e[i.pc]=Math.min(p,d)}},6719:function(e,t,n){"use strict";n.d(t,{C7:function(){return l},H$:function(){return r},Lh:function(){return s},Qf:function(){return c},dd:function(){return o},eO:function(){return u},jh:function(){return d},pM:function(){return a},pc:function(){return i}});const r="TTPR2",i="TTF.SearchBox",o="TTVR",a="TTVR.SearchBox",s="TFPR",c="TTVR.BackgroundExecution",u="backgroundpreload",l="prerender",d="TTAF"},94546:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e[e.StalePage=1]="StalePage",e[e.SettingsChange=2]="SettingsChange",e[e.MuidChange=3]="MuidChange",e[e.GizmoSettingChange=4]="GizmoSettingChange",e[e.TopSites=5]="TopSites",e[e.PivotSwitch=6]="PivotSwitch",e[e.SignInStateChange=7]="SignInStateChange",e[e.MutePublisher=8]="MutePublisher",e[e.UnMutePublisher=9]="UnMutePublisher",e[e.Dislike=10]="Dislike",e[e.Like=11]="Like",e[e.Save=12]="Save",e[e.Hide=13]="Hide",e[e.KidsMode=14]="KidsMode",e[e.MarketChange=15]="MarketChange",e[e.InterestsSdCardSettingChange=16]="InterestsSdCardSettingChange",e[e.InterestsChange=17]="InterestsChange",e[e.WeatherChange=18]="WeatherChange",e[e.MoneyCardChange=19]="MoneyCardChange",e[e.Disabled=20]="Disabled"}(r||(r={}))},70785:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var r=n(53076),i=n(43819),o=n(28781),a=n(45506);const s={didPreload:!1,timeTakenForRevealInMs:0,pageRevealed:!0};function c(){const e=i._.getInstance().rootReducer.connector(r.z.Preload);if(!e||!a.Al.IsPreload)return Promise.resolve(s);const t=e.getCurrentState();if(t&&t.pageRevealedData){const e=t.pageRevealedData;return Promise.resolve(e)}return new Promise((e=>{o.X.pageVisibilityChange.registerObserver((t=>{const n=t.params[0];e(n)}))}))}},40892:function(e,t,n){"use strict";n.d(t,{A_:function(){return i},E5:function(){return r},J6:function(){return o},bF:function(){return u},dC:function(){return c},jl:function(){return s},oK:function(){return a}});const r="undefined"!=typeof window?window.location.href:"",i="timestamp_",o="force_timestamp_",a="_jssMap",s="keys_",c="rcqsp",u="lastKnown_"},46036:function(e,t,n){"use strict";n.d(t,{Cl:function(){return d},G0:function(){return s},JW:function(){return u},bp:function(){return l},zp:function(){return c}});var r=n(40892),i=n(13971),o=n(33379);let a;const s=()=>!("undefined"==typeof window||!window);function c(){const e=function(){if(a)return a;const e=(0,i.U)();if(!e)return null;let t;const n=e.getItem(d);try{t=n&&JSON.parse(n)}catch(e){return null}if(!(t&&t.keyn&&t.expn&&t.frcn&&t.jssn))return null;const r=e.getItem(t.expn);if(!r)return null;const o=parseInt(r);if(!o)return null;if((new Date).getTime()>=o)return null;const s=e.getItem(t.keyn);if(!s)return null;try{a=JSON.parse(s)}catch(e){return null}return a&&a.dom&&a.batch_css||(a=null),a}();if(!e||!e.state)return null;let t;try{t=JSON.parse(e.state,h)}catch(e){}return t}function u(e){const t=e||function(){if(!(0,o.N)())return null;const e=(0,i.U)();if(!e)return null;const t=e.getItem(r.dC);return t?t.split(","):null}();if(!t||!t.length)return r.E5;const n=new URLSearchParams(location.search);if(!n)return r.E5;const a=[];n.forEach(((e,n)=>{t.includes(n)||a.push({key:n,value:e})}));const s=a.map((e=>e.key+"="+e.value)).join("&");return(r.E5||"").split("?")[0]+(s?"?"+s:"")}function l(e){if(e){const t=(0,i.U)();t&&t.setItem(r.dC,e.toString())}}const d=`${r.jl}${"undefined"!=typeof window?u():""}`;function h(e,t){return"object"==typeof t&&null!==t&&"Map"===t.dataType?new Map(t.value):t}},34768:function(e,t,n){"use strict";n.d(t,{kK:function(){return h},oJ:function(){return d},cB:function(){return l}});var r=n(987),i=n(40892),o=n(46036);let a;function s(e){if(a)return a;(0,o.bp)(e);const t=(0,o.JW)(e),n=`${i.bF}${t}`,s=`${i.A_}${t}`,c=`${i.J6}${t}`,u=`${n}${i.oK}`;return a={keyn:n,expn:s,frcn:c,jssn:u},(0,r.$o)().setObject(o.Cl,a),a}const c={};let u=!1;function l(){(0,r.$o)().supported&&((0,r.$o)().removeSubstringKeys(i.bF),(0,r.$o)().removeSubstringKeys(i.A_),(0,r.$o)().removeSubstringKeys(i.J6),(0,r.$o)().removeSubstringKeys(i.jl),(0,r.$o)().removeSubstringKeys(i.oK))}function d(){if(!(0,r.$o)().supported)return;const e=s();(0,r.$o)().removeObject(e.keyn),(0,r.$o)().removeObject(e.frcn),(0,r.$o)().removeObject(e.expn),(0,r.$o)().removeObject(e.jssn),(0,r.$o)().removeObject(o.Cl)}function h(e,t){!u&&(0,o.G0)()&&window.renderCacheEnabled&&(c[e]?c[e].push(t):c[e]=[t])}},12858:function(e,t,n){"use strict";n.d(t,{Au:function(){return r}});const r="0067acd6d05f4168b92f510d33b9ed74"},81866:function(e,t,n){"use strict";n.d(t,{o9:function(){return p},Ei:function(){return m},FM:function(){return d},SP:function(){return v},v_:function(){return y},c6:function(){return C},_k:function(){return f},gR:function(){return g},$x:function(){return l},Ef:function(){return h},dP:function(){return b},pk:function(){return S},pQ:function(){return w}});var r=n(17157),i=n(33940),o=n(12858);function a(e,t){var n,r;if(function(e){var t;try{return null!==(t=null==e?void 0:e.needHeader)&&void 0!==t&&t}catch(e){c(`Failed to get feed needHeader Failed with exception : ${e}`)}}(e))try{const e=JSON.parse(t),o=JSON.parse(null!==(n=null==e?void 0:e.header)&&void 0!==n?n:null),a=null!==(r=null==o?void 0:o["ddd-activityid"])&&void 0!==r?r:null;a&&function(e){(0,i.mG)(this,void 0,void 0,(function*(){const t=window.localStorage.getItem(s);if(void 0===t||""===t)window.localStorage.setItem(s,e);else{const n=t.split(",");n.length<10&&!n.includes(e)&&window.localStorage.setItem(s,`${t},${e}`)}}))}(a)}catch(e){c(`Failed to get feed needHeader Failed with exception : ${e}`)}}const s="activityIds";function c(e){(0,r.wq)()&&function(e){new Promise(((t,n)=>{!function(e,t){(0,r.dw)("logEvent",e,t)}(e,(e=>{t(e)}))}))}({appId:o.Au,type:"Debug",name:"HP_WEBVIEW_SERVER_LOG",data:{message:e}})}function u(e,t){(0,r.dw)("navigate",e,t)}function l(e){return new Promise(((t,n)=>{u(e,(e=>{t(e)}))}))}function d(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("getHttp",e,t)}(e,(n=>{t(n),a(e,n)}))}))}function h(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("postHttp",e,t)}(e,(e=>{t(e)}))}))}function p(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("deleteHttp",e,t)}(e,(e=>{t(e)}))}))}function g(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("logEvent",e,t)}(e,(e=>{t(e)}))}))}function f(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("logError",e,t)}(e,(e=>{t(e)}))}))}function m(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("getDeviceInfo",e,t)}(e,(e=>{t(e)}))}))}function v(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("getLocationInfo",e,t)}(e,(e=>{t(e)}))}))}function y(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("getNetworkInfo",e,t)}(e,(e=>{t(e)}))}))}function C(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("getUserInfo",e,t)}(e,(e=>{t(e)}))}))}function S(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("requestPermission",e,t)}(e,(e=>{t(e)}))}))}function w(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("requestSnackBar",e,t)}(e,(e=>{t(e)}))}))}function b(e){return new Promise(((t,n)=>{!function(e,t){(0,r.dw)("requestCustom",e,t)}(e,(e=>{t(e)}))}))}},17157:function(e,t,n){"use strict";n.d(t,{dw:function(){return c},wq:function(){return o}});var r=n(33379);const i={};function o(){var e,t,n,i;if(!(0,r.N)())return!1;const o=null===(e=window.sapphireWebViewBridge)||void 0===e?void 0:e.send,a=null===(i=null===(n=null===(t=window.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.send)||void 0===i?void 0:i.postMessage;return o||a}let a;function s(e,t){var n,r,i,o,s,c,u,l;console.log(e,t);const d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),h={scenario:e,data:{data:t},id:d};a&&!h.data.data.appId&&(h.data.data.appId=a);const p=JSON.stringify(h);return(null===(i=null===(r=null===(n=window.webkit)||void 0===n?void 0:n.messageHandlers)||void 0===r?void 0:r.send)||void 0===i?void 0:i.postMessage)&&(null===(c=null===(s=null===(o=window.webkit)||void 0===o?void 0:o.messageHandlers)||void 0===s?void 0:s.send)||void 0===c||c.postMessage(p)),(null===(u=window.sapphireWebViewBridge)||void 0===u?void 0:u.send)&&window.sapphireWebViewBridge.send(p),(null===(l=window.VPsapphireWebViewBridge)||void 0===l?void 0:l.send)&&window.VPsapphireWebViewBridge.send(p),d}function c(e,t,n){const r=s(e,t);n&&function(e,t){i[e]?i[e].push(t):i[e]=[t]}(r,n)}},90489:function(e,t,n){"use strict";var r,i,o;n.d(t,{dO:function(){return r},mk:function(){return i}}),function(e){e.Android="Android",e.iPad="iPadOS",e.iOS="iOS"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Approximate=1]="Approximate",e[e.Precise=2]="Precise"}(i||(i={})),function(e){e.Summarize="summarize",e.TopQuestions="top-questions",e.KeyTakeaways="key-takeaways",e.Panel360Degree="360-degree-panel",e.FactCheck="fact-check"}(o||(o={}))},65019:function(e,t,n){"use strict";n.d(t,{Vx:function(){return C},_4:function(){return b},hP:function(){return T},mr:function(){return S}});var r=n(33940),i=n(90489),o=n(81866),a=n(26007),s=n(78722),c=n(67462),u=n(12858);const{getQueryParameterByName:l}=a.c;let d,h,p,g,f,m,v,y=!1;function C(){return y}function S(){return(0,r.mG)(this,void 0,void 0,(function*(){let e=0;return new Promise(((t,n)=>{if(y)t();else{const i=setInterval((function(){return(0,r.mG)(this,void 0,void 0,(function*(){y?(clearInterval(i),t()):e>30?(clearInterval(i),n()):e++}))}),50)}}))}))}function w(e,t=!1){window.performance.mark("HP-initUserConfigForSuperAppAndroid-DeviceInformation-End"),window.performance.measure("HP-initUserConfigForSuperAppAndroid-DeviceInformation","HP-initUserConfigForSuperAppAndroid-DeviceInformation-Start","HP-initUserConfigForSuperAppAndroid-DeviceInformation-End"),g.clientVersion=e.clientVersion||"",g.packageName=e.packageName,g.isProd=e.isProd,t&&(g.anid=e.ANID,(0,c.sq)("APP_ANON",g.anid,182,s.jG.HostPage.topDomain,"/"),g.adid=e.ADID)}function b(){return g}function T(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(d.isSignedIn&&"AAD"===d.accountType){const e=yield(0,o.c6)({refresh:!0,accountType:"AAD"});try{const t=JSON.parse(e);if(t.accessToken&&t.accessToken.length>0)return`Bearer ${t.accessToken}`}catch(e){A(e,"SapphireUserConfig.getAccessToken: Failed to parse AAD access token")}}if(d.isSignedIn&&"MSA"===d.accountType){const t=yield(0,o.c6)({refresh:!0,accountType:"MSA",type:"AccessToken",scope:e});try{const e=JSON.parse(t);if(e.succeed)return e.accessToken}catch(e){A(e,"SapphireUserConfig.getAccessToken: Failed to parse MSA access token")}}return null}))}function P(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield(0,o.Ei)({});try{return JSON.parse(e)}catch(e){A(e,"SapphireUserConfig.getDeviceInformation: Failed to parse response")}}))}function k(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield(0,o.c6)({});try{d=JSON.parse(e)}catch(e){A(e,"SapphireUserConfig.getUserInformationInternal: Failed to parse response")}}))}function A(e,t){(0,o._k)({type:"Failure",name:"HP_WEBVIEW_APP_ERROR",error:t,data:{error:e,customMessage:t}})}function E(e){if(!e||"null"===e||"undefined"===e||""===e)return"en-us";const t=e.toLowerCase();return"en-id"===t?"en-xl":t}function M(e){"ru-ru"===e.market&&e.detectedCountry&&"RU"!==e.detectedCountry&&(e.market="en-xl");const t=e.market.split("-");t&&2==t.length&&(e.language=t[0],e.countryCode=t[1])}function x(){return A(new Error("SapphireUserConfig.uuidv4: Recieved empty activityId"),"Empty activityId"),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function I(){return(0,r.mG)(this,void 0,void 0,(function*(){let e=i.mk.None;if(yield L(i.mk.Precise))e=i.mk.Precise;else{(yield L(i.mk.Approximate))&&(e=i.mk.Approximate)}return e}))}function L(e){return(0,r.mG)(this,void 0,void 0,(function*(){let t=!1;const n=/android/i.test(window.navigator.userAgent);let r=e===i.mk.Precise?"fineLocation":"location";"zh-cn"!==g.market||n||(r="location");try{const e=yield(0,o.pk)({permission:r,check:!0});t=JSON.parse(e).granted}catch(e){A(e,"SapphireUserConfig.isUserLocationPermissionGranted: Failed to parse location permission data for permission type "+r)}return t}))}function O(e,t,n=new Error("Promise timed out")){const r=new Promise(((e,r)=>{setTimeout((()=>{r(n)}),t)}));return Promise.race([e,r])}!function(e){m=e}((function(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(g={},window.performance.mark("HP-initUserConfigForOthers-DeviceInformation-Start"),h=yield P(),window.performance.mark("HP-initUserConfigForOthers-DeviceInformation-End"),window.performance.measure("HP-initUserConfigForOthers-DeviceInformation","HP-initUserConfigForOthers-DeviceInformation-Start","HP-initUserConfigForOthers-DeviceInformation-End"),h){g.muid=`m-${h.sapphireId}`,g.deviceLevel=h.deviceLevel,g.sapphireId=h.sapphireId,g.adid=h.ADID;const e=l("edge",window.location.href),t=/superapp.msn.cn/i.test(window.location.href);g.anid=e?h.anid:h.ANID,e&&(0,c.sq)("APP_ANON",g.anid,182,s.jG.HostPage.topDomain,"/"),g.market=e&&t?"zh-cn":E(h.market),g.features=h.expFeatures,g.activityId=h.expActivityId?h.expActivityId:x(),g.isDarkMode=h.isDarkMode,g.platform=h.platform,g.bridgeVersionInt=h.bridgeVersionInt,g.fontSize=h.fontSize,g.isChinaBuild=h.isChinaBuild,g.clientVersion=h.clientVersion||"",g.packageName=h.packageName,g.installSource=h.installSource,g.detectedCountry=h.detectedCountry?h.detectedCountry:"",g.isEdge=void 0!==h.isEdge&&h.isEdge,g.isEos=void 0!==h.isEos&&h.isEos,g.screenWidth=h.screenWidth,g.screenWidthPx=h.screenWidthPx,g.screenHeight=h.screenHeight,g.screenHeightPx=h.screenHeightPx,g.isBingApp=h.isBingApp,g.isNewsApp=h.isNewsApp,g.adjustCampaign=h.adjustCampaign,g.attributionNetwork=h.attributionNetwork,g.isFirstSession=h.isFirstSession,g.isProd=h.isProd,M(g)}const t=window.location.href;let n;null!==l("edge",t)&&(n=(0,c.jG)(),g.sapphireId=null!==n?n:"",g.muid=null!==n?`m-${n}`:""),window.performance.mark("HP-initUserConfigForOthers-UserInformation-Start"),yield k(),window.performance.mark("HP-initUserConfigForOthers-UserInformation-End"),window.performance.measure("HP-initUserConfigForOthers-UserInformation","HP-initUserConfigForOthers-UserInformation-Start","HP-initUserConfigForOthers-UserInformation-End"),d&&(g.accountType=d.accountType,g.isSignedIn=d.isSignedIn,g.isSSO=d.isSSO),window.performance.mark("HP-initUserConfigForOthers-LocationInformation-Start"),yield function(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield(0,o.SP)({fallbackRevIP:!1});try{p=JSON.parse(e)}catch(e){A(e,"SapphireUserConfig.getLocationInformationInternal: Failed to parse response")}}))}(),window.performance.mark("HP-initUserConfigForOthers-LocationInformation-End"),window.performance.measure("HP-initUserConfigForOthers-LocationInformation","HP-initUserConfigForOthers-LocationInformation-Start","HP-initUserConfigForOthers-LocationInformation-End"),p&&(g.latitude=p.lat,g.longitude=p.lng,g.clientLocationProvider=p.provider,g.clientLocationAccuracy=p.accuracy,p.time&&(g.clientLocationTimeStamp=new Date(Number(p.time)).toISOString()),g.userLocationPermission=yield O(I(),500)),window.performance.mark("HP-initUserConfigForOthers-NetworkInformation-Start"),yield function(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=yield(0,o.v_)({});try{f=JSON.parse(e)}catch(e){A(e,"SapphireUserConfig.getNetworkInformation: Failed to parse response")}}))}(),window.performance.mark("HP-initUserConfigForOthers-NetworkInformation-End"),window.performance.measure("HP-initUserConfigForOthers-NetworkInformation","HP-initUserConfigForOthers-NetworkInformation-Start","HP-initUserConfigForOthers-NetworkInformation-End"),f&&(g.networkInfoType=f.type);const i=new URLSearchParams(window.location.search);g.isPageRefresh=!(!i||!i.get("isPageRefresh"))&&"1"===i.get("isPageRefresh"),e&&(e.muid&&(g.muid=e.muid),e.activityId&&(g.activityId=e.activityId),g.features=e.expFeatures),g&&Object.keys(g).length>0&&(y=!0)}))})),function(e){v=e}((function(e){return(0,r.mG)(this,void 0,void 0,(function*(){g={};const t=window.location.href,n=l("edge",t)&&"1"===l("edge",t);let a;a=n?(0,c.jG)():l("muid",t),g.sapphireId=null!==a?a:"",g.muid=null!==a?`m-${a}`:"";const s=l("adid",t);g.adid=null!==s?s:"";const h=l("market",t);g.market=E(h),M(g);const f=l("features",t);g.features=null!==f?f:"",e&&n&&(g.features=e.expFeatures);const m=l("activityId",t);g.activityId=m||x();const v=l("platform",t);g.platform=null!==v?i.dO[v]:"",g.bridgeVersionInt=1;const C=l("bridgeVersionInt",t);C&&(g.bridgeVersionInt=parseInt(C,10));const S=l("isDarkMode",t);g.isDarkMode="true"===S;const b=l("isSignedIn",t);g.isSignedIn="true"===b;const T=l("isSSO",t);g.isSSO="true"===T;const k=l("accountType",t);g.accountType=null!==k?k:"";const L=l("isPageRefresh",t);g.isPageRefresh=null!==L&&"1"===L;const F=l("isChinaBuild",t);g.isChinaBuild="true"===F;const D=l("kids",t);g.isKidsMode=null!==D&&"1"===D;const R=l("fontSize",t);g.fontSize=parseInt(R,10);const W=l("latitude",t);g.latitude=null!==W?W:"";const N=l("longitude",t);g.longitude=null!==N?N:"";const j=l("anid",t);g.anid=null!==j?j:"",d={isSignedIn:g.isSignedIn,accountType:g.accountType},p={lat:W,lng:N};const U=l("clientVersion",t);if(null!=U){g.clientVersion=U;const e=l("packageName",t);g.packageName=null!==e?e:""}else window.performance.mark("HP-initUserConfigForSuperAppAndroid-DeviceInformation-Start"),n?yield P().then((e=>{w(e,n)})):P().then((e=>{w(e)}));window.performance.mark("HP-initUserConfigForSuperAppAndroid-LocationInformation-Start");const H=l("provider",t);if(null!==H){g.clientLocationProvider=null!==H?H:"";const e=l("accuracy",t);g.clientLocationAccuracy=null!==e?e:"";const n=l("time",t);g.clientLocationTimeStamp=null!==n?n:""}else(0,o.SP)({appId:u.Au,fallbackRevIP:!1,detectCity:!0}).then((e=>(0,r.mG)(this,void 0,void 0,(function*(){window.performance.mark("HP-initUserConfigForSuperAppAndroid-LocationInformation-End"),window.performance.measure("HP-initUserConfigForSuperAppAndroid-LocationInformation","HP-initUserConfigForSuperAppAndroid-LocationInformation-Start","HP-initUserConfigForSuperAppAndroid-LocationInformation-End");try{p=JSON.parse(e)}catch(e){A(e,"SapphireUserConfig.initUserConfigForSuperAppAndroid: Failed to parse location response")}p&&(g.latitude=p.lat,g.longitude=p.lng,g.clientLocationProvider=p.provider,g.clientLocationAccuracy=p.accuracy,p.time&&(g.clientLocationTimeStamp=new Date(Number(p.time)).toISOString()),g.userLocationPermission=yield O(I(),500))}))));P().then((e=>{g.installSource=e.installSource,g.detectedCountry=e.detectedCountry?e.detectedCountry:"",g.deviceLevel=e.deviceLevel,g.screenWidth=e.screenWidth,g.screenWidthPx=e.screenWidthPx,g.screenHeight=e.screenHeight,g.screenHeightPx=e.screenHeightPx,g.isBingApp=e.isBingApp,g.isNewsApp=e.isNewsApp,g.adjustCampaign=e.adjustCampaign,g.attributionNetwork=e.attributionNetwork,g.isFirstSession=e.isFirstSession,M(g)})),g&&Object.keys(g).length>0&&(y=!0)}))}))},11380:function(e,t,n){"use strict";n.d(t,{AJ:function(){return g},Cw:function(){return h},VQ:function(){return v},XF:function(){return l},_o:function(){return d},dG:function(){return m},oh:function(){return p},w8:function(){return u}});var r,i=n(33940),o=n(65019),a=n(81866),s=n(12858),c=n(17157);!function(e){e.OnlineRetailer="OnlineRetailer",e.Venue="Venue",e.Map="Map",e.Category="Category",e.Promotion="Promotion",e.CardList="Card-List",e.VideoList="Video-List"}(r||(r={}));function u(e,t,n,r){f({action:"requestShare",title:t,content:e,description:r})}function l(e,t,n,r,o,s,c,u,l,d,h,p){return(0,i.mG)(this,void 0,void 0,(function*(){const i={partner:"MySaves",scenario:"Add",category:"News",data:{title:e,key:t,newsId:o,type:s,url:n,timestamp:r,image:u,icon:h,imageHeight:l,imageWidth:d,provider:c,firstCard:p}};return yield(0,a.dP)(i)}))}function d(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t={partner:"MySaves",scenario:"Delete",category:"News",filters:{conditions:[{key:"key",value:e,operator:"="}]}};return yield(0,a.dP)(t)}))}function h(e){var t;return(0,i.mG)(this,void 0,void 0,(function*(){const n={partner:"MySaves",scenario:"Get",category:"News",filters:{conditions:[{key:"key",value:e,operator:"="}]}},r=yield(0,a.dP)(n);try{const e=JSON.parse(r);return!0===(null==e?void 0:e.success)&&!!(null===(t=e.result)||void 0===t?void 0:t.length)}catch(e){}return!1}))}function p(e,t,n,r,o,s="long"){return(0,i.mG)(this,void 0,void 0,(function*(){const i={message:e,action:o,period:s,bgColor:t,textColor:n,actionColor:r,bottomMargin:200,showImmediately:!1};return yield(0,a.pQ)(i)}))}function g(e,t,n){f({action:"requestMiniApp",targetAppId:e,page:t,params:n})}function f(e){return(0,i.mG)(this,void 0,void 0,(function*(){yield(0,a.$x)(e)}))}function m(e){return(0,i.mG)(this,void 0,void 0,(function*(){const t={};e&&(t.SiteName="www.msn.com");const n=(0,o._4)();if(n){t.MUID=n.muid,t["X-MSEdge-ClientID"]=n.sapphireId,t["X-MSEdge-Market"]=n.market;const e=yield(0,o.hP)("service::api.msn.com::MBI_SSL");"MSA"===n.accountType&&e?t.UserAuthToken=e:"AAD"===n.accountType&&e&&(t.Authorization=e)}return t}))}function v(e){if(!(0,c.wq)())return;const t=(0,o._4)();(null==t?void 0:t.isProd)||(0,a.gR)({appId:s.Au,type:"Debug",name:"HP_WEBVIEW_SERVER_LOG",data:{message:e}})}},61335:function(e,t,n){"use strict";var r;n.d(t,{o:function(){return r}}),function(e){e.telemetrySync="telemetrySync",e.raceEnabled="raceEnabled",e.enableOfficeRoutes="enableOfficeRoutes",e.riverAgeMinutes="riverAgeMinutes",e.enableNetworkFirst="enableNetworkFirst",e.navAgeMinutes="navAgeMinutes",e.enableNavPreload="enableNavPreload",e.enableEmptySectionRoute="enableEmptySectionRoute",e.networkTimeoutSeconds="networkTimeoutSeconds",e.enablePreRenderPartialResponseRoute="enablePreRenderPartialResponseRoute",e.disablePrecache="disablePrecache",e.enableSafeUpdate="enableSafeUpdate",e.enableEarlyFeedFetch="enableEarlyFeedFetch",e.enableEarlyFeedFetchMsg="enableEarlyFeedFetchMsg",e.enableEarlyFeedFetchMem="enableEarlyFeedFetchMem",e.enableBkgdNewStorage="enableBkgdNewStorage",e.enableBaseResponseTeeNoOp="enableBaseResponseTeeNoOp",e.enableAltCacheNetworkRace="enableAltCacheNetworkRace",e.enableNavErrorHandler="enableNavErrorHandler",e.enableJSPrecacheOnly="enableJSPrecacheOnly",e.enableFallbackVerticalsFeed="enableFallbackVerticalsFeed",e.disableDefaultNavigationRoute="disableDefaultNavigationRoute",e.enableNormalizeStartpage="enableNormalizeStartpage"}(r||(r={}))},42420:function(e,t,n){"use strict";n.d(t,{R:function(){return a},U:function(){return o}});var r=n(33940);let i=!1;const o={purgeCacheAsync:function(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.isServiceWorkerActive()){const t=(yield caches.keys()).filter((t=>t.includes(e)));yield Promise.all(t.map((e=>caches.delete(e))))}}))},purgeEntryInCache:function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.isServiceWorkerActive()){const r=yield caches.open(e),i=(yield r.keys()).filter((e=>e.url.startsWith(t)&&e.method===n));yield Promise.all(i.map((e=>r.delete(e))))}}))},isServiceWorkerActive:function(){const{navigator:e}=window,t=e&&e.serviceWorker&&e.serviceWorker.controller;return t&&"activated"===t.state},getIsServiceWorkerEnabled:function(){return i},setIsServiceWorkerEnabled:function(e){i=e}};var a;!function(e){e.base="base",e.followedTopics="followedTopics",e.publishersProfile="publishersProfile",e.river="river",e.subscribedPublishers="subscribedPublishers",e.financeGraphAction="financeGraphAction"}(a||(a={}))},61810:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r=(e=2)=>{let t="/";const n=window.location.pathname.split("/");if(n.length>e&&n[e]){t+=n[1];for(let r=2;r<=e;r++)t+="/"+n[r]}return t}},8218:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(33940),i=n(68364),o=n(98304),a=n(55755),s=n(45506),c=n(12108),u=n(75542);function l(e,t,n=!1,r,l){e?"serviceWorker"in navigator?(e=function(e,t){const n=t.indexOf("?")>-1?"&":"?",r=n+function(e){const t=(0,a.L)().getAll("item"),n=t?t.find((e=>e&&0===e.indexOf("spalink:"))):void 0;let r=function(e){const t=(0,a.L)().get("bundles");let n;if(t&&(n=d("bundles",t),n))return n;if(n=d("bundles",e.bundlesOverride),n)return n;const r=s.Al.ClientSettings&&s.Al.ClientSettings.queryparams,i=new URLSearchParams(r);return d("bundles",i.get("bundles"))}(e);n&&(r=d("item",n.replace("/mobile","")));return r}(e)+function(e){const t=(0,a.L)().get("raceEnabled");return e.cacheAndNetworkRaceEnabled||t?d("raceEnabled","true"):""}(e)+((null===(i=null===s.Al||void 0===s.Al?void 0:s.Al.ClientSettings)||void 0===i?void 0:i.audienceMode)===c.F.Enterprise?d("enableOfficeRoutes","true"):"")+function(e){return isNaN(e.riverAgeMinutes)?"":d("riverAgeMinutes",e.riverAgeMinutes.toString())}(e)+function(e){const t=(0,a.L)().get("enableNetworkFirst");return e.enableNetworkFirst||t?d("enableNetworkFirst","true"):""}(e)+function(e){return isNaN(e.navAgeMinutes)?"":d("navAgeMinutes",e.navAgeMinutes.toString())}(e)+function(e){const t=(0,a.L)().get("enableNavPreload");return e.enableNavPreload||t?d("enableNavPreload","true"):""}(e)+function(e){const t=(0,a.L)().get("enablePreRenderPartialResponseRoute");return e.enablePreRenderPartialResponseRoute||t?d("enablePreRenderPartialResponseRoute","true"):""}(e)+function(e){const t=(0,a.L)().get("enableEmptySectionRoute");return e.enableEmptySectionRoute||t?d("enableEmptySectionRoute","true"):""}(e)+function(e){const t=(0,a.L)().get("disablePrecache");return e.disablePrecache||t?d("disablePrecache","true"):""}(e)+function(e){const t=(0,a.L)().get("enableEarlyFeedFetch");return e.enableEarlyFeedFetch||t?d("enableEarlyFeedFetch","true"):""}(e)+function(e){const t=(0,a.L)().get("enableEarlyFeedFetchMsg");return e.enableEarlyFeedFetchMsg||t?d("enableEarlyFeedFetchMsg","true"):""}(e)+function(e){const t=(0,a.L)().get("enableEarlyFeedFetchMem");return e.enableEarlyFeedFetchMem||t?d("enableEarlyFeedFetchMem","true"):""}(e)+function(e){const t=(0,a.L)().get("enableBaseResponseTeeNoOp");return e.enableBaseResponseTeeNoOp||t?d("enableBaseResponseTeeNoOp","true"):""}(e)+function(e){const t=(0,a.L)().get("enableBkgdNewStorage");return e.enableBkgdNewStorage||t?d("enableBkgdNewStorage","true"):""}(e)+function(e){const t=(0,a.L)().get("enableAltCacheNetworkRace");return e.enableAltCacheNetworkRace||t?d("enableAltCacheNetworkRace","true"):""}(e)+function(e){const t=(0,a.L)().get("enableNavErrorHandler");return e.enableNavErrorHandler||t?d("enableNavErrorHandler","true"):""}(e)+function(e){const t=(0,a.L)().get("enableSafeUpdate");return e.enableSafeUpdate||t?d("enableSafeUpdate","true"):""}(e)+function(e){const t=(0,a.L)().get("enableJSPrecacheOnly");return e.enableJSPrecacheOnly||t?d("enableJSPrecacheOnly","true"):""}(e)+function(e){const t=(0,a.L)().get("enableFallbackVerticalsFeed");return e.enableFallbackVerticalsFeed||t?d("enableFallbackVerticalsFeed","true"):""}(e)+function(e){const t=(0,a.L)().get("disableDefaultNavigationRoute");return e.disableDefaultNavigationRoute||t?d("disableDefaultNavigationRoute","true"):""}(e)+function(e){return isNaN(e.networkTimeoutSeconds)?"":d("networkTimeoutSeconds",e.networkTimeoutSeconds.toString())}(e)+function(e){const t=(0,a.L)().get("enableNormalizeStartpage");return e.enableNormalizeStartpage||t?d("enableNormalizeStartpage","true"):""}(e);var i;r!==n&&(t=function(e,t){if(!e||!e.endsWith(t))return e;return e.slice(0,-1)}(t+=r,"&"));return t}(r,e),n?p(e,t,l):(0,u.F_)().then((()=>{p(e,t,l)}))):(0,i.H)(o.a6r,"Service Worker is not in navigator."):(0,i.H)(o.a6r,"No scriptUrl provided")}function d(e,t){return t?e+"="+t+"&":""}function h(e="/"){return(0,r.mG)(this,void 0,void 0,(function*(){try{const t=yield navigator.serviceWorker.getRegistration(e);if(!t)return;(yield t.unregister())||(0,i.H)(o.Fst,"ServiceWorker unregistration failed.")}catch(e){(0,i.OO)(e,o.Fst,"Failed to unregister ServiceWorker:"+e.message)}}))}function p(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){try{yield navigator.serviceWorker.register(e,{scope:t}),n&&n()}catch(e){(0,i.OO)(e,o.a6r,"ServiceWorker registration failed.")}}))}var g=n(26007),f=n(12884),m=n(42420);function v(e,t,n,r,i){if(!t||"true"!==t.enabled)return;const o=s.Al.ClientSettings.deviceFormFactor;if("false"===t.mobileEnabled&&("phone"===o||"tablet"===o))return;if(!function(e){const t=s.Al.ClientSettings.browser;if(!t&&"false"===e.mobileEnabled)return!1;const n=e.unsupportedBrowsers;if(!n||!n.length)return!0;if(n.findIndex((e=>e.toLowerCase()===t.browserType.toLowerCase()))>-1)return!1;return!0}(t))return;if(!function(){const e="storageTest";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){console.log(e)}return!1}())return;const a=t.isLowEndDevice&&t.disableOnLowEndDevices;if("true"===t.registrationEnabled&&!a){const o=function(){const e=(0,f.zp)(),t=g.c.getQueryParameterByName("swimmediateregistration",e);if(t)return"true"===t.toLocaleLowerCase();return!1}();r=r||o,m.U.setIsServiceWorkerEnabled(!0),l(e,n,r,t,i)}("true"===t.unregistrationEnabled||a)&&(!function(e="/",t=!1){if(!e||!("serviceWorker"in navigator))return null;t||"complete"===document.readyState?h(e):window.addEventListener("load",(()=>{h(e)}),{once:!0})}(n),m.U.setIsServiceWorkerEnabled(!1))}},4519:function(e,t,n){"use strict";n.d(t,{AA:function(){return o},pR:function(){return i},wS:function(){return r}});const r=Object.freeze({AIDRequestHeaderName:"pcs-aid",Product:Object.freeze({mmx:"emmx",edge:"spartan",edgeChromium:"anaheim",hybrid:"spartan",hub:"prime",microsoftNews:"msnews",office:"entnews",weather:"prime",views:"prime"}),PageTimings:Object.freeze({inlineStart:"page.inlineStart",fragmentFetchStart:"ssr.fragmentFetching",fragmentFetchEnd:"ssr.fragmentFetched",fragmentFetchStatusCode:"ssr.fragmentFetchStatusCode",fragmentBrowserCached:"ssr.fragmentBrowserCached",fragmentCDNCached:"ssr.fragmentCDNCached",injectingDOM:"ssr.injectingDOM",awaitingRAF:"ssr.awaitingRAF",markersSet:"ssr.markersSet",completed:"ssr.completed",CSRTimeout:"ssr.CSRTimeout",CSROnly:"ssr.csrOnly",didSSR:"ssr.isSSRPagePresent",riverEnabled:"ssr.riverEnabled",ssrState:"ssr.state",pageTTVR:"TTVR",fetchDelayReason:"ssr.fetchDelayReason",awaitingInnerWidthTime:"ssr.awaitingInnerWidthTime",skipDueToHiddenReason:"ssr.skipDueToHiddenReason",pssrRejectedReason:"ssr.pssrRejected",ssrResponseSize:"ssr.responseSize",inlineBodyStart:"ssr.inlineBodyStart",pcsEnv:"pcsEnv"}),pauseThresholdMS:1200,oneServiceHeaders:"1s-headers",edgeNTPHeader:"sec-edge-ntp",defaultSSRFeedLayout:"multi"});var i,o;!function(e){e[e.Mmx=0]="Mmx",e[e.Hub=1]="Hub",e[e.Homepage=2]="Homepage",e[e.Edge=3]="Edge",e[e.Weather=4]="Weather",e[e.Finance=5]="Finance",e[e.Community=6]="Community",e[e.Views=7]="Views",e[e.Gaming=8]="Gaming",e[e.Sports=9]="Sports",e[e.Health=10]="Health",e[e.Shopping=11]="Shopping",e[e.CgHomePage=12]="CgHomePage"}(i||(i={})),function(e){e[e.documentHidden=0]="documentHidden",e[e.hasPaused=1]="hasPaused",e[e.invalidInnerWidth=2]="invalidInnerWidth",e[e.slowFetchStart=3]="slowFetchStart"}(o||(o={}))},89445:function(e,t,n){"use strict";n.d(t,{yA:function(){return W}});var r=n(33940),i=n(4519),o=n(23547),a=n(35703),s=(n(43488),n(22704)),c=n(82855);const u="ssrOnly";function l(){return"hidden"===document.visibilityState}function d(e,t=performance.now(),n=!0){const r=(0,s.Ou)();e in r||(r[e]=n?Math.round(t):t)}function h(e,t){return t.get(e)||t.get(e.toLowerCase())}function p(e){window.SSR=e,window.RENDER=!0}function g(e,t,n,r,o,c){if(void 0===window.SSR){let g=!1;const{hasSsr:m,isSSRRiver:v}=e.shouldEnableSSR(t,n,r,o,c);if(m){g="true"===h(u,t);const o=function(){let e=!1;const t=(0,s.Ou)()[i.wS.PageTimings.inlineStart],{responseStart:n}=(0,s.Th)()||{};void 0!==n&&t&&(e=t-n>i.wS.pauseThresholdMS);return e}(),c=l();if(!c&&!o||g)f(g,v);else{const t=c?i.AA.documentHidden:i.AA.hasPaused;d(i.wS.PageTimings.skipDueToHiddenReason,t);!!e.shouldInsistSSRWhenHidden&&e.shouldInsistSSRWhenHidden(n,r,t)?f(g,v):(window.SSR=a.U.SkipDueToHidden,window.RENDER=!0)}}else p(a.U.SkipDueToCSROnly)}return!window.RENDER}function f(e,t){window.SSR=a.U.NotStarted,window.RENDER=!1,window.SSRONLY=e,window.RIVER=t}function m(e){return function(e,t){const n=(e=(e||"").substring(1))+"&"+(t=(t||"").substring(1));return new o.h(n)}(e&&e.queryparams,window.location.search)}function v(e){return e&&("transferSize"in e||"nextHopProtocol"in e)}var y=n(59902),C=n(49972);var S=n(23163),w=n(48328),b=n(55755),T=n(27496);let P,k;function A(){if(k)return k;const e=document.head.getAttribute("data-info");return k=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),k}var E=n(96154);let M;var x;!function(e){e[e.Alert=0]="Alert",e[e.NoAlert=1]="NoAlert",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(x||(x={}));const I=new class{constructor(e=20){this.maxLength=20,this.list=[],this.maxLength=e}push(e){this.list.push(e),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}};function L(e,t,n,r=x.Alert){try{const i=function(){if(!P){const e=document.head.getAttribute("data-client-settings");e&&(P=JSON.parse(e))}return P}(),o=A(),a=function(e){if(e){const{pcsInfo:t,pageGenTime:n}=e,r=new Date(n).getTime(),i=!t||"prod"===t.env||"prod-ssr"===t.env;M=i?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:i?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":r,w:"0",anoncknm:"app_anon"}}return null}(i);let s="";a&&a.apikey&&""!==a.apikey&&(s=function(e){if(e){const t=e.indexOf("-");if(t>0)return e.substring(0,t)}return""}(a.apikey));const c=function(e,t,n,r,i,o,a=x.Alert){var s;if(n){i=i||{};const{apptype:c,audienceMode:u,pagetype:l,pageGenTime:d,bundleInfo:h,deviceFormFactor:p="",fd_muid:g,os:f}=n;i.pageGenTime=d,i.build=h&&h.v,i.appType=c;const m=function(e,t,n){const r=n&&"phone"===n.toLowerCase();return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:t&&"enterprise"===t?"entnews":"anaheim",hybrid:"spartan",hub:r?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:r?"prime_mobile":"prime",windowsShell:"windowsshell"}[e]}(c,u,p),v=m||c,y=document.getElementsByTagName("html")[0].getAttribute("lang");let C,S="",w="muid";try{if("edgeChromium"===c&&"object"==typeof window&&window.location&&window.location.search){const e=new URLSearchParams(window.location.search);C=e.has("startpage")?"msedgdhp":"msedgntp","enterprise"===u?C="entnewsntp":"xbox"===f&&(C="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||(S=(0,E.AE)("muid"))}catch(e){}S||(S=n.aid,w="aid");const b={name:"MS.News.Web.AppError",time:d,ver:"4.0",iKey:`o:${r}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{name:"default",product:v,type:O(l),content:{category:"standaloneError"},ocid:C},browser:{clientId:S,clientIdType:w},flight:{id:o},request:{activityId:n.aid,requestId:n.aid,afdMuid:g},locale:{mkt:y},extSchema:{id:e,severity:a,pb:i,message:t}}};return S&&"muid"===w&&(b.ext=Object.assign(Object.assign({},null==b?void 0:b.ext),{user:Object.assign(Object.assign({},null===(s=null==b?void 0:b.ext)||void 0===s?void 0:s.user),{localId:`t:${S}`})})),i.isSSRScope&&(b.data.flight.tmpl="ssrscope:1","object"==typeof window&&window.isSSREnabled&&(b.data.flight.tmpl+=";ssr-enabled:1")),b?JSON.stringify(b):null}return null}(t,e,i,s,n,o,r);if(a&&c){console.error(c),I.push(c);const e="https://"+M+"/OneCollector/1.0"+function(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}(a);navigator.sendBeacon(e,c)}}catch(e){}}function O(e){let t=e;switch(e){case"windowsshellhp":t="dhp";break;case"video":t="watch"}return t}const F="page.start",D="page.render",R="page.importsLoaded";function W(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const{end:o}=function(){const e=performance.now();return{end:t=>{const n=performance.now(),r="ClientInit";try{t||((0,s.Ou)().ClientInit=Math.round(n-e)),(0,y.QP)({name:r,startTime:e,endTime:n,customSuffix:t?"error":void 0})}catch(e){console.error("ClientInit span error: "+(0,C.n)(e))}}}}();try{if(void 0===window.SSR){const e=(0,w.Qe)();if(e){const r=m(e),i=function(e,t){const n=document.head.dataset.info;let r=((/f:\s*([^;]+)/i.exec(n)||{})[1]||"").toLowerCase().split(",");return r=(0,c.Mx)(r),r}(),o=function(e){return e.locale&&e.locale.language&&e.locale.market?`${e.locale.language}-${e.locale.market}`.toLowerCase():void 0}(e);g(t,r,n,e.pagetype,i,o)}else L("Failed startPage due to missing client settings. Force client side rendering.",34008,{}),p(a.U.HasError)}const u=performance.now(),l=(0,s.Ou)();window.performance.mark(F),l[F]=Math.round(u),(0,S.bg)(l);const d=function(){const e=(0,s.Ou)();if(e.microsoftJS&&e.commonJS&&e.experienceJS&&e.vendorsJS)return!0;const t=performance.getEntriesByType("resource"),n=t.length>0?t[0]:null;if(n&&!v(n)&&e[F]<400)return!0;return!1}(),h=d?400:150;if(!window.SSRONLY)if(!window.RENDER&&window.SSR_Mode!==a.K.PureSSR&&(yield function(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=performance.now()+e;let n=!0,r=!1;for(;n;){const e=performance.now()>=t;window.SSR===a.U.HasFetchError||window.SSR===a.U.HasError||window.SSR===a.U.SkipDueToHidden||window.SSR===a.U.SkipForEarlyAuth||e?n=!1:window.SSR!==a.U.NotStarted&&(n=!1,r=!0),n&&(yield(0,T.Kb)(10))}return r}))}(h))){const t=yield e();window.performance.mark(R),l[R]=Math.round(performance.now());const o=function(e,t){let n;const r=function(e){const t=(0,b.L)();return t.get(e)||t.get(e.toLowerCase())}("csrDelay");if(r)n=Number(r);else switch(e){case i.pR.Mmx:n=1300;break;case i.pR.Edge:n=1e3;break;case i.pR.Hub:n=1300;break;case i.pR.Weather:n=1500;break;case i.pR.Finance:n=1200;break;default:n=500}const o=(0,s.Ou)()[i.wS.PageTimings.fragmentFetchStart],c=window.SSR===a.U.InsertingDOM?500:200;return n=Math.max(n-(performance.now()-o),c),Math.round(n)}(n);l[i.wS.PageTimings.CSRTimeout]=o;N(t,!(yield function(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=performance.now()+e;let n=!0,r=!1;for(;n;){const e=performance.now()>=t;window.SSR===a.U.HasFetchError||window.SSR===a.U.HasError||window.SSR===a.U.SkipDueToHidden||window.SSR===a.U.SkipForEarlyAuth||e?(n=!1,r=!1):window.SSR===a.U.Completed&&(n=!1,r=!0),n&&(yield(0,T.Kb)(10))}return r}))}(o)))}else{window.SSR===a.U.NotStarted&&(p(a.U.SkipDueToHidden),l[i.wS.PageTimings.skipDueToHiddenReason]=i.AA.slowFetchStart);const t=yield e();window.performance.mark(R),l[R]=Math.round(performance.now()),N(t,!1)}o()}catch(e){p(a.U.HasError),L(`Exception occured on startPage.\n${e.stack||e}`,34008,{}),o(!0)}}))}function N(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=window.SSR===a.U.Completed;window.performance.mark(D);const r=(0,s.Ou)();r[D]=Math.round(performance.now()),r[i.wS.PageTimings.CSROnly]=window.SSR===a.U.SkipDueToCSROnly?1:0,r[i.wS.PageTimings.didSSR]=n,r[i.wS.PageTimings.ssrState]=window.SSR,r[i.wS.PageTimings.riverEnabled]=window.RIVER?1:0,window.RENDER=!n,e.render(t)}))}},35703:function(e,t,n){"use strict";var r,i;n.d(t,{K:function(){return i},U:function(){return r}}),function(e){e.NotStarted="NotStarted",e.Fetching="Fetching",e.InsertingDOM="InsertingDOM",e.Completed="Completed",e.HasFetchError="HasFetchError",e.HasError="HasError",e.SkipDueToCSROnly="SkipDueToCSROnly",e.SkipDueToHidden="SkipDueToHidden",e.SkipForEarlyAuth="SkipForEarlyAuth",e.PssrRejected="PssrRejected"}(r||(r={})),function(e){e.PureSSR="pssr",e.DSSR="dssr"}(i||(i={}))},93707:function(e,t,n){"use strict";function r(e,t){if(t&&t.dataType)switch(t.dataType){case"Map":return new Map(t.dataValue);case"Date":return new Date(t.dataValue)}return t}function i(){"undefined"!=typeof globalThis?(document.removeEventListener("click",globalThis.untrackedClickHandler),globalThis.untrackedClickHandler=null):(document.removeEventListener("click",window.untrackedClickHandler),window.untrackedClickHandler=null);const e=document.getElementById("ssr-style");e&&e.remove()}function o(e){return()=>{i(),e&&e()}}n.d(t,{Qg:function(){return r},zc:function(){return o}})},72661:function(e,t,n){"use strict";n.d(t,{$B5:function(){return On},$sx:function(){return o},$yN:function(){return _t},A28:function(){return yr},AHG:function(){return p},ANy:function(){return Bn},Awk:function(){return ze},BBe:function(){return Oe},BiD:function(){return kt},CMn:function(){return sn},CO8:function(){return Sr},Cf6:function(){return rr},CwC:function(){return qr},D$S:function(){return ee},D5O:function(){return In},DM6:function(){return ve},DuD:function(){return W},Duq:function(){return Je},EP8:function(){return He},ETn:function(){return Re},EZi:function(){return Dr},EpV:function(){return Mt},Fve:function(){return Q},GOu:function(){return vt},GTr:function(){return C},GYe:function(){return br},GZ_:function(){return be},HAF:function(){return Zr},HSq:function(){return j},HjS:function(){return St},Hp0:function(){return Or},I8y:function(){return Gn},INc:function(){return Qn},Ivt:function(){return nt},Iyo:function(){return pe},J$U:function(){return Pn},J8O:function(){return Dt},JGj:function(){return i},JIU:function(){return ar},JRS:function(){return Jt},JZq:function(){return Rr},Jef:function(){return _n},Jmb:function(){return Se},Jpl:function(){return Hr},K1v:function(){return Fn},K_E:function(){return jn},Kbw:function(){return X},Kdu:function(){return Zn},KfP:function(){return Xt},KmB:function(){return Vt},KoC:function(){return Yn},Kwg:function(){return fr},L66:function(){return ot},LC0:function(){return en},Lb0:function(){return lr},LqM:function(){return zr},M3t:function(){return mr},MHM:function(){return Ye},Mu0:function(){return ce},NFx:function(){return Bt},Nh7:function(){return et},Ni_:function(){return Qt},Nj3:function(){return At},Njt:function(){return l},NqK:function(){return Yr},Nsl:function(){return Ze},OUP:function(){return dn},P6_:function(){return fn},PGO:function(){return ue},PHM:function(){return Ht},Pc8:function(){return zn},Ppo:function(){return Mr},Q1$:function(){return O},Q4b:function(){return r},Q6K:function(){return lt},Q82:function(){return mt},QA3:function(){return N},QAZ:function(){return it},QVn:function(){return _},QWr:function(){return f},QZk:function(){return d},Qcv:function(){return _e},Ql6:function(){return b},QlI:function(){return Ke},R9M:function(){return bn},RYw:function(){return rt},SK1:function(){return nn},SKN:function(){return qn},SLB:function(){return Qr},SUP:function(){return jt},SXv:function(){return me},Sgj:function(){return R},SmY:function(){return J},Suf:function(){return gr},Swd:function(){return je},T0B:function(){return Me},T7_:function(){return q},TRL:function(){return tt},TdX:function(){return sr},TlJ:function(){return gt},Trq:function(){return Kt},U0B:function(){return Xr},U5c:function(){return st},UAE:function(){return ft},USm:function(){return kn},Ufg:function(){return yt},Upo:function(){return pn},VdP:function(){return $t},VmT:function(){return wr},Vq0:function(){return Zt},VqT:function(){return ae},W1h:function(){return xe},WCU:function(){return h},W_t:function(){return Xe},X3i:function(){return ln},XCt:function(){return Rt},XMq:function(){return Ce},XUA:function(){return ur},XjN:function(){return ke},XzI:function(){return Te},Y$S:function(){return xr},YK:function(){return Fr},YXQ:function(){return Ot},YZ_:function(){return De},YdY:function(){return K},Ym$:function(){return xt},YsH:function(){return Be},YwX:function(){return cr},Z4g:function(){return Ee},Z8y:function(){return rn},ZDp:function(){return Y},ZG1:function(){return xn},Zlm:function(){return Ft},_9F:function(){return dt},_Td:function(){return or},_q_:function(){return pr},aNp:function(){return ge},aR8:function(){return Ne},aWg:function(){return Kn},ak3:function(){return yn},amU:function(){return wn},az9:function(){return x},b2u:function(){return m},bO9:function(){return Z},bTI:function(){return vr},bcg:function(){return ir},bz$:function(){return Ar},ckD:function(){return on},cln:function(){return P},cu4:function(){return wt},d1q:function(){return $n},d3Q:function(){return Jn},d6A:function(){return Gr},dJ3:function(){return Pr},dgU:function(){return g},e7n:function(){return V},e8i:function(){return qt},eZ7:function(){return Wr},eaU:function(){return Ln},eo:function(){return un},fIy:function(){return c},fT5:function(){return Pt},fbs:function(){return hn},fs4:function(){return Ge},g4$:function(){return ie},g4z:function(){return $r},gNj:function(){return pt},gR2:function(){return ei},hAY:function(){return kr},hBb:function(){return mn},hZ7:function(){return Nn},hfI:function(){return Ur},hjB:function(){return y},i5k:function(){return G},i8j:function(){return A},iP8:function(){return Ct},iRB:function(){return _r},iS9:function(){return a},iau:function(){return cn},ijL:function(){return de},ivg:function(){return Ir},j3c:function(){return Yt},jMY:function(){return he},jXH:function(){return hr},jdb:function(){return jr},jqP:function(){return oe},jwU:function(){return Ve},k5m:function(){return D},k5w:function(){return er},k6A:function(){return an},kGr:function(){return at},kZB:function(){return Ut},kZR:function(){return Qe},ko$:function(){return ct},l4M:function(){return zt},lbw:function(){return ti},m5U:function(){return Br},m7d:function(){return Tn},mEu:function(){return ut},mWw:function(){return Tr},mYT:function(){return Dn},mbW:function(){return Wt},mec:function(){return F},mgj:function(){return ye},n15:function(){return Er},nBC:function(){return Nr},nWT:function(){return E},na_:function(){return k},ngd:function(){return Rn},o3o:function(){return Wn},oCP:function(){return $},oEv:function(){return bt},oTe:function(){return Un},oUz:function(){return vn},o_F:function(){return Gt},onj:function(){return We},osf:function(){return Mn},p8M:function(){return Sn},pIY:function(){return H},pQ8:function(){return Hn},pXV:function(){return $e},qAw:function(){return Ue},qC9:function(){return dr},qoz:function(){return An},r1t:function(){return le},r7W:function(){return tr},rDE:function(){return v},rQG:function(){return se},r_X:function(){return u},rfN:function(){return Cr},rs3:function(){return M},s7g:function(){return gn},sL9:function(){return s},sLq:function(){return En},saX:function(){return Et},sn9:function(){return ne},stG:function(){return Pe},sue:function(){return Lr},tCZ:function(){return Nt},tGh:function(){return S},tHk:function(){return qe},tT6:function(){return Le},tYt:function(){return fe},uI7:function(){return I},uUS:function(){return Ae},ubl:function(){return Fe},v$6:function(){return Xn},vB$:function(){return Cn},vMQ:function(){return L},vwG:function(){return Jr},w4T:function(){return re},w9F:function(){return Ie},wKV:function(){return Lt},wUN:function(){return B},ws_:function(){return Vn},wv0:function(){return nr},xFx:function(){return te},xPt:function(){return Kr},xS2:function(){return U},xbu:function(){return Tt},xu6:function(){return It},yQq:function(){return tn},ySU:function(){return ht},z3R:function(){return Vr},zG7:function(){return z},znP:function(){return w},znR:function(){return we},ztb:function(){return T}});const r=()=>n.e("svg-ad").then(n.bind(n,41638)),i=()=>n.e("svg-ae").then(n.bind(n,48154)),o=()=>n.e("svg-ag").then(n.bind(n,95465)),a=()=>n.e("svg-ah").then(n.bind(n,35503)),s=()=>n.e("svg-ai").then(n.bind(n,47872)),c=()=>n.e("svg-aj").then(n.bind(n,90018)),u=()=>n.e("svg-ao").then(n.bind(n,83931)),l=()=>n.e("svg-aw").then(n.bind(n,9079)),d=()=>n.e("svg-ax").then(n.bind(n,2131)),h=()=>n.e("svg-ay").then(n.bind(n,29104)),p=()=>n.e("svg-az").then(n.bind(n,20866)),g=()=>n.e("svg-a1").then(n.bind(n,19829)),f=()=>n.e("svg-a2").then(n.bind(n,44717)),m=()=>n.e("svg-a9").then(n.bind(n,65060)),v=()=>n.e("svg-ca0").then(n.bind(n,98670)),y=()=>n.e("svg-bq").then(n.bind(n,15519)),C=()=>n.e("svg-bs").then(n.bind(n,66819)),S=()=>n.e("svg-bt").then(n.bind(n,76406)),w=()=>n.e("svg-b2").then(n.bind(n,80900)),b=()=>n.e("svg-b8").then(n.bind(n,67677)),T=()=>n.e("svg-b9").then(n.bind(n,27037)),P=()=>n.e("svg-cd").then(n.bind(n,99862)),k=()=>n.e("svg-ce").then(n.bind(n,12298)),A=()=>n.e("svg-cl").then(n.bind(n,59302)),E=()=>n.e("svg-cm").then(n.bind(n,27023)),M=()=>n.e("svg-cn").then(n.bind(n,68824)),x=()=>n.e("svg-cy").then(n.bind(n,99639)),I=()=>n.e("svg-c0").then(n.bind(n,37626)),L=()=>n.e("svg-c1").then(n.bind(n,14988)),O=()=>n.e("svg-c7").then(n.bind(n,58720)),F=()=>n.e("svg-db").then(n.bind(n,71388)),D=()=>n.e("svg-ee").then(n.bind(n,56124)),R=()=>n.e("svg-es").then(n.bind(n,49540)),W=()=>n.e("svg-et").then(n.bind(n,24574)),N=()=>n.e("svg-eu").then(n.bind(n,64459)),j=()=>n.e("svg-ev").then(n.bind(n,48032)),U=()=>n.e("svg-ew").then(n.bind(n,59121)),H=()=>n.e("svg-ex").then(n.bind(n,35993)),G=()=>n.e("svg-ey").then(n.bind(n,34089)),B=()=>n.e("svg-e2").then(n.bind(n,23416)),$=()=>n.e("svg-e4").then(n.bind(n,7572)),V=()=>n.e("svg-e7").then(n.bind(n,7633)),_=()=>n.e("svg-fg").then(n.bind(n,11941)),z=()=>n.e("svg-fo").then(n.bind(n,2640)),q=()=>n.e("svg-fp").then(n.bind(n,68212)),K=()=>n.e("svg-fx").then(n.bind(n,77252)),Z=()=>n.e("svg-fz").then(n.bind(n,9270)),Q=()=>n.e("svg-f0").then(n.bind(n,61676)),Y=()=>n.e("svg-f6").then(n.bind(n,18341)),J=()=>n.e("svg-f7").then(n.bind(n,98188)),X=()=>n.e("svg-f8").then(n.bind(n,99632)),ee=()=>n.e("svg-ga").then(n.bind(n,4305)),te=()=>n.e("svg-gb").then(n.bind(n,177)),ne=()=>n.e("svg-gc").then(n.bind(n,37893)),re=()=>n.e("svg-gf").then(n.bind(n,51898)),ie=()=>n.e("svg-gk").then(n.bind(n,79129)),oe=()=>n.e("svg-gl").then(n.bind(n,52322)),ae=()=>n.e("svg-gr").then(n.bind(n,21841)),se=()=>n.e("svg-gr").then(n.bind(n,66912)),ce=()=>n.e("svg-gs").then(n.bind(n,35975)),ue=()=>n.e("svg-h5").then(n.bind(n,22134)),le=()=>n.e("svg-ij").then(n.bind(n,16742)),de=()=>n.e("svg-x5").then(n.bind(n,57038)),he=()=>n.e("svg-iq").then(n.bind(n,6348)),pe=()=>n.e("svg-jd").then(n.bind(n,20790)),ge=()=>n.e("svg-jn").then(n.bind(n,75862)),fe=()=>n.e("svg-jp").then(n.bind(n,32846)),me=()=>n.e("svg-jq").then(n.bind(n,89923)),ve=()=>n.e("svg-jz").then(n.bind(n,9934)),ye=()=>n.e("svg-j5").then(n.bind(n,14286)),Ce=()=>n.e("svg-j6").then(n.bind(n,74632)),Se=()=>n.e("svg-j7").then(n.bind(n,50452)),we=()=>n.e("svg-l8").then(n.bind(n,30891)),be=()=>n.e("svg-ms").then(n.bind(n,14278)),Te=()=>n.e("svg-mw").then(n.bind(n,22656)),Pe=()=>n.e("svg-m5").then(n.bind(n,92432)),ke=()=>n.e("svg-m6").then(n.bind(n,72798)),Ae=()=>n.e("svg-m8").then(n.bind(n,40365)),Ee=()=>n.e("svg-nb").then(n.bind(n,48492)),Me=()=>n.e("svg-nd").then(n.bind(n,11284)),xe=()=>n.e("svg-ng").then(n.bind(n,69275)),Ie=()=>n.e("svg-pp").then(n.bind(n,54273)),Le=()=>n.e("svg-pr").then(n.bind(n,22879)),Oe=()=>n.e("svg-pt").then(n.bind(n,71274)),Fe=()=>n.e("svg-pw").then(n.bind(n,63693)),De=()=>n.e("svg-px").then(n.bind(n,21720)),Re=()=>n.e("svg-p0").then(n.bind(n,4525)),We=()=>n.e("svg-p1").then(n.bind(n,86626)),Ne=()=>n.e("svg-p2").then(n.bind(n,62593)),je=()=>n.e("svg-p3").then(n.bind(n,60523)),Ue=()=>n.e("svg-p4").then(n.bind(n,47720)),He=()=>n.e("svg-p5").then(n.bind(n,10923)),Ge=()=>n.e("svg-p6").then(n.bind(n,91412)),Be=()=>n.e("svg-p8").then(n.bind(n,38703)),$e=()=>n.e("svg-p9").then(n.bind(n,17166)),Ve=()=>n.e("svg-qa").then(n.bind(n,28925)),_e=()=>n.e("svg-qb").then(n.bind(n,88474)),ze=()=>n.e("svg-qc").then(n.bind(n,55632)),qe=()=>n.e("svg-qe").then(n.bind(n,670)),Ke=()=>n.e("svg-qf").then(n.bind(n,9825)),Ze=()=>n.e("svg-qg").then(n.bind(n,67689)),Qe=()=>n.e("svg-qi").then(n.bind(n,30302)),Ye=()=>n.e("svg-qk").then(n.bind(n,75375)),Je=()=>n.e("svg-ql").then(n.bind(n,31272)),Xe=()=>n.e("svg-qm").then(n.bind(n,11180)),et=()=>n.e("svg-qn").then(n.bind(n,84827)),tt=()=>n.e("svg-qo").then(n.bind(n,89205)),nt=()=>n.e("svg-qp").then(n.bind(n,89630)),rt=()=>n.e("svg-qq").then(n.bind(n,81713)),it=()=>n.e("svg-qr").then(n.bind(n,8090)),ot=()=>n.e("svg-qs").then(n.bind(n,7139)),at=()=>n.e("svg-qt").then(n.bind(n,14124)),st=()=>n.e("svg-qu").then(n.bind(n,54664)),ct=()=>n.e("svg-qv").then(n.bind(n,8348)),ut=()=>n.e("svg-qw").then(n.bind(n,30884)),lt=()=>n.e("svg-qx").then(n.bind(n,69931)),dt=()=>n.e("svg-qy").then(n.bind(n,78707)),ht=()=>n.e("svg-qz").then(n.bind(n,57597)),pt=()=>n.e("svg-q0").then(n.bind(n,39838)),gt=()=>n.e("svg-ri").then(n.bind(n,1061)),ft=()=>n.e("svg-rj").then(n.bind(n,82660)),mt=()=>n.e("svg-rk").then(n.bind(n,36522)),vt=()=>n.e("svg-rm").then(n.bind(n,25147)),yt=()=>n.e("svg-rn").then(n.bind(n,28523)),Ct=()=>n.e("svg-ro").then(n.bind(n,48524)),St=()=>n.e("svg-rp").then(n.bind(n,78630)),wt=()=>n.e("svg-rv").then(n.bind(n,38268)),bt=()=>n.e("svg-rw").then(n.bind(n,91727)),Tt=()=>n.e("svg-rx").then(n.bind(n,3131)),Pt=()=>n.e("svg-ry").then(n.bind(n,10380)),kt=()=>n.e("svg-ry").then(n.bind(n,25169)),At=()=>n.e("svg-rz").then(n.bind(n,83963)),Et=()=>n.e("svg-r0").then(n.bind(n,2887)),Mt=()=>n.e("svg-r1").then(n.bind(n,3278)),xt=()=>n.e("svg-r2").then(n.bind(n,29168)),It=()=>n.e("svg-r3").then(n.bind(n,48703)),Lt=()=>n.e("svg-r4").then(n.bind(n,74334)),Ot=()=>n.e("svg-r7").then(n.bind(n,271)),Ft=()=>n.e("svg-r9").then(n.bind(n,52236)),Dt=()=>n.e("svg-sc").then(n.bind(n,47903)),Rt=()=>n.e("svg-se").then(n.bind(n,57942)),Wt=()=>n.e("svg-si").then(n.bind(n,27046)),Nt=()=>n.e("svg-sp").then(n.bind(n,54087)),jt=()=>n.e("svg-sq").then(n.bind(n,73597)),Ut=()=>n.e("svg-st").then(n.bind(n,80578)),Ht=()=>n.e("svg-su").then(n.bind(n,57750)),Gt=()=>n.e("svg-sv").then(n.bind(n,27449)),Bt=()=>n.e("svg-sw").then(n.bind(n,19873)),$t=()=>n.e("svg-sx").then(n.bind(n,58337)),Vt=()=>n.e("svg-s0").then(n.bind(n,72970)),_t=()=>n.e("svg-s1").then(n.bind(n,99828)),zt=()=>n.e("svg-s4").then(n.bind(n,75091)),qt=()=>n.e("svg-s6").then(n.bind(n,12519)),Kt=()=>n.e("svg-s8").then(n.bind(n,75130)),Zt=()=>n.e("svg-s9").then(n.bind(n,29093)),Qt=()=>n.e("svg-ta").then(n.bind(n,72694)),Yt=()=>n.e("svg-ti").then(n.bind(n,32139)),Jt=()=>n.e("svg-tj").then(n.bind(n,55824)),Xt=()=>n.e("svg-tk").then(n.bind(n,19275)),en=()=>n.e("svg-tl").then(n.bind(n,53249)),tn=()=>n.e("svg-tm").then(n.bind(n,705)),nn=()=>n.e("svg-tn").then(n.bind(n,71907)),rn=()=>n.e("svg-to").then(n.bind(n,69037)),on=()=>n.e("svg-tp").then(n.bind(n,47190)),an=()=>n.e("svg-tq").then(n.bind(n,35342)),sn=()=>n.e("svg-tr").then(n.bind(n,22989)),cn=()=>n.e("svg-ts").then(n.bind(n,96973)),un=()=>n.e("svg-tt").then(n.bind(n,81442)),ln=()=>n.e("svg-tu").then(n.bind(n,54440)),dn=()=>n.e("svg-tv").then(n.bind(n,36161)),hn=()=>n.e("svg-tw").then(n.bind(n,78599)),pn=()=>n.e("svg-tx").then(n.bind(n,74981)),gn=()=>n.e("svg-ty").then(n.bind(n,29025)),fn=()=>n.e("svg-tz").then(n.bind(n,62164)),mn=()=>n.e("svg-t1").then(n.bind(n,89199)),vn=()=>n.e("svg-t3").then(n.bind(n,24835)),yn=()=>n.e("svg-t4").then(n.bind(n,89235)),Cn=()=>n.e("svg-t5").then(n.bind(n,71609)),Sn=()=>n.e("svg-t6").then(n.bind(n,92269)),wn=()=>n.e("svg-t7").then(n.bind(n,52684)),bn=()=>n.e("svg-t8").then(n.bind(n,72176)),Tn=()=>n.e("svg-t9").then(n.bind(n,2307)),Pn=()=>n.e("svg-ua").then(n.bind(n,14582)),kn=()=>n.e("svg-ub").then(n.bind(n,42675)),An=()=>n.e("svg-uc").then(n.bind(n,36823)),En=()=>n.e("svg-ur").then(n.bind(n,98728)),Mn=()=>n.e("svg-u8").then(n.bind(n,47549)),xn=()=>n.e("svg-vf").then(n.bind(n,72581)),In=()=>n.e("svg-vg").then(n.bind(n,675)),Ln=()=>n.e("svg-vi").then(n.bind(n,22475)),On=()=>n.e("svg-vj").then(n.bind(n,93060)),Fn=()=>n.e("svg-vk").then(n.bind(n,73266)),Dn=()=>n.e("svg-vl").then(n.bind(n,98091)),Rn=()=>n.e("svg-vo").then(n.bind(n,21702)),Wn=()=>n.e("svg-vq").then(n.bind(n,31195)),Nn=()=>n.e("svg-vw").then(n.bind(n,67342)),jn=()=>n.e("svg-vx").then(n.bind(n,72651)),Un=()=>n.e("svg-vy").then(n.bind(n,98352)),Hn=()=>n.e("svg-vz").then(n.bind(n,8395)),Gn=()=>n.e("svg-v0").then(n.bind(n,20929)),Bn=()=>n.e("svg-v1").then(n.bind(n,26473)),$n=()=>n.e("svg-v2").then(n.bind(n,61869)),Vn=()=>n.e("svg-v3").then(n.bind(n,58614)),_n=()=>n.e("svg-v4").then(n.bind(n,48568)),zn=()=>n.e("svg-v5").then(n.bind(n,66656)),qn=()=>n.e("svg-v6").then(n.bind(n,28651)),Kn=()=>n.e("svg-v7").then(n.bind(n,25994)),Zn=()=>n.e("svg-v8").then(n.bind(n,50693)),Qn=()=>n.e("svg-v9").then(n.bind(n,95233)),Yn=()=>n.e("svg-wa").then(n.bind(n,85784)),Jn=()=>n.e("svg-wb").then(n.bind(n,76288)),Xn=()=>n.e("svg-wc").then(n.bind(n,43115)),er=()=>n.e("svg-wd").then(n.bind(n,92284)),tr=()=>n.e("svg-we").then(n.bind(n,58428)),nr=()=>n.e("svg-wf").then(n.bind(n,88107)),rr=()=>n.e("svg-wg").then(n.bind(n,13113)),ir=()=>n.e("svg-wh").then(n.bind(n,34011)),or=()=>n.e("svg-wi").then(n.bind(n,30825)),ar=()=>n.e("svg-wj").then(n.bind(n,93790)),sr=()=>n.e("svg-wk").then(n.bind(n,18606)),cr=()=>n.e("svg-wl").then(n.bind(n,95769)),ur=()=>n.e("svg-wm").then(n.bind(n,50813)),lr=()=>n.e("svg-wn").then(n.bind(n,70902)),dr=()=>n.e("svg-wo").then(n.bind(n,13125)),hr=()=>n.e("svg-wp").then(n.bind(n,33381)),pr=()=>n.e("svg-wq").then(n.bind(n,54673)),gr=()=>n.e("svg-wr").then(n.bind(n,32862)),fr=()=>n.e("svg-ws").then(n.bind(n,13409)),mr=()=>n.e("svg-wt").then(n.bind(n,7502)),vr=()=>n.e("svg-wu").then(n.bind(n,87098)),yr=()=>n.e("svg-wv").then(n.bind(n,2073)),Cr=()=>n.e("svg-ww").then(n.bind(n,71061)),Sr=()=>n.e("svg-wx").then(n.bind(n,5894)),wr=()=>n.e("svg-wy").then(n.bind(n,90822)),br=()=>n.e("svg-wz").then(n.bind(n,64513)),Tr=()=>n.e("svg-w0").then(n.bind(n,77813)),Pr=()=>n.e("svg-w1").then(n.bind(n,29959)),kr=()=>n.e("svg-w2").then(n.bind(n,37361)),Ar=()=>n.e("svg-w3").then(n.bind(n,72093)),Er=()=>n.e("svg-w4").then(n.bind(n,28593)),Mr=()=>n.e("svg-w5").then(n.bind(n,86351)),xr=()=>n.e("svg-w6").then(n.bind(n,3926)),Ir=()=>n.e("svg-w7").then(n.bind(n,68400)),Lr=()=>n.e("svg-w8").then(n.bind(n,3298)),Or=()=>n.e("svg-w9").then(n.bind(n,60310)),Fr=()=>n.e("svg-xa").then(n.bind(n,1519)),Dr=()=>n.e("svg-xb").then(n.bind(n,27756)),Rr=()=>n.e("svg-xc").then(n.bind(n,80858)),Wr=()=>n.e("svg-xd").then(n.bind(n,37957)),Nr=()=>n.e("svg-xe").then(n.bind(n,17483)),jr=()=>n.e("svg-xf").then(n.bind(n,14495)),Ur=()=>n.e("svg-assets-IconLeft").then(n.bind(n,56401)),Hr=()=>n.e("svg-assets-IconRight").then(n.bind(n,13034)),Gr=()=>n.e("svg-assets-DashLine").then(n.bind(n,74876)),Br=()=>n.e("svg-xz").then(n.bind(n,76777)),$r=()=>n.e("svg-x0").then(n.bind(n,95466)),Vr=()=>n.e("svg-x1").then(n.bind(n,56985)),_r=()=>n.e("svg-aab").then(n.bind(n,13709)),zr=()=>n.e("svg-aad").then(n.bind(n,21238)),qr=()=>n.e("svg-aae").then(n.bind(n,15090)),Kr=()=>n.e("svg-aaf").then(n.bind(n,49206)),Zr=()=>n.e("svg-aao").then(n.bind(n,76779)),Qr=()=>n.e("svg-aap").then(n.bind(n,41441)),Yr=()=>n.e("svg-aaq").then(n.bind(n,90213)),Jr=()=>n.e("svg-aar").then(n.bind(n,11435)),Xr=()=>n.e("svg-aas").then(n.bind(n,26702)),ei=()=>n.e("svg-aat").then(n.bind(n,73869)),ti=()=>n.e("svg-aau").then(n.bind(n,12747))},75559:function(e,t,n){"use strict";n.d(t,{NS:function(){return i},ob:function(){return s},qP:function(){return r},tM:function(){return o},tW:function(){return a}});const r="data-t";var i;!function(e){e.Auto="auto",e.AutoScroll="autoScroll",e.Load="load",e.OutOfFocus="outoffocus",e.Partial="partial",e.Resize="resize",e.Scroll="scroll",e.Swipe="swipe",e.Tap="tap",e.View="view"}(i||(i={}));const o="TelemetryPageViewNotificationEvent",a="AppErrorNotificationEvent",s="IDXId"},38156:function(e,t,n){"use strict";n.d(t,{Aw:function(){return o},c9:function(){return r},uH:function(){return i},wu:function(){return a}});const r={Undefined:0,Header:1,Footer:2,TopNavBar:3,NavBar:4,DropDown:5,Section:6,Carousel:7,Module:8,SearchBox:9,InputBox:10,ActionButton:11,Interaction:12,Headline:13,Entity:15,Topic:29,Provider:30,NewStories:46,AutoSuggest:47,Tile:49,TrendingNews:50,AllCoverage:51,Report:52,MsccCookieComplianceBanner:54,CookieWallCookieComplianceBanner:57,FRE:60,VideoPlayer:61,ContentCard:62,SubmitForm:63,TrafficCard:64,WeatherCard:65,TravelDestinationCard:66,FitnessWorkoutVideo:67,BingHealthFitnessCard:68,FamilyCard:69,FitnessCard:70,HealthQnACard:71,HealthTipCard:72,HealthFitnessCarousel:73,CovidCard:74,Audio:75,ShoppingAd:76,ContentGroup:77,AicreationCard:78,Game:79,HealthRiverCard:80,Augment:81},i={Undefined:0,StructuredData:1,AppStore:2,CmsPromotions:3,MicrosoftWebStore:4,XboxStore:5,OfficeStore:6,PartnerLinks:7,SponsoredContent:8,ExternalLink:10,SearchPromo:11,Feed:12,Article:13,Gallery:14,Video:15,Audio:16,Settings:17,DisplayAd:18,OfficeDocument:19,App:20,SearchResult:21,VideoAd:22,Map:23,Comment:24,Profile:25,Coachmark:26,TrendingSearch:27,AutoSuggestSearch:28,SearchHistory:29,TextSearch:30,TopSites:31,SearchLink:32,ImageSearch:33,VoiceSearch:34,Toast:35,Greeting:36,Image:37,Banner:38,Waffle:39,Notification:40,QnaTopic:41,QnaContent:42,Publisher:43,Topic:44,LayoutToggle:45,WebContent:46,FinanceTicker:47,CashbackOffer:48,AiCharacter:49,FoodItem:50,FitnessChallenge:51,Overlay:52,Inspiration:53,DailyDiscovery:54,SegmentAugment:55},o={Click:"click",Hover:"mouseenter",MouseLeave:"mouseleave",Submit:"submit",View:"view",RightClick:"rightclick",Wheel:"wheel",KeyPress:"keypress",HorizontalSwipe:"hswipe",MiddleClick:"middleclick",VerticalSwipe:"vswipe",Launch:"launch"},a={Undefined:0,Navigate:1,ContextMenu:2,Pin:3,Unpin:4,Rearrange:5,Remove:6,Add:7,Open:8,View:9,Follow:10,Unfollow:11,More:12,Close:13,Share:14,Like:15,Dislike:16,Unlike:17,Undislike:18,Mute:19,Unmute:20,Cancel:21,Launch:22,Install:23,Manage:24,Show:25,MuteCancel:26,Save:27,Hide:28,Unhide:29,Customize:30,Suspend:31,Clear:32,SignIn:33,SignOut:34,UndoSave:35,TurnOn:36,TurnOff:37,Forward:38,Response:39,Report:40,ZoomIn:41,ZoomOut:42,Comment:43,Sort:44,Love:45,Surprised:46,Thinking:47,Sad:48,Angry:49,TextSearch:50,ImageSearch:51,UndoRemove:52,Rename:53,SearchLink:54,VoiceSearch:55,Complete:56,Play:57,Pause:58,Seek:59,Volume:60,ClosedCaptions:61,Fullscreen:62,Restore:63,Replay:64,Copy:65,Reactlike:66,UnReactlike:67,UnLove:68,UnSurprised:69,UnThinking:70,UnSad:71,UnAngry:72,ReportAd:73,Refresh:74,Paginate:75,Click:76,Hover:77,SelectProduct:78,Signup:79,CompleteOrder:80,Model3DInteraction:81,PushNotificationReceive:82,PushNotificationShow:83,PushNotificationClick:84,PushNotificationHmsClick:85,Expand:86,Collapse:87,NoSearchQuerySubmit:88,Feedback:89,QualityChange:90,ProtocolLaunch:91,SydneySummary:92,SydneyTopQuestions:93,SydneyKeyTakeaways:94,SydneyDegreeOverview:95,SydneyFactCheck:96,SydneyMore:97}},65135:function(e,t,n){"use strict";let r;n.d(t,{M0:function(){return a},dK:function(){return o},uZ:function(){return s}});const i=new Promise((e=>{r=e}));let o=()=>i,a=null;function s(e,t=r){a=e,t()}},75816:function(e,t,n){"use strict";var r;n.d(t,{G:function(){return r}}),function(e){e[e.All=0]="All",e[e.Otf=1]="Otf",e[e.OneDS=2]="OneDS",e[e.CTag=3]="CTag",e[e.Comscore=4]="Comscore",e[e.Debug=5]="Debug",e[e.SuperApp=6]="SuperApp"}(r||(r={}))},37457:function(e,t,n){"use strict";n.d(t,{$:function(){return P}});var r=n(82357),i=n(93048),o=n(7282),a=n(75816),s=n(98429);s.kP&&(window.telemetryEventsClear=()=>{window.telemetryEvents=[]},window.telemetryEventsFlush=()=>{const e=Object.assign({},window.telemetryEvents);return window.telemetryEventsClear(),e});const c=function(e){s.kP&&(window.telemetryEvents=window.telemetryEvents||[],window.telemetryEvents.push(e))},u=[{type:a.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:a.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new r.P,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new i.O,transporterConfig:{callback:c}}],l=[{type:a.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:a.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new r.P,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new i.O,transporterConfig:{callback:c}}],d=[{type:a.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:a.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new r.P,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new i.O,transporterConfig:{callback:c}}],h=[{type:a.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:a.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new r.P,transporterConfig:{callback:c}},{type:a.G.Debug,mapper:new i.O,transporterConfig:{callback:c}}],p=[{type:a.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],g=[{type:a.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],f=[{type:a.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],m=[{type:a.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],v=[{type:a.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],y=[{type:a.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],C=[{type:a.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],S=[{type:a.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:a.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:a.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],w=[{type:a.G.SuperApp,transporterConfig:{enableConsoleLog:!0}}],b=[{type:a.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}}],T={};function P(e,t,n,r){const i=e&&e.includes("microsoftstart.com")?"MicrosoftStart":"";let o;return o="prod"===t?r?"enterprise":"prod":"int",T[`${o}${n?"CN":""}${i}`]}T.enterprise=f,T.enterpriseCN=m,T.enterpriseMicrosoftStart=C,T.enterpriseCNMicrosoftStart=S,T.int=u,T.intCN=l,T.intMicrosoftStart=d,T.intCNMicrosoftStart=h,T.prod=p,T.prodCN=g,T.prodMicrosoftStart=v,T.prodCNMicrosoftStart=y,T.superApp=w,T.superAppWeb=b},82357:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(98429);class i{createPageViewPayload(e){if(!e)return;const t=e&&e.page,n=t&&t.content,i=e&&e.user,o={rnd:(0,r.Xn)(),udc:!0};return t&&(o["pg.n"]=t.name,o["pg.t"]=t.type,o["pg.c"]=t.config,o["pg.p"]=t.product,o.rf=t.referral,o.tp=t.url,o.cvs=t.canvas,t.consentChanged&&(o.ctsa=t.consentChanged)),n&&(o.di=n.domainId,o["st.dpt"]=n.category,o["st.sdpt"]=n.subcategory,o.subcvs=n.vertical),e&&(o.lng=e.locale&&e.locale.mkt,e.request&&(o.rid=e.request.requestId,o.activityId=e.request.activityId),e.browser&&(o["d.imd"]=e.browser.isMobile,o.scr=e.browser.screenSize,o.anoncknm=e.browser.anoncknm)),i&&(o.issso=i.isSso,o.aadState=i.aadState),o}}},93048:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(98429);class i{createPageViewPayload(e){if(!e)return;let t=e&&e.page&&e.page.url;try{const n=new URL(t),r=e&&e.page&&e.page.config;(8&r||2048&r)&&(n.searchParams.set("content","1"),t=n.href),e.locale&&e.locale.mkt&&(n.searchParams.set("mkt",e.locale.mkt),t=n.href)}catch(e){}return{rn:(0,r.Xn)(),c1:2,c2:3000001,cs_ucfr:1,c7:t,c8:e&&e.page&&e.page.content&&e.page.content.title,c9:e&&e.page&&e.page.referral}}}},7282:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(75559),i=n(38156),o=n(65004),a=n(98429),s=n(65969),c=n(24410),u=n(13578);class l{constructor(e=!1,t){this.enableBatchingForAllEvents=!1,this.enableCustomDiagnostic=!1,this.enableBatchingEventList={},this.enableCustomDiagnostic=t,!0!==e?Array.isArray(e)&&e.forEach((e=>this.enableBatchingEventList[e]=!0)):this.enableBatchingForAllEvents=!0}createPageViewPayload(e){if(e){return this.createEvent("PageView",Object.assign({},e),o.zU.RealTime)}}createContentViewPayload(e,t,{contentViewType:n,isMeaningfulScroll:i}){if(!t)return;const s=[];e.forEach((e=>{s.push(this.mapTelemetryObject(e))}));let c;(0,a.d5)()&&(c={content:{docHeight:(0,a.d5)()}});const l=Object.assign(Object.assign(Object.assign({},t),c),{compressedObject:s,contentViewType:n});if(n===r.NS.Scroll&&(l.isMeaningfulScroll=i),!(0,u.Z)(s)){return this.createEvent("ContentView",l,o.zU.RealTime)}}createActionPayload(e,t,n,r){if((0,u.Z)(e)||!t)return;let a;n===i.Aw.RightClick?a="rightclick":t&&t.browser&&!0===t.browser.isMobile?a="tap":n===i.Aw.Click&&(a="click");const s=e.content&&e.content.type,l=e.type||(0,c.Y)(s,r);0!==l&&(e.type=l),delete e.action,delete e.behavior,delete e.overrideId,delete e.overrideDestinationUrl,delete e.overrideEmailIdScrubbing;return this.createEvent("UserAction",Object.assign(Object.assign({actionType:n,behavior:r,object:e},t),{gesture:a}),o.zU.RealTime)}createEventPayload(e,t,n){if(!n)return;return this.createEvent(e,Object.assign(Object.assign({},n),t),o.zU.RealTime)}createCustomEventPayload(e,t,n){if(!n&&"AppError"!==e||(0,u.Z)(t))return;return this.createEvent(e,Object.assign(Object.assign({},n),{extSchema:t}),o.zU.RealTime)}mapTelemetryObject(e){i.c9.ContentCard;let t;const n=e&&e.content&&e.content.type;(n||e.behavior)&&(t=(0,c.Y)(n,e.behavior));const r={n:e&&e.name,y:e&&e.type||t,l:e&&e.content&&e.content.id,h:e&&e.content&&e.content.headlineIdx,v:e&&e.content&&e.content.vertical,tp:e&&e.content&&e.content.topic,c:e&&e.content&&e.content.category,s:e&&e.content&&e.content.source,f:e&&e.feed&&e.feed.id,ct:e&&e.content&&e.content.type,i:e&&e.placement&&e.placement.id,p:e&&e.placement&&e.placement.parentId,o:e&&e.placement&&e.placement.ordinal,aud:e&&e.content&&e.content.audienceMode,isLocal:e&&e.content&&e.content.isLocal,subscriptionType:e&&e.content&&e.content.subscriptionType,providerType:e&&e.content&&e.content.providerType,zone:e&&e.zone,isMonetized:e&&e.isMonetized,isFeed:e&&e.isFeed};return e.ext&&(r.ext=e.ext),r}createEvent(e,t,n){let r=0;return!a.kP||this.enableBatchingForAllEvents||this.enableBatchingEventList[e]||(r=2),this.enableCustomDiagnostic&&("AppError"===e?e="AppErrorDiag":"LoadTime"===e&&(e="LoadTimeDiag")),{name:s.id[e],data:t,baseType:s.id.Base,latency:n,sync:r}}}},98146:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(90351),i=n(25514);const o={n:"name",t:"type",a:"action",b:"behavior",customHandled:"customHandled",d:"overrideDestinationUrl",oe:"overrideEmailIdScrubbing",z:"zone",ism:"isMonetized",isfeed:"isFeed",isci:"isCI","c.hi":"content.headlineIdx","c.auth":"content.author","c.i":"content.id","c.l":"content.isLocal","c.s":"content.source","c.p":"content.parentId","c.t":"content.type","c.tp":"content.topic","c.v":"content.vertical","c.c":"content.category","c.sc":"content.subcategory","c.pn":"content.partnerName","c.pi":"content.partnerId","c.b":"content.brand","c.bi":"content.brandId","c.st":"content.subscriptionType","c.pl.i":"content.placement.id","c.pl.p":"content.placement.parentId","c.pl.o":"content.placement.ordinal","c.pl.l":"content.placement.lineage","c.pl.lo":"content.placement.lineageOrdinal","c.aud":"content.audienceMode","c.pv":"content.providerType","f.i":"feed.id","f.n":"feed.name","f.t":"feed.type",ext:"ext","m.c":"metrics.isContentCI"};class a{static compress(e){const t={},n=Object.keys(o);for(let i=0;i<n.length;i++){const a=n[i],s=(0,r.Z)(e,o[a]);void 0!==s&&(t[a]=s)}const i=(0,r.Z)(e,"content.headline");return i&&(t["c.hl"]=i),t}static decompress(e){if(!e)return;const t={},n=Object.keys(o);for(let a=0;a<n.length;a++){const s=n[a],c=(0,r.Z)(e,s);void 0!==c&&(0,i.Z)(t,o[s],c)}return e["c.hl"]&&(0,i.Z)(t,"content.headline",e["c.hl"]),t}}},18536:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(75559),i=n(65135),o=n(98429),a=n(98146),s=n(60483),c=n(46728);class u{constructor(e){this.hasInheritedProperty=!1,this.children=[],this.ordinal=0,this.ordinalCount=0,this.contract=e||{},this.ordinalCount=0,this.superContract={}}get combinedContract(){if(this.contract){const e=(this.contract.content=this.contract.content||{}).headline;this.contract.content.headline=e||(0,o.tH)(this.element)}return this.hasInheritedProperty?(0,c.Z)({},this.superContract,this.contract,this.internalContract):(0,c.Z)({},this.contract,this.internalContract)}get internalContract(){const{lineage:e,lineageOrdinal:t}=u.getLineage(this)||{},n=u.getInheritedProperties(this),r=Object.assign({placement:{id:this.id,lineage:e,lineageOrdinal:t}},n);return this.parentDOM&&this.parentDOM.id&&0!==this.parentDOM.id&&(r.placement.parentId=this.parentDOM.id,r.placement.ordinal=this.ordinal),r}static addElement(e){if(!e)return;const t=this.parseContract(e);let n=this.get(e);if(n&&n.id?t&&(n.contract=t):(n=new u(t),n.id=this.generateId(),this.set(e,n)),!n)return;let i=e.parentElement;!i&&e.parentNode&&e.parentNode.host&&(i=e.parentNode.host);let a=i&&(0,o.pE)(i,`[${r.qP}]`),s=a&&this.get(a);return a&&!s&&((0,o.t0)("telemetrynodeadded",a),s=this.get(a)),n===s&&(a=a&&a.closest(`[${r.qP}]`),s=a&&this.get(a)),n&&(n.parentDOM=s&&s!==n?s:u.getRoot()),this.inheritProperty(n),this.needUpdate=!0,n}static inheritProperty(e){if(!i.M0||!i.M0.config||i.M0.config.inheritByTraversingDOM||!e||!e.contract)return;const t=e.parentDOM&&e.parentDOM.contract,n=e.parentDOM&&e.parentDOM.superContract,r=e.contract,o=e.superContract;i.M0.config.inheritExt&&(t&&t.ext||n&&n.ext)&&(e.hasInheritedProperty=!0,o.ext=Object.assign(Object.assign(Object.assign({},n&&n.ext),t&&t.ext),r.ext))}static isObject(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}static renderObject(e){return e.render()}static renderContract(e){return s.D.render(e)}static setAttribute(e,t,n){if(!e||!e.dataset)return;const i=this.renderContract(t||n&&n.contract);i&&(e.dataset.t=i[r.qP])}static get(e){const t=this.elementMap.get(e);if(!t)return t;const n=this.parseContract(e);return t&&n&&(t.contract=n),t}static getLineage(e,t=">",n=!1){try{if(e&&e.parentDOM&&e.parentDOM!==u.root){const r=this.getLineage(e.parentDOM,t,n),{lineage:i,lineageOrdinal:o}=r||{};return{lineage:i+t+e.contract.name,lineageOrdinal:(o?o+t:"")+e.ordinal}}return e&&e.parentDOM&&e.parentDOM===u.root&&n?{lineage:e.contract.name,lineageOrdinal:`${e.ordinal}`}:{lineage:e&&e.contract.name}}catch(t){if(i.M0&&i.M0.config&&i.M0.config.logElementForLineageFailure){const{id:t,tagName:n}=e&&e.element||{};i.M0.sendAppErrorEvent({id:20203,severity:1,message:"Error while parsing lineage",pb:{customMessage:JSON.stringify({elementId:t,elementTag:n})}})}}}static getInheritedProperties(e){if(!i.M0||!i.M0.config||!e)return;const{inheritByTraversingDOM:t=!1,inheritPropertyList:n=[],memoizeInheritedProperties:r}=i.M0.config,o=t&&n;return o?r?this.getInheritedPropertiesWithMemoize(e,o):this.getInheritedPropertiesWithoutMemoize(e,o):void 0}static getInheritedPropertiesWithoutMemoize(e,t){let n=e;const r={};for(;n&&n!==u.root;){for(const e of t){const t=n.contract&&n.contract[e];void 0!==t&&(void 0===r[e]?r[e]=t:this.isObject(r[e])&&(r[e]=Object.assign(Object.assign({},t),r[e])))}n=n.parentDOM}return r}static getInheritedPropertiesWithMemoize(e,t){if(e.memoizedProperties)return e.memoizedProperties;const n={};for(const r of t){n[r]=e.contract[r];let t=e&&e.parentDOM;for(;t&&t!==u.root;){const e=t.memoizedProperties?t.memoizedProperties[r]:t.contract[r];if(void 0!==e&&(void 0===n[r]?n[r]=e:this.isObject(n[r])&&(n[r]=Object.assign(Object.assign({},e),n[r]))),t.memoizedProperties)break;t=t.parentDOM}}return e.memoizedProperties=n,n}static getRoot(){return u.root}static getTelemetryObject(e){const t=this.get(e);if(t&&t.contract)return new s.D(t.contract)}static parseContract(e){try{const t=e&&e.getAttribute&&e.getAttribute(r.qP);return t?this.parseAttribute(t):void 0}catch(e){}}static parseAttribute(e){try{const t=e&&JSON.parse(e);return this.parseMetadata(t)}catch(e){}}static parseMetadata(e){try{return e&&a.v.decompress(e)}catch(e){}}static set(e,t){t.element=e,this.elementMap.set(e,t)}static updateLayout(){if(!this.needUpdate)return;this.needUpdate=!1,this.root.ordinalCount=0;const e=(0,o.Ux)(document.documentElement);for(const t of e){let e=this.get(t);e&&e.parentDOM||((0,o.t0)("telemetrynodeadded",t),e=this.get(t)),e&&(e.ordinal=e.parentDOM?++e.parentDOM.ordinalCount:0,e.ordinalCount=0)}}static generateId(){return++this.lastId}}u.elementMap=new WeakMap,u.root=new u({name:"root"}),u.lastId=0,u.needUpdate=!1},69244:function(e,t,n){"use strict";n.d(t,{o:function(){return H}});var r=n(33940),i=n(75559),o=n(75816),a=n(38156);var s=n(98429);class c{constructor(e,t){this.contentViewCallback=e,this.overrideScrollOffset=t,this.scrollChanged=!0,this.sizeChanged=!0,this.newScrollLeft=null,this.newScrollTop=null,this.firstScrolledMargin=10,this.forceScrollFiring=!1,this.viewportEventIntervalDelayMs=200,this.viewportLeft=0,this.viewportTop=0,this.viewportWidth=0,this.viewportHeight=0,this.userInteracted=!1,this.eventTimerId=0,this.eventTimeoutMS=1e3,this.scrollPerformanceTrackers={},this.syntheticTelemetryScrollCallback=(e,t)=>{e&&(this.userInteracted=!0,this.updateMechanism=i.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),t(e),this.forceScrollFiring=!0)},this.viewportOffset=0}initListener(){const e=this.throttle(this.update.bind(this),this.viewportEventIntervalDelayMs);e(),this.attachEvent("resize",(t=>{this.userInteracted=!0,this.updateMechanism=i.NS.Resize,this.sizeChanged=!0,this.triggerCallback(),e(t)})),this.attachEvent("scroll",(t=>{t&&!t.preventDefaultScroll&&(this.userInteracted=!0,this.updateMechanism=i.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),e(t))})),s.kP&&window.addEventListener("telemetryscroll",(t=>{this.syntheticTelemetryScrollCallback(t,e)}))}resetViewportOffset(){this.viewportOffset=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)()}triggerCallback(){this.dispatchEvent("telemetryviewportupdated",this.updateMechanism)}dispatchEvent(e,t){const n=new CustomEvent(e,{detail:{mech:t}});dispatchEvent(n)}throttle(e,t=1e3){let n=0,r=!1;return i=>{if(r)return;const o=(new Date).getTime(),a=o-n;a>t?(n=o,e(i)):(r=!0,setTimeout((()=>{r=!1,e()}),t-a))}}update(e){let t=this.sizeChanged,n=this.scrollChanged;const r=this.viewportWidth,i=this.viewportHeight,o=this.viewportLeft,a=this.viewportTop;this.updateCurrentViewportValues(),t=t&&(i!==this.viewportHeight||r!==this.viewportWidth),n=n&&(o!==this.viewportLeft||a!==this.viewportTop),(this.forceScrollFiring||t||n)&&(this.scheduleViewportEvent(e),this.forceScrollFiring=!1)}updateCurrentViewportValues(){this.scrollChanged&&(this.viewportLeft=this.newScrollLeft||this.getScrollLeft(),this.viewportTop=this.newScrollTop||this.getScrollTop(),this.newScrollLeft=this.newScrollTop=null,!this.firstScroll&&this.viewportTop>this.firstScrolledMargin&&(this.firstScroll=!0)),this.sizeChanged&&(this.viewportWidth=window.innerWidth||document.documentElement.clientWidth,this.viewportHeight=window.innerHeight||document.documentElement.clientHeight),this.scrollChanged=this.sizeChanged=!1}scheduleViewportEvent(e){if(this.userInteracted&&(u(e)&&(this.lastScrollStarted||(this.lastScrollStarted=e&&e.timeStamp||performance.now()),this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.startOrContinue(e),this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.startOrContinue(e)),this.eventLastScheduleTime=+new Date,!this.eventTimerId)){const t=()=>{this.eventTimerId=this.userInteracted=!1;const n=Date.now()-this.eventLastScheduleTime;if(n>this.eventTimeoutMS)if(u(e)){const e=performance.now()-this.lastScrollStarted;let t,n,r;this.lastScrollStarted=void 0,this.scrollPerformanceTrackers.scrollInputTracker&&(t=this.scrollPerformanceTrackers.scrollInputTracker.getPendingPotentialInputType(),n=this.scrollPerformanceTrackers.scrollInputTracker.getAndResetPotentialMissedScrollInput(),r=this.scrollPerformanceTrackers.scrollInputTracker.getScrollInstanceData());const i={scrollInputType:t,potentialMissedScrollInput:n,scrollDuration:e,endOfFeedTime:this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.stop(),calculateAri:this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.stop(),scrollInstanceData:r};this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll(),i)}else this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll());else this.eventTimerId=setTimeout(t,this.eventTimeoutMS-n)};this.eventTimerId=setTimeout(t,this.eventTimeoutMS)}}isMeaningfulScroll(){if(this.updateMechanism!==i.NS.Scroll)return!1;const e=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)(),t=(0,s.P6)();return(e>this.viewportOffset&&e-this.viewportOffset>t/2||e<this.viewportOffset&&this.viewportOffset-e>t/2)&&(this.viewportOffset=e,!0)}getScrollTop(){if("undefined"!=typeof pageYOffset)return pageYOffset;{const e=document.body;let t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop}}getScrollLeft(){if(void 0!==window.pageXOffset)return window.pageXOffset;{const e=document.body;let t=document.documentElement;return t=t.clientWidth?t:e,t.scrollLeft}}attachEvent(e,t){window.addEventListener(e,t,!1)}initScrollPerformanceTrackers(e){const{endOfFeedTimeTracker:t,appResponsivenessTracker:n,scrollInputTracker:r}=e;t&&(this.scrollPerformanceTrackers.endOfFeedTimeTracker=t),n&&(this.scrollPerformanceTrackers.appResponsivenessTracker=n),r&&(this.scrollPerformanceTrackers.scrollInputTracker=r,r.start())}}function u(e){return e&&(e.type===i.NS.Scroll||"telemetryscroll"===e.type)}let l,d=new Promise((e=>l=e));const h=new Map;function p(){h.clear()}var g=n(65969),f=n(18536);class m{constructor(){this.clickSearchDepth=20}observe(e=window,t){e.addEventListener("click",this.clickEventCallback.bind(this)),e.addEventListener("auxclick",this.auxClickEventCallback.bind(this)),t||e.addEventListener("contextmenu",this.contextMenuEventCallback.bind(this))}unobserve(e,t){e.removeEventListener("click",this.clickEventCallback.bind(this)),e.removeEventListener("auxclick",this.auxClickEventCallback.bind(this)),t||e.removeEventListener("contextmenu",this.contextMenuEventCallback.bind(this))}handleClickEvent(e,t,n){const r=this.getTelemetryClickTarget(e);if(!r)return;r&&r.hasAttribute("data-customhandled")||this.dispatchEvent("telemetryclick",r,t,n)}contextMenuEventCallback(e){const t=this.getClickTarget(e);this.handleClickEvent(t,a.Aw.RightClick,a.wu.ContextMenu)}clickEventCallback(e){const t=this.getClickTarget(e);1===e.button?this.handleClickEvent(t,a.Aw.MiddleClick,a.wu.Navigate):this.handleClickEvent(t)}auxClickEventCallback(e){if(1===e.button){const t=this.getClickTarget(e);this.handleClickEvent(t,a.Aw.MiddleClick,a.wu.Navigate)}}dispatchEvent(e,t,n,r){const i=new CustomEvent(e,{detail:{element:t,action:n,behavior:r}});dispatchEvent(i)}getTelemetryClickTarget(e){let t=e;for(let e=0;e<this.clickSearchDepth&&t&&!this.validTarget(t);e++)t.assignedSlot?t=t.assignedSlot:t.parentElement?t=t.parentElement:t.parentNode&&t.parentNode.host&&(t=t.parentNode.host);if(this.validTarget(t))return t}getClickTarget(e){if(!e.composedPath||"function"!=typeof e.composedPath)return e.target;{const t=e.composedPath();if(t.length>2&&"hasAttribute"in t[0]&&!t[0].hasAttribute(i.qP)&&"[object ShadowRoot]"===Object.prototype.toString.call(t[1])&&"hasAttribute"in t[2]&&t[2].hasAttribute(i.qP))return t[2];if(t.length>0)return t[0]}}validTarget(e){if(!e)return!1;const t=f.u.get(e);let n;return n=t?t.contract:f.u.parseContract(e),"BUTTON"===e.nodeName||e.hasAttribute("href")||e.getAttribute&&"button"===e.getAttribute("role")||n&&n.type===a.c9.DropDown||n&&n.type===a.c9.ActionButton||n&&n.behavior&&e.tagName.includes("-")||e.form}}class v{static start(){this.startTime=Date.now(),this.isPause=!1,this.isPauseV2=!1,this.started=!0}static pause(){this.started&&!this.isPause&&(this.isPause=!0,this.dwellTimeElapse+=Date.now()-this.startTime)}static pauseV2(){this.started&&!this.isPauseV2&&(this.isPauseV2=!0,this.dwellTimeElapseV2+=Date.now()-this.startTime)}static getDwellTime(){if(this.isPause){return this.dwellTimeElapse}if(0!==this.startTime&&this.started){return this.dwellTimeElapse+(Date.now()-this.startTime)}return 0}static getDwellTimeV2(){if(this.isPauseV2){return this.dwellTimeElapseV2}if(0!==this.startTime&&this.started){return this.dwellTimeElapseV2+(Date.now()-this.startTime)}return 0}static setDwellTime(e,t){this.startTime=e,this.dwellTimeElapse=t}static reset(){this.dwellTimeElapse=0,this.dwellTimeElapseV2=0,this.startTime=0,this.isPause=!1,this.isPauseV2=!1,this.started=!1}static getIsActive(){return this.started&&!this.isPause}}v.started=!1,v.startTime=0,v.dwellTimeElapse=0,v.dwellTimeElapseV2=0,v.isPause=!1,v.isPauseV2=!1;class y{constructor(){this.filterNodeList=["script"],this.mutationObserver=new MutationObserver(this.mutationCallback.bind(this)),this.processAddedSubtreeAndDispatchEvent(document.documentElement);const e=HTMLElement.prototype.attachShadow;if(!e)return;const t=this;HTMLElement.prototype.attachShadow=function(n){const r=e.call(this,n);return this.shadowRoot&&t.observe(this.shadowRoot),r}}observe(e){e!==window&&this.mutationObserver.observe(e,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-t"]})}unobserve(e){}mutationCallback(e){setTimeout((()=>{this.processMutationRecord(e)}),10)}processMutationRecord(e){for(let t=0;t<e.length;t++){const n=e[t],r=n.addedNodes;r&&r.length>0?this.processMutatedNodes(Array.from(r)):"attributes"===n.type&&this.processMutatedNodes([n.target])}}processMutatedNodes(e){e&&e.forEach((e=>{(0,s.He)(e)?this.processAddedSubtreeAndDispatchEvent(e):e.nodeType!==Node.ELEMENT_NODE||this.filterNodeList.includes(e.tagName&&e.tagName.toLowerCase())||this.processAddedSubtreeAndDispatchEvent(e)}))}processAddedSubtreeAndDispatchEvent(e){(0,s.jT)(e)&&(0,s.t0)("telemetrynodeadded",e);const t=this.processSubtree(e);for(let e=0;e<t.length;e++)(0,s.t0)("telemetrynodeadded",t[e])}processSubtree(e){if(!e)return;let t;return t=(0,s.He)(e)?e.shadowRoot.querySelectorAll("[data-t]"):e.querySelectorAll("[data-t]"),t}}var C=n(60483);class S{constructor(e,t,n,r,i,o,a,c){this.eventIndexInternal=0,this.cookiesToCollect=["TOptOut","OptanonConsent","eupubconsent-v2","wid","app_wid"],this.qspToScrubbed=["tid","upn","q","user","username","email","login_hint"],this.contract=e,this.updateActivityId(t),this.anonCookieName=n,this.enableDwelltimeV2=c,this.buildNumber=r||"",this.afdMuidInternal=a,this.customProps={},this.tmplProps={},this.joinIdProps={},this.eventIndexInternal=0,this.browserHiddenOnce=!1,this.overrideScrollOffset=i,this.viewTypeCallback=o,s.kP&&document.addEventListener("visibilitychange",this.browserVisibilityCallback.bind(this))}get requestId(){return this.requestIdInternal}get combinedContract(){this.eventIndexInternal=this.eventIndexInternal+1,this.tmplString=this.generateStringFromKeyValueObject(this.tmplProps);const e=this.joinIdProps&&Object.keys(this.joinIdProps).length>0?JSON.stringify(this.joinIdProps):void 0,t=Object.keys(this.customProps).length>0?JSON.stringify(this.customProps):void 0;this.customString=t;try{const e=window;void 0!==e&&e.navigator&&void 0!==typeof e.navigator.globalPrivacyControl&&(this.globalPrivacyControl=e.navigator.globalPrivacyControl)}catch(e){}const n={page:Object.assign(Object.assign({},this.contract.page),{url:(0,s.Mm)((0,s.XW)(this.contract.page.url,this.contract.page.ocid),this.qspToScrubbed),referral:(0,s.Mm)(this.contract.page.referral||s.kP&&document.referrer,this.qspToScrubbed),content:this.contract.page.content?Object.assign({},this.contract.page.content):void 0,dwellTime:v.getDwellTime(),dwellTimeV2:this.getDwellTimeV2(),viewType:this.contract.page.viewType||this.viewTypeCallback&&this.viewTypeCallback()}),browser:Object.assign(Object.assign({},this.contract.browser),{width:(0,s.wi)(),height:(0,s.P6)(),screenSize:s.kP?[screen.width,screen.height].join("x"):"0x0",clientId:(0,s.i2)(this.activityIdInternal),scrollOffset:"function"==typeof this.overrideScrollOffset&&this.overrideScrollOffset()||(0,s.qC)(),anoncknm:this.anonCookieName,cookieEnabled:s.kP&&navigator.cookieEnabled,globalPrivacyControl:this.globalPrivacyControl,hiddenOnce:this.browserHiddenOnce,muid:(0,s.FL)()||void 0,cookies:(0,s.tV)(this.cookiesToCollect)||void 0}),flight:Object.assign(Object.assign({},this.contract.flight),{tmpl:this.tmplString}),integration:Object.assign(Object.assign({},this.contract.integration),{joinIds:e}),request:{activityId:this.activityIdInternal,requestId:this.requestIdInternal,afdMuid:this.afdMuidInternal},timestamp:+Date.now(),eventIndex:this.eventIndexInternal,sdk:{name:"peregrine",ver:"1.0.19",schemaVer:"1.0.19"},user:this.contract.user,locale:this.contract.locale,feed:this.contract.feed,gallery:this.contract.gallery,custom:this.customString,build:this.buildNumber},r=(0,s.F$)();r&&(n.browser.isWin11=r);const i=(0,s.uV)();return i&&(n.browser.isXBox=i),n}static mergeContract(e,t){if(!e||!t)return e||t;const n=Object.keys(t),r=Object.assign({},e);for(let e=0;e<n.length;e++){const i=n[e];r[i]=Object.assign(Object.assign({},r[i]),t[i])}return e.page&&e.page.content&&t.page&&t.page.content&&(r.page.content=Object.assign(Object.assign({},e.page.content),t.page.content)),e.user&&t.user&&(r.user=Object.assign(Object.assign({},e.user),t.user)),r}update(e,t=!1){e&&(t?this.contract=S.mergeContract(this.contract,e):this.updatedContract=S.mergeContract(this.updatedContract,e))}updateActivityId(e){this.activityIdInternal=e;const t=this.contract&&this.contract.page&&this.contract.page.isStatic&&"true"===this.contract.page.isStatic.toString().toLowerCase()?(0,s.pW)():e;this.updateRequestId(t)}getEventIndexInternal(){return this.eventIndexInternal}updateRequestId(e,t){this.eventIndexInternal=t||0,this.requestIdInternal=e||(0,s.pW)()}updateAfdMuid(e){this.afdMuidInternal=e||""}updateContract(){this.contract=S.mergeContract(this.contract,this.updatedContract),delete this.updatedContract}addOrUpdateCustomProperty(e,t){this.customProps[e]=t}removeCustomProperty(e){e&&delete this.customProps[e]}addOrUpdateTmplProperty(e,t){this.tmplProps[e]=t}removeTmplProperty(e){delete this.tmplProps[e]}addOrUpdateJoinIdProperty(e,t){this.joinIdProps[e]=t}getJoinId(e){return this.joinIdProps[e]}updatePageConfiguration(e){this.update({page:{config:e}})}get JoinIdProps(){return this.joinIdProps}browserVisibilityCallback(){(document.hidden||"hidden"===document.visibilityState)&&(this.browserHiddenOnce=!0)}generateStringFromKeyValueObject(e){const t=[];return e&&Object.keys(e).forEach((n=>{e[n]?t.push(n+":"+e[n]):t.push(n)})),t.length>0?t.join(";"):void 0}getDwellTimeV2(){if(this.enableDwelltimeV2)return v.getDwellTimeV2()}}var w=n(63165),b=n(3232),T=n(14590);class P{constructor(e){this.config=e}get disable(){return this.config.disable}set disable(e){this.config.disable=e}}var k=n(73932),A=n(13578);class E extends P{constructor(e){super(e),this.transporterReady=!1,setTimeout((()=>{this.collectorChannelPlugin=new b.Z,this.appInsightsCore=new w.Z;const t=new T.Z,n={populateBrowserInfo:!1,populateOperatingSystemInfo:!1,enableApplicationInsightsTrace:!1,enableDistributedTracing:!0,enableApplicationInsightsUser:!1,sessionRenewalMs:18e5,sessionExpirationMs:18e5,userConsentCookieName:"OptanonAlertBoxClosed"},r={instrumentationKey:e.key,channels:[[this.collectorChannelPlugin]],extensionConfig:[t],disablePageUnloadEvents:["visibilitychange"]},i=[];if(s.kP||(r.extensionConfig[this.collectorChannelPlugin.identifier]={httpXHROverride:{sendPOST:(t,n,r)=>{delete t.headers["cache-control"],delete t.headers["content-type"];const i={method:"POST",credentials:"include",body:t.data,headers:t.headers};t.data.length>64e3?this.sendRequest(e,t.urlString,i).then((e=>{n(e.status)})).catch((e=>{n(0,{})})):(this.sendRequest(e,t.urlString,Object.assign(Object.assign({},i),{keepalive:!0})).then((e=>{})).catch((e=>{})),n(200,{}))}}}),e.addNoResponse){const e={addNoResponse:!1};r.extensionConfig[this.collectorChannelPlugin.identifier]=e}if(s.kP&&(r.extensionConfig[t.identifier]=n,i.push(t)),e&&e.anonCookieName&&(r.anonCookieName=e.anonCookieName),e.endpoint&&(r.endpointUrl=e.endpoint),this.appInsightsCore.initialize(r,i),e&&e.enableTraceGenerator)try{k.U.getTraceInstance().setTraceObj(this.appInsightsCore)}catch(e){}this.transporterReady=!0}),100)}sendRequest(e,t,n){var r;return e.abortableFetch?e.abortableFetch(t,null!==(r=e.timeout)&&void 0!==r?r:1e3,n,void 0,void 0,void 0,!0):fetch(t,n)}transport(e,t=!0,n=0){!e||(0,A.Z)(e)||this.config.disable||(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()?this.appInsightsCore.track(e):n<50&&setTimeout((()=>this.transport(e,t,n+1)),200))}}class M extends P{constructor(e){super(e)}transport(e){if(!e||!this.config.endpoint||this.config.disable)return;const t=this.generateUrl(this.config.endpoint+"?",e);this.generatePixelBeacon(t)}generatePixelBeacon(e){(new Image).src=e.replace(/&amp;/gi,"&")}generateUrl(e,t){const n=[];let r=e;return Object.keys(t).forEach((e=>{let r=t[e];"object"==typeof r&&r&&(r=JSON.stringify(r)),n.push(this.encodeURIComponent(e)+"="+this.encodeURIComponent(r))})),r=e+n.join("&").replace(/%20/g,"+"),r}encodeURIComponent(e){return null!=e&&encodeURIComponent(e)||""}}let x=null,I={};class L extends P{constructor(e){super(e),x=e&&e.callbackData?e.callbackData.callback:null,I=e&&e.callbackData?e.callbackData.data:null}transport(e){if(!e||this.config.disable)return;let t;try{t=this.flattenObj(e),t.isCoreView=!0,t.platform="app",I&&(t["browser.muid"]=I)}catch(e){return void window.console.error("Error occured while flatterning telemetry payload :",e)}e.name&&x({type:e.eventType,name:e.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{oneds:t}})}flattenObj(e){const t={},n=(e,r)=>{Object.keys(e).forEach((i=>{let o="";o=""===r?`${i}`:`${r}.${i}`,"object"==typeof e[i]&&e[i]?n(e[i],o):t[this.formatKey(o)]=e[i]}))};return n(e,""),t}formatKey(e){return e?"eventType"===e?"type":e.startsWith("data.")?e.substring(5,e.length):e:e}}var O=n(82357);class F extends P{constructor(e){super(e)}transport(e){e&&!this.config.disable&&this.config.callback(e)}}var D=n(93048),R=n(7282),W=n(65004),N=n(24410);class j extends R.k{createEvent(e,t,n,r=0){return{name:this.getSuperAppOneDSEventName(g.id[e]),eventType:this.getSuperAppOneDSEventType(g.id[e]),data:t,baseType:g.id.Base,latency:n,sync:r}}createContentViewPayload(e,t,n){if(!t)return;const r=[];e.forEach((e=>{r.push(this.mapTelemetryObject(e))}));let o;(0,s.d5)()&&(o={content:{docHeight:(0,s.d5)()}});let a=null;try{a=JSON.stringify(r)}catch(e){a=r}const c=Object.assign(Object.assign(Object.assign({},t),o),{object:a,contentViewType:n.contentViewType});if(n.contentViewType===i.NS.Scroll&&(c.isMeaningfulScroll=n.isMeaningfulScroll),!(0,A.Z)(r)){return this.createEvent("ContentView",c,W.zU.RealTime)}}mapTelemetryObject(e){let t;const n=e&&e.content&&e.content.type;(n||e.behavior)&&(t=(0,N.Y)(n,e.behavior));const r=Object.assign({},e);return delete r.action,delete r.behavior,delete r.overrideId,r}getSuperAppOneDSEventType(e){switch(e){case g.id.PageView:return"Microsoft.Windows.MsnApps.PageView";case g.id.UserAction:return"Microsoft.Windows.MsnApps.PageAction";case g.id.AppError:return"Microsoft.Windows.MsnApps.Failure";case g.id.AppPerfTrace:return"Microsoft.Windows.MsnApps.ClientPerf";case g.id.ContentView:return"Microsoft.Windows.MsnApps.ContentView";case g.id.LoadTime:case g.id.Unload:return"Microsoft.Windows.MsnApps.AppLifeCycle";case g.id.VideoPlay:return"Microsoft.Windows.MsnApps.VideoPlay";case g.id.TraceInfo:return"Microsoft.Windows.MsnApps.TraceInfo";default:return null}}getSuperAppOneDSEventName(e){switch(e){case g.id.PageView:return"PAGE_VIEW_HP_WEBVIEW";case g.id.UserAction:return"PAGE_ACTION_HP_WEBVIEW_CLICK";case g.id.AppError:return"HP_WEBVIEW_APP_ERROR";case g.id.AdFeedback:return"PAGE_ACTION_HP_WEBVIEW_AD_FEEDBACK";case g.id.AdImpression:return"HP_WEBVIEW_AD_IMPRESSION";case g.id.AppPerfTrace:return"HP_WEBVIEW_APP_PERF_TRACE";case g.id.Base:return"PAGE_VIEW_HP_WEBVIEW_BASE";case g.id.ContentView:return"CONTENT_VIEW_HP_WEBVIEW";case g.id.Feedback:return"PAGE_ACTION_HP_WEBVIEW_FEEDBACK";case g.id.LoadTime:return"HP_WEBVIEW_LOAD_TIME";case g.id.ServerLog:return"HP_WEBVIEW_SERVER_LOG";case g.id.Unload:return"HP_WEBVIEW_UNLOAD";case g.id.VideoAdPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO_AD";case g.id.VideoPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO";case g.id.TraceInfo:return"DIAGNOSTIC_HP_WEBVIEW_TRACEINFO";default:return e}}}class U{constructor(){this.trackingSystems=[]}add(e){this.trackingSystems.push(e)}sendPageViewEvent(e,t=o.G.All){this.trackingSystems.forEach((n=>{if((t===o.G.All||t===n.type)&&n.mapper.createPageViewPayload){const t=n.mapper.createPageViewPayload(e);n.transporter.transport(t)}}))}sendContentViewEvent(e,t,n={contentViewType:i.NS.Partial}){this.trackingSystems.forEach((r=>{if(r.mapper.createContentViewPayload){const i=r.mapper.createContentViewPayload(e,t,n);r.transporter.transport(i)}}))}sendActionEvent(e,t,n,r){this.trackingSystems.forEach((i=>{if(i.mapper.createActionPayload){const o=i.mapper.createActionPayload(e,t,n,r);i.transporter.transport(o)}}))}sendEventPayload(e,t,n){this.trackingSystems.forEach((r=>{if(r.mapper.createCustomEventPayload){const i=r.mapper.createEventPayload(e,t,n);r.transporter.transport(i)}}))}sendCustomEvent(e,t,n){this.trackingSystems.forEach((r=>{if(r.mapper.createCustomEventPayload){const i=r.mapper.createCustomEventPayload(e,t,n);r.transporter.transport(i)}}))}disable(e=o.G.All){this.trackingSystems.forEach((t=>{e!==o.G.All&&e!==t.type||(t.transporter.disable=!0)}))}enable(e=o.G.All){this.trackingSystems.forEach((t=>{e!==o.G.All&&e!==t.type||(t.transporter.disable=!1)}))}}s.kP&&function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();class H{constructor(e){this.internalErrors=[],this.eventQueue=[],this.contentUpdateQueue=new Set,this.partialContentUpdateQueue=new Set,this.contentViewTriggerSource=i.NS.Load,this.contentViewTimeout=1e3,this.contentViewTimer=null,this.contentViewDelay=200,this.scheduledContentViewType=null,this.contentViewTimePassed=0,this.contentViewLastExecution=0,this.contentUpdateDebugQueue=new Set,this.intersectionObserverOptions={root:null,rootMargin:"0px",threshold:0},this.traceIdIndex=-1,this.maxScrollLoadTimeEvents=10,this.contentViewBeaconSent=!1,this.pageViewBeaconSent=!1,this.yieldElementsCount=20,this.batchSendScrollLoadTimeEvent=({scrollInputType:e,scrollDuration:t,endOfFeedTime:n,potentialMissedScrollInput:r,calculateAri:i,scrollInstanceData:o})=>{if(this.scrollLoadTimeEventsBatcher)this.scrollLoadTimeEventsBatcher.defer();else{const e=e=>{let t,n,r,i,a=0;if(e.forEach((e=>{null!=e.eoft&&(t=(t||0)+e.eoft),null!=e.ari&&e.duration&&(n=(n||0)+e.ari*e.duration),e.duration&&(a+=e.duration),e.inputType&&(r||(r={}),r[e.inputType]=(r[e.inputType]||0)+1),!i&&e.potentialMissedScrollInput&&(i=e.potentialMissedScrollInput)})),a<=0||null==t&&null==n)return;const s={scrollDuration:Math.round(a)};r&&(s.scrollInputs=r),i&&(s.potentialMissedScrollInput=i),null!=t&&(s.scrollEoft=Math.round(t/a*1e4)),null!=n&&(s.scrollAri=Math.round(n/a*1e4)),o&&o.length&&(s.scrollInstanceData=[...o],o.length=0),this.sendLoadTimeEvent({markers:s})};this.scrollLoadTimeEventsBatcher=function(e,t){const{autoFlushIntervalInMs:n,maxFlushes:r}=Object.assign({},t);let i,o=[],a=0;const s=()=>{(null==r||a<r)&&(a++,o.length&&(e(o),o=[]))},c=()=>{n&&(i&&clearTimeout(i),i=setTimeout(s,n))};return{enqueue:e=>{o.push(e),c()},flush:s,defer:c}}(e,{maxFlushes:this.maxScrollLoadTimeEvents}),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.scrollLoadTimeEventsBatcher.flush()})),window.addEventListener("beforeunload",(()=>this.scrollLoadTimeEventsBatcher.flush())),this.subscribeToAppHidden&&this.subscribeToAppHidden((()=>this.scrollLoadTimeEventsBatcher.flush()))}const a=i&&i();this.scrollLoadTimeEventsBatcher.enqueue({eoft:n,ari:a,duration:t,inputType:e,potentialMissedScrollInput:r})};try{this.config=e,this.config.autoCaptureContentView=void 0===e.autoCaptureContentView||e.autoCaptureContentView,this.config.beacons=e.beacons||{},this.config.beacons.PageOutOfFocus=this.config.beacons.PageOutOfFocus||{},this.config.beacons.PageOutOfFocus.disable=void 0===this.config.beacons.PageOutOfFocus.disable||this.config.beacons.PageOutOfFocus.disable,s.kP&&(this.layoutEventManager=new y,this.layoutEventManager.observe(document.documentElement),this.clickEventManager=new m,e.hydrationPromise&&e.hydrationPromise instanceof Promise?this.config.hydrationPromise.then((()=>{this.clickEventManager.observe(window,this.config.disableContextMenu)})):this.clickEventManager.observe(window,this.config.disableContextMenu),window.addEventListener("beforeunload",this.unloadEventCallback.bind(this)),window.addEventListener("telemetrynodeadded",(e=>{e&&e.detail&&e.detail.element&&this.viewportIntersectionObserver&&(f.u.addElement(e.detail.element),this.viewportIntersectionObserver.observe(e.detail.element))})),window.addEventListener("telemetrynodremoved",(e=>{e&&e.detail&&e.detail.element&&this.viewportIntersectionObserver&&this.viewportIntersectionObserver.unobserve(e.detail.element)})),window.addEventListener("telemetryclick",this.clickEventHandler.bind(this)),window.addEventListener("focus",this.onFocusCallback.bind(this)),window.addEventListener("blur",this.onBlurCallback.bind(this))),this.trackingSystemList=new U,e.trackingSystems.forEach((t=>{t.transporterConfig.abortableFetch=e.abortableFetch,t.transporterConfig.anonCookieName=e.anonCookieName,t.transporterConfig.addNoResponse=e.addNoResponse,t.transporterConfig.enableTraceGenerator=e.enableTraceGenerator,t.transporterConfig.enableEventsBatching=e.enableEventsBatching,t.transporterConfig.enableCustomDiagnostic=e.enableCustomDiagnostic,t.transporterConfig.timeout=e.timeout,this.trackingSystemList.add(class{static getTrackingSystem(e,t){switch(e.type){case o.G.OneDS:return{transporter:new E(e.transporterConfig),mapper:new R.k(e.transporterConfig.enableEventsBatching,e.transporterConfig.enableCustomDiagnostic),type:e.type};case o.G.CTag:return{transporter:new M(e.transporterConfig),mapper:new O.P,type:e.type};case o.G.Comscore:return{transporter:new M(e.transporterConfig),mapper:new D.O,type:e.type};case o.G.Debug:return{transporter:new F(e.transporterConfig),mapper:e.mapper,type:e.type};case o.G.SuperApp:return{transporter:new L(e.transporterConfig),mapper:new j,type:e.type};default:return{transporter:new E(e.transporterConfig),mapper:new R.k,type:e.type}}}}.getTrackingSystem(t))}))}catch(e){this.internalErrors.push({message:"Error in Telemetry Lib constructor.",error:e})}}getTrackingSystemList(){return this.trackingSystemList}setContentViewTimeout(e){this.contentViewTimeout=e}resetContentViewTimeout(){this.contentViewTimeout=g.S8}renderTelemetryAttribute(e,t,n){return new C.D(e).render(t)}observeSingleElement(e){}observeElementTree(e){}observeShadowRoot(e){this.layoutEventManager.observe(e)}initPage(e,t,r,i){this.pageMetadata=new S(e,t,this.config.anonCookieName,r,this.config.overrideScrollOffset,this.config.viewTypeCallback,i,this.config.enableDwelltimeV2),s.kP&&("IntersectionObserver"in n.g&&(this.viewportIntersectionObserver=new IntersectionObserver(this.contentVisibilityCallback.bind(this),this.intersectionObserverOptions),this.contentVisibilityCallbackPromise=(0,s.xI)()),this.runContentVisibilityCallbacksPromise=this.config.deferContentViewIntersectionCallbacks?(0,s.xI)():(0,s.xI)(!0),this.viewportEventManager=new c(((e,t,n)=>{this.config.autoCaptureContentView&&(this.autoSendContentViewEvent({contentViewType:e,isMeaningfulScroll:t}),n&&(null!=n.endOfFeedTime||n.calculateAri)&&this.batchSendScrollLoadTimeEvent(n))}),this.config.overrideScrollOffset),window.addEventListener("telemetryviewportupdated",(e=>{e&&e.detail&&e.detail.mech&&(this.contentViewTriggerSource=e.detail.mech)})),this.viewportEventManager.initListener())}sendPageView(e=null,t=!1,n=null,r=o.G.All,a=!1){this.queueEvent("PageView",(()=>{this.config.beacons&&this.config.beacons.PageView&&this.config.beacons.PageView.disable||!this.pageMetadata||(this.config.resetAppErrorCounterOnPageView&&p(),e=e||{},(0,s.lB)(e),this.contentLoaded=!1,this.config.disableAutoCalculateDwellTime||v.reset(),this.pageMetadata.update(e),n?this.pageMetadata.updateActivityId(n):t||this.updateRequestId(),this.pageMetadata.updateContract(),this.viewportEventManager.resetViewportOffset(),this.updatePageMetadata({page:{isMonetized:!1}},!0),this.trackingSystemList.sendPageViewEvent(this.pageMetadata.combinedContract,r),this.pageViewBeaconSent=!0,!a||r!==o.G.All&&r!==o.G.Comscore||fetch(g.EE),t||(this.contentViewTriggerSource=i.NS.Load,setTimeout((()=>{this.autoSendContentViewEvent({contentViewType:i.NS.Load})}),1e3)),this.dispatchEvent(i.tM,{requestId:this.pageMetadata.requestId}))}))}getRequestId(){return this.pageMetadata.requestId}getCurrentEventIndex(){return this.pageMetadata.getEventIndexInternal()}updateRequestId(e,t){this.pageMetadata.updateRequestId(e,t)}disableTrackingSystem(e=o.G.All){this.trackingSystemList.disable(e)}enableTrackingSystem(e=o.G.All){this.trackingSystemList.enable(e)}disableBeacon(e){this.config.beacons[e]||(this.config.beacons[e]={}),this.config.beacons[e].disable=!0}enableBeacon(e){this.config.beacons[e]||(this.config.beacons[e]={}),this.config.beacons[e].disable=!1}disableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!0}enableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!1}updatePageConfiguration(...e){let t;e.forEach((e=>{t|=e})),this.pageMetadata.updatePageConfiguration(t)}updatePageMetadata(e,t=!1){e&&this.pageMetadata.update(e,t)}addOrUpdateCustomProperty(e,t){this.pageMetadata.addOrUpdateCustomProperty(e,t)}removeCustomProperty(e){this.pageMetadata.removeCustomProperty(e)}addOrUpdateJoinIdProperty(e,t){this.pageMetadata.addOrUpdateJoinIdProperty(e,t)}addOrUpdateTmplProperty(e,t){this.pageMetadata.addOrUpdateTmplProperty(e,t)}removeTmplProperty(e){this.pageMetadata.removeTmplProperty(e)}addOrUpdateTmplString(e){if(!e)return;const t=e.split(";");for(let e=0;e<t.length;e++){const n=t[e].split(":");2===n.length?this.addOrUpdateTmplProperty(n[0],n[1]):1===n.length&&this.addOrUpdateTmplProperty(n[0])}}removeTmplString(e){if(!e)return;const t=e.split(";");for(let e=0;e<t.length;e++){const n=t[e].split(":");n&&n.length&&this.pageMetadata.removeTmplProperty(n[0])}}addOrUpdateIdxId(e,t){if(e){t&&(delete this.pageMetadata.JoinIdProps[i.ob],this.traceIdIndex=-1);const n=this.pageMetadata.getJoinId(i.ob),r=n?`${n},${e}`:e;return this.pageMetadata.addOrUpdateJoinIdProperty(i.ob,r),this.traceIdIndex+=1,this.traceIdIndex}}sendActionEvent(e,t,n,r,o){this.queueEvent("UserAction",(()=>{if(!(this.config.beacons&&this.config.beacons.UserAction&&this.config.beacons.UserAction.disable)&&this.pageMetadata&&e){const c=e;f.u.updateLayout();const u=this.clickEventManager.getTelemetryClickTarget(e);let l;u&&(e=u),l=e.getAttribute&&e.getAttribute(i.qP),e.parentElement&&!l&&(l=(e=e.parentElement).getAttribute&&e.getAttribute(i.qP));let d=f.u.get(e);if(!d){const e=f.u.parseAttribute(l);e&&(d=new f.u(e))}if(this.pageMetadata&&d){o&&((0,s.Vr)(c,this.pageMetadata.contract.page.ocid),(0,s.Zf)(c,this.pageMetadata.contract.page.partnerTrackingCode),(0,s.uK)(c,this.pageMetadata.requestId),(0,s.wC)(c,this.pageMetadata.getEventIndexInternal()+1));const i=e.getAttribute("action")||e.form&&e.form.getAttribute("action"),u=t||d.contract.action,l=void 0===n?d.contract.behavior:n,h=d.contract.overrideDestinationUrl||(0,s.jv)(r)&&r||e.getAttribute("href")||i;if(h&&!h.startsWith("mailto:")?!0===d.contract.overrideEmailIdScrubbing||(0,s.uj)(h)?d.contract.destinationUrl=h:(d.contract.destinationUrl="",this.sendAppErrorEvent({id:54301,severity:0,message:"Email found in the destination url",pb:d.combinedContract})):d.contract.destinationUrl="",u===a.Aw.RightClick&&l===a.wu.ContextMenu&&!(d&&d.contract&&d.contract.destinationUrl))return;this.trackingSystemList.sendActionEvent(d.combinedContract,this.pageMetadata.combinedContract,null==u?a.Aw.Click:u,null==l?a.wu.Navigate:l),d.contract&&d.contract.triggerPageView&&l===a.wu.Navigate&&this.sendPageView(null,!1)}}}))}scheduleContentViewEvent(e=i.NS.Partial,t){if(!s.kP)return;const n=(new Date).getTime();this.contentViewTimePassed=n-this.contentViewLastExecution,this.contentViewTimePassed<=this.contentViewDelay&&e!==i.NS.Partial||(this.contentViewLastExecution=n,this.contentViewTimer&&this.scheduledContentViewType===e&&window.clearTimeout(this.contentViewTimer),this.contentViewTimer=window.setTimeout((()=>this.autoSendContentViewEvent({contentViewType:e})),t||this.contentViewTimeout),this.scheduledContentViewType=e)}sendContentViewEvent(e,t=i.NS.Partial,n=!0){this.queueEvent("ContentView",(()=>{if(this.config.beacons&&this.config.beacons.ContentView&&this.config.beacons.ContentView.disable||!this.pageMetadata)return;f.u.updateLayout();const r=(0,s.Ux)(e),i=[];if(r&&r.length>0){for(let e=0;e<r.length;e++){const t=r[e],o=f.u.get(t);o&&(!n||this.contentUpdateQueue.has(t)||this.partialContentUpdateQueue.has(t))&&(this.setIsMonetizedFlag(o.combinedContract),i.push(o.combinedContract))}this.trackingSystemList.sendContentViewEvent(i,this.pageMetadata.combinedContract,{contentViewType:t})}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}))}sendAppErrorEvent(e,t=!0){if(!this.config.ignoreAppErrorCounter&&function(e){if(!e||!e.id)return!0;h.has(e.id)||h.set(e.id,0);const t=h.get(e.id)+1;return h.set(e.id,t),3===e.severity&&t>25||3!==e.severity&&t>10}(e))return console.error(JSON.stringify(e)),void console.error(`App errors throttled for Id: ${e.id}`);if(!function(e){const{pb:t,severity:n=1}=e;return 3===n||(!(t&&t.shouldSupressWarnings)||1!==n)}(e))return console.error(JSON.stringify(e)),void console.error(`This App error Id: ${e.id} will not be sent!`);if(!(this.config.beacons&&this.config.beacons.AppError&&this.config.beacons.AppError.disable)&&this.pageMetadata)if(function(e){const{pb:t,severity:n=1}=e;return 3!==n&&!(!t||!t.shouldDelayUntilLoadTime)}(e)){const n=Object.assign(Object.assign({},e),{pb:Object.assign(Object.assign({},e.pb),{delayed:1})});d.then((()=>{this.queueAppErrorEvent(n,t)}))}else this.queueAppErrorEvent(e,t)}sendLoadTimeEvent(e){this.sendEvent("LoadTime",e),l()}sendFeedbackEvent(e){this.sendEvent("Feedback",e)}sendAdImpressionEvent(e){this.sendEvent("AdImpression",e)}sendAdFeedbackEvent(e){this.sendEvent("AdFeedback",e)}sendVideoPlayEvent(e,t,n=!1){if(this.config.beacons&&this.config.beacons.VideoPlay&&this.config.beacons.VideoPlay.disable)return;const r=n?"VideoAdPlay":"VideoPlay";t&&f.u.updateLayout();const i=t?f.u.get(t):void 0,o=i?i.combinedContract:{};if(e){const t=Object.assign(Object.assign({},o),e);this.trackingSystemList.sendEventPayload(r,{object:t},this.pageMetadata.combinedContract)}else t&&this.pageMetadata&&i&&this.trackingSystemList.sendEventPayload(r,{object:o},this.pageMetadata.combinedContract)}sendGamePlayEvent(e,t){if(!(this.config.beacons&&this.config.beacons.GamePlay&&this.config.beacons.GamePlay.disable))if(e)this.trackingSystemList.sendEventPayload("GamePlay",{object:e},this.pageMetadata.combinedContract);else if(t){f.u.updateLayout();const e=f.u.get(t);this.pageMetadata&&e&&this.trackingSystemList.sendEventPayload("GamePlay",{object:e.combinedContract},this.pageMetadata.combinedContract)}}sendAudioPlayEvent(e,t){if(!(this.config.beacons&&this.config.beacons.AudioPlay&&this.config.beacons.AudioPlay.disable))if(e)this.trackingSystemList.sendEventPayload("AudioPlay",{object:e},this.pageMetadata.combinedContract);else if(t){f.u.updateLayout();const e=f.u.get(t);this.pageMetadata&&e&&this.trackingSystemList.sendEventPayload("AudioPlay",{object:e.combinedContract},this.pageMetadata.combinedContract)}}sendServerLogEvent(e){this.sendEvent("ServerLog",e)}sendAppPerfTraceEvent(e){this.sendEvent("AppPerfTrace",e)}sendAuthEvent(e){this.sendEvent("Auth",e)}sendHeartBeatEvent(e){this.sendEvent("HeartBeat",e)}sendClientLogEvent(e){this.config.enableSendClientLogEvent&&this.sendEvent("ClientLog",e)}sendPageOutOfFocusEvent(e){this.queueEvent("PageOutOfFocus",(()=>{this.config.beacons&&this.config.beacons.PageOutOfFocus&&this.config.beacons.PageOutOfFocus.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("PageOutOfFocus",null,this.pageMetadata.combinedContract)}))}sendUnloadEvent(){this.queueEvent("Unload",(()=>{this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("Unload",null,this.pageMetadata.combinedContract)}))}sendTraceInfoEvent(e){this.queueEvent("TraceInfo",(()=>{this.config.beacons&&this.config.beacons.TraceInfo&&this.config.beacons.TraceInfo.disable||!this.pageMetadata||this.sendEvent("TraceInfo",e)}))}getPageMetadata(){return this.pageMetadata}flush(e=!0,t,n){const r=e=>!(t&&t!==e.eventType||n&&n===e.eventType);for(const e of this.eventQueue)"function"==typeof e.callback&&r(e)&&e.callback();this.eventQueue=this.eventQueue.filter((e=>!r(e))),this.config.useEventQueue=!e}empty(){this.eventQueue=[]}enableEventQueue(){this.config.useEventQueue=!0}disableEventQueue(){this.config.useEventQueue=!1}addEventTypeToForceQueueList(e){this.config.forceUseEventQueueList||(this.config.forceUseEventQueueList=[]),this.config.forceUseEventQueueList.push(e)}removeEventTypeFromForceQueueList(e){this.config.forceUseEventQueueList&&(this.config.forceUseEventQueueList=this.config.forceUseEventQueueList.filter((t=>t!==e)))}startDwellTime(){v.start()}pauseDwellTime(){v.pause()}pauseDwellTimeV2(){v.pauseV2()}resetDwellTime(){v.reset()}isDwellTimeActive(){return v.getIsActive()}setDwellTime(e,t){v.setDwellTime(e,t)}getDwellTime(){return v.getDwellTime()}clickEventHandler(e){if(e&&e.detail&&e.detail.element&&this.pageMetadata){const t=e.detail.element;this.sendActionEvent(t,e.detail.action,e.detail.behavior,void 0,!0),t.attributes&&t.attributes.href&&t.attributes.href.value&&t.attributes.href.value.startsWith&&"function"==typeof t.attributes.href.value.startsWith&&t.attributes.href.value.startsWith("mailto:")&&(this.ignoreUnload=!0)}}queueAppErrorEvent(e,t=!0){this.queueEvent("AppError",(()=>{if(this.trackingSystemList.sendCustomEvent("AppError",e,this.pageMetadata.combinedContract),t){const t=new Date+": "+ +new Date+" "+JSON.stringify(e);console.error(t)}this.dispatchEvent(i.tW,{error:e})}))}unloadEventCallback(){this.ignoreAutoUnloadCallback||this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||(this.pageMetadata&&!this.ignoreUnload&&this.sendUnloadEvent(),this.ignoreUnload=!1)}setIsMonetizedFlag(e){e&&e.isMonetized&&this.updatePageMetadata({page:{isMonetized:!0}},!0)}autoSendContentViewEvent(e){this.queueEvent("ContentView",(()=>{if(this.pageMetadata){let t;if(f.u.updateLayout(),e.contentViewType!==i.NS.Partial&&this.contentUpdateQueue&&this.contentUpdateQueue.size>0?t=this.contentUpdateQueue:this.partialContentUpdateQueue&&this.partialContentUpdateQueue.size>0&&(t=this.partialContentUpdateQueue),t){const n=[...t].map((t=>{const n=f.u.get(t);if(n&&(e.contentViewType!==i.NS.Partial||!n.isCaptured))return n.isCaptured=!0,this.setIsMonetizedFlag(n.combinedContract),n.combinedContract})).filter((e=>e));this.trackingSystemList.sendContentViewEvent(n,this.pageMetadata.combinedContract,e),this.contentViewBeaconSent=!0,this.partialContentUpdateQueue.clear(),this.contentViewTriggerSource=null}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}}))}runContentVisibilityCallbacks(){var e;null===(e=this.runContentVisibilityCallbacksPromise)||void 0===e||e.resolve()}yieldAsync(){return new Promise((e=>setTimeout(e,0)))}contentVisibilityCallback(e){var t;const n=t=>(0,r.mG)(this,void 0,void 0,(function*(){for(let n=0;n<e.length;n++){t&&n>0&&n%this.yieldElementsCount==0&&(yield this.yieldAsync());const r=e[n];r.isIntersecting?(this.contentUpdateQueue.add(r.target),this.contentViewTriggerSource||this.partialContentUpdateQueue.add(r.target)):(this.contentUpdateQueue.delete(r.target),this.partialContentUpdateQueue.delete(r.target))}!this.contentViewTriggerSource&&this.config.autoCaptureContentView&&this.scheduleContentViewEvent(i.NS.Partial,500),this.contentUpdateQueue.size&&this.contentVisibilityCallbackPromise&&this.contentVisibilityCallbackPromise.resolve()}));this.config.deferContentViewIntersectionCallbacks&&(null===(t=this.runContentVisibilityCallbacksPromise)||void 0===t?void 0:t.promise)?this.runContentVisibilityCallbacksPromise.promise.then((()=>n(!0))):n()}sendEvent(e,t){this.queueEvent(e,(()=>{this.config.beacons&&this.config.beacons[e]&&this.config.beacons[e].disable||!this.pageMetadata||this.trackingSystemList.sendCustomEvent(e,t,this.pageMetadata.combinedContract)}))}queueEvent(e,t){this.config.useEventQueue||this.config.forceUseEventQueueList&&this.config.forceUseEventQueueList.includes(e)?this.eventQueue.push({eventType:e,callback:t}):t()}dispatchEvent(e,t){s.kP&&setTimeout((()=>dispatchEvent(new CustomEvent(e,{detail:t}))),0)}startAutoDwellTime(){document.hasFocus()&&!this.config.disableAutoCalculateDwellTime&&(v.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStart","true"))}onFocusCallback(){this.contentLoaded&&!this.config.disableAutoCalculateDwellTime&&(v.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeFocusStart","true"))}waitForContentVisibilityObserverInit(){return this.contentVisibilityCallbackPromise?this.contentVisibilityCallbackPromise.promise:Promise.resolve()}onBlurCallback(){this.sendPageOutOfFocusEvent({}),this.config.disableAutoCalculateDwellTime||(v.pause(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimePause","true"))}isEventInQueue(e){return this.eventQueue.some((t=>t.eventType===e))}isContentViewBeaconSent(){return this.contentViewBeaconSent}isPageViewBeaconSent(){return this.pageViewBeaconSent}initScrollPerformanceTrackers(e){if(!this.viewportEventManager)return;this.subscribeToAppHidden=null==e?void 0:e.subscribeToAppHidden;n.e("scrollPerfMetricTrackers").then(n.bind(n,92099)).then((({createEndOfFeedTimeTracker:t,createAppResponsivenessTracker:n,createScrollInputTracker:r})=>{const i=t({scrollContainer:null==e?void 0:e.scrollContainer,scrollEventName:null==e?void 0:e.scrollEventName}),o=n(),a=(null==e?void 0:e.enableScrollInputTracking)&&r&&r(null==e?void 0:e.enableMissedScrollTracking,null==e?void 0:e.enableSectionScrollTracking);this.viewportEventManager.initScrollPerformanceTrackers({endOfFeedTimeTracker:i,appResponsivenessTracker:o,scrollInputTracker:a})}))}}},60483:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(75559),i=n(98146);class o{constructor(e,t,n){this.contract=e}static render(e){const t=i.v.compress(e);return{[r.qP]:JSON.stringify(t)}}addChild(e){return new o(e,this)}addOrUpdateChild(e,t){return t?(t.contract=e,t):new o(e,this)}updateContract(e){this.contract=e}render(e){return o.render(this.contract)}getMetadataTag(){return JSON.stringify(this.getMetadata())}getMetadata(){return i.v.compress(this.contract)}}},73932:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(39860),i=n(65135);class o{constructor(){this.getSpanId=(e=!1)=>{if(o.traceCtrxObj&&!e)return o.traceCtrxObj.getSpanId();const t=(0,r.DO)().substring(0,16);return(0,i.dK)().then((()=>{o.setSpanIdFunc(t)}),(()=>{})),t},this.getTraceId=(e=!1)=>{if(o.traceCtrxObj&&!e)return o.traceCtrxObj.getTraceId();const t=(0,r.DO)();return(0,i.dK)().then((()=>{o.setTraceIdFunc(t)}),(()=>{})),t}}setTraceObj(e){o.traceCtrxObj=e&&e.getTraceCtx()}}o.getTraceInstance=()=>(o.traceInstance||(o.traceInstance=new o),o.traceInstance),o.setSpanIdFunc=e=>{const t=e||(0,r.DO)().substring(0,16);try{o.traceCtrxObj.setSpanId(t)}catch(e){}},o.setTraceIdFunc=e=>{const t=e||(0,r.DO)();try{o.traceCtrxObj.setTraceId(t)}catch(e){}}},65969:function(e,t,n){"use strict";n.d(t,{EE:function(){return r},S8:function(){return o},id:function(){return i}});const r="https://www.msn.com/PV.xml",i={UserAction:"MS.News.Web.PageAction",PageView:"MS.News.Web.PageView",ContentView:"MS.News.Web.ContentView",AppError:"MS.News.Web.AppError",AppErrorDiag:"MS.News.Web.AppErrorDiag",LoadTime:"MS.News.Web.LoadTime",LoadTimeDiag:"MS.News.Web.LoadTimeDiag",Unload:"MS.News.Web.Unload",Base:"MS.News.Web.Base",Feedback:"MS.News.Web.Feedback",AdImpression:"MS.News.Web.AdImpression",AdFeedback:"MS.News.Web.AdFeedback",GamePlay:"MS.News.Web.GamePlay",VideoPlay:"MS.News.Web.VideoPlay",VideoAdPlay:"MS.News.Web.VideoAdPlay",AudioPlay:"MS.News.Web.AudioPlay",ServerLog:"MS.News.Web.ServerLog",AppPerfTrace:"MS.News.Web.AppPerfTrace",Auth:"MS.News.Web.Auth",HeartBeat:"MS.News.Web.HeartBeat",ClientLog:"MS.News.Web.ClientLog",PageOutOfFocus:"MS.News.Web.PageOutOfFocus",TraceInfo:"MS.News.Web.TraceInfo"},o=1e3},98429:function(e,t,n){"use strict";n.d(t,{F$:function(){return j},FL:function(){return v},He:function(){return D},Mm:function(){return G},P6:function(){return g},Ux:function(){return O},Vr:function(){return w},XW:function(){return S},Xn:function(){return h},Zf:function(){return b},d5:function(){return m},i2:function(){return y},jT:function(){return R},jv:function(){return W},kP:function(){return C},lB:function(){return $},pE:function(){return I},pW:function(){return d},qC:function(){return f},t0:function(){return N},tH:function(){return A},tV:function(){return H},uK:function(){return T},uV:function(){return U},uj:function(){return B},wC:function(){return P},wi:function(){return p},xI:function(){return V}});let r,i,o,a,s,c,u=(new Date).getTime();try{s="sessionStorage"in window&&window.sessionStorage}catch(e){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((e=>{c=e.platformVersion}))}catch(e){}function l(e){const t=(u+16*Math.random())%16|0;return u=Math.floor(u/16),("x"===e?t:7&t|8).toString(16)}function d(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,l)}function h(){return Date.now()}function p(){return C&&(window.outerWidth||document.documentElement.clientWidth)}function g(){return C&&(window.outerHeight||document.documentElement.clientHeight)}function f(){return C&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function m(){return C&&Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)}function v(){const e="undefined"!=typeof document&&document.cookie;if(!C&&!e)return"";const t=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(e);return t&&t.length>1?t[1]:""}function y(e){return C?(r||""===r||(r=v()||e||""),r):v()}const C=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function S(e,t){return function(e,t){if(t&&e){const n=t.toLowerCase();if(-1==n.indexOf("?ocid=")&&-1==n.indexOf("&ocid=")){const n=-1==t.indexOf("?")?"?":"&";t=`${t}${n}ocid=${encodeURIComponent(e)}`}}return t}(t,e)}function w(e,t){k(e,"ocid",t)}function b(e,t){let n=t;try{const e=new URL(location.href);n=e.searchParams.get("pc")||e.searchParams.get("PC")||e.searchParams.get("pC")||e.searchParams.get("Pc")||n}catch(e){}k(e,"pc",n||t)}function T(e,t){k(e,"cvid",t,!0)}function P(e,t){k(e,"ei",t.toString(),!0)}function k(e,t,n,r=!1){if(!e||!t)return;let i=e;if("a"!==i.nodeName&&i.closest("a")&&(i=i.closest("a")),!i)return;const{href:o}=i;if(o)try{const e=new URL(o);(!e.searchParams.get(t)||r)&&n&&(e.host.includes("msn.com")||e.host.includes("msn.cn")||e.host.includes("bing.com"))&&(e.searchParams.set(t,n),i.href=e.href)}catch(e){}}function A(e,t=""){if(!e)return;const n=e.getAttribute("data-hl")||"";if(!t&&!n){const n=e.querySelector("h4")||e.querySelector("h3"),r=function(e,t,n=2){if(!t)return;let r=t,i=0;for(;r&&r!==e;r=r.parentElement,i++)if(i>n)return;return i}(e,n);n&&r&&r<=2&&(t=M(n))}const r=e instanceof HTMLAnchorElement?e.querySelector(".title"):"";!t&&r&&(t=M(r));const i=e instanceof HTMLAnchorElement?e.getAttribute("title"):"";!t&&i&&(t=i);const o=e instanceof HTMLAnchorElement?e.getAttribute("aria-lable"):"";return!t&&o&&(t=o),"string"!=typeof t&&(t=n||e.getAttribute("data-piitxt")||("FORM"==e.nodeName?"[form submit]":e.getAttribute("title")||x(e,"title","img")||M(e)||e.getAttribute("alt")||x(e,"alt")||"")),null!=t.trim&&(t=t.trim()),t}const E=/(^\s+)|(\s+$)/gm;function M(e){return(e&&(e.textContent||e.innerText)||"").replace(E,"")}function x(e,t,n=""){const r=e.children||[];let i,o=0;for(t=t||"alt";o<r.length;o++)if(i=r[o].getAttribute(t)||x(r[o],t,n),i&&n!=r[o].localName)return i}function I(e,t){if(!e||e===document||e===window)return null;const n=e.closest(t);if(n)return n;const r=L(e);return r&&r.host?I(r.host,t):void 0}function L(e){return e.parentNode?L(e.parentNode):e}function O(e){const t=[];if(!e)return;let n;return n=D(e)?e.shadowRoot.querySelectorAll("*"):e.querySelectorAll("*"),F(Array.from(n),t),t}function F(e,t=[]){for(let n=0;n<e.length;n++){const r=e[n];R(r)&&t.push(r),D(r)&&F(Array.from(r.shadowRoot.querySelectorAll("*")),t)}}function D(e){return!!e.shadowRoot}function R(e){return e.hasAttribute&&e.hasAttribute("data-t")}function W(e){try{new URL(e)}catch(e){return!1}return!0}function N(e,t){const n=new CustomEvent(e,{detail:{element:t}});dispatchEvent(n)}function j(){let e=!1;if(C)try{const t=c;if(t&&parseInt(t.split(".")[0])>=11&&(e=!0),!e&&window&&window.external&&window.external.getHostEnvironmentValue("os-build")){const t=JSON.parse(window.external.getHostEnvironmentValue("os-build"))["os-build"].split(".");(t[0]>10||10===t[0]&&t[1]>0||t[2]>=22e3)&&(e=!0)}}catch(e){}return o=!0===e||null,o}function U(){let e=!1;const t="os-sku";if(C)try{if(window&&window.external&&window.external.getHostEnvironmentValue(t)){const n=JSON.parse(window.external.getHostEnvironmentValue(t));e=n&&"192"===n[t]}}catch(e){}return a=!0===e||null,a}function H(e){if(!i&&""!==i&&C)try{if(!e||0===e.length)return;const t=document.cookie;if(t){let n="";e.forEach((e=>{const r=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t),i=r&&r.length>1?r[1]:"";""!==i&&(n+=e+"="+i+";")})),i=n}}catch(e){}return i}function G(e,t){if(!e||""===e)return"";let n=!1,r=null;if(C)try{if(r=new URL(e),!t||0===t.length)return;t.forEach((e=>{r.searchParams.has(e)&&(n=!0),r.searchParams.delete(e)}))}catch(t){return e}return n?r.toString():e}function B(e){if(!e||""===e)return"";let t=null,n=!1;if(C)try{t=new URL(e);const r=new RegExp(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi);t.searchParams.forEach((function(e,t){e.match(r)&&(n=!0)}))}catch(e){}return n?"":e}function $(e){const t="sign-in-refreshed-page";C&&s&&s.getItem(t)?(s.removeItem(t),(e.page=e.page||{}).isAutoRefresh=!0):function(e){return!e||!e.page||!0!==e.page.isAutoRefresh&&!1!==e.page.isAutoRefresh}(e)&&((e.page=e.page||{}).isAutoRefresh=!1)}function V(e=!1){let t;const n=new Promise((e=>{t=e}));return e&&t(),{promise:n,resolve:t}}},24410:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(38156);function i(e,t){const n=function(e){switch(e){case r.uH.AppStore:return 17;case r.uH.StructuredData:return 16;case r.uH.CmsPromotions:return 19;case r.uH.MicrosoftWebStore:return 20;case r.uH.XboxStore:return 21;case r.uH.OfficeStore:return 22;case r.uH.PartnerLinks:return 24;case r.uH.SponsoredContent:return 25;default:return 0}}(e)||function(e){switch(e){case r.wu.Navigate:return 14;case r.wu.Follow:return 26;case r.wu.Unfollow:return 27;case r.wu.More:return 28;case r.wu.Close:return 36;case r.wu.Share:return 37;case r.wu.Like:return 38;case r.wu.Dislike:return 39;case r.wu.Unlike:return 40;case r.wu.Undislike:return 41;case r.wu.Mute:return 42;case r.wu.Unmute:return 43;case r.wu.Cancel:return 44;case r.wu.Manage:return 45;default:return 0}}(t);if(0!==n)return n;if(e===r.uH.App){if(t===r.wu.Install)return 23;if(t===r.wu.Launch)return 18}return 0}},80368:function(e,t,n){"use strict";n.d(t,{$A:function(){return s},ku:function(){return o},e0:function(){return l},Ol:function(){return a},Pv:function(){return d},Jn:function(){return c}});var r=n(78722),i=n(10877);function o(e){let t;if(e instanceof URL)t=e.searchParams;else if(e instanceof URLSearchParams)t=e;else if("string"==typeof e)try{t=new URL(e).searchParams}catch(e){t=void 0}return a(t,"ocid")}function a(e,t,n){if(e&&t){const r={value:e.get(t)||void 0};if(!r.value&&n&&n.length>0)for(let t=0;t<n.length&&(r.value=e.get(n[t])||void 0,!r.value);++t);if(!r.value){const n=t.toLowerCase();e.forEach((function(e,t){!r.value&&t.toLowerCase()===n&&e&&(r.value=e)}))}return r.value}}function s(e,t,n){if(!e)return null;let r;try{r=e instanceof URL?new URL(e.href):new URL(e)}catch(e){return null}if(r&&(n||r.host.includes("msn.com")||r.host.includes(".msn.cn")))for(const[e,n]of Object.entries(t))e&&n&&r.searchParams.set(e,n);return r.href}function c(e){if("edgeChromium"===r.jG.AppType)return!1;const t=o(e),n=null==t?void 0:t.toLowerCase();return i.Oj.has(n)}const u=new Set(["msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);function l(e){if("string"==typeof e)try{e=new URL(e)}catch(t){e=null}const t={};if(e){let n="";e.searchParams.forEach((function(e,t){!n&&"ocid"===t.toLowerCase()&&e&&(n=e.toLowerCase())})),n&&(("win"===n.substr(0,3)||u.has(n)||n.startsWith("msnar"))&&(t.isWindows=!0),"weather-app-win"===n&&(t.isWinApp=!0),"xiaomi"===n&&(t.isXiaomi=!0),"onoskype"===n&&(t.isSkype=!0))}return t}function d(e){return!!l(e).isWindows}n(49977)},99172:function(e,t,n){"use strict";n.d(t,{AO:function(){return u},Bw:function(){return d},R1:function(){return a},RP:function(){return o},dK:function(){return l},kY:function(){return i},kq:function(){return c},s$:function(){return s}});var r=n(21858);function i(e,t,n){var r,i;if((null==e?void 0:e.occurrenceDateTime)&&n){const a=new Date,s=(null==e?void 0:e.occurrenceDateTime)&&c(null==e?void 0:e.occurrenceDateTime,(null===(r=null==e?void 0:e.locationValue)||void 0===r?void 0:r.timezoneName)||"",t||"en-us"),u=c(a,(null===(i=null==e?void 0:e.locationValue)||void 0===i?void 0:i.timezoneName)||"",t||"en-us");let l=0,d=0;if(o(null==e?void 0:e.occurrenceDateTime,n)==o(a,n))d=1,l=s-u>0?s-u:0;else{const t=36e5,n=Math.round(Math.abs(e.occurrenceDateTime.getTime()-a.getTime())/t);l=s,d=1+Math.floor((n-(24-u))/24)+1}return l=l<0?0:l,d=d<0?1:d,[d,l]}return[]}function o(e,t){var n,r;const i=null===(n=t.formatMonth(e))||void 0===n?void 0:n.padStart(2,"0"),o=null===(r=t.formatDay(e))||void 0===r?void 0:r.padStart(2,"0");return`${t.formatYear(e)}-${i}-${o}`}function a(e){if(!e)return new Date;return new Date(e/1e4-621355968e5)}function s(e){return 1e4*e.getTime()+621355968e9}function c(e,t,n){const r=e.toLocaleString(n,{hour:"2-digit",hour12:!1,timeZone:t}),i=parseInt(r);return 24==i?0:i}function u(e){const t=e.split("-");if(3==t.length){return[parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2])]}return[]}function l(e,t,n,r,i){const o=Date.UTC(t,n,r,i);return new Date(o.valueOf()+60*e*60*1e3*-1)}function d(e){const t=e.durationInHour||0,n=new Date,i=s((0,r.TR)(n,-t));return(e.occurrenceTime||0)<i}},2925:function(e,t,n){"use strict";n.d(t,{$3:function(){return l},Ey:function(){return c},F:function(){return s},Gz:function(){return a},Ht:function(){return o},No:function(){return h},bo:function(){return d},k1:function(){return u}});var r=n(66669),i=n(13959);const o=20/3,a=50,s=10/3,c=r.LR[0].toString(),u=r.kA[0].toString(),l=i.K.Flyout-1,d=i.K.Above-1,h=[r.LR[r.LR.stargazing]]},59784:function(e,t,n){"use strict";n.d(t,{$c:function(){return f},Fx:function(){return g},_p:function(){return m},gL:function(){return p},oz:function(){return y},tl:function(){return v},w5:function(){return h}});var r=n(2925),i=n(66669),o=n(12037),a=n(38573),s=n(4959),c=n(99172),u=n(34960),l=n(45506),d=n(65135);function h(e,t){const n={ocid:(0,u.ku)()||"",cvid:d.M0.getRequestId(),linkType:7};return(0,s.DF)(e.locationValue,t,n)}function p(e,t,n,r){const i=(0,c.kY)(e,t,r);if(2==i.length){const t=null==e?void 0:e.activityType;return`${n}&day=${i[0]}&hour=${i[1]}&activity=${t}`}return n}function g(e,t){var n,o,a;return e<=0?{ratingName:"",localizedRating:""}:e<r.F?{ratingName:i.qx[i.qx.Poor],localizedRating:(null===(n=null==t?void 0:t.conditionTypes)||void 0===n?void 0:n.poor)||"Poor"}:e<r.Ht?{ratingName:i.qx[i.qx.Ok],localizedRating:(null===(o=null==t?void 0:t.conditionTypes)||void 0===o?void 0:o.ok)||"Ok"}:{ratingName:i.qx[i.qx.Great],localizedRating:(null===(a=null==t?void 0:t.conditionTypes)||void 0===a?void 0:a.great)||"Great"}}function f(e){var t;e.occurrenceDateTime=(0,c.R1)(e.occurrenceTime),e.trendValues=new Map(Object.entries(e.trendValues||{}));const n=function(e){if(!e||0==e.size)return[-1,-1];const t=[],n=[];return null==e||e.forEach((e=>{t.push((null==e?void 0:e.currentIndexValue)||0),(null==e?void 0:e.pastIndexValue)&&(null==e?void 0:e.pastIndexValue)>0&&n.push(null==e?void 0:e.pastIndexValue)})),[Math.min.apply(null,t),Math.min.apply(null,n)]}(null==e?void 0:e.trendValues);if(2==n.length&&(e.indexValue=n[0],e.historyIndexValue=n[1]),null==e?void 0:e.locationValue){if(null===(t=null==e?void 0:e.locationValue)||void 0===t?void 0:t.name){const t=o.v(e.locationValue.name);e.locationValue=Object.assign(Object.assign({},null==e?void 0:e.locationValue),t)}e.locationValue.displayName=(0,a.Gf)(e.locationValue)}return e}function m(e,t){var n;if(!e||!t)return e;const r="zh-cn"==(null===l.Al||void 0===l.Al?void 0:l.Al.Locale.toLocaleLowerCase())&&"CN"==(null==e?void 0:e.country)?"CMA":"Foreca",i=o.q(e);return Object.assign(Object.assign({},e),{id:t.id,providerName:r,name:i,timezoneName:null===(n=null==t?void 0:t.location)||void 0===n?void 0:n.TimezoneName,timezoneOffset_Hours:parseFloat((null==t?void 0:t.utcOffset)||"")})}function v(e,t){return((null==e?void 0:e.occurrenceTime)||0)-((null==t?void 0:t.occurrenceTime)||0)}function y(e){const t=new Map(Object.entries(e.trendValues||{}));let n=!1;return null==t||t.forEach((e=>{null!=(null==e?void 0:e.pastIndexValue)&&(null==e?void 0:e.pastIndexValue)>=0&&e.pastIndexValue!=e.currentIndexValue&&(n=!0)})),n}},85665:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(55067);class i{}i.updateWatchlist=new r.C("UpdateWatchlist"),i.deleteActivityEvent=new r.C("DeleteActivityEvent"),i.addActivityEvent=new r.C("AddActivityEvent"),i.editActivityEvent=new r.C("EditActivityEvent"),i.updateSuccess=new r.C("UpdateSuccess"),i.selectActivityEventCard=new r.C("SelectActivityEventCard"),i.resetSelectedActivityEventCard=new r.C("ResetSelectedActivityEventCard"),i.updateHistoryActivityEvents=new r.C("UpdateHistoryActivityEvents")},80068:function(e,t,n){"use strict";n.r(t),n.d(t,{ToolingInfo:function(){return T},WeatherActivityWatchlistDataActions:function(){return r.T},WeatherActivityWatchlistDataConnector:function(){return S},WeatherActivityWatchlistDataReducer:function(){return b}});var r=n(85665),i=n(73827),o=n(33940),a=n(70312),s=n(66669),c=n(99172),u=n(59784),l=n(63439),d=n(65135),h=n(78722),p=n(45506),g=n(26007),f=n(61442),m=n(19809),v=n(68742);const y={endPoint:"https://api.msn.com/weatherfalcon/",path:"weather/activitysettings/watchlist",apiKey:"j5i4gDqHL6nGYwx5wi5kRhXjtf2c5qgFX9fzfk0TOo",appId:"9e21380c-ff19-4c78-b4ea-19558e93a5d3",ocid:"msftweather",cnEndPoint:"https://api.msn.cn/weatherfalcon/"};class C{constructor(e){this.fetchImpl=e,this.cfg=Object.assign({},y),this.query=[{key:"apiKey",value:this.cfg.apiKey},{key:"appid",value:this.cfg.appId},{key:"ocid",value:this.cfg.ocid},{key:h.jG.OneServiceContentMarketQspKey,value:h.jG.CurrentMarket},{key:"locale",value:p.Al.Locale},{key:"activityId",value:h.jG.ActivityId},{key:"user",value:h.jG.UserId}]}logApiException(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){null===d.M0||void 0===d.M0||d.M0.sendClientLogEvent({message:JSON.stringify({status:t,err:e,activityId:(0,h.Yq)().ActivityId}),type:"information"})}))}fetchWatchlistEvents(e=s.PY.Read,t,n){var r;return(0,o.mG)(this,void 0,void 0,(function*(){const i=yield this.buildRequestParams(e,t),a="zh-cn"==(null===(r=null===p.Al||void 0===p.Al?void 0:p.Al.Locale)||void 0===r?void 0:r.toLowerCase())?this.cfg.cnEndPoint:this.cfg.endPoint,c=new URL(this.cfg.path+"",a),u=[{key:"activityActionType",value:s.PY[e]},{key:"units",value:n===v.a.Fahrenheit?"F":"C"},...this.query];c.search=g.c.keyValueArrayToQueryString(u);let l=null;try{l=yield(0,f.w)((()=>(0,o.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(c.href,i);if(!e.ok){if(401==e.status)return this.logApiException(e.statusText,"401"),null;throw Error(e.statusText)}return e.json()}))),"getActivityWatchlist")}catch(e){l=null,yield this.logApiException(e)}return l}))}buildRequestParams(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){const n=e==s.PY.Read?yield m.$D.getBaseRequestData("GET"):yield m.$D.getBaseRequestData("POST");if(n.credentials="include",n.referrerPolicy="no-referrer-when-downgrade",e!=s.PY.Read&&t&&t.length){const e=t.map((e=>{const t=e.trendValues&&e.trendValues instanceof Map?Object.fromEntries(e.trendValues):e.trendValues;return Object.assign(Object.assign({},e),{trendValues:t})}));n.body=JSON.stringify(e)}return n}))}}class S extends l.e{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o,s);const c=(0,a.j)();this.weatherActivityWatchlistClient=new C(c)}fetchWeatherActivityWatchlist(e){var t,n;return(0,o.mG)(this,void 0,void 0,(function*(){const i=yield this.weatherActivityWatchlistClient.fetchWatchlistEvents(s.PY.Read,[],e),o=(null==i?void 0:i.value)||[],a=[],l=[];o.forEach((e=>{(0,c.Bw)(e)?a.push(e):l.push((0,u.$c)(e))}));const h=l.length.toString();null===d.M0||void 0===d.M0||d.M0.addOrUpdateTmplProperty("WxWatchListCnt:",h),null===(t=r.T.updateWatchlist.getActionSender(this))||void 0===t||t.send(l),a.length&&(null===(n=r.T.updateHistoryActivityEvents.getActionSender(this))||void 0===n||n.send(a)),r.T.updateSuccess.getActionSender(this).send()}))}deleteWeatherActivityPlanningEvent(e){var t;return(0,o.mG)(this,void 0,void 0,(function*(){const n={eventId:e.eventId};(yield this.weatherActivityWatchlistClient.fetchWatchlistEvents(s.PY.Delete,[n]))&&(null===(t=r.T.deleteActivityEvent.getActionSender(this))||void 0===t||t.send([n]),r.T.updateSuccess.getActionSender(this).send())}))}addWeatherActivityPlanningEvent(e,t){var n,i,a;return(0,o.mG)(this,void 0,void 0,(function*(){if((0,c.Bw)(e))return;const o=yield this.weatherActivityWatchlistClient.fetchWatchlistEvents(s.PY.Add,[e],t);if(o&&o.value&&(null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.length)){const e=null===(i=null==o?void 0:o.value)||void 0===i?void 0:i.map((e=>(0,u.$c)(e)));null===(a=r.T.addActivityEvent.getActionSender(this))||void 0===a||a.send(e),r.T.updateSuccess.getActionSender(this).send()}}))}editWeatherActivityPlanningEvent(e,t){var n,i,a;return(0,o.mG)(this,void 0,void 0,(function*(){if((0,c.Bw)(e))return;const o=yield this.weatherActivityWatchlistClient.fetchWatchlistEvents(s.PY.Update,[e],t);if(o&&o.value&&(null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.length)){const e=null===(i=null==o?void 0:o.value)||void 0===i?void 0:i.map((e=>(0,u.$c)(e)));null===(a=r.T.editActivityEvent.getActionSender(this))||void 0===a||a.send(e),r.T.updateSuccess.getActionSender(this).send()}}))}selectActivityEvent(e){return(0,o.mG)(this,void 0,void 0,(function*(){r.T.selectActivityEventCard.getActionSender(this).send(e)}))}resetSelectedActivityEventCard(){return(0,o.mG)(this,void 0,void 0,(function*(){r.T.resetSelectedActivityEventCard.getActionSender(this).send()}))}updateHistoryActivityEvents(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){(yield this.weatherActivityWatchlistClient.fetchWatchlistEvents(s.PY.UpdateHistory,e,t))&&r.T.updateHistoryActivityEvents.getActionSender(this).send([])}))}}var w=n(30856);class b{constructor(){this.INITIAL_STATE={weatherActivityWatchlistEvents:null}}reduce(e,t){if(!e)return this.INITIAL_STATE;if(!t)return e;let n=null,i=!1;return i=i||w.G.handleAction(t,r.T.updateWatchlist,(t=>{n=Object.assign(Object.assign({},e),{weatherActivityWatchlistEvents:t.sort(u.tl)})})),i=i||w.G.handleAction(t,r.T.deleteActivityEvent,(t=>{let r=e.weatherActivityWatchlistEvents;const i=t.map((e=>e.eventId));r&&(r=r.filter((e=>!i.includes(e.eventId))),r.sort(u.tl)),n=Object.assign(Object.assign({},e),{weatherActivityWatchlistEvents:r})})),i=i||w.G.handleAction(t,r.T.editActivityEvent,(t=>{let r=e.weatherActivityWatchlistEvents;const i=t.map((e=>e.eventId));r&&i&&i.length&&(r=r.filter((e=>!i.includes(e.eventId))),r.push(...t),r.sort(u.tl)),n=Object.assign(Object.assign({},e),{weatherActivityWatchlistEvents:r})})),i=i||w.G.handleAction(t,r.T.addActivityEvent,(t=>{const r=e.weatherActivityWatchlistEvents||[];r.push(...t),r.sort(u.tl),n=Object.assign(Object.assign({},e),{weatherActivityWatchlistEvents:r})})),i=i||w.G.handleAction(t,r.T.updateSuccess,(()=>{n=Object.assign(Object.assign({},e),{updateSuccess:!0})})),i=i||w.G.handleAction(t,r.T.selectActivityEventCard,(t=>{n=Object.assign(Object.assign({},e),{selectedActivityEvent:t})})),i=i||w.G.handleAction(t,r.T.resetSelectedActivityEventCard,(()=>{n=Object.assign(Object.assign({},e),{selectedActivityEvent:null})})),i=i||w.G.handleAction(t,r.T.updateHistoryActivityEvents,(t=>{n=Object.assign(Object.assign({},e),{updateHistoryWeatherActivityWatchlistEvents:t})})),n||e}}const T={experienceConfigSchema:i.WeatherActivityWatchlistDataConfigSchema}},93198:function(e,t,n){"use strict";n.d(t,{Er:function(){return c},Xl:function(){return S},qz:function(){return h},rF:function(){return m}});var r=n(75736),i=n(67544);const o=["pvdrIcon","symbol","uvDesc","feels","windDir","windDir","richCaps","aqiSeverity","aqLevel","primaryPollutant","comingWeather"],a=[{from:"capAbbr",to:"shortCap"}],s=[{from:"temp",to:"currentTemperature",trans:e=>e&&e.toString()},{from:"ufTemp",to:"ufTemp",trans:e=>e&&e.toString()},{from:"cap",to:"skycode",trans:e=>({children:e})},{from:"uv",to:"uv",trans:e=>Math.floor(e)},{from:"rh",to:"humidity",trans:e=>`${Math.floor(e)}%`},{from:"dewPt",to:"dewPoint",trans:e=>null!=e?`${e}°`:"N/A"},{from:"aqi",to:"aqi",trans:e=>`${e}`}];function c(e){return(0,i.N)(o,a,s)(e)}const u=["symbol","uv","uvDesc"],l=[{from:"tempHi",to:"highTemp"},{from:"tempLo",to:"lowTemp"},{from:"windMax",to:"windMaxRaw"},{from:"pvdrCap",to:"cap"}],d=[{from:"pvdrCap",to:"image",trans:e=>{}},{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>r.qz.getWeatherNormalizedSkyCode(e)},{from:"rhLo",to:"humidity",trans:e=>`${e}`},{from:"rhLo",to:"humidityLow",trans:e=>`${e}`},{from:"rhHi",to:"humidityHi",trans:e=>`${e}`},{from:"rhHi",to:"humidityHi",trans:e=>`${e}`}];function h(e){return(0,i.N)(u,l,d)(e)}const p=["cap","rh","symbol","icon","feels","pvdrIcon","windDir","pvdrWindSpd","summary","rainAmount","snowAmount","ufTemp"],g=[{from:"temp",to:"temperature"},{from:"tempDesc",to:"temperatureDesc"},{from:"valid",to:"timeStr"},{from:"pvdrWindDir",to:"windDesc"}],f=[{from:"baro",to:"airPressure",trans:e=>null!=e?`${e}`:"N/A"},{from:"rh",to:"humidity",trans:e=>null!=e?`${e}%`:"N/A"},{from:"dewPt",to:"dewPt",trans:e=>null!=e?`${e}°`:"N/A"},{from:"cloudCover",to:"cloudCover",trans:e=>null!=e?`${e}%`:"N/A"},{from:"vis",to:"visibility",trans:e=>null!=e?parseFloat(e):null},{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>r.qz.getWeatherNormalizedSkyCode(e)},{from:"symbol",to:"daytime",trans:e=>e&&e.includes("n")?"n":"d"},{from:"windSpd",to:"windSpeed",trans:e=>e+""},{from:"precip",to:"precipitation",trans:e=>null!=e?`${e}`:"N/A"},{from:"uv",to:"uv",trans:e=>null!=e?e:"N/A"}];function m(e){return(0,i.N)(p,g,f)(e)}const v=["feels","daytime","cap","pvdrIcon","symbol","windDir","pvdrWindSpd"],y=[{from:"temp",to:"temperature"},{from:"pvdrWindDir",to:"windDesc"},{from:"vis",to:"visibility"}],C=[{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>r.qz.getWeatherNormalizedSkyCode(e)},{from:"windSpd",to:"windSpeed",trans:e=>e+""},{from:"uv",to:"uv",trans:e=>null!=e?e:"N/A"},{from:"cloudCover",to:"cloudCover",trans:e=>null!=e?`${e}%`:"N/A"},{from:"rh",to:"humidity",trans:e=>null!=e?`${e}%`:"N/A"},{from:"dewPt",to:"dewPt",trans:e=>null!=e?`${e}°`:"N/A"},{from:"baro",to:"airPressure",trans:e=>null!=e?`${e}`:"N/A"}];function S(e){return(0,i.N)(v,y,C)(e)}},67544:function(e,t,n){"use strict";function r(e,t,n){return r=>{const i={};return e.forEach((e=>function(e,t,n){t[n]=e[n]}(r,i,e))),t.forEach((e=>{return t=r,n=i,o=e.from,a=e.to,void(n[a]=t[o]);var t,n,o,a})),n.forEach((e=>{return t=r,n=i,o=e.from,a=e.to,s=e.trans,void(n[a]=s(t[o]));var t,n,o,a,s})),i}}n.d(t,{N:function(){return r}})},39908:function(e,t,n){"use strict";n.d(t,{Dw:function(){return a},Gy:function(){return s},Sx:function(){return c},fC:function(){return u},o:function(){return l},yt:function(){return d}});var r=n(68742),i=n(75736),o=n(93198);function a(e){return"°ฟาเรนไฮด์"===e||"‎°ف"===e||e===r.a.Fahrenheit?{degree:"°F",unit:r.a.Fahrenheit}:"°เซลเซียส"===e||"‎°م"===e||e===r.a.Celsius?{degree:"°C",unit:r.a.Celsius}:(""+e).replace(/\u200e/g,"").includes("F")?{degree:"°F",unit:r.a.Fahrenheit}:{degree:"°C",unit:r.a.Celsius}}function s(e,t){var n,r,o,s,c;if(!(null===(s=null===(o=null===(r=null===(n=null==e?void 0:e.responses)||void 0===n?void 0:n[0])||void 0===r?void 0:r.weather)||void 0===o?void 0:o[0])||void 0===s?void 0:s.current))return null;const u=e.responses[0].weather[0],l="n"===u.current.daytime,{degree:d}=a(e.units.temperature),h=u.current;return{isAlert:u.alerts&&u.alerts.length>0,currentTemperature:h.temp&&h.temp.toString(),ufTemp:h.ufTemp&&h.ufTemp.toString(),pvdrIcon:h.pvdrIcon,symbol:h.symbol,normalizedSkyCode:i.qz.getWeatherNormalizedSkyCode(h.pvdrIcon),shortCap:h.capAbbr,skycode:{children:h.cap},precipitation:{children:u.forecast&&u.forecast.days&&u.forecast.days[0]&&u.forecast.days[0].daily&&null!=u.forecast.days[0].daily.precip?`${u.forecast.days[0].daily.precip}%`:void 0},deepLink:"",degreeSetting:d,uv:Math.floor(h.uv),uvDesc:h.uvDesc,feels:h.feels,humidity:`${Math.floor(h.rh)}%`,windDesc:`${h.pvdrWindDir} ${h.pvdrWindSpd}`,windSpeed:`${h.windSpd} ${e.units.speed}`,windDir:h.windDir,dewPoint:null!=h.dewPt?`${h.dewPt}°`:"N/A",baro:`${u.current.baro} ${e.units.pressure}`,visiblity:`${u.current.vis} ${e.units.distance}`,richCaps:u.current.richCaps,aqi:`${u.current.aqi}`,aqiSeverity:u.current.aqiSeverity,primaryPollutant:u.current.primaryPollutant,isNight:l,currentRaw:h,unitsRaw:e.units,locationRaw:t,alertCount:h.alertCount,alertSignificance:h.alertSignificance,comingWeather:null===(c=null==u?void 0:u.current)||void 0===c?void 0:c.comingWeather,life:u.life,source:e.responses[0].source}}function c(e,t){return Object.assign(Object.assign({},(0,o.rF)(e)),{pressureUnit:t.pressure,windGust:null!=e.windGust?`${e.windGust} ${t.speed}`:"N/A",vis:null!=e.vis?`${e.vis} ${t.distance}`:"N/A",time:new Date(e.valid),windSpeedUnit:t.speed,precipitationHeightUnit:t.height})}function u(e){const{unit:t}=a(e.units.temperature),n=e.responses[0].weather[0],r=[];for(let t=0;t<n.days.length;++t){const i=n.days[t],o={hourly:[]};if(i.hourly)for(let t=0;t<i.hourly.length;++t)o.hourly.push(c(i.hourly[t],e.units));r.push(o)}return{forecast:r,unit:t,source:e.responses[0].source}}function l(e){return e&&e.includes("C")?"°F":"°C"}function d(e){return null==e?"":`${e}°`}},97533:function(e,t,n){"use strict";n.d(t,{hq:function(){return y},s9:function(){return v},vI:function(){return g}});var r=n(30854),i=n(58043),o=n(75736),a=n(21858),s=n(88195),c=n(68364),u=n(98304),l=n(33954),d=n(39908),h=n(65135),p=n(93198);class g{constructor(e,t){this.truncateTimezone=e,this.locationHref=t}setLocationHref(e){this.locationHref=e}TranslateToWeatherOverview(e,t,n,r=!1,i=null){var l,g,v,y,w,b,T,P,k,A,E,M,x;const I=n||{};if(!function(e,t){if(!(e&&e.responses&&e.responses[0]&&e.responses[0].weather&&e.responses[0].weather[0]&&e.responses[0].weather[0].current))return!1;const n=e.responses[0].weather[0];if(n.forecast&&n.forecast.days&&n.forecast.days.length>0)return!0;if(!t)return!1;return h.M0&&h.M0.sendAppErrorEvent((0,c.Tr)(u._Rg,"No daily forecast data in weather summary",n.toString()),!1),!0}(e,I.dailyAsOption))throw new Error("Weather Service response schema validation error: no summary found!");const L=e.responses[0].weather[0],O=e.responses[0].source,{degree:F,unit:D}=(0,d.Dw)(e.units.temperature),R=L.current,W="n"===R.daytime,N=this.locationHref?{locationHref:this.locationHref}:{},{location:j,locStrResolver:U}=t,H=(0,s.ss)(j,D,U,N),G=H.indexOf("?")>0?"&":"?",B=L.alerts||[],$=B[0]||null,V=B.length,_=$?$.significance:"",z=e.units,q=Object.assign(Object.assign({},(0,p.Er)(R)),{normalizedSkyCode:o.qz.getWeatherNormalizedSkyCode(R.pvdrIcon),precipitation:{children:L.forecast&&L.forecast.days&&L.forecast.days[0]&&L.forecast.days[0].daily&&null!=L.forecast.days[0].daily.precip?`${L.forecast.days[0].daily.precip}%`:void 0},deepLink:H,degreeSetting:F,windDesc:`${R.pvdrWindDir} ${R.pvdrWindSpd}`,windSpeed:`${R.windSpd} ${z.speed}`,baro:`${R.baro} ${z.pressure}`,visiblity:`${R.vis} ${z.distance}`,isNight:W,currentRaw:R,unitsRaw:z,locationRaw:j,isAlert:!!V,alertCount:V,alertSignificance:_,life:L.life});!function(e,t){try{if(e&&`${e}`.length>15||t&&t.speed&&t.speed.length>15){const n="wind speed data is too long in weatherOverview's response.",r=`windSpeed: ${e}, units: ${JSON.stringify(t)}`;h.M0&&h.M0.sendAppErrorEvent((0,c.Tr)(u._Rg,n,r),!1)}}catch(e){return}}(R.windSpd,z);const K=[];let Z=null;const Q=L.forecast&&L.forecast.days&&L.forecast.days.length||0;for(let e=0;e<Q;++e){const t=L.forecast.days[e],n=t.daily,r=W?n.night:n.day,i=0===e?r:n.day;let a,s;if(this.truncateTimezone&&n.valid&&n.valid.includes("T")){const e=n.valid.split("T")[0].split("-");a=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))}else a=n.valid&&new Date(n.valid);null!=n.windMax?s=`${n.windMax} ${z.speed}`:null!=n.pvdrWindSpd&&(s=`${n.pvdrWindDir} ${n.pvdrWindSpd}`);const c=Object.assign(Object.assign({},(0,p.qz)(n)),{id:Math.random().toString(24).substring(2),day:a,dayNightSummaries:m(n),summaries:i?i.summaries:[],pvdrIcon:n.pvdrIcon||""+n.icon,precipitation:null!=n.precip?`${n.precip}`:"N/A",rainAmount:f(n.rainAmount,z.height),snowAmount:f(n.snowAmount,z.height),dayCode:(null===(l=n.day)||void 0===l?void 0:l.pvdrIcon)||(null===(v=null===(g=n.day)||void 0===g?void 0:g.icon)||void 0===v?void 0:v.toString()),dayCap:(null===(y=n.day)||void 0===y?void 0:y.pvdrCap)||(null===(w=n.day)||void 0===w?void 0:w.cap)||n.pvdrCap,daySymbol:null===(b=n.day)||void 0===b?void 0:b.symbol,nightCode:o.qz.getWeatherNormalizedSkyCode((null===(T=n.night)||void 0===T?void 0:T.pvdrIcon)||(null===(k=null===(P=n.night)||void 0===P?void 0:P.icon)||void 0===k?void 0:k.toString())||n.pvdrIcon),nightCap:(null===(A=n.night)||void 0===A?void 0:A.pvdrCap)||(null===(E=n.night)||void 0===E?void 0:E.cap)||n.pvdrCap,nightSymbol:null===(M=n.night)||void 0===M?void 0:M.symbol,nightPrecipitation:null!=(null===(x=n.night)||void 0===x?void 0:x.precip)?`${n.night.precip}`:"N/A",windSpeed:r?`${r.windSpd}`:"N/A",windSpeedUnit:z.speed,windMax:s,windMaxDir:null!=n.windMax?n.windMaxDir:null,airPressure:"N/A",almanac:t.almanac,deepLink:`${H}${G}day=${e+1}`,hourly:[]});if(t.hourly)for(let e=0;e<t.hourly.length;++e){const n=t.hourly[e];Z=Z||n,c.hourly.push((0,d.Sx)(n,z))}K.push(c)}if(I.weatherApi&&-1===I.weatherApi.history&&Z&&!r){const e=function(e,t,n,r){const i=t.valid?(0,a.TR)(new Date(t.valid),-1):new Date;return[Object.assign(Object.assign({},(0,p.Xl)(e)),{time:i,timeStr:i&&(0,a.Y6)(i,n),windSpeedUnit:r.speed,windGust:null!=e.windGust?`${e.windGust} ${r.speed}`:"N/A",pressureUnit:r.pressure,vis:null!=e.vis?`${e.vis} ${r.distance}`:"N/A"})]}(R,Z,O&&O.utcOffset,z);e&&e.length>0&&(K[0].hourly=e.concat(K[0].hourly))}return Object.assign(Object.assign({},function(e,t){const n=function(e){try{const t=e.contentdata,n=[];return t&&t.length?(t.forEach((e=>{if(!e||!e.contenttype)return;const t={id:e.id,cid:e.cid,ranking:e.ranking?e.ranking:0,contenttype:e.contenttype,cf:e.cf,content:[]};e.content&&e.content.forEach((e=>{e&&t.content.push(Object.assign({},e))})),n.push(t)})),n.length>0?n:null):null}catch(e){return null}}(e),r=function(e){return e.mapsmetadata}(e),i=function(e){try{if(!e||!e.previews||!Array.isArray(e.previews)||e.previews.length<1)return null;const t=e.previews,n=[];return t.forEach((e=>{if(!e||!e.PreviewType||!e.Body||!Array.isArray(e.Body)||e.Body.length<1)return;const t=e.Body,r={};t&&t.length>0&&t[0]&&t[0].Url&&(r.iconUrl=t[0].Url),t&&t.length>1&&t[1]&&t[1].Text&&(r.text=t[1].Text),t&&t.length>2&&t[2]&&t[2].Text&&(r.subText=t[2].Text),Object.keys(r).length<1||n.push({previewType:e.PreviewType,content:r})})),n.length>0?n:null}catch(e){return null}}(t),o=function(e){var t;const n=e.commentary&&e.commentary.styles;if(!n)return null;const r=e=>e&&e.chip&&e.commentary?e:null,i={None:"Neutral","a-grumpy-person":"Grumpy","a-happy-person":"Happy",pirate:"Pirate"},o={};for(const e in n){const a=n[e];if(!a||!a.displayName||!(null===(t=a.commentaries)||void 0===t?void 0:t.big_widget)||!Array.isArray(a.commentaries.big_widget)||a.commentaries.big_widget.length<1)continue;const s=a.commentaries.big_widget.map((e=>r(e))).filter((e=>!!e));s.length<1||(o[i[e]]={displayName:a.displayName,commentaries:{big_widget:s}})}return o}(e);return Object.assign(Object.assign({contentData:n},i&&{previews:i}),{mapsMetaData:r,commentary:o})}(L,e)),{lastUpdated:S(L.current&&R.created,O,null!=i?i:L.disableFreshCheck),currentCondition:q,forecast:K,pollen:L.jwapollen||L.pollen,nowcasting:C(L.nowcasting),source:O,provider:L.provider,aqiProvider:L.aqiProvider,alertsInfo:$,alertsInfoList:B,unit:D,lifeDaily:L.lifeDaily,lifeActivityData:L.LifeActivityResp,forecastVideo:L.forecastVideo,activityIndexDaily:L.activityIndexDaily,stormInfo:L.storminfo?Object.assign(Object.assign({},L.storminfo||{}),{distance:e.units.distance}):null})}}function f(e,t){return null!=e&&`${e} ${t}`}function m(e){const t=new Map;if(!e)return t;return["day","night","tmr"].forEach((n=>{const r=e[n]&&e[n].summaries;r&&t.set(n,r)})),t}const v=new g(!0);function y(e){return e>=r.s8.RainThreshold}function C(e){let t;if(e){const n=(0,i.Z)(e.precipitation,y);t=Object.assign(Object.assign({},e),{isRaining:n,useNowcastSummary:n&&e.summary&&e.shortSummary})}return t}function S(e,t,n=!1){var r,i;if(!e||n)return e;try{const n=Date.now()-new Date(e).getTime();if(n>=36e5){const o="Weather data stale more than 1 hour",a=`id: ${null==t?void 0:t.id}, lat: ${null===(r=null==t?void 0:t.coordinates)||void 0===r?void 0:r.lat}, lon: ${null===(i=null==t?void 0:t.coordinates)||void 0===i?void 0:i.lon}, created: ${e}, requested: ${(new Date).toLocaleString()}, latency: ${n}`,s=(0,c.Tr)(u.dlb,o,a);h.M0&&h.M0.sendAppErrorEvent(s,!1),l.k.log(`${o}, ${a}`)}}catch(t){(0,c.OO)(Error("created:"+e),u.dlb,"error in library [weather-shared],Weather data created time invalid")}return e}},53994:function(e,t,n){"use strict";n.d(t,{AV:function(){return i},D7:function(){return w},PX:function(){return s},_4:function(){return l},aQ:function(){return h},ev:function(){return c},iw:function(){return a},uq:function(){return o},xE:function(){return u},zP:function(){return d}});var r=n(72661);const i={wfw_nativelocal_food:["en-us","zh-cn","ja-jp","de-de","en-gb","en-ca","pt-br","es-es","fr-fr","en-au","en-in","es-mx","pt-pt","zh-tw","en-nz","es-xl","en-sg"],wfw_nativelocal_health:["en-us","zh-cn","ja-jp","de-de","en-gb","en-ca","pt-br","es-es","fr-fr","en-au","en-in","es-mx","pt-pt","zh-tw","en-nz","es-xl","en-sg","pl-pl","ko-kr","en-za","en-ie","es-co"],wfw_nativelocal_safetytips:["en-us","zh-cn","ja-jp","de-de","en-gb","en-ca","pt-br","es-es","fr-fr","en-au","en-in","es-mx","pt-pt","zh-tw","en-nz","es-xl","it-it","ru-ru","fr-ca","nl-nl","es-ar","de-at","es-pe","fr-be","en-ph","es-cl","de-ch","en-my","es-us","ko-kr","en-za","en-ie","es-co","en-sg"]},o="weatherlife_quiz_history",a="weatherlife_solar_term_theme",s={uvIndex:"uvIndex",umbrellaIndex:"umbrellaIndex",outdoorIndex:"outdoorIndex",dressingIndex:"dressingIndex",dryingIndex:"dryingIndex",fishingIndex:"fishingIndex",coldIndex:"coldIndex",trafficIndex:"trafficIndex",carWashingIndex:"carWashingIndex",heatIndex:"heatIndex",windChillIndex:"windChillIndex",hikingIndex:"hikingIndex",runningIndex:"runningIndex",picnicIndex:"picnicIndex",stargazingIndex:"stargazingIndex",cyclingIndex:"cyclingIndex",gardeningIndex:"gardeningIndex",walkingIndex:"walkingIndex"};var c;!function(e){e.HealthAndSafety="HealthAndSafety",e.ActivityPlanner="ActivityPlanner"}(c||(c={}));s.trafficIndex,s.umbrellaIndex,s.outdoorIndex,s.uvIndex,s.dressingIndex,s.coldIndex,s.carWashingIndex,s.fishingIndex,s.heatIndex,s.windChillIndex;const u=[s.uvIndex,s.outdoorIndex,s.trafficIndex,s.coldIndex,s.umbrellaIndex,s.heatIndex,s.dressingIndex,s.windChillIndex],l={trafficIndex:r.mYT,umbrellaIndex:r.D5O,outdoorIndex:r.eaU,uvIndex:r.ZG1,coldIndex:r.K1v,dressingIndex:r.$B5,heatIndex:r.ngd,windChillIndex:r.osf,hikingIndex:r.SLB,runningIndex:r.NqK,picnicIndex:r.vwG,stargazingIndex:r.U0B,cyclingIndex:r.gR2,gardeningIndex:r.lbw,walkingIndex:r.eaU},d={trafficIndex:"rgba(255, 209, 20, 0.2)",umbrellaIndex:"rgba(79,222,234, 0.2)",outdoorIndex:"rgba(132, 254, 169, 0.2)",uvIndex:"rgba(150, 114, 255, 0.2)",dressingIndex:"rgba(97, 129, 255, 0.2)",carWashingIndex:"rgba(255, 228, 116, 0.2)",fishingIndex:"rgba(255, 152, 120, 0.2)",dryingIndex:"rgba(255, 91, 121, 0.2)",coldIndex:"rgba(208, 254, 132, 0.2)",heatIndex:"rgba(255, 91, 121, 0.2)",windChillIndex:"rgba(0, 0, 0, 0.2)"},h={1:"dressingIndex",2:"uvIndex",3:"windChillIndex",4:"heatIndex",10:"umbrellaIndex",11:"outdoorIndex",12:"trafficIndex",20:"cyclingIndex",21:"gardeningIndex",22:"hikingIndex",24:"runningIndex",25:"stargazingIndex",26:"walkingIndex",27:"picnicIndex"},p="#3BE23B",g="#6CD36C",f="#FDE300",m="#EAA300",v="#EC5155",y="#ED282C",C=[p,g,f,v,y],S=[g,f,m,v,y],w={umbrellaIndex:[p,g,f,m,"#FA7A4C"],outdoorIndex:C,walkingIndex:C,trafficIndex:C,uvIndex:S,dressingIndex:[m,f,g,"#7587DE","#7D80FF"],heatIndex:S,windChillIndex:S,hikingIndex:C,runningIndex:C,picnicIndex:C,stargazingIndex:C,cyclingIndex:C,gardeningIndex:C}},62626:function(e,t,n){"use strict";n.d(t,{n:function(){return u},u:function(){return d}});var r=n(41710),i=n(53994),o=n(987),a=n(45506),s=n(19628),c=n(6918);function u(e,t){if(!e||t)return null;try{const t=(0,c.Ux)(e),n=(0,o.$o)().getObject(i.iw);if(n){if(+t<+new Date(n.endTime))return n;(0,o.$o)().removeObject(i.iw)}if(!e||!e.contentData)return null;const r=`https://assets.msn.${"zh-cn"===a.Al.Locale?"cn":"com"}/weathermapdata/1/static/weatherxlife/background/{key}/{type}.png`;for(const n of e.contentData){if("LifeSolarTerm"!==n.contenttype)continue;if(!n.content||!n.content[0])return null;const{metadata:e}=n.content[0],a=JSON.parse(e||""),{EndDate:c,Key:u,L1Key:l,L2Key:d}=a,h=`${c} 00:00:00`;if(+t>=+new Date(h))return null;const p=s.Ld.Format(r,{key:u,type:l||"L1"}),g={key:u,l1:p,l2:s.Ld.Format(r,{key:u,type:d||"L2"}),endTime:h};return(0,o.$o)().setObject(i.iw,g),g}return null}catch(e){return console.error(e),null}}let l=!1;function d(e,t,n,i){if(l)return;if(l=i,!n)return;const o=(t||{}).SharedState,a=o&&o.location;e&&r.s.updateLocation.getActionSender(e).send(Object.assign(Object.assign({},a),{backgroundColor:n}))}},6918:function(e,t,n){"use strict";function r(e){const t=function(e){var t,n;if(!e)return new Date;try{const r=[null===(n=null===(t=e.currentCondition)||void 0===t?void 0:t.currentRaw)||void 0===n?void 0:n.created,e.lastUpdated];for(const e of r){if(!e)continue;const t=new Date(e.split(/[Tt]/)[0]||""),n=new Date(t);if(!isNaN(n.getTime()))return n}return new Date}catch(e){return new Date}}(e);return t.setHours(0,0,0,0),t}var i,o;n.d(t,{FP:function(){return l},Ux:function(){return r},_W:function(){return s},aV:function(){return c},iB:function(){return a}}),function(e){e.year="year",e.month="month",e.day="day",e.hour="hour",e.minute="minute",e.second="second"}(i||(i={})),function(e){e.numeric="numeric",e.digit2="2-digit"}(o||(o={}));i.year,i.month,i.day,i.hour,i.minute,i.second;function a(e){var t,n;const r=(e.lastUpdated||(null===(n=null===(t=e.currentCondition)||void 0===t?void 0:t.currentRaw)||void 0===n?void 0:n.created)||"").match(/(\d{2}):(\d{2}):(\d{2})/);return(null==r?void 0:r.length)>2?parseInt(r[1]):(new Date).getHours()}function s(e){return u(e,0)}function c(e){return u(e,3)}function u(e,t){var n,r;const i=(e.lastUpdated||(null===(r=null===(n=e.currentCondition)||void 0===n?void 0:n.currentRaw)||void 0===r?void 0:r.created)||"").match(/(\d{4})-(\d{2})-(\d{2})/);return(null==i?void 0:i.length)?i[t]:""}function l(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n.getDate()}},63238:function(e,t,n){"use strict";n.d(t,{Yy:function(){return S},S:function(){return y},Ab:function(){return C},By:function(){return T},z6:function(){return E},Dq:function(){return A},Jn:function(){return v}});var r=n(33940),i=n(68742),o=n(19628);const a=[[[139.715315,35.586432],[139.609571,35.674612],[139.66107,35.764923],[139.838911,35.77718],[139.872557,35.643928],[139.827925,35.589783],[139.715315,35.586432]],[[-95.537136,29.654827],[-95.533016,29.850953],[-95.273464,29.862267],[-95.268658,29.65781],[-95.537136,29.654827]],[[144.776881,-37.698394],[144.756282,-37.922979],[145.079005,-38.18791],[145.342677,-38.071242],[145.23144,-37.928396],[145.397609,-37.782015],[145.36465,-37.739673],[145.223201,-37.790698],[145.03094,-37.651655],[144.776881,-37.698394]],[[-122.285154,47.732838],[-122.246468,47.683494],[-122.286886,47.586224],[-122.238385,47.512567],[-122.269564,47.511397],[-122.314601,47.535572],[-122.338852,47.519197],[-122.405253,47.521536],[-122.438164,47.660944],[-122.375805,47.734003],[-122.285154,47.732838]]];var s=n(6918),c=n(61442),u=n(78722),l=n(70312),d=n(65135),h=n(98304);const p=/(\d{4})-(\d{2})-(\d{2})T\d{2}:\d{2}:\d{2}([+-]?\d{2}):(\d{2})/;var g,f;!function(e){e.Today="today",e.Tomorrow="tomorrow"}(g||(g={})),function(e){e.Small="small",e.Video="video",e.L1="l1",e.Entry="entry"}(f||(f={}));function m(e){const t=e.match(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/);if(t.length)return{y:parseInt(t[1]),M:parseInt(t[2]),d:parseInt(t[3]),h:parseInt(t[4]),m:parseInt(t[5])}}function v(e){const t=(0,s.iB)(e)>=16;return!(t&&w(e,"todayForecastVideo")&&!w(e,"tomorrowForecastVideo"))&&t}function y(e,t){var n,r;const a=function(e){var t,n;const r=(null===(n=null===(t=null==e?void 0:e.mapsMetaData)||void 0===t?void 0:t.ForecastVideo)||void 0===n?void 0:n.uris)||{},i=Object.keys(r);if(new Date,i.length)return i[0];return""}(e),c=T(e.source.coordinates),u=P(a,e.lastUpdated||(null===(r=null===(n=e.currentCondition)||void 0===n?void 0:n.currentRaw)||void 0===r?void 0:r.created),"today"===t?0:1);if(a&&c>-1&&u>=0&&u<=2){const n={timestamp:a,locationId:c,day:u,unit:e.unit===i.a.Celsius?"c":"f"},r=e.mapsMetaData.ForecastVideo.uris[a],{y:l,M:d,d:h,h:p,m:g}=m(a)||{},f=(0,s._W)(e);let v=new Date(f);return"tomorrow"===t&&(v=new Date(v.getTime()+864e5)),{m3u8Src:o.Ld.Format(r,Object.assign(Object.assign({},n),{format:"m3u8",type:"long"})),src:o.Ld.Format(r,Object.assign(Object.assign({},n),{format:"m3u8",type:"long",timestamp:`${n.timestamp}-raw`,unit:"c"})),poster:o.Ld.Format(r,Object.assign(Object.assign({},n),{format:"jpg",type:"long",timestamp:`${n.timestamp}-raw`,unit:"c"})),updateTime:k([l,d,h,p,g]),previewSrc:o.Ld.Format(r,Object.assign(Object.assign({},n),{format:"mp4",type:"short1"})),previewPoster:o.Ld.Format(r,Object.assign(Object.assign({},n),{format:"jpg",type:"short1"})),day:t,daydate:v,dataSource:o.Ld.Format(b(),Object.assign(Object.assign({},n),{format:"json"}))}}}function C(e,t){if(!e.forecastVideo)return;const n=S(e,t);if(!n)return;const r=(0,s._W)(e);let i=new Date(r);"tomorrow"===t&&(i=new Date(i.getTime()+864e5));const o=u.jG.IsChinaCompliance?"https://assets.msn.cn/weathermapdata/1":"https://assets.msn.com/weathermapdata/1",a=n.videoSrc?o+n.videoSrc:"",c=n.videoPoster?o+n.videoPoster:"";return{m3u8Src:a,src:a,poster:c,updateTime:i,previewSrc:a,previewPoster:c,day:t,daydate:i,dataSource:""}}function S(e,t){if(!e.forecastVideo)return;Number((0,s.aV)(e));const n=e.forecastVideo.todayForecastVideo,r=w(e,"todayForecastVideo");if("today"===t&&r)return n;const i=e.forecastVideo.tomorrowForecastVideo;return"today"===t&&w(e,"tomorrowForecastVideo",1)||"tomorrow"===t&&w(e,"tomorrowForecastVideo")?i:void 0}function w(e,t,n){if(!e.forecastVideo)return!1;const r=Number((0,s.aV)(e)),i=e.forecastVideo[t];return(null==i?void 0:i.timestamp)&&(0,s.FP)(i.timestamp,n||0)==r&&i.videoSrc}function b(){return(u.jG.IsChinaCompliance?"https://assets.msn.cn":"https://assets.msn.com")+"/weathermapdata/1/forecastvideo/loc{locationId}-day{day}-{timestamp}.{format}"}function T(e){return a.findIndex((t=>{const n=[e.lon,e.lat];let r,i,o=0,a=0,s=0;const c=t.length;for(r=t[0],s=1;s<=c;s++)i=t[s%c],n[0]>Math.min(r[0],i[0])&&n[0]<=Math.max(r[0],i[0])&&n[1]<=Math.max(r[1],i[1])&&r[0]!=i[0]&&(a=(n[0]-r[0])*(i[1]-r[1])/(i[0]-r[0])+r[1],(r[1]==i[1]||n[1]<=a)&&o++),r=i;return o%2!=0}))}function P(e,t,n=0){if(!e||!t)return-1;try{const{y:r,M:i,d:o,h:a,m:s}=m(e)||{},[,c,u,l,d,h]=t.match(p),g=k([r,i,o,a,s+(60*+d+ +h)]),f=k([c,u,+l+n,0,0]);return g.setUTCHours(0,0,0,0),f.setUTCHours(0,0,0,0),Math.max(Math.floor((+f-+g)/864e5),0)}catch(e){return console.error(e),-1}}function k(e){const[t,n,r,i,o]=e;return new Date(Date.UTC(+t,+n-1,+r,+i,+o))}function A(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,l.j)(),n={method:"GET",headers:{}},i=new URL(e);try{return(yield(0,c.w)((()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=yield t(i.href,n);if(!e.ok)throw new Error(`Got error response while getting immersive video data source. URL: ${i.href}, response: ${e.status}.`);return e.json()}))),"WeatherImmersiveForecastClient"))||{}}catch(e){d.M0.sendAppErrorEvent(Object.assign(Object.assign({},h.XXL),{message:"Error while getting the video datasource",pb:Object.assign(Object.assign({},h.XXL.pb),{customMessage:`error: ${e}`})}))}}))}function E(e,t=60){return Math.ceil(e/t*1e3)}},31891:function(e,t,n){"use strict";n.d(t,{n:function(){return o},w:function(){return i}});var r=n(55067);class i{}function o(){i.updateLocationDisplayName.unregisterObservers(),i.fetchWeatherSummarySuccess.unregisterObservers(),i.fetchWeatherSummaryFailure.unregisterObservers(),i.updateLocationDetectionState.unregisterObservers(),i.updateWeatherUserProfile.unregisterObservers(),i.updateCurrentLocation.unregisterObservers(),i.updateWeatherSettings.unregisterObservers(),i.updateOperationFailure.unregisterObservers(),i.updateFallbackStatus.unregisterObservers(),i.updateWeatherDataRefreshing.unregisterObservers(),i.updateWeatherData.unregisterObservers(),i.updateHyperlocal.unregisterObservers(),i.openEditLocation.unregisterObservers(),i.updateLocationWeatherMap.unregisterObservers(),i.updateCalendarData.unregisterObservers(),i.UpdateHeaderHighlight.unregisterObservers(),i.updateHistoricalTrendsData.unregisterObservers(),i.updateLocationPanelPresentation.unregisterObservers(),i.updatePollenSelectedDateIndex.unregisterObservers(),i.updateEplantOptoutPopup.unregisterObservers(),i.updateLayoutInfo.unregisterObservers(),i.updateDateInfo.unregisterObservers(),i.updateLifeCurrentState.unregisterObservers(),i.updatePollenCity.unregisterObservers(),i.updateActivityIndexDetailData.unregisterObservers(),i.updateActivityIndexDetailModalState.unregisterObservers(),i.updateWeatherCurrentCardSize.unregisterObservers(),i.updateWeatherCarouselBg.unregisterObservers(),i.updateWeatherInsightSection.unregisterObservers(),i.toggleImmersivePlayer.unregisterObservers(),i.hideWeatherCard.unregisterObservers()}i.updateLocationDisplayName=new r.C("UpdateLocationDisplayName"),i.fetchWeatherSummarySuccess=new r.C("FetchWeatherSummarySuccess"),i.fetchWeatherSummaryFailure=new r.C("FetchWeatherSummaryFailure"),i.updateLocationDetectionState=new r.C("UpdateLocationDetectionState"),i.updateWeatherUserProfile=new r.C("UpdateWeatherUserProfile"),i.updateCurrentLocation=new r.C("UpdateCurrentLocation"),i.updateWeatherSettings=new r.C("UpdateWeatherSettings"),i.updateWeatherDataRefreshing=new r.C("UpdateWeatherDataRefreshing"),i.updateWeatherData=new r.C("UpdateWeatherData"),i.updateOperationFailure=new r.C("updateOperationFailure"),i.updateFallbackStatus=new r.C("updateFallbackStatus"),i.updateHyperlocal=new r.C("updateHyperlocal"),i.openEditLocation=new r.C("editLocationName"),i.updateLocationWeatherMap=new r.C("updateLocationWeatherMap"),i.updateCalendarData=new r.C("UpdateCalendarData"),i.updateHistoricalTrendsData=new r.C("UpdateHistoricalTrendsData"),i.UpdateHeaderHighlight=new r.C("UpdateHeaderHighlight"),i.updateLocationPanelPresentation=new r.C("UpdateLocationPanelPresentation"),i.updatePollenSelectedDateIndex=new r.C("UpdatePollenSelectedDateIndex"),i.updatePollenCity=new r.C("UpdatePollenCity"),i.updateEplantOptoutPopup=new r.C("UpdateEplantOptoutPopup"),i.updateLayoutInfo=new r.C("UpdateLayoutInfo"),i.updateDateInfo=new r.C("UpdateDateInfo"),i.updateLifeCurrentState=new r.C("UpdateLifeCurrentState"),i.updateActivityIndexDetailData=new r.C("UpdateActivityIndexDetailData"),i.updateActivityIndexDetailModalState=new r.C("UpdateActivityIndexDetailModalState"),i.updateWeatherCurrentCardSize=new r.C("UpdateWeatherCurrentCardSize"),i.updateWeatherCarouselBg=new r.C("UpdateWeatherCarouselBg"),i.updateWeatherInsightSection=new r.C("UpdateWeatherInsightSection"),i.toggleImmersivePlayer=new r.C("ToggleImmersivePlayer"),i.loadConditionalExperience=new r.C("LoadConditionalExperience"),i.updateHourlySelectedDateIndex=new r.C("UpdateHourlySelectedDateIndex"),i.hideWeatherCard=new r.C("HideWeatherCard")},34731:function(e,t,n){"use strict";n.r(t),n.d(t,{getBackgroundColor:function(){return d},getBackgroundImage:function(){return h},getEquatorBackgroundColor:function(){return p},getEquatorBackgroundImage:function(){return f},getEquatorCarouselBackgroundColor:function(){return g},getMonthlyForecastBackgroudImage:function(){return m},getMonthlyForecastBackgroundColor:function(){return v}});const r="#0D1712",i="#0C1611",o="#170F0C",a="#0C1116",s="rgba(12, 22, 19)",c="rgba(12, 22, 17)",u="rgba(22, 15, 12)",l="rgba(12, 17, 22)";function d(e,t){let n;if(+t>=-15&&+t<=15)n=p();else{n=v(e,+t>0)}return n}function h(e,t,n){const r={3:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/spring-3.png",4:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/spring-4.png",5:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/spring-5.png",6:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/summer-6.png",7:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/summer-7.png",8:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/summer-8.png",9:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/autumn-9.png",10:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/autumn-10.png",11:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/autumn-11.png",12:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/winter-12.png",1:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/winter-1.png",2:"https://assets.msn.com/weathermapdata/1/static/monthlyforecast/background/winter-2v2.png"};let i;if(+t>=-15&&+t<=15)i=f(n||r);else{i=m(e,n||r,+t>0)}return i}function p(){return{background:i}}function g(){return{background:c}}function f(e){return{"background-image":`url('${e[8]}')`}}function m(e,t,n){return function(e,t,n){let r=n?e:(e+6)%12;r=0==r?12:r;const i=t&&t[`${r}`];return i?{"background-image":`url('${i}')`}:{}}(e,t,n)}function v(e,t,n){return e>=3&&e<=5?t?{background:n?s:r}:{background:n?u:o}:e>=6&&e<=8?t?{background:n?c:i}:{background:n?l:a}:e>=9&&e<=11?t?{background:n?u:o}:{background:n?s:r}:12===e||e>=1&&e<=2?t?{background:n?l:a}:{background:n?c:i}:{}}},56612:function(e,t,n){"use strict";n.r(t),n.d(t,{ContentDataDisplayTypes:function(){return q.jF},ContentDataRenderPlaces:function(){return q.aj},LocalizeLocationService:function(){return $e},LocationDetectionSetting:function(){return r},LocationUtils:function(){return a},OperationFailure:function(){return q.Uh},SettingUpdateStatus:function(){return q.SU},SkyConditionCarouselBackgroundUtility:function(){return B},SkyConditionIconUtility:function(){return yt},SkyConditionSvgIconUtility:function(){return dt.qz},StringUtils:function(){return f},ToolingInfo:function(){return wt},WeatherConditionKey:function(){return q.tk},WeatherDataActions:function(){return j.w},WeatherDataConnector:function(){return st},WeatherDataReducer:function(){return lt},WeatherDataVariant:function(){return Ct.vG},WeatherMonthlyForecastBackgroundUtil:function(){return i},WeatherPdpClient:function(){return xe},WeatherPerfMarkerIds:function(){return q.YV},WeatherUnit:function(){return o.a},getAutoSuggestClient:function(){return St},resetWeatherDataActions:function(){return j.n},setApiPerfData:function(){return Ve.R},skyCodeMapping:function(){return dt.h2}});var r,i=n(34731);!function(e){e[e.DetectCurrentLocation=1]="DetectCurrentLocation",e[e.SpecifyLocation=2]="SpecifyLocation"}(r||(r={}));var o=n(68742),a=n(29422),s=n(33379),c=n(33940),u=n(18792),l=n(45506),d=n(26007),h=n(68364),p=n(98304),g=n(33954),f=n(4596);class m{constructor(e,t,n=null){this.fetchImpl=e,this.config=t,this.xhrFetch=n,this.cfg=t||m.defaultConfig,this.cfg.appId=this.cfg.appId||m.defaultConfig.appId,this.cfg.num=this.cfg.num||m.defaultConfig.num}geocodeSuggestion(e){return Promise.resolve(null)}getAutoSuggestResponse(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const n=[{key:"appid",value:this.cfg.appId},{key:"mr",value:""+this.cfg.num},{key:"q",value:e},{key:"setmkt",value:!this.cfg.redirectZhCnJaJpMarket||"ja-jp"!==l.Al.Locale&&"zh-cn"!==l.Al.Locale?l.Al.Locale:"en-us"},{key:"setlang",value:l.Al.Locale},{key:"ul",value:l.Al.ClientSettings?`${l.Al.ClientSettings.geo_lat},${l.Al.ClientSettings.geo_long},100`:""}];let r=[];if(!e||!e.trim||!e.trim().length)return r;const i=new URL(m.bingAutosuggestApi,m.bingAutoSuggestServiceHost);return i.search=d.c.keyValueArrayToQueryString(n),r=yield this.fetchImpl(i.href,{jsonpCallback:"cb"}).then((e=>e.json())).then((e=>this.getLocationFromResponse(e))).catch((e=>(t&&(0,h.H)(p.hTy,"Autosuggest request failed for client v1",JSON.stringify({urlWithoutQuery:this.getLoggableUrlString(i)})),g.k.log("failed: "+e),null))),r}))}getLocationFromResponse(e){const t=[];if(e&&e["@graph"]){const n=e["@graph"];for(let e=0;e<n.length;e++){const r=n[e];if(r){switch(r["b:stype"]){case"Island":case"PopulatedPlace":case"Postcode1":case"Other":{const e=r["s:address"]||{},n=r["s:geo"]||{},i=n["s:latitude"],o=n["s:longitude"];if("number"==typeof i&&"number"==typeof o){const n={locality:e["s:addressLocality"]||e["s:name"]||"",region:f.abbreviateUSState(e["s:addressRegion"]||"",l.Al.Locale,e["b:countryIso"]||""),subRegion:e["b:addressSubregion"]||"",country:e["s:addressCountry"]||"",latitude:Number(i).toString(),longitude:Number(o).toString(),isoCode:e["b:countryIso"]||"",language:l.Al.Locale};(0,u.Sw)(n)&&t.push(n)}}}}}}return t}getLoggableUrlString(e){return e?(e.searchParams&&e.searchParams.delete&&e.searchParams.delete("q"),e.href):""}getLocationSearchResponse(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=[{key:"appid",value:this.cfg.appId},{key:"locale",value:l.Al.Locale},{key:"query",value:e}],n=[];if(!e||!e.trim||!e.trim().length)return n;const r=new URL(m.msnLocationSearchApi,m.msnApiServiceHost);r.search=d.c.keyValueArrayToQueryString(t);(new Headers).append("contentType","application/json");const i=yield(this.xhrFetch?this.xhrFetch:fetch)(r.href,{method:"GET",headers:{"Content-Type":"application/json"}});return i.ok||500===i.status?this.getLocationFromSearchResponse(yield i.json()):null}))}isSameLocation(e,t){return e==t||null!=e&&null!=t&&(e.locationType==t.locationType&&(Math.abs(parseFloat(e.latitude)-parseFloat(t.latitude))<.001&&Math.abs(parseFloat(e.longitude)-parseFloat(t.longitude))<.001||(this.distance(e,t)<150||void 0)))}distance(e,t){const n=parseFloat(e.latitude)*Math.PI/180,r=parseFloat(e.longitude)*Math.PI/180,i=parseFloat(t.latitude)*Math.PI/180,o=i-n,a=parseFloat(t.longitude)*Math.PI/180-r,s=Math.sin(o/2)*Math.sin(o/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(n)*Math.cos(i);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}getLocationFromSearchResponse(e){if(!(e.value&&e.value[0]&&e.value[0].responses&&e.value[0].responses[0]))return[];const t=e.value[0].responses[0];if(t.error)return[];const n=t.locations.filter((e=>("admindivision1"!==e.entityType.toLowerCase()||"jp"===e.countryCode.toLowerCase())&&e.coordinates&&e.coordinates.lat&&e.coordinates.lon)).map((e=>({isoCode:e.countryCode,locality:e.locality,region:e.state||e.adminDistrict,country:e.countryRegion,latitude:e.coordinates.lat.toString(),longitude:e.coordinates.lon.toString(),displayName:e.displayName}))),r=[];return n.forEach((e=>{0==r.map((t=>this.isSameLocation(t,e))).filter((e=>e)).values.length&&r.push(e)})),r}populateSearchMoreResponse(){}}m.bingAutoSuggestServiceHost="https://platform.bing.com",m.bingAutosuggestApi="geo/AutoSuggest/v1",m.defaultConfig={num:4,appId:"C98EA5B0842DBB9405BBF071E1DA76512D21FE36"},m.msnLocationSearchApi="/v0/weather/locations/search",m.msnApiServiceHost="https://api.msn.com";const v="Place",y="LocalBusiness",C="PostalAddress",S="Address",w="Road";var b;function T(e){return e.locationType===b.HYPERLOCAL||e.locationType===b.UNKNOWN}function P(e,t){switch(e){case v:return b.NONHYPERLOCAL;case y:return b.HYPERLOCAL;case C:return t===S?b.HYPERLOCAL:t===w?b.NONHYPERLOCAL:b.UNKNOWN;default:return b.UNKNOWN}}!function(e){e[e.HYPERLOCAL=101]="HYPERLOCAL",e[e.NONHYPERLOCAL=102]="NONHYPERLOCAL",e[e.UNKNOWN=103]="UNKNOWN"}(b||(b={}));var k=n(78722),A=n(63535),E=n(19809);class M{constructor(e,t,n,r,i,o,a,s){this.fetchImpl=e,this.host=t,this.api=n,this.appId=r,this.excludeSubTypes=i,this.flightId=o,this.useOneService=a,this.includeSubTypes=s,this.filterSuggestion=e=>-1===this.excludeSubTypes.indexOf(e.subType)&&(!this.includeSubTypes||!e.subType||-1!==this.includeSubTypes.indexOf(e.subType)),this._parseLocationFromAS=!0}addExtraASParams(e,t){return e}_getDefaultSuggestions(){return[]}getSuggestions(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){if(e.disableThisRequest)return null;if((!e.searchText||""===e.searchText.trim())&&(e.disableFavorites||!this._useFavoriteSuggestions))return{suggestions:[]};const n=this._constructASRequestUrl(e);return this.fetchImpl(n.href).then((e=>e.json())).then((t=>{const n=this.useOneService?this._parseOneServiceSuggestions(t):this._parseSuggestionsV6(t),r=e.searchText&&""!==e.searchText.trim()?[]:this._getDefaultSuggestions();return n.suggestions=this._combineSuggestions(n.suggestions,r),this._updateSuggestionsRank(n.suggestions),n})).catch((n=>{if(t){const t=this._constructASRequestUrl(Object.assign(Object.assign({},e),{searchText:""}));(0,h.H)(p.hTy,"Autosuggest request failed for client v6",JSON.stringify({urlWithoutQuery:t&&t.href,error:n}))}return null}))}))}getHistorySuggestions(e){return[]}_constructASRequestUrl(e){let t,n;return this.useOneService?(t=this.getOneServiceQueryParams(e),n=(0,A.PH)(this.api,(0,A.qQ)())):(t=this.getBingQueryParams(e),n=new URL(this.api,this.host)),n.search=d.c.keyValueArrayToQueryString(t),n}getBingQueryParams(e){return[{key:"appid",value:this.appId},{key:"count",value:""+e.maxResults},{key:"q",value:e.searchText},{key:"localcircularview",value:e.userLocation&&`${e.userLocation},100`},{key:"setmkt",value:l.Al.Locale},{key:"setlang",value:l.Al.Locale},{key:"types",value:e.suggestionTypes||""},{key:"abbrtext",value:e.abbrSuggestions?"1":""},{key:"structuredaddress",value:"true"},{key:"strucaddrread",value:"1"},{key:"setflight",value:this.flightId}]}getOneServiceQueryParams(e){return[{key:"apikey",value:k.jG.OneServiceApiKey},{key:"type",value:e.suggestionTypes||""},{key:"$top",value:""+e.maxResults},{key:"q",value:e.searchText},{key:"location",value:e.userLocation&&`${e.userLocation}`},{key:k.jG.OneServiceContentMarketQspKey,value:l.Al.Locale},{key:"setflight",value:this.flightId},{key:"qscope",value:"locations"},{key:"activityId",value:k.jG.ActivityId},{key:"ocid",value:E.$D.getOneServiceOCID(k.jG.TrackInfo,"feeds")}]}_combineSuggestions(e,t){let n=[];if(t&&t.length){n=t;let r=!1;for(let i=0;i<e.length;i++){e[i].root;const o=e[i].address,a=o&&o.streetAddress,s=o&&o.addressLocality,c=e[i].name;for(let e=0;e<t.length;e++){const n=t[e];if(a&&n.formatedAddress&&n.formatedAddress.indexOf(a)>-1&&(s&&n.formatedAddress.indexOf(s)>-1||c&&n.title&&n.title.indexOf(c)>-1)){r=!0;break}}r?r=!1:n.push(e[i])}}else n=e;return n}_updateSuggestionsRank(e){for(let t=0;t<e.length;t++)e[t].suggestionRank=t}_parseSuggestionsV6(e){const t={},n=[];if(e){const r=e.instrumentation;t.formattingRules=this._createFormattingRulesV6(e.formattingRules);const i=this._getDefaultFormattingRuleV6(t.formattingRules),o=e.value;for(let e=0;e<o.length;e++){const a={},s=o[e];try{a.root=s,a.type=s._type,a.readLink=s.readLink,a.readLinkPingSuffix=s.readLinkPingSuffix,a.instrumentationInfo=r,a.suggestionRank=e,a.formattingRuleId=s.formattingRuleId,a.formattingRule=a.formattingRuleId&&t.formattingRules[a.formattingRuleId]||i,a.entityId=s.id,a.name=s.name,a.query=s.query;const o=s.categories;a.primaryCategoryPath=o&&o.length&&o[0],a.entityId&&0===a.entityId.indexOf("local_geoid")&&(a.geoId=a.entityId,a.entityId="");const c=s.entityPresentationInfo;c&&c.entitySubTypeHints&&c.entitySubTypeHints.length&&(a.subType=c.entitySubTypeHints[0]);const u=s.geo;if(u&&this._parseLocationFromAS){const e=u.latitude,t=u.longitude;e&&t&&(a.location={latitude:e,longitude:t})}s.address?(a.address=s.address,a.address.addressRegion=f.abbreviateUSState(a.address.addressRegion,l.Al.Locale,a.address.countryIso)):s.location&&s.location.length?a.address=s.location[0].address:"PostalAddress"===a.type&&(a.address=s),"Favorite"==a.type&&(a.alternateName=s.alternateName,a.subType=s.subType,this._processFavoriteItemId(s,a)),n.push(a)}catch(e){}}}return t.suggestions=n.filter(this.filterSuggestion),t}_parseOneServiceSuggestions(e){const t={},n=e.value[0].groups[0].suggestionItems;for(let e=0;e<n.length;e++){const t={},r=n[e];try{t.readLink=r.dataUrl,t.suggestionRank=e,t.name=r.name,t.entityId=r.id,t.formattingRuleId=r.metadata.formattingRuleId,t.formattingRule=r.metadata.formattingRules&&JSON.parse(r.metadata.formattingRules),t.address=r.metadata,t.address.addressRegion=f.abbreviateUSState(r.metadata.addressRegion,l.Al.Locale,r.metadata.countryIso);const i=r.metadata.latitude,o=r.metadata.longitude;i&&o&&(t.location={latitude:i,longitude:o}),t.subType=r.metadata.entitySubTypeHints,n[e]=t}catch(e){}}return t.suggestions=n.filter(this.filterSuggestion),t}_createFormattingRulesV6(e){const t={};if(e)for(let n=0;n<e.length;n++){const r=JSON.parse(e[n]);t[r.identifier]=r}return t}_getDefaultFormattingRuleV6(e){let t=e&&e.Default||null;for(const n in e){t||(t=e[n]);if(l.Al.Locale.indexOf(n.toLowerCase())>-1){t=e[n];break}}return t}_processFavoriteItemId(e,t){const n=e.bingId;!n||0!==n.indexOf("local_ypid:")&&0!==n.indexOf("sid")&&0!==n.indexOf("local_vdpid")||(t.entityId=n),t.bingId=n}}M.autosuggestCallerId="autosug";class x{constructor(e,t){this.key=e,this.fetchImpl=t,this.geocode=(e,t,n,r,i)=>(0,c.mG)(this,void 0,void 0,(function*(){const o={success:!1,statusCode:null,authenticationResultCode:null,statusDescription:null,name:e,results:null};if(!location)return null;const a=n&&n<=x._maxNumberOfResults?n:x._defaultResultCount,s=[{key:"key",value:this.key},{key:"maxResults",value:""+a},{key:"q",value:encodeURIComponent(e)},{key:"inclnb",value:r?"1":"0"},{key:"incl",value:i?"ciso2":""},{key:"userMapView",value:x._getBoundsString(t)},{key:"culture",value:l.Al.Locale}],c=new URL(x.geoApi,x.geoHost);return c.search=d.c.keyValueArrayToQueryString(s),this.fetchImpl(c.href).then((e=>e.json())).then((e=>{if(e&&e.authenticationResultCode===x._validAuthenticationCode&&e.statusCode===x._validStatusCode&&e.statusDescription===x._validStatusDescription&&e.resourceSets&&0!==e.resourceSets.length){let t;o.success=!0,o.statusCode=x._validStatusCode,o.authenticationResultCode=x._validAuthenticationCode,o.statusDescription=x._validStatusDescription;for(let n=0,r=e.resourceSets.length;n<r;n++)if(t=e.resourceSets[n].resources,t&&0!==t.length){o.results=t;break}o.traceId=e.traceId}else e?(o.statusCode=e.statusCode,o.authenticationResultCode=e.authenticationResultCode,o.statusDescription=e.statusDescription,o.errorMessage=e.errorDetails&&e.errorDetails.length>0&&e.errorDetails[0],o.traceId=e.traceId):(o.statusCode=400,o.authenticationResultCode="Unknown",o.statusDescription="Unknown");return o})).catch((e=>(o.authenticationResultCode="Unknown",o.statusCode=404,o.statusDescription="Http Error",o)))}))}static _getBoundsString(e){return e?e.south+","+e.west+","+e.north+","+e.east:""}}x._validAuthenticationCode="ValidCredentials",x._validStatusCode=200,x._validStatusDescription="OK",x._defaultResultCount=5,x._maxNumberOfResults=20,x.geoHost="https://dev.virtualearth.net",x.geoApi="/REST/v1/Locations";class I{constructor(e){this.suggestion=e,this._formatSuggestion(this.suggestion),this.setSimpleSearchText(),this._setDisplayName()}_setDisplayName(){const e=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";this.suggestionTextLine2?this.suggestion.displayName=this.suggestionTextLine1+e+this.suggestionTextLine2:this.suggestion.displayName=this.suggestionTextLine1}setSimpleSearchText(){const e=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";if("Favorite"===this.suggestion.type){const t=this.suggestion,n=t.name,r=t.address&&t.address.streetAddress;this._searchText=n!==r&&r?n+e+r:n}else this.suggestionTextLine2?this._searchText=this.suggestionTextLine2+e+this.suggestionTextLine1:this._searchText=this.suggestionTextLine1;this.suggestion&&(this.suggestion.searchText=this._searchText)}_removeCountry(e){let t=", ";this._formattingRule&&(t=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ");const n=this.suggestion.address||this.suggestion.root,r=n&&n.addressCountry;if(r&&e&&e.slice(e.length-r.length)===r){const n=e.slice(0,e.length-r.length);return n.slice(n.length-t.length)===t?n.slice(0,n.length-t.length):n}return e}_formatSuggestion(e){const t=this.suggestion.formattingRule,n=e;if("Favorite"===e.type)return n.alternateName?this.suggestionTextLine1=n.alternateName:this.suggestionTextLine1=n.name,this.suggestionTextLine2=n.address&&n.address.streetAddress,this.suggestion.formatedAddress=n.address&&n.address.streetAddress,void(this.suggestion.title=n.name);n.name&&(this.suggestionTextLine1=n.name,e.title=n.name),n.query&&(this.suggestionTextLine1=n.query),t?(this._formattingRule=t,this.suggestion.address?this._applyFormattingRule(this.suggestion.address):this._applyFormattingRule(e.root)):(this.suggestionTextLine1=e.title,this.suggestionTextLine2=e.formatedAddress),this.suggestion.formatedLine1=this.suggestionTextLine1,this.suggestion.formatedLine2=this.suggestionTextLine2,this.suggestion.formatedLine2WithoutCountry=this._removeCountry(this.suggestionTextLine2)}_applyFormattingRule(e){let t=0;const n=this._formattingRule["b:fieldGroups"]||this._formattingRule.fieldGroups;if(!this.suggestionTextLine1)for(;t<n.length;t++){const r=this._getFormattedGroupString(e,n[t]);if(r){this.suggestionTextLine1=r,this.suggestion.title=r,++t;break}}const r=[];for(;t<n.length;t++){const i=this._getFormattedGroupString(e,n[t]);i&&r.push(i)}const i=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ";this.suggestionTextLine2=r.join(i),this.suggestion.formatedAddress=this.suggestionTextLine2}_getFormattedGroupString(e,t){const n=[];let r;const i=t.fields;for(let t=0;t<i.length;t++)r=this._getPrimaryField(e,i[t]),r||(r=this._getAlternateField(e,i[t])),r&&n.push(r);const o=t.fieldSeparator||" ";return n.join(o)}_getPrimaryField(e,t){let n;return e&&t&&(n=e[t.name]),n}_getAlternateField(e,t){let n;if(e&&t){const r=t.alternateField;if(r){const t=r.split(",");for(let r=0;r<t.length&&(n=e[t[r]],!n);r++);}}return n}}I.HistorySuggestionType="history";var L=n(65135);class O{constructor(e,t,n=null,r=null){this.fetchImpl=e,this.userLocation=n,this.xhrFetch=r,this._translateSuggestion=e=>{var t,n;const r=e.suggestion.address||e.suggestion.root,i=null===(t=e.suggestion.location)||void 0===t?void 0:t.latitude,o=null===(n=e.suggestion.location)||void 0===n?void 0:n.longitude,a={language:l.Al.Locale,addressLine:e.suggestion.name||(null==r?void 0:r.streetAddress)||(null==r?void 0:r.postalCode),locality:null==r?void 0:r.addressLocality,region:(0,f.abbreviateUSState)(null==r?void 0:r.addressRegion,l.Al.Locale,null==r?void 0:r.countryIso),subRegion:null==r?void 0:r.addressSubregion,country:r&&(r.addressCountry||""),latitude:i&&Number(i).toString(),longitude:o&&Number(o).toString(),typeV6:e.suggestion.type,subType:e.suggestion.subType,searchText:e.suggestion.searchText,formattedAddress:e.suggestion.formatedAddress,readLink:e.suggestion.readLink,locationType:P(e.suggestion.type,e.suggestion.subType),isoCode:r&&(r.countryIso||""),entityId:e.suggestion.entityId,geoId:e.suggestion.geoId};return!a.locality&&a.addressLine&&(a.locality=a.addressLine,a.addressLine=void 0),a.firstLine=(0,u.Ct)(a),a.secondLine=(0,u.Wp)(a),a},this.cfg=Object.assign(Object.assign({},O.defaultConfig),t||{}),"CN"==(null==n?void 0:n.isoCode)&&(this.cfg.endpoint="https://cn.bing.com"),this._extraResult=this.cfg.latinPercentageLimit>0?5:0,this._geocoder=new x(this.cfg.geocoderKey,e),this._autoSuggestModel=new M(e,this.cfg.endpoint,O[this.cfg.useOneServiceProxy?"oneServiceAutosuggestApi":"bingAutosuggestApi"],this.cfg.appId,this.cfg.excludeSubTypes,this.cfg.flightId,this.cfg.useOneServiceProxy,this.cfg.includeSubTypes)}getLocationSearchResponse(e){return Promise.resolve(null)}getAutoSuggestResponse(e,t){var n,r,i;return(0,c.mG)(this,void 0,void 0,(function*(){if(e){const o="zh-cn"===(null===(n=null===l.Al||void 0===l.Al?void 0:l.Al.Locale)||void 0===n?void 0:n.toLowerCase())&&"zh"!==(null===(i=null===(r=null===l.Al||void 0===l.Al?void 0:l.Al.ClientSettings)||void 0===r?void 0:r.geo_country)||void 0===i?void 0:i.toLowerCase())?"40,116":this.userLocation&&`${this.userLocation.latitude},${this.userLocation.longitude}`,a={searchText:e,maxResults:this.cfg.num+this._extraResult,userLocation:o,suggestionTypes:this.cfg.suggestionTypes,abbrSuggestions:!0,localMapView:null},s=yield this._autoSuggestModel.getSuggestions(a,t);return this._parseSuggestions(s)}}))}_latinPercentage(e){const t=e.locality+e.country+e.region+e.subRegion;if(!t)return 0;return t.match(O.latinParttern).join("").length/t.length}_parseSuggestions(e){const t=[],n=null==e?void 0:e.suggestions;if(n&&n.length>0)for(let e=0;e<n.length;e++)t.push(this._getSuggestionResult(n[e]));let r=t.map(this._translateSuggestion);return this.cfg.latinPercentageLimit>0&&(r=r.filter((e=>this._latinPercentage(e)>this.cfg.latinPercentageLimit)).slice(0,this.cfg.num)),r=r.filter((e=>(0,u.Sw)(e))),r}_getSuggestionResult(e){return new I(e)}_getLatLongFromReadLink(e){return(0,c.mG)(this,void 0,void 0,(function*(){if(!e.readLink)return null;const t=new URL(e.readLink);return t.searchParams.append("appid",this.cfg.appId),this.fetchImpl(t.href).then((e=>e.json())).then((t=>{var n,r;const i=t.geo||(null===(r=null===(n=t.value)||void 0===n?void 0:n[0])||void 0===r?void 0:r.geo);if(i&&i.latitude&&i.longitude)return Object.assign(Object.assign({},e),{latitude:i.latitude.toString(),longitude:i.longitude.toString()})})).catch((e=>null))}))}geocodeSuggestion(e){return(0,c.mG)(this,void 0,void 0,(function*(){try{const t=yield this._doGeoCodeSuggestion(e);if(null!==t)return Object.assign(Object.assign({},e),{longitude:t.longitude,latitude:t.latitude});L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p.H4x),{message:"failed to fetch location latitude and longitude in auto suggestion v6",pb:Object.assign(Object.assign({},p.H4x.pb),{customMessage:e.searchText})}))}catch(e){(0,h.OO)(e,p.H4x,"error in library [location-service],Geocoder exception for autosuggestion v6")}return null}))}_doGeoCodeSuggestion(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=e;if(t.longitude&&t.latitude)return t;const n=yield this._getLatLongFromReadLink(e);if(n)return n;const r=this._getSuggestionAddress(t);return this._geocoder.geocode(r,null,1).then((e=>{if(e.success&&e.results&&e.results.length>0){const n=e.results[0];n.bbox;if(n.point){const e=n.point.coordinates;return t.latitude=e[0].toString(),t.longitude=e[1].toString(),t}}return null}))}))}_getSuggestionAddress(e){return e&&"LocalBusiness"===e.typeV6&&e.formattedAddress?e.formattedAddress:e&&e.searchText}}O.bingAutosuggestApi="/api/v6/Places/AutoSuggest",O.oneServiceAutosuggestApi="msn/suggestions",O.defaultConfig={num:5,appId:"D41D8CD98F00B204E9800998ECF8427E1FBE79C2",geocoderKey:"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im ",suggestionTypes:"Place,Address,Business",endpoint:"https://www.bing.com",excludeSubTypes:["CountryRegion","AdminDivision1"],flightId:""},O.latinParttern=/[\u00C0-\u00ff\w\s\d.,/#!$%^&*;:{}=\-_`~()]+/gu;var F=n(32005),D=n(26740),R=n.n(D),W=n(38985);function N(e){if(e&&e.useV6){const t=(0,s.N)()?window.fetch.bind(window):F.br;return new O(t,e,(0,W.qE)())}return new m(R(),e)}var j=n(31891);const U={1:"linear-gradient(180deg, #1974BA 0%, #1B7BC1 100%)",4:"linear-gradient(180deg, #376DBA 0%, #4177C1 100%)",8:"linear-gradient(180deg, #476AA8 0%, #5173AF 100%)",27:"linear-gradient(180deg, #5D5EB3 0%, #6B6DC0 100%)",7:"linear-gradient(180deg, #626DA0 0%, #6974A7 100%)",9:"linear-gradient(180deg, #6D6D87 0%, #73738D 100%)",6:"linear-gradient(180deg, #7C6648 0%, #846D4D 100%)"},H={1:"25,116,186",4:"55,109,186",8:"71,106,168",27:"93,94,179",7:"98,109,160",9:"109,109,135",6:"124,102,72"},G={1:"1",2:"1",3:"1",4:"4",5:"4",6:"6",7:"7",8:"8",9:"9",10:"8",11:"8",12:"9",13:"8",14:"8",15:"7",16:"7",17:"8",18:"9",19:"8",20:"7",21:"9",22:"8",23:"8",24:"7",25:"7",26:"7",27:"27",28:"1",29:"1",30:"4",31:"4",32:"4",33:"6",34:"7",35:"8",36:"9",37:"8",38:"8",39:"9",40:"8",41:"8",42:"7",43:"7",44:"8",45:"9",46:"8",47:"7",48:"9",49:"8",50:"8",51:"8",52:"7",53:"7",54:"27",57:"7",58:"7",59:"7",60:"7",61:"6",62:"6",63:"9",64:"9",65:"9",66:"9",67:"27",68:"27",69:"8",70:"8",71:"8",72:"8",73:"9",74:"9",75:"8",76:"8",77:"8",78:"8",79:"8",80:"8",81:"7",82:"7",83:"8",84:"8",85:"8",86:"8",87:"6",88:"6",89:"9",90:"9",91:"6",92:"6",93:"6",94:"6",95:"9",96:"9",101:"1",102:"1"};class B{static getSkyCodeBackgroundGradientColors(e){const t=Object.prototype.hasOwnProperty.call(G,e)?G[e]:e;return U[t]||U[1]}static getSkyCodeBackgroundGradientColorsForChevron(e){const t=Object.prototype.hasOwnProperty.call(G,e)?G[e]:e;return H[t]||H[1]}}var $=n(48117),V=n(51325),_=n(38573),z=n(14792),q=n(30854),K=n(17793),Z=n(987);const Q=10,Y=k.jG.isMobile?20:10;function J(e){return!!e&&"null"!==e&&"undefined"!==e&&"false"!==e}function X(e,t=10){if(e.home&&((0,K.Mv)(e.favorites,e.home),(0,K.Mv)(e.recents,e.home)),e.favorites){e.favorites=ee(e.favorites),e.favorites=e.favorites.slice(0,t);for(let t=0,n=e.favorites.length;t<n;++t)(0,K.Mv)(e.recents,e.favorites[t])}else void 0===e.favorites&&(e.favorites=[]);return e.recents?(e.recents=ee(e.recents),e.recents=e.recents.filter((e=>"JP"!==e.isoCode||J(e.locality)||J(e.region))),e.recents=e.recents.slice(0,Y)):void 0===e.recents&&(e.recents=[]),e.followedLocations?e.followedLocations=ee(e.followedLocations):e.followedLocations=[],e}function ee(e){return te(e,!0)}function te(e,t){if(!e)return[];const n=[],r=new Set,i=new Set;for(const o of e){if(!o)continue;const e=(0,a.getDisplayName)(o),s=(0,_.aQ)(o);t&&r.has(e)||i.has(s)||(r.add(e),i.add(s),n.push(o))}return n}function ne(e,t){return e.recents=(0,K.Dx)(e.recents,t),X(e)}function re(e,t,n){const r=[];return e&&(r.push(e.home),Array.prototype.push.apply(r,e.favorites||[]),Array.prototype.push.apply(r,e.recents||[])),r.filter((e=>!!e&&e.latitude===t&&e.longitude===n))[0]}function ie(e,t){if(!k.jG.isMobile)return[];let n=(0,K.Dx)(e.recentsForMobile,t);const r=Y;return n?(n=n.filter((e=>"JP"!==e.isoCode||J(e.locality)||J(e.region))),n=n.slice(0,r)):void 0===n&&(n=[]),oe(n),n}function oe(e){(0,Z.$o)().supported&&(0,Z.$o)().setItem(q.n3,JSON.stringify(e))}var ae=n(34181),se=n(12037),ce=(n(19628),n(67544)),ue=n(97533);const le=[{from:"Longitude",to:"longitude"},{from:"Latitude",to:"latitude"},{from:"AddressLine",to:"addressLine"},{from:"City",to:"locality"},{from:"SubRegion",to:"subRegion"},{from:"State",to:"region"},{from:"Country",to:"country"},{from:"CountryCode",to:"isoCode"},{from:"Accuracy",to:"accuracy"},{from:"DefinitionName",to:"definitionName"}],de=[{from:"Language",to:"language",trans:e=>e||l.Al.Locale},{from:"Accuracy",to:"accurateEnough",trans:e=>0===e||null==e||e<207026}];function he(e){if(!e)return null;const t=function(e){return(0,ce.N)([],le,de)(e)}(e);return t.displayName=(0,_.Gf)(t),t}var pe=n(70312),ge=n(44979),fe=n(17873);var me=n(83152),ve=n(11708),ye=n(40721),Ce=n(85305),Se=n(81428);const we=[];function be(e){for(const t of we)t(e)}var Te;!function(e){e[e.AutoDetectLoc=1]="AutoDetectLoc",e[e.SpecifyLoc=2]="SpecifyLoc"}(Te||(Te={}));class Pe{constructor(){this.instance=ye.N}getUserDefaultLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){let t,n;try{const n=yield this.instance.getUserDefaultLocation(e);if(null==n)throw"Location response returned null or undefined";t=yield n.json()}catch(n){(0,h.OO)(n,p.WiH,`User's default location fetch request failed. Autodetect forced: ${!0===e}`),t=null}return t&&t.length&&t[0]&&(n={latitude:`${t[0].latitude}`,longitude:`${t[0].longitude}`,isDetected:e,isBlisDetected:e,locality:t[0].city,region:f.abbreviateUSState(t[0].state,l.Al.Locale,t[0].countryCode),country:t[0].country,isoCode:t[0].countryCode,language:k.jG.CurrentMarket,accuracy:t[0].accuracy},n.displayName=(0,_.Gf)(n)),n}))}getGeoLocation(){const e=(0,W.qE)();return(0,_.JY)(e)?e:((0,h.H)(p.Hx8,"Failed to get valid user geo location from PCS head data"),null)}updateUserSettings(e,t,n={},r){return(0,c.mG)(this,void 0,void 0,(function*(){let i=!1;try{i=yield this.instance.updateWeatherSettings(e,t,n,r)}catch(e){(0,h.OO)(e,p.DyR,"error in library [location-service],Weather or location user settings update failed"),i=!1}return i}))}setHomeLocation(e,t={},n,r=!1){return(0,c.mG)(this,void 0,void 0,(function*(){let i=!1;try{i=yield this.instance.updatePdpHomeLocation(Pe.buildMetaData(e),e.definitionName||`${e.latitude},${e.longitude}`,t,n,r)}catch(e){(0,h.OO)(e,p.G1Z,"error in library [location-service],Home Location Update Failed"),i=!1}return i&&be(e),i}))}setSpecifyLocationMode(){return(0,c.mG)(this,void 0,void 0,(function*(){let e=!1;try{e=yield this.instance.updateWeatherSettings(null,`${Te.SpecifyLoc}`)}catch(t){(0,h.OO)(t,p.DyR,"error in library [location-service],Weather user settings update failed"),e=!1}return e}))}addFavoriteLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=`${e.latitude},${e.longitude}`;return yield this.instance.addToFavoriteLocation(Pe.buildMetaData(e),t)}))}removeFavoriteLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=e.definitionName||`${e.latitude},${e.longitude}`,n=yield this.instance.removeFavoriteLocation(t);return n&&(e.definitionName=null),n}))}removeLocation(e,t=!1){return(0,c.mG)(this,void 0,void 0,(function*(){const n=e.definitionName||`${e.latitude},${e.longitude}`,r=yield this.instance.removeLocation(n,t);return r&&(e.definitionName=null),r}))}static buildMetaData(e){const t=e.language||l.Al.Locale||"";return JSON.parse(JSON.stringify({geoCoordinates:{latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)},addressLine:e.addressLine,subRegion:e.subRegion,readLink:e.readLink,city:e.locality,state:e.region,countryRegion:e.country,postalCode:e.postalCode,isoCode:e.isoCode,locationType:"number"==typeof e.locationType?e.locationType||1:(0,Se.hh)(""+e.locationType,1),locationTypeId:[e.locality,e.region,e.country].filter((e=>!!e)).join(","),language:t||void 0,properties:{locationType:e.typeV6,entitySubTypeHints:e.subType}}))}}var ke=n(33799),Ae=n(51671);function Ee(e){return!!e&&"null"!==e&&"undefined"!==e&&"false"!==e}function Me(e,t){return new Date(t.updatedDateTime).valueOf()-new Date(e.updatedDateTime).valueOf()}class xe{constructor(e=!1){this.PdpDefaultLocation="DefaultLocation",this.PdpFavoriteLocation="FavoriteLocation",this.locationPdpClient=new Pe,this.writeToAAD=!1,this.instance=ye.N,this.writeToAAD=e}read(e={},t=!0){return(0,c.mG)(this,void 0,void 0,(function*(){if(!navigator.cookieEnabled)return{};!function(){const e=(0,k.Yq)().UserId;let t=[];try{t=JSON.parse((0,Z.$o)().getItem(q.n6)||"[]")}catch(e){t=[]}t.length&&e!==t[t.length-1]?(t.push(e),(0,Z.$o)().setItem(q.n6,JSON.stringify(t)),null===L.M0||void 0===L.M0||L.M0.sendClientLogEvent({message:`Met unfamiliar MUID. Current MUID array is ${t}`,type:"information"})):0===t.length?(t.push(e),(0,Z.$o)().setItem(q.n6,JSON.stringify(t))):null===L.M0||void 0===L.M0||L.M0.sendClientLogEvent({message:`MUID not churn. Current MUID array is ${t}`,type:"information"})}();let n=null;try{const r=yield this.instance.readPdpWithTargetType(me.L.Location,!1,void 0,e,t),{value:i=[]}=r||{value:[]};n=this.convertPdpDataToPdpResponse(i)}catch(e){(0,h.OO)(e,p._lB,"error in library [location-service],Weather Profile graph action location Read Failed")}if(!n)try{const t=yield this.instance.getPdpUserPreference(!0,e),{value:r=[]}=t||{value:[]};n=this.parseUserProfileFromPdpData(r)}catch(e){(0,h.OO)(e,p.AYT,"error in library [location-service],Weather Profile User Read Failed")}return n||{}}))}isWeatherAndLinked(){if(!this.writeToAAD)return!1;return"weather"===((0,k.Yq)()||{}).AppType&&(0,Ae.xQ)()==ke.Qm.AAD&&(0,Ce.u6)()}setDisplayUnit(e,t={}){return(0,c.mG)(this,void 0,void 0,(function*(){let n=!1;try{n=yield this.instance.updateWeatherSettings(e.toString(),null,t),this.isWeatherAndLinked()&&this.instance.updateWeatherSettings(e.toString(),null,t,void 0,!0)}catch(e){(0,h.OO)(e,p.nTL,"error in library [location-service],Display unit Update failed."),n=!1}return n}))}setEplantStatus(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.instance.updateUserSettings({eplantGameJoined:e.toString()})}))}getBLISLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.locationPdpClient.getUserDefaultLocation(e)}))}updateUserSettings(e,t,n={},r){return(0,c.mG)(this,void 0,void 0,(function*(){return this.locationPdpClient.updateUserSettings(e,t,n,r)}))}disableWeatherCardNotification(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){let r=!1;try{const t={UserAction:{0:{UpdateTime:new Date,location:n}}};r=yield this.instance.updateWeatherInterests(e||"",t)}catch(e){(0,h.OO)(e,p.DyR,"error in library [location-service],"+(t?"Hide":"Show")+" weather hide notification card failed"),r=!1}return r}))}updateUserExplicitInterest(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){let n=!1;try{const r={type:t};n=yield this.instance.updateWeatherInterests(e,r)}catch(r){(0,h.OO)(r,p.DyR,`error in library [location-service]," + "Fail to update user explicit interest. TargetId:${e}, type:${t}`),n=!1}return n}))}enableDisableWeatherCard(e){return(0,c.mG)(this,void 0,void 0,(function*(){let t=!1;try{t=yield this.instance.updateSegmentCardsEnableStatus([{cardType:ve.f.WeatherCard,enabled:e}])}catch(n){(0,h.OO)(n,p.DyR,"error in library [location-service],"+(e?"Enable":"Disable")+" weather segment card failed"),t=!1}return t}))}updateWeatherCardPreviewForPollbar(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const n={targetType:"Notification",definitionName:t};return ye.N.setUserAction(e,n,!0)}))}setHomeLocation(e,t={},n){return(0,c.mG)(this,void 0,void 0,(function*(){return this.isWeatherAndLinked()&&this.locationPdpClient.setHomeLocation(e,t,n,!0),this.locationPdpClient.setHomeLocation(e,t,n)}))}addFavoriteLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.locationPdpClient.addFavoriteLocation(e)}))}removeFavoriteLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.locationPdpClient.removeFavoriteLocation(e)}))}removeHomeLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.isWeatherAndLinked()&&this.locationPdpClient.removeLocation(e,!0),yield this.locationPdpClient.removeLocation(e)}))}removeLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return this.isWeatherAndLinked()&&this.locationPdpClient.removeLocation(e,!0),yield this.locationPdpClient.removeLocation(e)}))}convertPdpDataToPdpResponse(e){if(e&&e[0]){const t=e.filter((e=>e.degree===this.PdpDefaultLocation)).sort(Me)[0],n=xe.parseLocationFromPdpValue(t);return n&&(n.from=2,n.displayName=(0,_.Gf)(n)),Object.assign(Object.assign({},xe.parseUnitAndMode(t)),{home:n,favorites:e.filter((e=>e.degree===this.PdpFavoriteLocation)).map(xe.parseLocationFromPdpValue).filter((e=>!!e)),followedLocations:e.map(xe.parseLocationFromPdpValue).filter((e=>!!e)),recents:void 0})}return null}parseUserProfileFromPdpData(e){if(e&&e[0]){const t=e.find((e=>e.weatherDisplayUnit));if(!(t&&(t.weatherDisplayUnit||t.userSettings&&t.userSettings.weatherLocationSettingMode)))return null;let n,r;return t.weatherDisplayUnit&&(n="2"===t.weatherDisplayUnit?o.a.Celsius:o.a.Fahrenheit),t.userSettings&&t.userSettings.weatherLocationSettingMode&&(r="2"===t.userSettings.weatherLocationSettingMode?2:1),{home:void 0,unit:n,locationMode:r,favorites:void 0,recents:void 0}}return null}static buildMetaData(e){return Pe.buildMetaData(e)}static parseUnitAndMode(e){let t=0,n=0;return e&&e.metadata&&("2"!==e.metadata.displayunit&&"1"!==e.metadata.displayunit||(t="2"===e.metadata.displayunit?o.a.Celsius:o.a.Fahrenheit),"1"!==e.metadata.locationSettingMode&&"2"!==e.metadata.locationSettingMode||(n="1"===e.metadata.locationSettingMode?1:2)),{unit:t,locationMode:n}}static parseLocationFromPdpValue(e){let t=null;if(e&&e.definitionName&&e.metadata){t={latitude:e.definitionName.split(",")[0],longitude:e.definitionName.split(",")[1],addressLine:Ee(e.metadata.addressLine)?e.metadata.addressLine:void 0,locality:Ee(e.metadata.city)?e.metadata.city:void 0,subRegion:Ee(e.metadata.subRegion)?e.metadata.subRegion:void 0,region:Ee(e.metadata.state)?e.metadata.state:void 0,country:Ee(e.metadata.countryRegion)?e.metadata.countryRegion:void 0,displayName:"",isoCode:Ee(e.metadata.isoCode)?e.metadata.isoCode:void 0,locationTypeId:e.metadata.locationTypeId,postalCode:e.metadata.postalCode,language:(e.metadata.language||(0,W.eK)(e.metadata.locationTypeId)||l.Al.Locale).toLocaleLowerCase(),definitionName:e.definitionName,readLink:Ee(e.metadata.readLink)?e.metadata.readLink:void 0},t.region=(0,f.abbreviateUSState)(t.region,t.language,t.isoCode),t.locationType=1,"number"!=typeof e.metadata.locationType&&void 0!==e.metadata.locationType||(t.locationType=e.metadata.locationType||1),"string"==typeof e.metadata.locationType&&Ee(e.metadata.locationType)&&(t.locationType=(0,Se.hh)(""+e.metadata.locationType,1));const n=e.metadata.geoCoordinates;!n||0===n.latitude&&0===n.longitude||(t.latitude=""+n.latitude,t.longitude=""+n.longitude),t.addressLine||t.locality||t.region||(t=null),t&&!(0,_.JY)(t)&&(t=null),t&&"0"===t.latitude&&"0"===t.longitude&&(e.metadata.name||e.metadata.countryRegion||e.metadata.city||e.metadata.state||(t=null))}return t}}var Ie=n(63439),Le=n(41710);let Oe=null;class Fe{initSDK(){return(0,c.mG)(this,void 0,void 0,(function*(){this.sdk=window.__bridgeSdk||(yield n.e("node_modules_skype_skype-webxt-bridge_dist_index_js").then(n.t.bind(n,55208,23))),window.__bridgeSdk||this.sdk.initSkype()}))}getAuthToken(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=(new Date).getTime();if(!this._tokenInfo||!this._tokenInfo.token||e>=this._tokenInfo.expiryTime){const e=yield((e,t,n=null)=>{const r=new Promise(((e,n)=>setTimeout((()=>n(new Error("Timeout"))),t)));return Promise.race([e,r]).then((e=>e)).catch((e=>n))})(this.sdk.fetchAuthToken(),5e3);e&&(this._tokenInfo=e)}return this._tokenInfo&&this._tokenInfo.token?this._tokenInfo.token:""}))}weatherConfigChanged(){return this.sdk.weatherCfgChanged()}}const De=()=>(0,c.mG)(void 0,void 0,void 0,(function*(){Oe||(Oe=new Fe,yield Oe.initSDK())})),Re=()=>(0,c.mG)(void 0,void 0,void 0,(function*(){yield De();const e=yield Oe.getAuthToken();return e?`Bearer ${e}`:""})),We=()=>(0,c.mG)(void 0,void 0,void 0,(function*(){yield De(),setTimeout((()=>{Oe.weatherConfigChanged()}),1e3)}));var Ne=n(76754),je=n(10877);class Ue extends class{constructor(e,t){this.dc=e,this.defaultConfigUnit=t,this.getGeoLocation=()=>(0,c.mG)(this,void 0,void 0,(function*(){return this.dc.getGeoLocation()})),this.getRecentLocations=()=>this.dc.getRecentLocations()}fetchWeather(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){!e||(0,_.JY)(e)||e.el||(g.k.log("ignore Invalid input location: "+JSON.stringify(e)),e=null),t&&t!==o.a.Celsius&&t!==o.a.Fahrenheit&&(t=null),n=n||{};const{activeWeatherLocation:r,activeUnit:i,activeFetchOptions:a,activeOptions:s}=yield this.mapToRequestParams(e,t,n);return a.disableFetchRegionData&&(s.requestInfo=Object.assign(Object.assign({},s.requestInfo),{disableFetchRegionData:a.disableFetchRegionData})),a.filterRuleValue&&(s.filterRule=a.filterRuleValue),n.partialHourly&&n.partialHours&&(s.partialHours=n.partialHours),s.partialHourly=n.partialHourly,s.hourlyStartDay=n.hourlyStartDay,s.hourlyDataDays=n.hourlyDataDays,s.userProfileFetch=n.userProfileFetch,s.lifeDataDays=n.lifeDataDays,s.lifeTopic=n.lifeTopic,this.dc.fetchWeatherDataAndLocationNameWithFallback(r,i,a,s)}))}updateWeather(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const n=this.dc.getCurrentState().unit;return yield this.fetchWeather(e,n,t)}))}loadPartialUserProfleInLocal(){let e=this.readPartialUserProfileInLocal();return e=X(e),e}setHome(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=[];let n={};if((0,Ne._3)()){const e=yield Re();e&&(n={[je.Yu.authorization]:e})}t.push(this.dc.pdpserviceClient.setHomeLocation(e,n).then((e=>!!e)));this.dc.getCurrentState().locationDetectionSetting;t.push(this.dc.pdpserviceClient.updateUserSettings(null,2..toString()));const r=(yield Promise.all(t)).every((e=>!!e));if(r){let t=this.dc.getCurrentState().profile;const n=this.dc.getCurrentState().currentLocation;a.isSameLocationPoint(n,e)||null==n.from||(delete n.from,j.w.updateCurrentLocation.getActionSender(this.dc).send(n));const r=t.home;t.home=e,t.home.from=3,t.locationMode=2,r&&(delete r.from,t=ne(t,r),this.dc.setRecentLocations(t.recents)),j.w.updateWeatherUserProfile.getActionSender(this.dc).send(X(t)),(0,Ne._3)()&&We()}return r}))}resolveMiniProgramDetectedLocationName(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){let n;if(e){if(e.displayName)return(0,V.VO)(e),e;const r=(0,V.qB)();if((0,_.XA)(r,e)&&(null==r?void 0:r.displayName))return r;if(n=re(this.dc.getCurrentState().profile,e.latitude,e.longitude),n&&n.displayName&&(0,W.bd)(n)||(n=(yield this.dc.localizeLocationService.getLocalisedLocationDetails(e,t))||n),n)return n.displayName=a.getDisplayName(n),(0,V.VO)(n),n}}))}setHomeForMobile(e){return(0,c.mG)(this,void 0,void 0,(function*(){let t={};if((0,Ne._3)()){const e=yield Re();e&&(t={[je.Yu.authorization]:e})}const n=yield this.dc.pdpserviceClient.setHomeLocation(e,t);if(n){const t=this.dc.getCurrentState().profile,n=this.dc.getCurrentState().currentLocation;a.isSameLocationPoint(n,e)||null==n.from||(delete n.from,j.w.updateCurrentLocation.getActionSender(this.dc).send(e)),t.home=e,t.home.from=3,t.recentsForMobile=ie(t,e),j.w.updateWeatherUserProfile.getActionSender(this.dc).send(X(t)),(0,Z.$o)().setItem(q.dZ,!!e.isDetected+""),(0,Ne._3)()&&We()}else j.w.updateOperationFailure.getActionSender(this.dc).send(q.Uh.setHomeFail);return n}))}addFavorite(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=yield this.dc.pdpserviceClient.addFavoriteLocation(e);if(t){const t=function(e,t,n=10){let r=(0,K.Dx)(e.favorites,t),i=(0,K.Mv)(e.recents,t);return r&&r.length>n&&(r=r.slice(0,n)),i&&i.length>Y&&(i=i.slice(0,Y)),e.favorites=r,e.recents=i,e}(this.dc.getCurrentState().profile,e);j.w.updateWeatherUserProfile.getActionSender(this.dc).send(t)}return t}))}removeFavorite(e,t=!0){return(0,c.mG)(this,void 0,void 0,(function*(){const n=yield this.dc.pdpserviceClient.removeFavoriteLocation(e);if(n){const n=function(e,t,n=!0){let r=(0,K.Mv)(e.favorites,t),i=e.recents;return n&&(i=(0,K.Dx)(e.recents,t)),r&&r.length>Q&&(r=r.slice(0,Q)),i&&i.length>Y&&(i=i.slice(0,Y)),e.favorites=r,e.recents=i,e}(this.dc.getCurrentState().profile,e,t);j.w.updateWeatherUserProfile.getActionSender(this.dc).send(n)}return n}))}}{mapToRequestParams(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){return{activeWeatherLocation:e||{},activeUnit:t,activeFetchOptions:n||{},activeOptions:{}}}))}updateUnitAndFetchWeather(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.dc.getCurrentState().currentLocation,n=e!==this.dc.getCurrentState().unit;if(yield this.fetchWeather(t,e),n){let t={};if((0,Ne._3)()){const e=yield Re();e&&(t={[je.Yu.authorization]:e}),We()}this.dc.pdpserviceClient.setDisplayUnit(e,t),(0,fe.mS)({id:"InvalidateWeatherPdp",type:"command"})}}))}readPartialUserProfileInLocal(){const e=this.dc.getCurrentState().profile||{};return e.recents=this.getRecentLocations(),e.signIn=(0,Ae.hC)(),e.unit=e.unit||this.defaultConfigUnit,e}}var He=n(4959),Ge=n(34852),Be=n(61442);class $e{constructor(e,t){this.fetchImpl=e,this.config=t,this.ocid="localizelocation-peregrine",this.localizeLocationApi="weather/locations/search",this.virtualEarthEndpoint="https://dev.virtualearth.net"}getLocalisedLocationDetailsFromVirtualEarth(e){return(0,c.mG)(this,void 0,void 0,(function*(){if(!(0,_.JY)(e))return;const t=yield E.$D.getBaseRequestData("GET"),n=[..."windowsNewsPlus"===k.jG.AppType||"newsAndInterests"===k.jG.AppType||"winWidgets"===k.jG.AppType?E.$D.getCommonParams2("winp2",!1):E.$D.getCommonParams2(this.ocid),{key:"key",value:this.config.bingMapToken},{key:"c",value:k.jG.CurrentMarket},{key:"incl",value:"ciso2"},{key:"includeEntityTypes",value:"PopulatedPlace,Neighborhood"}],r=new URL(`/REST/v1/Locations/${e.latitude},${e.longitude}`,this.virtualEarthEndpoint);let i;n.forEach((e=>{e.value&&r.searchParams.set(e.key,e.value)})),r.searchParams.delete("fdhead"),this.config&&this.config.noDynamicQueryParams&&(r.searchParams.delete("user"),r.searchParams.delete("activityId"));try{const n=yield(0,Be.w)((()=>(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(r.href,t);if(!e.ok){if(i=`code=${e.status}, ${e.statusText}`,e.status>=400&&e.status<500&&408!=e.status)return{isError:!0};throw Error(e.statusText)}return e.json()}))),"getLocalizedLocation");if(null==n?void 0:n.isError)throw Error(i);return $e.convertResponseFromVirtualEarth(n,e,r.href)}catch(e){i||(i=e&&e.toString()),(0,h.OO)(e,p._Y2,"error in library [weather-shared],"+i+","+this.localizeLocationApi,r.href)}}))}getLocalisedLocationDetails(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){if(!(0,_.JY)(e))return;if(t)return this.getLocalisedLocationDetailsFromVirtualEarth(e);if((0,ae.w)(e)){const t=yield this.getLocalisedLocationDetailsFromWechatSdk(e);if(t)return t}const n=yield E.$D.getBaseRequestData("GET"),r=[..."windowsNewsPlus"===k.jG.AppType||"newsAndInterests"===k.jG.AppType||"winWidgets"===k.jG.AppType?E.$D.getCommonParams2("winp2",!1):E.$D.getCommonParams2(this.ocid),{key:"lat",value:e.latitude},{key:"lon",value:e.longitude},{key:"locale",value:k.jG.CurrentMarket}],i=new URL(`${this.localizeLocationApi}${k.jG.ServiceUrlBase.search}`,k.jG.ServiceUrlBase);let o;r.forEach((e=>{e.value&&i.searchParams.set(e.key,e.value)})),i.searchParams.delete("fdhead"),this.config&&this.config.noDynamicQueryParams&&(i.searchParams.delete("user"),i.searchParams.delete("activityId"));try{const t=yield(0,Be.w)((()=>(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.fetchImpl(i.href,n);if(!e.ok){if(o=`code=${e.status}, ${e.statusText}`,e.status>=400&&e.status<500&&408!=e.status)return{isError:!0};throw Error(e.statusText)}return e.json()}))),"getLocalizedLocation");if(null==t?void 0:t.isError)throw Error(o);return $e.convertResponse(t,e,i.href)}catch(e){o||(o=e&&e.toString()),(0,h.OO)(e,p._Y2,"error in library [weather-shared],"+o+","+this.localizeLocationApi,i.href)}}))}getLocalisedLocationDetailsFromWechatSdk(e){return(0,c.mG)(this,void 0,void 0,(function*(){if((0,_.JY)(e))try{const t=yield function(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){try{const n={location:`${e.latitude},${e.longitude}`,key:t,output:(0,s.N)()?"jsonp":"json"},r=[];Object.keys(n).forEach((e=>{r.push(`${e}=${encodeURIComponent(n[e])}`)}));const i=(0,s.N)()?R():fetch,o=yield i(`https://apis.map.qq.com/ws/geocoder/v1/?${r.join("&")}`);return((yield o.json())||{result:void 0}).result||{}}catch(e){(0,h.OO)(e,p._Y2,"reverseGeocoderForMiniProgram err")}}))}(e,this.config.miniappLocationResolvedAppkey);return e=$e.convertResponseFromWechatSdk(t,e)}catch(e){(0,h.OO)(e,p._Y2,"getLocalisedLocationDetailsFromWechatSdk err")}}))}static convertResponseFromWechatSdk(e,t){const{formatted_addresses:n,address_component:r,location:i}=e;if(n&&r){const e=n.recommend;let i;return i={isDetected:t.isDetected,latitude:t.latitude,longitude:t.longitude,displayName:e,urlSlug:e,isoCode:"cn",language:"zh-cn",country:null==r?void 0:r.nation,region:null==r?void 0:r.province,subRegion:null==r?void 0:r.city,locality:null==r?void 0:r.district,accuracy:t.accuracy},i.displayName||(i.displayName=(0,_.Gf)(i)),i}(0,h.H)(p._Y2,"unable to construct valid display name by Wechat")}static convertResponse(e,t,n){const r=e&&e.value&&e.value[0]&&e.value[0].responses||[],i=r[0]&&r[0].locations&&r[0].locations[0];let o;if(i&&(o={latitude:t.latitude,longitude:t.longitude,isDetected:t.isDetected,locality:i.locality,region:i.adminDistrict,subRegion:i.adminDistrict2,country:i.countryRegion,isoCode:i.countryCode,language:k.jG.CurrentMarket},o.displayName=(0,_.Gf)(o)),o&&o.displayName)return o;(0,h.H)(p._Y2,"error in library [weather-shared],unable to construct valid display name",n)}static extractBingLocationApiResponse(e){return e&&e.resourceSets&&e.resourceSets[0]&&e.resourceSets[0].resources&&e.resourceSets[0].resources[0]}static convertResponseFromVirtualEarth(e,t,n){const r=$e.extractBingLocationApiResponse(e);if(!r)return(0,h.H)(p._Y2,"error in library [weather-shared],empty result",n),null;const i={locality:r.address.locality,region:r.address.adminDistrict,subRegion:r.address.adminDistrict2,country:r.address.countryRegion,isoCode:r.address.countryRegionIso2,latitude:t.latitude,longitude:t.longitude,language:k.jG.CurrentMarket};return i.displayName=(0,_.Gf)(i),i&&i.displayName?i:((0,h.H)(p._Y2,"error in library [weather-shared],unable to construct valid display name",n),null)}}var Ve=n(22089),_e=n(22704),ze=n(89696);var qe=n(46102);const Ke="https://assets.msn.com",Ze="https://api.msn.com",Qe="weather/overview",Ye="segments/recoitems/weather";var Je;!function(e){e[e.Not_Detected=1]="Not_Detected",e[e.Overview=2]="Overview",e[e.OverviewUser=3]="OverviewUser",e[e.SegmentOverview=4]="SegmentOverview"}(Je||(Je={}));class Xe extends class{constructor(e,t,n){this.fetchImpl=e,this.config=t,this.locationHref=n,this.schemaTranslator=new ue.vI(t.truncateTimezone,n)}}{shouldAttachCookie(e,t){return!this.config.isFailOverHost&&("zh-cn"!==e&&!(!t||!t.readChoice&&!t.saveChoice))}getWeather(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){e=e||{},n=n||{};const r=k.jG.LocaleContentMarket,i=r.language+"-"+r.market,{serviceUrl:a}=function(e,t){const{weatherApi:{path:n,endpoint:r}}=e;let i,o;const a=n===Ye?4:2;if((0,z.pm)()&&2===a)return i=Ke,o=Qe,{serviceUrl:rt(i,o,t),variant:a};return i=r,o=n||Qe,{serviceUrl:rt(i,o,t),variant:a}}(this.config,i),c=a.pathname,u=a.searchParams,d=yield E.$D.getBaseRequestData("GET");(this.shouldAttachCookie(i,n)||n.includeCookie||this.config.weatherApi.includeCookie)&&(d.credentials="include"),(0,s.N)()||(d.headers=Object.assign(Object.assign({},d.headers||{}),function(){var e;const t={},n=l.Al.ClientSettings;return n&&(null===(e=n.detection)||void 0===e?void 0:e.ip)&&(t["X-MSEdge-ClientIP"]=n.detection.ip),t}())),d.referrerPolicy="no-referrer-when-downgrade";const g=function(e,t,n,r,i,a,c){const{appId:u,apiKey:d,ocid:h,days:p,partialHours:g,includemapsmetadata:f,includecommentary:m,alertDistanceinkm:v,cutHour:y,features:C,fdhead:S,lifeDays:w,lifeModes:b,lifeSubTypes:T,includeLifeActivity:P,includeSwArea:A,includeActivity:M,includestorm:x}=n.weatherApi;E.$D.getCommonParams2(h,!1).forEach((e=>{t.set(e.key,e.value)})),i&&t.set("units",i===o.a.Fahrenheit?"F":"C"),nt(t,"appId",u),t.set("apikey",d),t.set("wrapodata","false"),tt(t,"includemapsmetadata",f),tt(t,"cuthour",y),tt(t,"includecommentary",m),nt(t,"feature",(C||[]).join(",")),nt(t,"filterRule",r.filterRule),nt(t,"lifeDays",w),nt(t,"lifeModes",b),tt(t,"includeSwArea",A),tt(t,"includestorm",x),tt(t,"includeLifeActivity",P),nt(t,"lifeSubTypes",(T||[]).join(",")),(0,qe.bc)()&&tt(t,"includeActivity",M);"ActivityPlanner"===r.lifeTopic&&tt(t,"includeActivity",!0);if(e){const n=new URL(e);if(a.indexOf("private")>=0){const e=n.searchParams.get("env");t.set("env",e)}const r=n.searchParams.get("day");r&&parseInt(r)>1&&t.set("lifeDays",r)}const{disableFetchRegionData:I,experience:L,isStaleRefresh:O}=r.requestInfo||{};I||(t.set("distanceinkm",v||"0"),t.set("regionDataCount","20"),t.set("orderby","distance"));p&&(t.set("days",p),t.set("pageOcid",E.$D.getOneServiceOCID(k.jG.TrackInfo,"peregrine")),nt(t,"source",L&&L+(O?"1":"0")));t.set("source",`${l.Al.ClientSettings.verticalKey}_${(0,s.N)()?"csr":"ssr"}`);const F=(r.partialHours||g)&&r.partialHourly,D=F&&r.hourlyStartDay-1>0;nt(t,"hours",F&&(r.partialHours||g)),nt(t,"startday",D&&(r.hourlyStartDay<=10&&r.hourlyStartDay>=1?r.hourlyStartDay-1:0)),r.hourlyDataDays&&!p&&t.set("days",r.hourlyDataDays);r.lifeDataDays&&t.set("lifeDays",r.lifeDataDays);const R=function(e,t){const n=[];if(l.Al.CurrentFlightSet){const e="prg-dualauth";l.Al.CurrentFlightSet.has(e)&&(n.push(e),n.push("1s-jwtuserauth")),l.Al.CurrentFlightSet.forEach((e=>{(e.startsWith("prg-1sw-wx")||e.startsWith("prg-wea-"))&&n.push(e)}))}t.additionalFdHead&&n.push(...t.additionalFdHead.split(","));return 0==n.length?e:e?`${e},${n.join(",")}`:`${n.join(",")}`}(S,r);R?t.set("fdhead",R):t.delete("fdhead");r.sfParams&&t.set("sf",r.sfParams);const W=n.weatherApi.queries||{};for(let[e,n]of Object.entries(W))"{market}"===n&&(n=c),t.set(e,n);return D}(this.locationHref,u,this.config,n,t,a.host,i);!function(e,t,n,r,i){e.set("region",r.market),e.set("market",(n.isoCode||r.market).toUpperCase()),e.set("locale",i),n&&n.latitude&&n.longitude&&(e.set("lat",n.latitude),e.set("lon",n.longitude));let o=i;"ru-xl"===o&&(o="en-xl");e.set("market",o)}(u,0,e,r,i),function(e,t,n){if(t.enableMockWeatherApiV2){const t=new URL(n).searchParams.get("testCaseId");t&&e.set("id",t)}}(u,this.config,this.locationHref);const{experience:f}=n.requestInfo||{},m=yield this.sendApiRequest(a,d,f,e,n);if(null===m)return null;if(m.status&&(0,s.N)()){const e=p.kKw;(0,h.OO)(Error("Request failure but retry success"),e,m.status+","+c,`Request url: [${a.href}].`)}const v={location:m.usedLocation,locStrResolver:se.q};try{const e=m.weatherSummary,t=this.schemaTranslator.TranslateToWeatherOverview(e,v,this.config,g),n=function(e){var t,n;const r={},i=e&&e.userProfile;if(!i)return r;i.default&&(r.home=Xe.convert(i.default));return r.followedLocations=(null===(n=null===(t=i.followedLocations)||void 0===t?void 0:t.map((e=>Xe.convert(e))))||void 0===n?void 0:n.filter((e=>!!e)))||[],r.detectedLocation=Xe.convert(i.autoDetected),r.sig=i.sig,r}(e);return{home:void 0,location:m.usedLocation,forecast:t,profile:n,cards:e.cards}}catch(e){return(0,h.OO)(e,m.weatherDataFetchError,"error in library [weather-shared],Failed to translate overview: "+JSON.stringify(m.weatherSummary)),null}}))}sendApiRequest(e,t,n,r,i){var o,a;return(0,c.mG)(this,void 0,void 0,(function*(){const u={weatherSummary:void 0,weatherDataFetchError:null,status:void 0,usedLocation:void 0},l=!(0,s.N)(),d=e.pathname;u.weatherDataFetchError="scard"===n?p.XI8:l?p.zEz:p.z$F;try{let n;if(u.weatherSummary=yield(0,Be.w)((()=>(0,c.mG)(this,void 0,void 0,(function*(){var i;let o,a;try{const r=(0,_e.UE)();(0,ze.hf)(q.YV.overviewRequestStart,r),(0,ze.hf)(q.YV.overviewRequestPathHash,et(e.pathname)),o=yield this.overviewFetchImpl(l,e,t,function(){if(!(0,s.N)()){const e=(0,F.cb)();return e.trackApiClusterInServer=!0,e}}()),a=null===(i=o.headers)||void 0===i?void 0:i.get("Ddd-Debugid");const c=null==a?void 0:a.split("|")[3];c&&(0,ze.hf)(q.YV.overviewRequestCluster,et(c)),n=(0,_e.UE)()-r,(0,Ve.R)(e.host,e.pathname,Math.round(n)),(0,ze.hf)(q.YV.overviewRequestDuration,n)}catch(e){throw u.status=e&&e.toString(),e}if(!o.ok){if(u.status=`code=${o.status}, ${o.statusText}`,o.status>=400&&o.status<=500&&408!=o.status)return{isError:!0,errorCode:o.status};throw Error(o.statusText)}if(l&&o.headers){const e=o.headers.get("onewebservicelatency"),t=e?+e:-1;-1!=t&&((0,ze.hf)(q.YV.overviewRequestInternal,t),(0,ze.hf)(q.YV.overviewRequestNetwork,n-t))}const c=yield this.parseApiResponse(o,e,r);return u.usedLocation=c.usedLocation,c.weatherData}))),d),null===(o=u.weatherSummary)||void 0===o?void 0:o.isError)throw Error(u.status)}catch(t){if(i.preventLogExceptionOnFailure)return null;u.status||(u.status=t&&t.toString());const{experience:n}=i.requestInfo||{};n&&(u.status=n+":"+u.status);const o=`Request url: [${e.href}]. Error detail: [${t&&t.toString()}] debug id: [undefined]`,s=l?null:navigator.userAgent;if((0,z.pm)(s))(0,h.OO)(t,p.JIJ,"error in library [weather-shared],"+u.status+","+d,o);else if(this.config.enableMockWeatherApiV2)(0,h.OO)(t,p.TyD,"error in library [weather-shared],"+u.status+","+d,o);else if(422===(null===(a=u.weatherSummary)||void 0===a?void 0:a.errorCode)){const n=`Request url: [${e.href}]. Error detail: [${t&&t.toString()}]. Location: [lat=${r.latitude}, lon=${r.longitude}] debug id: [undefined]`;(0,h.OO)(t,p.A0i,"error in library [weather-shared],"+u.status+","+d,n)}else u.status.indexOf("404")>-1&&(u.weatherDataFetchError=p.pBE),(0,h.OO)(t,u.weatherDataFetchError,"error in library [weather-shared],"+u.status+","+d,o);return null}return u}))}overviewFetchImpl(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function*(){const i=t.href;if(e&&k.jG.OneServiceOverride){const e=i.replace(Ze,k.jG.OneServiceOverride),o=yield this.fetchImpl(e,n,r);if(o.ok)return o;(0,h.H)(p.XM_,`verview API in 1s cluster failed, status:[${o.status}] url: [${t.href}]`)}return yield this.fetchImpl(i,n,r)}))}parseApiResponse(e,t,n){var r,i,o,a,s;return(0,c.mG)(this,void 0,void 0,(function*(){const c={weatherData:void 0,usedLocation:n};if(t.pathname.indexOf("segments")>-1){const t=function(e){try{const t=JSON.parse(e[0].data),n=t.userProfile.location,r="2"===t.userProfile.locationSettingMode,i=(n.Language||l.Al.Locale).toLocaleLowerCase();return[t,{addressLine:n.AddressLine,subRegion:n.SubRegion,locality:n.City,region:(0,f.abbreviateUSState)(n.State,i,n.CountryCode),country:n.Country,postalCode:n.PostalCode,isoCode:n.CountryCode,from:r?2:void 0,language:i,latitude:""+n.Latitude,longitude:""+n.Longitude}]}catch(e){throw new Error("invalid SegmentStore api response: "+e.stack)}}(yield e.json());return c.weatherData=t[0],c.usedLocation=t[1],c}c.weatherData=yield e.json();const u=Xe.convert(c.weatherData.userProfile&&c.weatherData.userProfile.default);if(!(0,W.CR)(n)||n.isDetected&&!n.isBlisDetected)if(null===t.searchParams.get("lat")&&null===t.searchParams.get("lon")&&u)c.usedLocation=u;else if(!k.jG.isMobile){const e=null===(o=null===(i=null===(r=c.weatherData.responses)||void 0===r?void 0:r[0])||void 0===i?void 0:i.source)||void 0===o?void 0:o.coordinates,t={latitude:null===(a=null==e?void 0:e.lat)||void 0===a?void 0:a.toString(),longitude:null===(s=null==e?void 0:e.lon)||void 0===s?void 0:s.toString(),isDetected:!0};t&&(c.usedLocation=t)}return c}))}static convert(e){if((e=(0,f.toCamelCase)(e,{ISOCode:"isoCode"}))&&e.geoCoordinates){const t=(e.language||(0,W.eK)(e.locationTypeId)||l.Al.Locale).toLocaleLowerCase();return{addressLine:e.addressLine,subRegion:e.subRegion,locality:e.city,region:(0,f.abbreviateUSState)(e.state,t,e.isoCode),country:e.countryRegion,postalCode:e.postalCode,isoCode:e.isoCode,locationTypeId:e.locationTypeId,definitionName:e.definitionName,from:4,locationType:e.locationType,language:t,latitude:""+e.geoCoordinates.latitude,longitude:""+e.geoCoordinates.longitude}}}}function et(e){let t=0;for(let n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function tt(e,t,n){return n&&e.set(t,"true"),n}function nt(e,t,n){n&&e.set(t,`${n}`)}function rt(e,t,n){return(0,s.N)()?(e.indexOf("assets.msn.")>=0?(t.indexOf("service/")<0&&(t="service/"+t),"zh-cn"===n&&(e=e.replace(".msn.com",".msn.cn"))):t=t.replace("service/",""),new URL(t,e)):(e=Ze,t=t.replace("service/",""),new URL(t,e))}var it=n(21256),ot=n(34656),at=n(75542);class st extends Ie.e{constructor(e,t,r,i,a,u,l){super(e,t,r,i,a,u,l),this.getWeatherLocationAndUnit=null,this.filledUserProfile=!1,this.locationHyperCache=new Map;const d=(0,pe.j)();let h,p;this.url=(0,ge.DO)(l),this.cookieDomain=k.jG.IsChinaCompliance?"msn.cn":"msn.com",this.mapGroupsShowConfig=u.mapGroupsShowConfig,this.localizeLocationService=new $e(d,u.weatherApi),this.autoSuggestService=N(u.autoSuggest),this.lazySvc=new Promise((function(e,t){h=e,p=t})),this.pdpserviceClient=new xe(this.config.writeToAAD),this.signInStatus=ke.Hy.Unknown,this.defaultConfigUnit=this.config.setDefaultUnitToCelsius?o.a.Celsius:o.a.Fahrenheit,(0,s.N)()&&(0,at.F_)().then((()=>{(function(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const{MultiLocationWeatherServiceImpl:r}=yield n.e("weather-data-lazy-services").then(n.bind(n,19771)),{WeatherMonthlyTrendClient:i,WeatherDailyTrendClient:o}=yield n.e("weather-data-lazy-services").then(n.bind(n,74698)),{SpecialForTodayCalendarClient:a}=yield n.e("weather-data-lazy-services").then(n.bind(n,38500)),{createVersionApiClient:s}=yield n.e("weather-data-lazy-services").then(n.bind(n,74733));return{multiLocationWeatherService:new r(t,Object.assign(Object.assign(Object.assign({},e.weatherApi),e.multiLocationWeather),e)),dailyTrendService:new o(t,e.dailyTrend),monthlyTrendService:new i(t,e.monthlyTrend),specialForTodayCalendarService:new a(t,e.specialForTodayCalendar),tileApiClient:s(t,e)}}))})(u,d).then(h).catch(p),(0,Ve.W)()})),this.serviceClient=function(e,t,n){return t.weatherApi?new Xe(e,t,n):void 0}(d,u,this.url),this.operation=new Ue(this,this.defaultConfigUnit)}sendFetchWeatherSummaryFailureAction(){j.w.fetchWeatherSummaryFailure.getActionSender(this).send(p.z$F)}getAutoSuggestResponse(e,t=!0){return(0,c.mG)(this,void 0,void 0,(function*(){try{const n=yield this.autoSuggestService.getAutoSuggestResponse(e,t);if(n)return n.forEach((e=>e.autoSuggestionName=a.getAutoSuggestionName(e))),n}catch(e){t&&(0,h.OO)(e,p.H4x,`error in library [weather-data-connector],Autosuggest service call exception, useAutoSuggestionV6=${this.config.autoSuggest&&this.config.autoSuggest.useV6}`)}return null}))}geocodeLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){return yield this.autoSuggestService.geocodeSuggestion(e)}))}getWeatherLocSearchMoreData(e){return(0,c.mG)(this,void 0,void 0,(function*(){try{const t=yield this.autoSuggestService.getLocationSearchResponse(e);if(null!==t)return t.forEach((e=>e.autoSuggestionName=a.getAutoSuggestionName(e))),t;L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p._h2),{message:"Msn location search returned no data",pb:Object.assign(Object.assign({},p._h2.pb),{customMessage:`UserInput: ${e}`})}))}catch(e){(0,h.OO)(e,p.qrV,"error in library [weather-data-connector],Msn location search service call exception")}return null}))}getLocalizedDetectedLocation(){var e;return(0,c.mG)(this,void 0,void 0,(function*(){const t=null===(e=this.getCurrentState())||void 0===e?void 0:e.profile;if(this.config.enableMobileFollowLoc){const e=k.jG.isMiniProgram?(0,V.qB)():(0,V.K_)(),n=t.detectedLocation||e;if(n)return n}let n;return n=t.detectedLocation?t.detectedLocation:yield this.getBLISLocation(),!n||(0,W.bd)(n)&&(0,W.a7)(n)||(n=yield this.localizeLocationService.getLocalisedLocationDetails(n)),n}))}fetchWeather(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){return this.fetchWeatherPromise&&!(null==n?void 0:n.historyFetch)?this.fetchWeatherPromise:this.fetchWeatherPromise=this.fetchWeatherImpl(e,t,n)}))}fetchWeatherByRawUrl(e){return(0,c.mG)(this,void 0,void 0,(function*(){let t,n;const r={userProfileFetch:!0};try{const i=(0,ge.DO)(this.requestContext),a=new ot.z(i);t=a.location(),n=a.unit(),r.locationSearchText=null==a?void 0:a.getLocationSearchText();const s=a.day();e.partialHourly&&!e.hourlyStartDay&&(r.hourlyStartDay=s),Object.assign(r,e),t&&(0,_.JY)(t)&&(n==o.a.Celsius||n==o.a.Fahrenheit)?r.userProfileFetch=!1:r.userProfileFetch=!0}catch(e){r.userProfileFetch=!0}return this.fetchWeather(t,n,r)}))}toggleImmersivePlayer(e,t){j.w.toggleImmersivePlayer.getGlobalActionSender().send(e,t)}fetchWeatherImpl(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){if(!e&&(null==n?void 0:n.locationSearchText)&&!(0,z.lb)())try{e=yield this.getLocationFromSearchText(n.locationSearchText)}catch(e){}return this.operation.fetchWeather(e,t,n)}))}getMultiLocationWeather(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const n=yield this.lazySvc,r=t||this.getCurrentState().profile.unit;return yield n.multiLocationWeatherService.getWeather(e,r)}))}getMobileMultiLocation(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){const n=yield this.lazySvc,r=t||this.getCurrentState().profile.unit;return yield n.multiLocationWeatherService.getMobileRecentList(e,r)}))}fetchWeatherDataAndLocationName(e,t,n,r){var i;return(0,c.mG)(this,void 0,void 0,(function*(){r=r||{};const o=yield new Promise(((n,i)=>{let o=0;const a={},c=()=>a.forecast&&a.location?n(a):2===o?i(new Error("Failed to fetch Weather forecast or location")):void 0;this.resolveWeatherData(e,t,r).then((e=>{++o,a.forecast=e&&e.forecast,a.home=e&&e.home,a.location=e&&e.location||a.location,a.profile=e&&e.profile,c()})).catch((n=>{var i;let u=(0,s.N)()?p.z$F:p.zEz;"scard"===(null===(i=null==r?void 0:r.requestInfo)||void 0===i?void 0:i.experience)&&(u=p.XI8),(null==r?void 0:r.preventLogExceptionOnFailure)||(0,h.OO)(n,u,"error in library [weather-data-connector],error in library [weather-data-connector],Unexpected process weather summary data error",`${(0,W.f6)(e)}, unit=${t}, res=${JSON.stringify(a)}`),++o,c()})),this.resolveLocationName(e).then((e=>{++o,a.location=a.location||e,c()})).catch((t=>{(0,h.OO)(t,p._Y2,"error in library [weather-data-connector],Unexpected process localize display name error",`${(0,W.f6)(e)}`),++o,c()}))}));if(o&&o.forecast&&o.location){if((0,s.N)())o.forecast.currentCondition.deepLink=(0,He.DF)(o.location,o.forecast.unit);else{const e=(0,ge.Nd)(this.requestContext.data.locationHref,"locationHref");o.forecast.currentCondition.deepLink=(0,He.DF)(o.location,o.forecast.unit,{locationHref:e})}o.location.displayName=a.getDisplayName(o.location),j.w.fetchWeatherSummarySuccess.getActionSender(this).send(o.forecast,o.location,o.forecast.unit,void 0,n.historyFetch);let e=this.getCurrentState().profile;e.unit=o.forecast.unit,e.sig=null===(i=null==o?void 0:o.profile)||void 0===i?void 0:i.sig;const t=o.profile&&o.profile.followedLocations&&o.profile.followedLocations.filter((e=>!!e&&(0,W.CR)(e))),r=o.profile&&o.profile.detectedLocation&&(0,W.CR)(o.profile.detectedLocation)&&o.profile.detectedLocation,c=e.followedLocations?e.followedLocations.length:0;return t&&t.length>0&&t.length>c&&(e.followedLocations=ee(t),t.length>e.followedLocations.length&&this.fetchLocationWeatherMap()),r&&!e.detectedLocation&&(e.detectedLocation=r),o.profile&&o.profile.home&&(0,W.CR)(o.profile.home)&&(e.home=o.profile.home,e.home.displayName||(e.home.displayName=a.getDisplayName(e.home))),(0,s.N)()&&(n.bySearch&&(e=ne(e,o.location),this.setRecentLocations(e.recents),e.recentsForMobile=ie(e,o.location)),this.updateHyperlocal()),j.w.updateWeatherUserProfile.getActionSender(this).send(e),!0}return!1}))}fetchWeatherDataAndLocationNameWithFallback(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function*(){try{if(yield this.fetchWeatherDataAndLocationName(e,t,n,r))return!0;(null==n?void 0:n.isRefresh)||this.sendFetchWeatherSummaryFailureAction()}catch(e){return this.fetchWeatherDataAndLocationNameWithBLIS(t,n,r)}}))}fetchWeatherDataAndLocationNameWithBLIS(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){try{const r=yield this.getBLISLocation(),i=Object.assign({},n);i.readChoice=e?0:2;if(yield this.fetchWeatherDataAndLocationName(r,e,t,i))return!0;(null==t?void 0:t.isRefresh)||this.sendFetchWeatherSummaryFailureAction()}catch(e){(null==t?void 0:t.isRefresh)||this.sendFetchWeatherSummaryFailureAction()}}))}updateHyperlocal(){var e;return(0,c.mG)(this,void 0,void 0,(function*(){if((null===(e=this.config.weatherApi)||void 0===e?void 0:e.includenowcasting)&&this.config.autoSuggest.useV6){const e=this.getCurrentState().currentLocation;this.checkLocationHyper().then((t=>{null!==t&&(L.M0.sendClientLogEvent({message:`Visited location with name ${a.getDisplayName(e)}, hyperlocal check: ${t}`,type:"information"}),a.isSameLocationPoint(e,this.getCurrentState().currentLocation)&&j.w.updateHyperlocal.getActionSender(this).send(t))}))}}))}checkLocationHyper(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=this.getCurrentState().currentLocation;if(function(e){return!!(null==e?void 0:e.locationType)&&(e.locationType===b.HYPERLOCAL||e.locationType===b.NONHYPERLOCAL||e.locationType===b.UNKNOWN)}(e))return T(e);{const t=a.getDisplayName(e);if(this.locationHyperCache.has(t))return this.locationHyperCache.get(t);this.locationHyperCache.set(t,null);const n=yield this.getAutoSuggestResponse(t,!1);if(n){for(const r of n)if(a.isSameLocationPoint(r,e)||a.getDisplayName(r)===t){const e=T(r);return this.locationHyperCache.set(t,e),e}this.locationHyperCache.set(t,!1)}return!1}}))}resolveLocationName(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){if((0,ae.w)(e))return yield this.operation.resolveMiniProgramDetectedLocationName(e,t);let n;return a.getDisplayName(e)&&(n=e),n&&a.getDisplayName(n)||(n=re(this.getCurrentState().profile,e.latitude,e.longitude)),n&&a.getDisplayName(n)&&(0,W.bd)(n)||(n=(yield this.localizeLocationService.getLocalisedLocationDetails(e,t))||n),n?(n.displayName=a.getDisplayName(n),n):e}))}resolveWeatherData(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){let r=yield this.getWeather(e,t,n);return r&&r.location&&!(0,W.a7)(r.location)&&(r.location=yield this.resolveLocationName(r.location)),r&&r.location&&"{}"!==JSON.stringify(r.location)||!this.config.defaultLocation?!a.isSameLocationPoint(r.location,(0,W.qE)())&&a.isSameLocationPoint(r.location,this.config.defaultLocation)?j.w.updateFallbackStatus.getActionSender(this).send(!0):j.w.updateFallbackStatus.getActionSender(this).send(!1):(n.preventLogExceptionOnFailure=!0,r=yield this.getWeather(this.config.defaultLocation,t,n),r&&r.location&&(r.location=yield this.resolveLocationName(r.location)),j.w.updateFallbackStatus.getActionSender(this).send(!0)),r}))}isCurrentLocationFavorite(){const{profile:e,currentLocation:t}=this.getCurrentState();return(0,W.r3)(e.favorites,t)}updateUnitAndFetchWeather(e){return(0,c.mG)(this,void 0,void 0,(function*(){j.w.updateWeatherUserProfile.getActionSender(this).send({unit:e}),yield this.operation.updateUnitAndFetchWeather(e),this.fetchLocationWeatherMap()}))}updateWeather(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){return this.fetchWeatherPromise=null,yield this.operation.updateWeather(e,t)}))}updateWeatherAndSetHome(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){if(this.config.enableMobileFollowLoc)return this.upLocation(e);this.fetchWeatherPromise=null;const n=yield this.operation.updateWeather(e,t);return n&&this.config.enableLastLocation?this.operation.setHomeForMobile(this.getCurrentState().currentLocation):n}))}setLocationHome(e){return(0,c.mG)(this,void 0,void 0,(function*(){let t=!1;return t=this.config.enableMobileFollowLoc?yield this.operation.setHomeForMobile(e):yield this.operation.setHome(e),t||j.w.updateOperationFailure.getActionSender(this).send(q.Uh.setHomeFail),t}))}setCurrentHomeLocation(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=this.getCurrentState().currentLocation;return this.setLocationHome(e)}))}setCurrentLocationFavorite(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=this.getCurrentState().currentLocation;return this.addFavoriteLocation(e)}))}addFavoriteLocation(e){var t,n;return(0,c.mG)(this,void 0,void 0,(function*(){if(((null===(n=null===(t=this.getCurrentState().profile)||void 0===t?void 0:t.favorites)||void 0===n?void 0:n.length)||0)>=Q)return j.w.updateOperationFailure.getActionSender(this).send(q.Uh.exceedPinLocationLimit),!1;const r=yield this.operation.addFavorite(e);return this.setRecentLocations(this.getCurrentState().profile.recents),r}))}removeFavoriteLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=yield this.operation.removeFavorite(e);return this.setRecentLocations(this.getCurrentState().profile.recents),t}))}removeLocation(e,t){return(0,c.mG)(this,void 0,void 0,(function*(){if(t)return yield this.operation.removeFavorite(e,!1);{const t=this.getCurrentState().profile;return t.recents=(0,K.Mv)(t.recents,e),j.w.updateWeatherUserProfile.getActionSender(this).send(t),this.setRecentLocations(t.recents),!0}}))}findMyLocationAndFetchWeather(){return(0,c.mG)(this,void 0,void 0,(function*(){let e;if(this.config.enableLastLocation){e=yield this.getLocationDependBrowserApi();const t=yield this.resolveLocationName(e);return e=Object.assign(Object.assign({},e),t),this.updateWeatherAndSetHome(e)}return e=yield this.getBLISLocation(),this.updateWeather(e)}))}fetchActiveStateforWeather(e,t,n,r={}){return(0,c.mG)(this,void 0,void 0,(function*(){return!1===t?this.fetchActiveLocationAndUnit(e).then((e=>e[0])):this.fetchSettingAndUpdateWeather(e,n,r).then((e=>e[0]))}))}isLocationAndUnitReusable(){if(this.getWeatherLocationAndUnit&&st.getWeatherLocationAndUnitTime){if(Math.trunc((Date.now()-st.getWeatherLocationAndUnitTime)/6e4)<3)return!0}return!1}fetchSettingAndUpdateWeather(e,t,n={}){return(0,c.mG)(this,void 0,void 0,(function*(){if(!e&&this.isLocationAndUnitReusable())return this.getWeatherLocationAndUnit;st.getWeatherLocationAndUnitTime=Date.now();const r=this.getCurrentState().currentLocation;let i=r,o=this.defaultConfigUnit,a=!1;return this.getWeatherLocationAndUnit=new Promise((e=>(0,c.mG)(this,void 0,void 0,(function*(){try{let e=!0;i=this.getURLLatLngLocation();const t=yield this.getBLISLocation();i||(e=!1,i=t||i),yield this.updateSignedInStatus();const r=yield this.pdpserviceClient.read(n),{profile:s}=this.getCurrentState();s.followedLocations=ee(r.followedLocations).slice(0,Q),s.detectedLocation=t,j.w.updateWeatherUserProfile.getActionSender(this).send(s),r&&(e||(r.locationMode&&(a=1===r.locationMode),a?(i=t,j.w.updateLocationDetectionState.getActionSender(this).send(1,i)):r.home&&(i=r.home)),r.unit&&(o=r.unit))}catch(e){(0,h.OO)(e,p.OPi,"error in library [weather-data-connector],error in library [weather-data-connector],Weather Location fetch failed")}r&&r.displayName&&i&&r.latitude===i.latitude&&r.longitude===i.longitude&&r.locality===i.locality&&(i.displayName=r.displayName),e([i,o]),i||L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p.OPi),{message:"Weather Location fetch failed with empty activeWeatherLocation",pb:Object.assign(Object.assign({},p.OPi.pb),{customMessage:`Geo Latitude = ${l.Al.ClientSettings&&l.Al.ClientSettings.geo_lat},\n                            & Geo Longitude =  ${l.Al.ClientSettings&&l.Al.ClientSettings.geo_long}`})})),i&&this.getWeatherForecastDataAndLocationName(i,o,t)})))),this.getWeatherLocationAndUnit}))}fetchActiveLocationAndUnit(e){return(0,c.mG)(this,void 0,void 0,(function*(){if(this.getWeatherLocationAndUnit&&!e)return this.getWeatherLocationAndUnit;let t=this.getCurrentState().currentLocation,n=this.defaultConfigUnit;return this.getWeatherLocationAndUnit=new Promise((e=>(0,c.mG)(this,void 0,void 0,(function*(){try{if(t=(yield this.getBLISLocation())||t,t.displayName=a.getDisplayName(t),yield this.updateSignedInStatus(),this.isUserLoggedIn()){const e=yield this.pdpserviceClient.read();e&&(e.home&&(t=e.home),e.unit&&(n=e.unit))}}catch(e){(0,h.OO)(e,p.OPi,"error in library [weather-data-connector],Weather Location fetch failed")}e([t,n]),t||L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p.OPi),{message:"Weather Location fetch failed with empty activeWeatherLocation",pb:Object.assign(Object.assign({},p.OPi.pb),{customMessage:`Geo Latitude = ${l.Al.ClientSettings&&l.Al.ClientSettings.geo_lat},\n                            & Geo Longitude =  ${l.Al.ClientSettings&&l.Al.ClientSettings.geo_long}`})})),t&&this.getWeatherForecastDataAndLocationName(t,n)})))),this.getWeatherLocationAndUnit}))}updateSettings(e,t,n,r,i,o={},a=!1){return(0,c.mG)(this,void 0,void 0,(function*(){let s=2===e&&t&&""!==t.latitude&&""!==t.longitude;const c=e&&e!==this.getCurrentState().locationDetectionSetting;s&&this.getCurrentState().currentLocation&&!c&&(s=!(t.latitude===this.getCurrentState().currentLocation.latitude&&t.longitude===this.getCurrentState().currentLocation.longitude));const u=n&&n!==this.getCurrentState().unit;n||(n=this.getCurrentState().unit||this.defaultConfigUnit),t&&""!==t.latitude&&""!==t.latitude||(t=this.getCurrentState().currentLocation),1===e?(t=yield this.getBLISLocation(),j.w.updateLocationDetectionState.getActionSender(this).send(1,t,new Date),be(t)):j.w.updateLocationDetectionState.getActionSender(this).send(e,t,new Date);const l=[];return!1!==r&&((s||a)&&l.push(this.pdpserviceClient.setHomeLocation(t,o).then((()=>{var e;const t=null===(e=this.getCurrentState().profile)||void 0===e?void 0:e.home,n=this.getCurrentState().profile.locationMode;t&&2===n&&this.addFavoriteLocation(t)}))),(u||c)&&l.push(this.pdpserviceClient.updateUserSettings(u?n.toString():null,c?e.toString():null,o))),yield Promise.all(l),j.w.updateWeatherSettings.getActionSender(this).send(q.SU.Start),i||(0,fe.mS)({id:"InvalidateWeatherPdp",type:"command"}),t}))}updateSettingsAndFetch(e,t,n,r,i,o,a={}){return(0,c.mG)(this,void 0,void 0,(function*(){t=yield this.updateSettings(e,t,n,r,!0,a);const s=n&&n!==this.getCurrentState().unit;return yield this.getWeatherForecastDataAndLocationName(t,n,o),s&&this.fetchLocationWeatherMap(),i||(0,fe.mS)({id:"InvalidateWeatherPdp",type:"command"}),t}))}updateSignedInStatus(){return(0,c.mG)(this,void 0,void 0,(function*(){if(this.signInStatus===ke.Hy.Unknown){const e=new Date;this.signInStatus=yield(0,Ae.XJ)(),Le.s.signedInStatus.registerObserver((t=>(0,c.mG)(this,void 0,void 0,(function*(){if(!this.isUserLoggedIn()&&(this.signInStatus=yield(0,Ae.XJ)(),this.isUserLoggedIn())){const t=new Date;g.k.log(`Time of login:${JSON.stringify((t.getTime()-e.getTime())/1e3)} seconds`),this.fetchActiveStateforWeather(!0)}}))))}}))}isUserLoggedIn(){return this.signInStatus===ke.Hy.SignedIn}updateLocationDisplayName(e){return(0,c.mG)(this,void 0,void 0,(function*(){if(e&&a.getDisplayName(e)&&(0,W.bd)(e))return void j.w.updateLocationDisplayName.getActionSender(this).send(e);if(!(0,_.JY)(e))return void L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p.OPi),{message:"No valid User location set "}));const t=yield this.localizeLocationService.getLocalisedLocationDetails(e);if(t){const e=ne(this.getCurrentState().profile,t);this.setRecentLocations(e.recents),e.recentsForMobile=ie(this.getCurrentState().profile,t),j.w.updateWeatherUserProfile.getActionSender(this).send(e),j.w.updateLocationDisplayName.getActionSender(this).send(t)}}))}getWeatherForecastDataAndLocationName(e,t,n){var r;return(0,c.mG)(this,void 0,void 0,(function*(){try{const r=yield this.getWeatherForecastData(e,t,n);return r&&this.updateLocationDisplayName(e),r}catch(e){let t=p.z$F;return"scard"===(null===(r=null==n?void 0:n.requestInfo)||void 0===r?void 0:r.experience)&&(t=p.XI8),(0,h.OO)(e,t,"error in library [weather-data-connector],error in library [weather-data-connector],Failure to parse weather response"),!1}}))}getWeatherForecastData(e,t,n){var r;return(0,c.mG)(this,void 0,void 0,(function*(){if(!(0,_.JY)(e))return L.M0.sendAppErrorEvent(Object.assign(Object.assign({},p.OPi),{message:"No valid User location set"})),!1;const i=yield this.getWeather(e,t,n);if(!i)return!1;const o=i.forecast,a=ne(this.getCurrentState().profile,e);a.unit=t,this.setRecentLocations(a.recents),a.recentsForMobile=ie(this.getCurrentState().profile,e),j.w.updateWeatherUserProfile.getActionSender(this).send(a);return this.getCurrentState().settingUpdateStatus!=q.SU.WCComplete&&("wcardwc"===(null===(r=null==n?void 0:n.requestInfo)||void 0===r?void 0:r.experience)&&o&&(o.lastUpdated=Date.now().toString()),j.w.fetchWeatherSummarySuccess.getActionSender(this).send(o,e,t),!0)}))}updateWeatherDataState(e,t){const n=JSON.parse(e);if(!n||!n.userProfile||!n.userProfile.location)return;const r=n.userProfile,i=he(r.location),o=r.locationSettingMode?Number(r.locationSettingMode):1,{profile:a}=this.getCurrentState();a.detectedLocation=r.detectedLocation&&he(r.detectedLocation),a.followedLocations=(0,K.Td)(r.followedLocations&&r.followedLocations.map((e=>he(e)))),j.w.updateWeatherUserProfile.getActionSender(this).send(a),t&&n.responses&&n.responses[0]&&n.responses[0].weather&&n.responses[0].weather[0]&&(n.responses[0].weather[0].disableFreshCheck=!0);const s=function(e,t,n){const r=t?{dailyAsOption:!0}:void 0;return ue.s9.TranslateToWeatherOverview(e.response,{location:e.location,locStrResolver:e.locStrResolver},r,!1,n)}({response:n,location:i,locStrResolver:se.q});if(!s||!s.unit)return;const u=s.unit;j.w.updateLocationDetectionState.getActionSender(this).send(o,i),j.w.fetchWeatherSummarySuccess.getActionSender(this).send(s,i,u,q.SU.WCComplete),this.getWeatherLocationAndUnit||(this.getWeatherLocationAndUnit=new Promise((e=>(0,c.mG)(this,void 0,void 0,(function*(){e([i,u])})))),st.getWeatherLocationAndUnitTime=Date.now())}normalWeatherCondition(){return this.getWeatherCondition()==q.pt.normal}getWeatherCondition(){var e,t,n,r;let i=q.pt.normal;if(null===(e=this.config.minimapConfig)||void 0===e?void 0:e.enableMiniMap){const e=this.getCurrentState();if(this.config.minimapConfig.enableRainMap){this.config.minimapConfig.enableWeatherNowcast&&(null===(n=null===(t=null==e?void 0:e.nowcasting)||void 0===t?void 0:t.precipitation)||void 0===n?void 0:n.length)>0&&!!(null===(r=e.nowcasting)||void 0===r?void 0:r.useNowcastSummary)&&(i|=q.pt.nowcast)}if(e.alertsInfo){(0,it.lI)(e.alertsInfo.class||"")&&(i|=q.pt.alert)}}return i}getURLLatLngLocation(){const e=(0,ge.Nd)(this.requestContext.data.locationHref,"locationHref"),t=new URL(e),n={latitude:t.searchParams.get("lat"),longitude:t.searchParams.get("lon")};return(0,W.CR)(n)?n:null}getBLISLocation(){return(0,c.mG)(this,void 0,void 0,(function*(){let e=(yield this.pdpserviceClient.getBLISLocation())||(0,W.qE)();return(0,_.JY)(e)||(e=this.config.defaultLocation),e}))}getGeoLocation(){let e=(0,W.qE)();return(0,_.JY)(e)||(e=this.config.defaultLocation),e}getLocationDependBrowserApi(){return(0,c.mG)(this,void 0,void 0,(function*(){try{return yield(0,V.Wc)()}catch(e){return yield this.getBLISLocation()}}))}getRecentLocations(){const e=(0,Z.$o)().getItem(q.Br);if(e)return JSON.parse(e)}setRecentLocations(e){(0,Z.$o)().supported&&(0,Z.$o)().setItem(q.Br,JSON.stringify(e))}fetchNearbyStationWeather(){return(0,c.mG)(this,void 0,void 0,(function*(){const{currentLocation:e,unit:t}=this.getCurrentState(),n=yield this.lazySvc;return yield n.multiLocationWeatherService.getNearbyStationWeather(e,t)}))}fetchSpecialForTodayCalendar(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){const r=yield this.lazySvc;return yield r.specialForTodayCalendarService.getCalendarResponse(e,t,n)}))}callMapVersionApi(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.lazySvc;e&&e.tileApiClient&&(e.tileApiClient.fetchTileVersions(),e.tileApiClient.preloadResources())}))}fetchLocationWeatherMap(){var e;return(0,c.mG)(this,void 0,void 0,(function*(){if(this.filledUserProfile){const{profile:t,currentLocation:n}=this.getCurrentState(),r=(null===(e=this.config)||void 0===e?void 0:e.suggestedLocations)||[];let i=function(e){return te(e,!1)}([t.detectedLocation,...null==t?void 0:t.followedLocations].filter((e=>!!e)));(null==i?void 0:i.length)||(i=[]),i.length<2&&(i=i.concat(r)),i=i.filter((e=>!!e&&!a.isSameLocationPoint(e,n)&&(0,W.CR)(e)));const o=yield this.getMultiLocationWeather(i);j.w.updateLocationWeatherMap.getActionSender(this).send(o)}}))}fillUserProfile(){var e,t;return(0,c.mG)(this,void 0,void 0,(function*(){if(this.filledUserProfile)return!1;this.filledUserProfile=!0;let n=null===(e=this.getCurrentState())||void 0===e?void 0:e.profile;n&&n.followedLocations||(yield this.fetchWeatherByRawUrl(),n=this.getCurrentState().profile);const r=this.operation.loadPartialUserProfleInLocal();n.recentsForMobile=function(){const e=(0,Z.$o)().getItem(q.n3);if(e)return JSON.parse(e)}(),n.unit=(0,Ge.rC)(new URL(this.url).searchParams)||n.unit||this.defaultConfigUnit,n.recents=r.recents,n.recents&&n.recents.forEach((e=>!e.displayName&&(e.displayName=a.getDisplayName(e)))),n.recentsForMobile&&n.recentsForMobile.forEach((e=>!e.displayName&&(e.displayName=a.getDisplayName(e))));const i=this.config.enableMobileFollowLoc?n.recentsForMobile:n.recents;n.followedLocations=ee([...n.followedLocations||[],...i||[]].filter((e=>!!e))).slice(0,Y),n.followedLocations.length>1&&a.isSameLocationPoint(n.followedLocations[1],this.getCurrentState().currentLocation)&&(null===L.M0||void 0===L.M0||L.M0.addOrUpdateTmplProperty("VisitSecondLocation","1")),null===L.M0||void 0===L.M0||L.M0.addOrUpdateTmplProperty("FollowCount",`${(null===(t=n.followedLocations)||void 0===t?void 0:t.length)||0}`),n.detectedLocation=yield this.getLocalizedDetectedLocation();const o=X(n);return j.w.updateWeatherUserProfile.getActionSender(this).send(o),this.fetchLocationWeatherMap(),!0}))}upLocation(e,t=!0,n=!0){var r;return(0,c.mG)(this,void 0,void 0,(function*(){const i=(null===(r=this.getCurrentState().profile)||void 0===r?void 0:r.followedLocations)||[],o=((null==i?void 0:i.filter((t=>(0,W.G)(e,t))))||[]).slice(0,Y-1);return j.w.updateWeatherUserProfile.getActionSender(this).send({home:e,followedLocations:[e,...o]}),t&&this.updateWeather(e),!n||(yield this.setLocationHome(e))}))}upCurrentLocation(){return(0,c.mG)(this,void 0,void 0,(function*(){return this.upLocation(this.getCurrentState().currentLocation,!1)}))}setPrimaryLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=yield this.setLocationHome(e);return t&&j.w.updateWeatherUserProfile.getActionSender(this).send({home:e}),t}))}addFollowLocation(e){var t;return(0,c.mG)(this,void 0,void 0,(function*(){if(!(yield this.operation.addFavorite(e)))return!1;const n=((null===(t=this.getCurrentState().profile)||void 0===t?void 0:t.followedLocations)||[]).filter((t=>(0,W.G)(e,t))).slice(0,Y-1);return j.w.updateWeatherUserProfile.getActionSender(this).send({followedLocations:[e].concat(n)}),!0}))}removeNotPrimaryLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.getCurrentState().profile||{};if(!(yield this.pdpserviceClient.removeLocation(e)))return!1;t.recents=(0,K.Mv)(t.recents,e),this.setRecentLocations(t.recents),this.config.enableMobileFollowLoc&&(t.recentsForMobile=(0,K.Mv)(t.recentsForMobile,e),oe(t.recentsForMobile));const n=(t.followedLocations||[]).filter((t=>!(0,W.eu)(t,e)));return j.w.updateWeatherUserProfile.getActionSender(this).send({followedLocations:n,recentsForMobile:t.recentsForMobile}),!0}))}removeFollowedLocation(e){return(0,c.mG)(this,void 0,void 0,(function*(){const{profile:t,currentLocation:n}=this.getCurrentState(),r=(null==t?void 0:t.followedLocations)||[];yield this.pdpserviceClient.removeLocation(e),t.recents=(0,K.Mv)(t.recents,e),this.setRecentLocations(t.recents),this.config.enableMobileFollowLoc&&(t.recentsForMobile=(0,K.Mv)(t.recentsForMobile,e),oe(t.recentsForMobile));const i=(null==r?void 0:r.filter((t=>!(0,W.eu)(t,e))))||[];return 1==i.length&&this.updateWeather(n),i.length>0?(j.w.updateWeatherUserProfile.getActionSender(this).send({home:i[0],followedLocations:i,recentsForMobile:t.recentsForMobile}),yield this.setLocationHome(i[0])):(j.w.updateWeatherUserProfile.getActionSender(this).send({home:null,followedLocations:i,recentsForMobile:t.recentsForMobile}),this.fetchLocationWeatherMap(),!0)}))}getWeather(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){const r=yield this.serviceClient.getWeather(e,t,n);return r&&r.forecast?r:null}))}openLocationEditor(e=!1){j.w.openEditLocation.getActionSender(this).send(e)}getLocationFromSearchText(e){var t;return(0,c.mG)(this,void 0,void 0,(function*(){return null===(t=yield this.autoSuggestService.getAutoSuggestResponse(e))||void 0===t?void 0:t[0]}))}updatePollenSelectedDateIndex(e){j.w.updatePollenSelectedDateIndex.getActionSender(this).send(e)}updatePollenCity(e){j.w.updatePollenCity.getActionSender(this).send(e)}updateWeatherCurrentCardSize(e){j.w.updateWeatherCurrentCardSize.getActionSender(this).send(e)}updateWeatherCarouselBg(e){j.w.updateWeatherCarouselBg.getActionSender(this).send(e)}updateWeatherInsightSection(e){j.w.updateWeatherInsightSection.getActionSender(this).send(e)}isCurrentLocationFollowed(){var e,t;const{profile:n,currentLocation:r}=this.getCurrentState();return(null===(t=null===(e=null==n?void 0:n.followedLocations)||void 0===e?void 0:e.filter((e=>(0,W.eu)(e,r))))||void 0===t?void 0:t.length)>0}hideWeatherCard(){j.w.hideWeatherCard.getActionSender(this).send()}updateLocationDetectionState(e,t){j.w.updateLocationDetectionState.getActionSender(this).send(e,t)}}var ct=n(30856);function ut(e){if(e.currentLocation){const t=re(e.profile,e.currentLocation.latitude,e.currentLocation.longitude);t&&(t.displayName=a.getDisplayName(e.currentLocation))}}class lt{constructor(){this.INITIAL_STATE={locationDetectionSetting:2,unit:void 0,showLocationPanel:!0,profile:{},pollenSelectedDateIndex:0,hourlySelectedDateIndex:0,layoutType:"",dateInfo:{},pollenCities:void 0}}reduce(e,t){if(!e)return this.INITIAL_STATE;if(!t)return e;let n=!1,r=null;return n=n||ct.G.handleAction(t,j.w.fetchWeatherSummarySuccess,((t,n,i,o,a)=>{r=Object.assign({},e),r.currentCondition=t.currentCondition,r.forecast=t.forecast,r.pollenForecast=t.pollen,r.nowcasting=t.nowcasting,r.lastUpdated=t.lastUpdated,r.alertsInfo=t.alertsInfo,r.alertsInfoList=t.alertsInfoList,r.contentData=t.contentData,r.mapsMetaData=t.mapsMetaData&&Object.assign(Object.assign({},t.mapsMetaData),{RadarNowcastVectorMap:t.mapsMetaData.NowcastVectorMap}),r.source=t.source,r.provider=t.provider,r.aqiProvider=t.aqiProvider,r.lifeDaily=t.lifeDaily,r.lifeActivityData=t.lifeActivityData,r.forecastVideo=t.forecastVideo,r.activityIndexDaily=t.activityIndexDaily,r.stormInfo=t.stormInfo,r.commentary=t.commentary,r.isHistoryFetch=a,(0,_.JY)(n)||(n=e.currentLocation),r.currentLocation=Object.assign({},n),ut(r),r.unit=i,o&&(r.settingUpdateStatus=o),r.currentLocation&&r.currentCondition&&r.locationWeatherMap&&(r.locationWeatherMap[(0,W._v)(r.currentLocation)]={currentTemperature:r.currentCondition.currentTemperature,pvdrIcon:r.currentCondition.pvdrIcon,symbol:r.currentCondition.symbol,alertCount:r.currentCondition.alertCount,alertSignificance:r.currentCondition.alertSignificance,cap:r.currentCondition.shortCap})})),n=n||ct.G.handleAction(t,j.w.fetchWeatherSummaryFailure,(t=>{r=Object.assign(Object.assign({},e),{error:Object.assign({},t)})})),n=n||ct.G.handleAction(t,j.w.updatePollenSelectedDateIndex,(t=>{r=Object.assign(Object.assign({},e),{pollenSelectedDateIndex:t})})),n=n||ct.G.handleAction(t,j.w.updatePollenCity,(t=>{r=Object.assign(Object.assign({},e),{pollenCities:t})})),n=n||ct.G.handleAction(t,j.w.updateHourlySelectedDateIndex,(t=>{r=Object.assign(Object.assign({},e),{hourlySelectedDateIndex:t})})),n=n||ct.G.handleAction(t,j.w.updateCurrentLocation,(t=>{r=Object.assign({},e),(0,_.JY)(t)||(t=e.currentLocation),r.currentLocation=Object.assign({},t),ut(r)})),n=n||ct.G.handleAction(t,j.w.updateLocationDisplayName,(t=>{r=Object.assign({},e),a.isSameLocationPoint(e.currentLocation,t)&&(r.currentLocation=Object.assign(Object.assign({},t),{displayName:a.getDisplayName(t)}),ut(r))})),n=n||ct.G.handleAction(t,j.w.updateLocationDetectionState,((t,n,i)=>{r=Object.assign({},e),r.locationDetectionSetting=t,r.currentLocation=n,r.settingUpdatedTime=i,ut(r)})),n=n||ct.G.handleAction(t,j.w.loadConditionalExperience,(t=>{const n=e.lazyExpsToLoad?[...e.lazyExpsToLoad]:[];-1===n.indexOf(t)&&(n.push(t),r=Object.assign(Object.assign({},e),{lazyExpsToLoad:n}))})),n=n||ct.G.handleAction(t,j.w.updateWeatherSettings,(t=>{r=Object.assign({},e),r.settingUpdateStatus=t})),n=n||ct.G.handleAction(t,j.w.updateWeatherUserProfile,(t=>{r=Object.assign({},e),r.profile=Object.assign(Object.assign(Object.assign({},e.profile),t),{home:t.home||e.profile.home||void 0}),r.profile.home&&e.currentLocation&&a.isSameLocationPoint(r.profile.home,e.currentLocation)&&(r.currentLocation.from=3),ut(r)})),n=n||ct.G.handleAction(t,j.w.updateOperationFailure,(t=>{r=Object.assign(Object.assign({},e),{operationFailureId:t})})),n=n||ct.G.handleAction(t,j.w.updateWeatherData,(t=>{r=Object.assign(Object.assign({},e),t)})),n=n||ct.G.handleAction(t,j.w.updateWeatherDataRefreshing,(t=>{r=Object.assign(Object.assign({},e),{refreshing:t})})),n=n||ct.G.handleAction(t,j.w.updateFallbackStatus,(t=>{r=Object.assign(Object.assign({},e),{fallbackedLocation:t})})),n=n||ct.G.handleAction(t,j.w.updateHyperlocal,(t=>{r=Object.assign(Object.assign({},e),{isHyperlocal:t})})),n=n||ct.G.handleAction(t,j.w.updateLocationPanelPresentation,(t=>{r=Object.assign(Object.assign({},e),{showLocationPanel:t})})),n=n||ct.G.handleAction(t,j.w.updateLocationWeatherMap,(t=>{e.currentLocation&&e.currentCondition&&(t[(0,W._v)(e.currentLocation)]={currentTemperature:e.currentCondition.currentTemperature,pvdrIcon:e.currentCondition.pvdrIcon,symbol:e.currentCondition.symbol,alertCount:e.currentCondition.alertCount,alertSignificance:e.currentCondition.alertSignificance,cap:e.currentCondition.shortCap}),r=Object.assign(Object.assign({},e),{locationWeatherMap:t})})),n=n||ct.G.handleAction(t,j.w.updateCalendarData,(t=>{r=Object.assign(Object.assign({},e),{calendarData:t})})),n=n||ct.G.handleAction(t,j.w.updateHistoricalTrendsData,(t=>{r=Object.assign(Object.assign({},e),{historicalTrendsData:t})})),n=n||ct.G.handleAction(t,j.w.updateLayoutInfo,(t=>{r=Object.assign(Object.assign({},e),{layoutType:t})})),n=n||ct.G.handleAction(t,j.w.updateDateInfo,(t=>{r=Object.assign(Object.assign({},e),{dateInfo:t})})),n=n||ct.G.handleAction(t,j.w.updateLifeCurrentState,(t=>{r=Object.assign(Object.assign({},e),{lifeCurrentState:t})})),n=n||ct.G.handleAction(t,j.w.updateActivityIndexDetailData,(t=>{let n=e.activityIndexDaily;n&&(n=Object.assign(Object.assign({},n),{activityDays:t})),r=Object.assign(Object.assign({},e),{activityIndexDaily:n})})),n=n||ct.G.handleAction(t,j.w.updateActivityIndexDetailModalState,(t=>{r=Object.assign(Object.assign({},e),{activityDetailModalState:t})})),n=n||ct.G.handleAction(t,j.w.updateWeatherCurrentCardSize,(t=>{r=Object.assign(Object.assign({},e),{isWeatherCurrentCard2U:t})})),n=n||ct.G.handleAction(t,j.w.updateWeatherCarouselBg,(t=>{r=Object.assign(Object.assign({},e),{weaCarouselBg:t})})),n=n||ct.G.handleAction(t,j.w.updateWeatherInsightSection,(t=>{r=Object.assign({},e),r.pageLayoutInfo=Object.assign(Object.assign({},e.pageLayoutInfo),t)})),n=n||ct.G.handleAction(t,j.w.hideWeatherCard,(()=>{r=Object.assign(Object.assign({},e),{weatherCardGotHiddenInFeed:!0})})),n=n||ct.G.handleAction(t,j.w.toggleImmersivePlayer,((t,n)=>{r=Object.assign(Object.assign({},e),{forecastVideoisAutoTrigger:!!n})})),r||e}getLength(e){return null==e?-1:e.length}}var dt=n(75736);const ht={1:"BBih5H.img",3:"BB1kvzy.img",5:"BB1kc8s.img",6:"BBimeH.img",7:"BBiAT6.img",8:"BBi9ul.img",9:"BBi9v6.img",10:"BBiyB9.img",12:"BBihcA.img",14:"BBiyCq.img",15:"BBiyD0.img",16:"BB1kvEj.img",20:"BBiAZc.img",23:"BB1kvFq.img",24:"BBi9D1.img",26:"BB1kKUu.img",27:"BBhZsN.img",28:"BBiwNf.img",30:"BB1kKVy.img",43:"BB1kPhF.img",50:"BB1kMP0.img",77:"BB1kllo.img",78:"BB1kj0A.img",82:"BB1kvLx.img",91:"BBiclk.img"},pt={17:"8",31:"30",49:"14",41:"14",35:"8",4:"3",19:"8",22:"14",23:"23",40:"8",25:"15",34:"7",47:"20",52:"15",53:"26",57:"7",58:"7",59:"7",60:"7",81:"26",11:"10",37:"10",38:"10",51:"24",65:"16",66:"43",69:"10",70:"10",71:"10",72:"10",73:"16",74:"43",89:"12",92:"91",32:"5",2:"1",101:"1",42:"15",33:"6",61:"6",62:"6",87:"6",88:"6",93:"6",94:"6",95:"6",96:"6",54:"27",67:"27",68:"27",90:"12",18:"9",21:"9",36:"9",45:"9",48:"9",63:"9",64:"9",29:"28",102:"28",44:"8",46:"8",79:"23",80:"50",76:"24",75:"24",83:"77",84:"78",85:"24",86:"24",39:"12",13:"8"},gt={6:"AA2FLEn.img",46:"AA2Vf8S.img",34:"AA2UZTY.img",28:"AA2SEPB.img",30:"AA2FOda.img",3:"AA2FOcb.img",92:"AA2UPD7.img",19:"AA2UELK.img",35:"AA2FrcC.img",4:"AA35sdN.img",39:"AA2UMEF.img",33:"AA2UMNK.img",12:"AA2FOco.img",37:"AA2FrcG.img",32:"AA2URWn.img",31:"BBaI7S.img",8:"AA2G17I.img",76:"AA2FBBm.img",91:"AA2FGJd.img",1:"AA2FDUe.img",27:"AA2UMTN.img",40:"AA2FBxU.img",10:"AA2G17Q.img",7:"AA2FQNo.img",36:"AA2UKl3.img",15:"AA2FLEO.img",13:"AA2FBqu.img",42:"AA2V2cP.img",5:"AA2FYSh.img",0:"AA2FwdJ.img",54:"AA2FW7R.img",75:"AA2FOlF.img",9:"AA2FtKC.img"},ft={6:"26201d",46:"12191c",34:"161c26",28:"061723",30:"00173f",3:"00173f",92:"1c1b0f",19:"0e2230",35:"0e1421",4:"001f4e",39:"0a0a12",33:"26201d",12:"050403",37:"111b16",32:"131a28",31:"022332",8:"111b16",76:"121919",91:"00173f",1:"021a56",27:"1e191c",40:"0e1421",10:"111b16",7:"161e33",36:"161e33",15:"161e33",13:"0e1421",42:"000000",5:"00173f",0:"161e33",54:"060519",75:"121919",9:"00173f"},mt={6:"AA2IQVk.img",46:"AA2XO1P.img",34:"AA2J3Sb.img",28:"AA2XYnz.img",30:"AA2IYDF.img",3:"AA2JbD3.img",2:"AA2JbCv.img",19:"AA2XDFT.img",35:"AA2ITBO.img",4:"BB47P5d.img",39:"AA2XlvE.img",33:"AA2ILM4.img",12:"AA2Jjtm.img",37:"AA2IYHX.img",32:"AA2ITzB.img",31:"AA2J3Pd.img",8:"AA2IOkD.img",76:"AA2J3Rp.img",91:"AA2J6vU.img",1:"AA2IJ5n.img",27:"AA2JgV3.img",40:"AA2ILJp.img",10:"AA2IW8j.img",7:"AA2XTae.img",36:"AA2IWbe.img",15:"AA2IQUQ.img",13:"AA2Jefs.img",42:"AA2XB3J.img",5:"AA2J96r.img",54:"AA2JbJP.img",75:"AA2IOk1.img",9:"AA2IOox.img",11:"AA2JjsU.img"},vt={2:"1",101:"1",29:"28",102:"28",14:"13",22:"13",23:"13",41:"40",49:"40",50:"40",44:"35",17:"8",79:"19",80:"46",11:"10",16:"10",24:"10",65:"10",69:"10",71:"10",73:"10",38:"37",43:"37",51:"37",66:"37",70:"37",72:"37",74:"37",61:"6",87:"6",93:"6",95:"6",62:"33",88:"33",94:"33",96:"33",89:"12",67:"27",68:"54",20:"7",25:"7",26:"7",57:"7",59:"7",81:"7",47:"34",52:"34",53:"34",58:"34",60:"34",82:"34",90:"39",18:"9",21:"9",63:"9",45:"36",48:"36",64:"36",77:"75",83:"75",85:"75",78:"76",84:"76",86:"76"};class yt{static getMiniNavSkyCodeUrl(e){const t=Object.prototype.hasOwnProperty.call(pt,e)?pt[e]:e;return yt.skyCodePath+ht[t]}static getSkyCodeBackgroundUrl(e){const t=Object.prototype.hasOwnProperty.call(vt,e)?vt[e]:e;return yt.skyCodePath+gt[t]}static getSkyCodeThemeColor(e){const t=Object.prototype.hasOwnProperty.call(vt,e)?vt[e]:e;return ft[t]}static getSkyCodeGradientUrl(e){const t=Object.prototype.hasOwnProperty.call(vt,e)?vt[e]:e;return yt.skyCodePath+mt[t]}}yt.skyCodePath="//img-s-msn-com.akamaized.net/tenant/amp/entityid/";var Ct=n(66961);function St(e){return N(e)}const wt={experienceConfigSchema:$.WeatherDataConfigSchema}},26495:function(e,t,n){"use strict";n.d(t,{k3:function(){return o},kq:function(){return i},uk:function(){return r}});const r={defaultMaxZoom:7,defaultMinZoom:3,heatmapZIndex:10,borderZIndex:100,cloudZIndex:150,labelZIndex:200},i=new Map([[3,14e6],[4,1e7],[5,53e5],[6,42e5]]),o=[{minAltitude:134e5,zoom:2},{minAltitude:12e6,zoom:3},{minAltitude:8e6,zoom:4},{minAltitude:5e6,zoom:5},{minAltitude:42e5,zoom:6},{minAltitude:3e6,zoom:7},{minAltitude:22e5,zoom:8}]},52747:function(e,t,n){"use strict";var r,i;n.d(t,{D:function(){return r}}),function(e){e.TC="TC",e.TD="TD",e.TS="TS",e.H1="H1",e.H2="H2",e.H3="H3",e.H4="H4",e.H5="H5",e.STS="STS",e.TY="TY",e.STY="STY",e.SuperTY="SuperTY",e.VST="VST",e.VT="VT"}(r||(r={})),function(e){e.CMA="CMA",e.JMA="JMA",e.NHC="NHC"}(i||(i={}))},67138:function(e,t,n){"use strict";n.d(t,{I:function(){return o},g:function(){return r}});var r,i=n(8356);!function(e){e.Temperature="g_temp",e.Radar="g_radar",e.Precipitation="g_precip",e.Wind="g_wind",e.SevereWeather="g_severe_wea",e.Cloud="g_cloud",e.Pressure="g_pressure",e.Humidity="g_humidity",e.Visibility="g_visibility",e.DewPoint="g_dewpoint",e.Hurricane="g_hurricane",e.Wildfire="g_wildfire",e.AirQuality="g_air_quality",e.WinterStorm="g_winter_storm",e.SkiResort="g_ski_resort",e.Etree="g_etree",e.Pollen="g_pollen",e.PollenIndex="g_pollen_idx",e.Earthquake="g_earthquake",e.Lightning="g_lightning",e.LightningDuration="g_lightning_duration",e.LightningThunderstormRadar="g_lightning_ts_radar",e.LightningThunderstormPrecip="g_lightning_ts_precip",e.LightningRadar="g_lightning_radar",e.LightningPrecip="g_lightning_precip",e.ThunderstormRadar="g_thunderstorm_radar",e.ThunderstormPrecip="g_thunderstorm_precip",e.LightningOnlyRadar="g_lightning_only_radar",e.LightningOnlyPrecip="g_lightning_only_precip",e.RadarLtnTstm="g_radar_ltn_tstm",e.RadarLtn="g_radar_ltn",e.RadarTstm="g_radar_tstm",e.RadarOnly="g_radar_only",e.PrecipLtnTstm="g_precip_ltn_tstm",e.PrecipLtn="g_precip_ltn",e.PrecipTstm="g_precip_tstm",e.PrecipOnly="g_precip_only",e.CloudSatellite="g_v2_cloud_sat",e.CloudForecast="g_v2_cloud_fore",e.PrecipShort="g_v2_precip_short",e.PrecipLong="g_v2_precip_long",e.WinterPrecipShort="g_v2_win_short",e.WinterPrecipLong="g_v2_win_long",e.SnowDepth="g_v2_snowdepth",e.SnowDepthSki="g_v2_snowdepth_ski",e.SnowFall="g_v2_snowfall",e.SnowFallSki="g_v2_snowfall_ski",e.WildfireBase="g_v2_fire_base",e.WildfireAlert="g_v2_fire_alert",e.WildfirePoint="g_v2_fire_point",e.WildfireAlertPoint="g_v2_falert_point",e.AirStationAlert="g_v2_airsta_alert",e.AirQualityIndex="g_v2_air_index",e.HurricaneSatellite="g_hurricane_sat"}(r||(r={}));const o={[r.Temperature]:i.F5.Temperature,[r.Precipitation]:i.F5.Precipitation,[r.Radar]:i.F5.Radar,[r.Wind]:i.F5.Wind,[r.Cloud]:i.F5.Cloud,[r.Hurricane]:i.F5.Hurricane,[r.SevereWeather]:i.F5.SevereWeather,[r.Wildfire]:i.F5.Wildfire,[r.Pressure]:i.F5.Pressure,[r.Humidity]:i.F5.Humidity,[r.Visibility]:i.F5.Visibility,[r.DewPoint]:i.F5.DewPoint,[r.Pollen]:i.F5.Pollen,[r.PollenIndex]:i.F5.PollenIndex,[r.AirQuality]:i.F5.AirQuality,[r.WinterStorm]:i.F5.WinterStorm,[r.SkiResort]:i.F5.SnowDepth,[r.CloudSatellite]:i.F5.Cloud,[r.CloudForecast]:i.F5.Cloud,[r.PrecipShort]:i.F5.Precipitation,[r.PrecipLong]:i.F5.Precipitation,[r.WinterPrecipShort]:i.F5.WinterStorm,[r.WinterPrecipLong]:i.F5.WinterStorm,[r.SnowDepth]:i.F5.SnowDepth,[r.SnowDepthSki]:i.F5.SnowDepth,[r.SnowFall]:i.F5.SnowFall,[r.SnowFallSki]:i.F5.SnowFall,[r.WildfireBase]:i.F5.Wildfire,[r.WildfireAlert]:i.F5.Wildfire,[r.WildfirePoint]:i.F5.Wildfire,[r.WildfireAlertPoint]:i.F5.Wildfire,[r.AirStationAlert]:i.F5.AirQualityStation,[r.AirQualityIndex]:i.F5.AirQuality,[r.Earthquake]:i.F5.Earthquake,[r.Lightning]:i.F5.Lightning,[r.LightningThunderstormRadar]:i.F5.LightningThunderstormRadar,[r.LightningThunderstormPrecip]:i.F5.LightningThunderstormPrecip,[r.LightningRadar]:i.F5.LightningRadar,[r.LightningPrecip]:i.F5.LightningPrecip,[r.ThunderstormRadar]:i.F5.ThunderstormRadar,[r.ThunderstormPrecip]:i.F5.ThunderstormPrecip,[r.LightningOnlyRadar]:i.F5.LightningOnlyRadar,[r.LightningOnlyPrecip]:i.F5.LightningOnlyPrecip,[r.HurricaneSatellite]:i.F5.HurricaneSatellite,[r.RadarLtnTstm]:i.F5.Radar,[r.RadarLtn]:i.F5.Radar,[r.RadarTstm]:i.F5.Radar,[r.RadarOnly]:i.F5.Radar,[r.PrecipLtnTstm]:i.F5.Precipitation,[r.PrecipLtn]:i.F5.Precipitation,[r.PrecipTstm]:i.F5.Precipitation,[r.PrecipOnly]:i.F5.Precipitation}},8356:function(e,t,n){"use strict";var r,i,o;n.d(t,{CK:function(){return i},F5:function(){return r},OR:function(){return o}}),function(e){e.Temperature="temperature",e.Precipitation="precipitation",e.PrecipLong="precipLong",e.Wildfire="wildfire",e.Etree="etree",e.AirQuality="airquality",e.WildfirePoint="wildfirepoint",e.WildfireAlert="wildfirealert",e.SevereWeather="severeweather",e.SevereWeatherBase="severeweatherbase",e.Wind="wind",e.WindAnimation="wind-animation",e.Border="border",e.BingBorder="bing-border",e.BingBackground="bing-background",e.BingBackgroundFullZooms="bing-background-fullzooms",e.BingForeground="bing-foreground",e.BingForegroundDark="bing-foreground-dark",e.BingForegroundNoShade="bing-foreground-no-shade",e.PrecipBase="precip-base",e.Base="base",e.RadarBase="radar-base",e.RadarLabel="radar-label",e.RadarBorder="radar-border",e.Label="label",e.JsonLabel="json-label",e.JsonClickLabel="json-click-label",e.JsonToggleClickLabel="json-toggle-click-label",e.Hurricane="hurricane",e.WinterStorm="winterstorm",e.SnowDepth="snowdepth",e.SnowFall="snowfall",e.Nowcasting="nowcasting",e.Radar="radar",e.Cloud="cloud",e.Pressure="pressure",e.Humidity="humidity",e.Visibility="visibility",e.DewPoint="dewpoint",e.Satellite="satellite",e.SatelliteV2="satellite-v2",e.SatelliteBase="sate-base",e.CloudLabel="cloud-label",e.RadarCoverageGlobal="radar-coverage-global",e.AirQualityStation="airqualitystation",e.AirQualityAlert="airqualityalert",e.AirQualityIndex="airqualityindex",e.SkiResort="skiresort",e.Pollen="pollen",e.PollenIndex="pollenindex",e.Earthquake="earthquake",e.Lightning="lightning",e.LightningThunderstormRadar="lightningthunderstormradar",e.LightningThunderstormPrecip="lightningthunderstormprecip",e.LightningRadar="lightningradar",e.LightningPrecip="lightningprecip",e.ThunderstormRadar="thunderstormradar",e.ThunderstormPrecip="thunderstormprecip",e.LightningOnlyRadar="lightningonlyradar",e.LightningOnlyPrecip="lightningonlyprecip",e.HurricaneSatellite="hurricanesatellite",e.RadarLtnTstm="radarltntstm",e.RadarLtn="radarltn",e.RadarTstm="radartstm",e.RadarOnly="radaronly",e.PrecipLtnTstm="precipltntstm",e.PrecipLtn="precipltn",e.PrecipTstm="preciptstm",e.PrecipOnly="preciponly"}(r||(r={})),function(e){e.Precipitation="precipitation",e.SnowDepth="snowdepth",e.SnowFall="snowfall"}(i||(i={})),function(e){e.AirQualityIndex="airqualityindex",e.AirQualityStation="airqualitystation"}(o||(o={}))},64739:function(e,t,n){"use strict";function r(e,t){return!t[e]}function i(e){const t={};return e&&e.forEach((e=>t[e]="toLoad")),t}n.d(t,{J:function(){return r},x:function(){return i}})},63929:function(e,t,n){"use strict";n.d(t,{b:function(){return i},f:function(){return r}});const r={TimeRangeDefaultSatellite:2,TimeRangeMaxSatellite:6,TimeRangeDefaultSatellite3d:24,TimeRangeMaxSatellite3d:48};function i(e){return e?r.TimeRangeDefaultSatellite3d:r.TimeRangeDefaultSatellite}},91301:function(e,t,n){"use strict";n.d(t,{C:function(){return r},E:function(){return i}});const r="WeatherMap";var i;!function(e){e.BingMapV9Start="BingMap_V9_Start",e.BingMapV9Load="BingMap_V9_Load",e.MetadataCall="Map_Metadata_Call",e.MetadataReady="Map_Metadata_Ready",e.MapScriptAdd="Map_Script_Add",e.MapScriptLoad="Map_Script_Load",e.MapLibReady="Map_Lib_Ready",e.MapInitStart="Map_Init_Start",e.MapInstanceReady="Map_Instance_Ready",e.LayerActivatedTemplate="Layer_{layer}_Activated",e.LayerAllActivated="Layer_All_Activated",e.MapTTVRRegistered="Map_TTVR_Registered",e.MapViewReady="Map_ViewReady",e.MapFirstIdle="Map_FirstIdle",e.MapIdle="Map_Idle"}(i||(i={}))},69317:function(e,t,n){"use strict";var r;n.d(t,{U:function(){return r}}),function(e){e.Precipitation="precipitation",e.SnowDepth="snowdepth",e.SnowFall="snowfall",e.AirQualityIndex="airqualityindex",e.AirQualityStation="airqualitystation",e.WildfireAlert="wildfirealert",e.WildfirePoint="wildfirepoint",e.LightningThunderstormRadar="lightningthunderstormradar",e.LightningThunderstormPrecip="lightningthunderstormprecip",e.LightningRadar="lightningradar",e.LightningPrecip="lightningprecip",e.ThunderstormRadar="thunderstormradar",e.ThunderstormPrecip="thunderstormprecip",e.LightningOnlyRadar="lightningonlyradar",e.LightningOnlyPrecip="lightningonlyprecip",e.HurricaneWind="hurricanewind",e.HurricaneSatellite="hurricanesatellite",e.RadarLtnTstm="radarltntstm",e.RadarLtn="radarltn",e.RadarTstm="radartstm",e.RadarOnly="radaronly",e.PrecipLtnTstm="precipltntstm",e.PrecipLtn="precipltn",e.PrecipTstm="preciptstm",e.PrecipOnly="preciponly"}(r||(r={}))},17294:function(e,t,n){"use strict";var r,i,o;n.d(t,{bN:function(){return o},cy:function(){return r},yI:function(){return i}}),function(e){e.EarthquakeSmall="earthquakeSmall",e.EarthquakeMedium="earthquakeMedium",e.EarthquakeLarge="earthquakeLarge",e.SevereWeatherToday="severeWeatherToday",e.SevereWeatherTomorrow="severeWeatherTomorrow",e.SevereWeatherLater="severeWeatherLater",e.SevereWeatherBlue="severeWeatherBlue",e.SevereWeatherYellow="severeWeatherYellow",e.SevereWeatherOrange="severeWeatherOrange",e.SevereWeatherRed="severeWeatherRed",e.Lightning="lightning",e.Thunderstorm="thunderstorm",e.Radar="radar",e.Precipitation="precipitation",e.WindAnimation="windAnimation",e.HurricaneWind="hurricaneWind",e.HurricaneSatellite="hurricaneSatellite",e.PrecipitationFourHours="fourHours",e.PrecipitationTenDays="tenDays"}(r||(r={})),function(e){e.DataFilter="dataFilter",e.AddOnSwitch="addOnSwitch",e.SubLayerSwitch="subLayerSwitch"}(i||(i={})),function(e){e.EarthquakePastHour="earthquakePastHour"}(o||(o={}))},68742:function(e,t,n){"use strict";var r,i;n.d(t,{C:function(){return i},a:function(){return r}}),function(e){e[e.Fahrenheit=1]="Fahrenheit",e[e.Celsius=2]="Celsius"}(r||(r={})),function(e){e.MPH="mph",e.KMH="km/h",e.MS="m/s",e.BFT="bft",e.MILE="mi",e.METER="m",e.MM="mm",e.CM="cm",e.MB="mb",e.HPA="hPa",e.IN="in"}(i||(i={}))},22120:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(55067);class i{}i.history=new r.C("a0"),i.switchLayerGroup=new r.C("a1"),i.chooseSubLayers=new r.C("a2"),i.updateSidebar=new r.C("a3"),i.updateHurricaneData=new r.C("a4"),i.updateWeatherData=new r.C("a5"),i.updateMapMetaData=new r.C("a7"),i.updateAlert=new r.C("a8"),i.modal=new r.C("a9"),i.toggleAnimation=new r.C("b0"),i.toggleSkiLayer=new r.C("b1"),i.controlSkiLayer=new r.C("b2"),i.updateZoom=new r.C("b3"),i.updateNews=new r.C("b4"),i.updateTimeline=new r.C("b5"),i.updateTimeZone=new r.C("b6"),i.openLocationPopup=new r.C("b7"),i.closeLocationPopup=new r.C("b8"),i.updateWeatherSummaryValue=new r.C("b9"),i.updateAlertSummaryDrawerContent=new r.C("c0"),i.updateTimelineSelectedDate=new r.C("c1"),i.update3dButton=new r.C("c2"),i.updateMapFullScreen=new r.C("c3"),i.toggle3DMode=new r.C("c4"),i.update3dZoom=new r.C("c5"),i.updateZoomLevelFor3dMap=new r.C("c6"),i.updateMapCursorPosition=new r.C("c7"),i.updateMapPopupVisibility=new r.C("c8"),i.changeUnitStatus=new r.C("c9"),i.updateTimelineIndex=new r.C("d0"),i.resetToLocationPin=new r.C("d1"),i.updateGPUStatus=new r.C("d2"),i.updateGeolocation=new r.C("d3"),i.trigger3dMapPreLoad=new r.C("d4"),i.updatePreLoad3dMap=new r.C("d5"),i.flyToCurrentNeighborhood=new r.C("d6"),i.updateTimeRange=new r.C("d7"),i.updateMapLayerData=new r.C("d8"),i.updateSelectedPollen=new r.C("d9"),i.updateMapPopupCardModal=new r.C("e0"),i.updateAlertF1Code=new r.C("e1"),i.setLocationPopupRootElement=new r.C("e2"),i.needShowLocationPopup=new r.C("e3"),i.setEplantProgressView=new r.C("e4"),i.updateHeatmapDataPoint=new r.C("e5"),i.updateGeoJsonSummary=new r.C("e6"),i.chooseDataFilters=new r.C("e7"),i.locationPopupUpdating=new r.C("e9"),i.toggleDayNightLayer=new r.C("f0"),i.onForecastSelectDayChange=new r.C("f1"),i.onTimelineClickDayChange=new r.C("f2"),i.updateAutoLayer=new r.C("g0"),i.updateSelectedAlertEvent=new r.C("g1"),i.updateHasUserInteraction=new r.C("g2"),i.updateHurricaneLegend=new r.C("UpdateHurricaneLegend"),i.updateCommentModule=new r.C("UpdateCommentModule"),i.mapScreenshotCapture=new r.C("MapScreenshotCapture"),i.sendMapScreenshot=new r.C("SendMapScreenshot")},61261:function(e,t,n){"use strict";n.r(t),n.d(t,{CacheRuleEngine:function(){return E.w},HurricaneType:function(){return b.D},PageViewSource:function(){return c.X2},SendMapPageView:function(){return c.BA},SendPageView:function(){return c.Go},SharedHub:function(){return T._},TimeLineLoadStatus:function(){return P.T},TimelineUtility:function(){return k.LK},ToolingInfo:function(){return Oe},WeatherMapDataActions:function(){return w.f},WeatherMapDataConnector:function(){return Ae},WeatherMapDataReducer:function(){return Ie},WeatherMapURL:function(){return Z},getAirQualityVersion:function(){return k.Qh},getPageViewLayerName:function(){return c.mL},info2TypeKeyword:function(){return C},mapTelemetryManager:function(){return Le.v},parseMapMetadata:function(){return re},parseOneServiceVersion:function(){return ie},safeToggle3DMode:function(){return c.xO},typeKeyword2Info:function(){return y},typeKeyword2Layer:function(){return h},weatherMapInitialClickId:function(){return A.C0},weatherMapViewChangedId:function(){return A.bp}});var r=n(67138),i=n(69317),o=n(17294),a=n(8356),s=n(45506),c=n(30686);var u,l,d;function h(e){return e}!function(e){e.LongPeriod="p_long",e.ShortPeriod="p_short"}(u||(u={})),function(e){e.Forecast="c_forecast",e.Satellite="c_satellite"}(l||(l={})),function(e){e.Ski="a_ski"}(d||(d={}));const p={[r.g.WinterStorm]:["zh-cn"==s.Al.Locale?i.U.SnowFall:i.U.Precipitation],[r.g.AirQuality]:[i.U.AirQualityIndex],[r.g.Wildfire]:[i.U.WildfirePoint,i.U.WildfireAlert],[r.g.Lightning]:[i.U.LightningThunderstormRadar],[r.g.Hurricane]:[i.U.HurricaneSatellite],[r.g.Radar]:[i.U.RadarLtnTstm],[r.g.Precipitation]:[i.U.PrecipLtnTstm]},g={[r.g.Earthquake]:[o.cy.EarthquakeLarge,o.cy.EarthquakeMedium,o.cy.EarthquakeSmall],[r.g.SevereWeather]:[o.cy.SevereWeatherToday,o.cy.SevereWeatherTomorrow,o.cy.SevereWeatherLater,o.cy.SevereWeatherBlue,o.cy.SevereWeatherYellow,o.cy.SevereWeatherOrange,o.cy.SevereWeatherRed],[r.g.Lightning]:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.Radar],[r.g.Radar]:[o.cy.Lightning,o.cy.Thunderstorm],[r.g.Precipitation]:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.PrecipitationFourHours]};function f(e){return{group:e,subLayers:p[e]||[],dataFilters:g[e]}}const m={radar:f(r.g.Radar),hurricane:f(r.g.Hurricane),severeweather:f(r.g.SevereWeather),temperature:f(r.g.Temperature),precipitation:f(r.g.Precipitation),wildfire:f(r.g.Wildfire),wind:f(r.g.Wind),cloud:f(r.g.Cloud),pressure:f(r.g.Pressure),humidity:f(r.g.Humidity),visibility:f(r.g.Visibility),dewpoint:f(r.g.DewPoint),winterstorm:f(r.g.WinterStorm),snowdepth:{group:r.g.WinterStorm,subLayers:[i.U.SnowDepth]},snowfall:{group:r.g.WinterStorm,subLayers:[i.U.SnowFall]},airquality:f(r.g.AirQuality),airqualitystation:{group:r.g.AirQuality,subLayers:[i.U.AirQualityStation]},ski:{group:r.g.SkiResort,subLayers:[i.U.SnowDepth]},pollen:f(r.g.Pollen),pollenindex:f(r.g.PollenIndex),etree:f(r.g.Etree),earthquake:f(r.g.Earthquake),lightning:f(r.g.Lightning),lightningthunderstormradar:{group:r.g.Lightning,subLayers:[i.U.LightningThunderstormRadar],dataFilters:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.Radar]},lightningthunderstormprecip:{group:r.g.Lightning,subLayers:[i.U.LightningThunderstormPrecip],dataFilters:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.Precipitation]},lightningradar:{group:r.g.Lightning,subLayers:[i.U.LightningRadar],dataFilters:[o.cy.Lightning,o.cy.Radar]},lightningprecip:{group:r.g.Lightning,subLayers:[i.U.LightningPrecip],dataFilters:[o.cy.Lightning,o.cy.Precipitation]},thunderstormradar:{group:r.g.Lightning,subLayers:[i.U.ThunderstormRadar],dataFilters:[o.cy.Thunderstorm,o.cy.Radar]},thunderstormprecip:{group:r.g.Lightning,subLayers:[i.U.ThunderstormPrecip],dataFilters:[o.cy.Thunderstorm,o.cy.Precipitation]},lightningonlyradar:{group:r.g.Lightning,subLayers:[i.U.LightningOnlyRadar],dataFilters:[o.cy.Radar]},lightningonlyprecip:{group:r.g.Lightning,subLayers:[i.U.LightningOnlyPrecip],dataFilters:[o.cy.Precipitation]},hurricanesat:{group:r.g.Hurricane,subLayers:[i.U.HurricaneSatellite]},hurricanewind:{group:r.g.Hurricane,subLayers:[i.U.HurricaneWind]},radarltntstm:{group:r.g.Radar,subLayers:[i.U.RadarLtnTstm],dataFilters:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.Radar]},radarltn:{group:r.g.Radar,subLayers:[i.U.RadarLtn],dataFilters:[o.cy.Lightning,o.cy.Radar]},radartstm:{group:r.g.Radar,subLayers:[i.U.RadarTstm],dataFilters:[o.cy.Thunderstorm,o.cy.Radar]},radaronly:{group:r.g.Radar,subLayers:[i.U.RadarOnly],dataFilters:[o.cy.Radar]},precipltntstm:{group:r.g.Precipitation,subLayers:[i.U.PrecipLtnTstm],dataFilters:[o.cy.Lightning,o.cy.Thunderstorm,o.cy.Precipitation]},precipltn:{group:r.g.Precipitation,subLayers:[i.U.PrecipLtn],dataFilters:[o.cy.Lightning,o.cy.Precipitation]},preciptstm:{group:r.g.Precipitation,subLayers:[i.U.PrecipTstm],dataFilters:[o.cy.Thunderstorm,o.cy.Precipitation]},preciponly:{group:r.g.Precipitation,subLayers:[i.U.PrecipOnly],dataFilters:[o.cy.Precipitation]}},v={[(0,c.zH)(r.g.Cloud,null,{tCouldType:l.Forecast})]:r.g.CloudForecast,[(0,c.zH)(r.g.Cloud,null,{tCouldType:l.Satellite})]:r.g.CloudSatellite,[(0,c.zH)(r.g.Precipitation,null,{tPrecipType:u.LongPeriod})]:r.g.PrecipLong,[(0,c.zH)(r.g.Wildfire,[i.U.WildfireAlert,i.U.WildfirePoint])]:r.g.WildfireAlertPoint,[(0,c.zH)(r.g.Wildfire,[i.U.WildfireAlert])]:r.g.WildfireAlert,[(0,c.zH)(r.g.Wildfire,[i.U.WildfirePoint])]:r.g.WildfirePoint,[(0,c.zH)(r.g.Wildfire)]:r.g.WildfireBase,[(0,c.zH)(r.g.AirQuality,[i.U.AirQualityIndex])]:r.g.AirQualityIndex,[(0,c.zH)(r.g.AirQuality,[i.U.AirQualityStation])]:r.g.AirStationAlert,[(0,c.zH)(r.g.WinterStorm,[i.U.Precipitation],{tPrecipType:u.ShortPeriod})]:r.g.WinterPrecipShort,[(0,c.zH)(r.g.WinterStorm,[i.U.Precipitation],{tPrecipType:u.LongPeriod})]:r.g.WinterPrecipLong,[(0,c.zH)(r.g.WinterStorm,[i.U.SnowFall])]:r.g.SnowFall,[(0,c.zH)(r.g.WinterStorm,[i.U.SnowFall],{addOnLayers:[d.Ski]})]:r.g.SnowFallSki,[(0,c.zH)(r.g.WinterStorm,[i.U.SnowDepth])]:r.g.SnowDepth,[(0,c.zH)(r.g.WinterStorm,[i.U.SnowDepth],{addOnLayers:[d.Ski]})]:r.g.SnowDepthSki,[(0,c.zH)(r.g.SkiResort)]:r.g.SnowDepthSki,[(0,c.zH)(r.g.SkiResort,[i.U.SnowFall])]:r.g.SnowFall,[(0,c.zH)(r.g.SkiResort,[i.U.SnowFall],{addOnLayers:[d.Ski]})]:r.g.SnowFallSki,[(0,c.zH)(r.g.SkiResort,[i.U.SnowDepth])]:r.g.SnowDepth,[(0,c.zH)(r.g.SkiResort,[i.U.SnowDepth],{addOnLayers:[d.Ski]})]:r.g.SnowDepthSki,[(0,c.zH)(r.g.Lightning,[i.U.LightningThunderstormRadar])]:r.g.LightningThunderstormRadar,[(0,c.zH)(r.g.Lightning,[i.U.LightningThunderstormPrecip])]:r.g.LightningThunderstormPrecip,[(0,c.zH)(r.g.Lightning,[i.U.LightningRadar])]:r.g.LightningRadar,[(0,c.zH)(r.g.Lightning,[i.U.LightningPrecip])]:r.g.LightningPrecip,[(0,c.zH)(r.g.Lightning,[i.U.ThunderstormRadar])]:r.g.ThunderstormRadar,[(0,c.zH)(r.g.Lightning,[i.U.ThunderstormPrecip])]:r.g.ThunderstormPrecip,[(0,c.zH)(r.g.Lightning,[i.U.LightningOnlyRadar])]:r.g.LightningOnlyRadar,[(0,c.zH)(r.g.Lightning,[i.U.LightningOnlyPrecip])]:r.g.LightningOnlyPrecip,[(0,c.zH)(r.g.Hurricane,[i.U.HurricaneWind])]:r.g.Hurricane,[(0,c.zH)(r.g.Hurricane,[i.U.HurricaneSatellite],{tCouldType:l.Satellite})]:r.g.HurricaneSatellite,[(0,c.zH)(r.g.Precipitation,null,{tPrecipType:u.ShortPeriod})]:r.g.PrecipLtnTstm,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipLtnTstm],{tPrecipType:u.ShortPeriod})]:r.g.PrecipLtnTstm,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipLtn],{tPrecipType:u.ShortPeriod})]:r.g.PrecipLtn,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipTstm],{tPrecipType:u.ShortPeriod})]:r.g.PrecipTstm,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipOnly],{tPrecipType:u.ShortPeriod})]:r.g.PrecipOnly,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipLtnTstm],{tPrecipType:u.LongPeriod})]:r.g.PrecipLong,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipLtn],{tPrecipType:u.LongPeriod})]:r.g.PrecipLong,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipTstm],{tPrecipType:u.LongPeriod})]:r.g.PrecipLong,[(0,c.zH)(r.g.Precipitation,[i.U.PrecipOnly],{tPrecipType:u.LongPeriod})]:r.g.PrecipLong,[(0,c.zH)(r.g.Radar,[i.U.RadarLtnTstm])]:r.g.RadarLtnTstm,[(0,c.zH)(r.g.Radar,[i.U.RadarLtn])]:r.g.RadarLtn,[(0,c.zH)(r.g.Radar,[i.U.RadarTstm])]:r.g.RadarTstm,[(0,c.zH)(r.g.Radar,[i.U.RadarOnly])]:r.g.RadarOnly};function y(e){return Object.assign({},m[e])}function C(e){if(e&&e.group)for(const[t,n]of Object.entries(m)){const i=t,o=n;if(e.group===o.group){if((e.subLayers||[]).join("*")===(o.subLayers||[]).join("*"))return i;if(e.group===o.group&&e.group===r.g.Wildfire)return i}}}function S(e,t){if(e===a.F5.WinterStorm)switch(t){case a.CK.SnowDepth:return{group:r.g.WinterStorm,subLayers:[i.U.SnowDepth]};case a.CK.SnowFall:return{group:r.g.WinterStorm,subLayers:[i.U.SnowFall]};default:return{group:r.g.WinterStorm,subLayers:[i.U.Precipitation]}}if(e===a.F5.AirQuality)return{group:r.g.AirQuality,subLayers:[i.U.AirQualityIndex]};if(e===a.F5.AirQualityStation)return{group:r.g.AirQuality,subLayers:[i.U.AirQualityStation]};if(e===a.F5.Wildfire)switch(t){case i.U.WildfireAlert:return{group:r.g.Wildfire,subLayers:[i.U.WildfireAlert]};case i.U.WildfirePoint:return{group:r.g.Wildfire,subLayers:[i.U.WildfirePoint]};default:return{group:r.g.Wildfire,subLayers:[i.U.WildfirePoint,i.U.WildfireAlert]}}if(e===a.F5.Lightning)switch(t){case i.U.LightningThunderstormRadar:return{group:r.g.Lightning,subLayers:[i.U.LightningThunderstormRadar]};case i.U.LightningThunderstormPrecip:return{group:r.g.Lightning,subLayers:[i.U.LightningThunderstormPrecip]};case i.U.LightningRadar:return{group:r.g.Lightning,subLayers:[i.U.LightningRadar]};case i.U.LightningPrecip:return{group:r.g.Lightning,subLayers:[i.U.LightningPrecip]};case i.U.ThunderstormRadar:return{group:r.g.Lightning,subLayers:[i.U.ThunderstormRadar]};case i.U.ThunderstormPrecip:return{group:r.g.Lightning,subLayers:[i.U.ThunderstormPrecip]};case i.U.LightningOnlyRadar:return{group:r.g.Lightning,subLayers:[i.U.LightningOnlyRadar]};case i.U.LightningOnlyPrecip:return{group:r.g.Lightning,subLayers:[i.U.LightningOnlyPrecip]};default:return{group:r.g.Lightning,subLayers:[i.U.LightningThunderstormRadar]}}if(e===a.F5.Radar)switch(t){case i.U.RadarLtnTstm:return{group:r.g.Radar,subLayers:[i.U.RadarLtnTstm]};case i.U.RadarLtn:return{group:r.g.Radar,subLayers:[i.U.RadarLtn]};case i.U.RadarTstm:return{group:r.g.Radar,subLayers:[i.U.RadarTstm]};case i.U.RadarOnly:return{group:r.g.Radar,subLayers:[i.U.RadarOnly]};default:return{group:r.g.Radar,subLayers:[i.U.RadarLtnTstm]}}if(e===a.F5.Precipitation)switch(t){case i.U.PrecipLtnTstm:return{group:r.g.Precipitation,subLayers:[i.U.PrecipLtnTstm]};case i.U.PrecipLtn:return{group:r.g.Precipitation,subLayers:[i.U.PrecipLtn]};case i.U.PrecipTstm:return{group:r.g.Precipitation,subLayers:[i.U.PrecipTstm]};case i.U.PrecipOnly:return{group:r.g.Precipitation,subLayers:[i.U.PrecipOnly]};default:return{group:r.g.Precipitation,subLayers:[i.U.PrecipLtnTstm]}}return y(e)}var w=n(22120),b=n(52747),T=n(91001),P=n(77322),k=n(71092),A=n(31601),E=n(87857),M=n(83623),x=n(33940),I=n(63929),L=n(26495),O=n(91301),F=n(44979),D=n(78722),R=n(65135),W=n(38156),N=n(63439),j=n(80368),U=n(68742),H=n(38573),G=n(47762),B=n(4959),$=n(34852),V=n(33379);class _{pushState(e,t,n,r){const i=history.state,o=Object.assign(Object.assign(Object.assign({},i),e),{_st_:Object.assign(Object.assign({},(i||{})._st_),e._st_)});i&&i.layer!==o.layer&&(o.pickedIndex=0,o.experienceNowIndex=0,o.isAutoPlaying=!1),(0,V.N)()&&(r?history.pushState(o,n,t):history.replaceState(o,n,t))}}const z=/^\/([a-z]{1,}-[a-z]{1,})/i;const q={maxZoom:18,minZoom:3,defaultTypeKey:"radar"},K=["el","weaext0","lat","lon","type","city","bingFeature"];class Z extends class{constructor(e){this.url=new URL(e),this.params=this.url.searchParams,this.mkt=function(e){const t=z.exec(e);return t&&t[1]}(this.url.pathname)||D.jG.LocaleContentMarketString||"en-us",this.items=this.params.getAll("item"),this.params.delete("item")}get type(){var e;if(/\/severeweather\/hurricanes\/?$/i.test(this.url.pathname)||/\/fenomenos\/huracanes\/?$/i.test(this.url.pathname))return a.F5.Hurricane;if(/\/severeweather\/activealerts\/?$/i.test(this.url.pathname))return a.F5.SevereWeather;if(/\/severeweather\/airquality\/?$/i.test(this.url.pathname))return a.F5.AirQuality;if(/\/severeweather\/earthquakes\/?$/i.test(this.url.pathname))return a.F5.Earthquake;const t=null===(e=(0,j.Ol)(this.params,"type"))||void 0===e?void 0:e.toLowerCase();if(t)return t;const n=(0,$.Xw)(this.url.pathname);return(null==n?void 0:n.type)||(null==n?void 0:n.locTypeKey)}layerInfo(){const e=this.type,t=(0,j.Ol)(this.params,"subs");return"wildfire"===e?t?{group:r.g.Wildfire,subLayers:t.split(",")}:{group:r.g.Wildfire,subLayers:[i.U.WildfirePoint,i.U.WildfireAlert]}:y(this.type)}toString(){const e=this.items.map((e=>"item="+e)).join("&"),t=this.url.toString(),n=this.url.search?"&":"?";return e?t+n+e:t}}{constructor(e,t){super(e),this.his=new _,this.settings=Object.assign(Object.assign({},q),t)}computeURLLegacy(e,t){const n=S(e,t);return this.computeURL(n)}computeURL(e){if(!(null==e?void 0:e.group))return;const t=new Z(this.toString(),this.settings);return t.setLayerInfo(e),t.toString()}isDebug(){return this.getBooleanValue("debug")}get location(){return(0,G.H)(this.url)}set location(e){if(!(0,H.JY)(e))return;const t=new URL((0,B.Z$)(e,void 0,this.type||this.settings.defaultTypeKey,{excludeItem:!0,excludeOcid:!0,locale:this.mkt}));this.url.pathname=t.pathname;for(const e of K)this.params.delete(e);this.params.set("loc",t.searchParams.get("loc")),this.updateState({location:[+e.latitude,+e.longitude]})}toCanonical(){const e=new URL(this.url.toString());return e.search="",e.toString()}get canonicalWithoutLocation(){const e=new URL(this.url.toString());e.search="",e.hash="";const t=(0,$.Xw)(e.pathname);return t&&(e.pathname=`/${t.locale}/${t.localizedWeather}/${t.localizedMaps}/${t.locTypeKey}`),e.toString()}getLocationSearchText(){return(0,G.B)(this.url)}get nearyby(){const e=+this.params.get("nearyby");return e>0?e:void 0}get zoom(){const e=parseInt((0,j.Ol)(this.params,"zoom"));if(!(Number.isNaN(e)||e<this.settings.minZoom||e>this.settings.maxZoom))return e}set zoom(e){Number.isInteger(e)&&e>=this.settings.minZoom&&e<=this.settings.maxZoom&&(this.params.set("zoom",""+e),this.updateState({zoom:e}))}setLayerInfoLegacy(e,t,n=[]){const r=S(e,t);this.setLayerInfo(r,n)}setLayerInfo(e,t){const n=C(e);if(n){const r=(0,$.Xw)(this.url.pathname);if(r){const{locationDisplayName:e}=r,t=$.ef.key2Loc(n),i=D.jG.LocaleContentMarketString||"en-us",o=(0,$.LL)("weather"),a=(0,$.LL)("maps");this.url.pathname=`/${i}/${o}/${a}/${t}/in-${e}`}else this.params.set("type",n);this.updateState({layer:n,utcTimestamps:t,_st_:e})}}get defaultAutoplay(){return this.getBooleanValue("autoplay")}get animation(){return this.getBooleanValue("animation")}set animation(e){this.params.set("animation",e?"1":"0"),this.updateState({animation:e})}get ski(){return this.getBooleanValue("ski")}set ski(e){this.params.set("ski",e?"1":"0"),this.updateState({ski:e})}get night(){return this.getBooleanValue("night")}set night(e){this.params.set("night",e?"1":"0"),this.updateState({ski:e})}get mode3d(){return this.getBooleanValue("3d")}set mode3d(e){e?this.params.set("3d","1"):this.params.delete("3d"),this.updateState({mode3d:e})}get dragLatency(){const e=parseInt((0,j.Ol)(this.params,"dl"));return Number.isNaN(e)?0:e}get timelineStep(){const e=parseInt((0,j.Ol)(this.params,"step"));if(!Number.isNaN(e))return e}get timelineSpeed(){const e=parseInt((0,j.Ol)(this.params,"speed"));if(!Number.isNaN(e))return e}get timelineHours(){const e=parseInt((0,j.Ol)(this.params,"hours"));if(!Number.isNaN(e))return e}get hurrican(){const e=(0,j.Ol)(this.params,"hurricane");return e&&""!==e?e.toLowerCase():void 0}get preload(){return this.getBooleanValue("preload")}get tileZooms(){const e=(this.getRawValue("tile-zooms")||"").split(",").map((e=>parseInt(e))).filter((e=>!Number.isNaN(e)));return e.length>11?e:void 0}get unitType(){return(0,$.rC)(this.params)}set unitType(e){const t={[U.a.Fahrenheit]:"F",[U.a.Celsius]:"C"}[e];t&&(this.params.set("weadegreetype",t),this.updateState({unit:e}))}get autoplay(){return this.getBooleanValue("autoplay")}ocid(){return(0,j.ku)(this.url)}get frameUpdatePeriod(){const e=parseInt(this.getRawValue("frameupdate"));if(!Number.isNaN(e))return e}get alertId(){const e=(0,j.Ol)(this.params,"alertid");return e&&""!==e?e:void 0}get debugShowCoordinate(){return this.getBooleanValue("dbg-show-coord")}get debugZoomoffset(){return this.getRawValue("dbg-zoom-offset")}get debugTempUrlPattern(){return this.getRawValue("dbg-temp-url")}get debugPrecipiationUrlPattern(){return this.getRawValue("dbg-precip-url")}get debugWindDirUrlPattern(){return this.getRawValue("dbg-wind-dir-url")}get debugWindSpeedUrlPattern(){return this.getRawValue("dbg-wind-speed-url")}get debugBorderUrlPattern(){return this.getRawValue("dbg-border-url")}get debugRadarUrlPattern(){return this.getRawValue("dbg-radar-url")}get debugCloudUrlPattern(){return this.getRawValue("dbg-cloud-url")}get debugSatelliteUrlPattern(){return this.getRawValue("dbg-satellite-url")}get debugAnimationConfig(){return this.getBooleanValue("dbg-anima-config")}get debugFullWeatherBase(){return this.getBooleanValue("dbg-full-base")}get debugBaseStyle(){return this.getRawValue("dbg-base-style")}getRawValue(e){const t=this.params.get(e);return t&&""!==t?t:void 0}getBooleanValue(e){const t=(0,j.Ol)(this.params,e);if(t&&""!==t)return"1"===t||"true"===t.toLowerCase()}updateState(e){this._updateState=Object.assign(Object.assign({},this._updateState),e)}pushState(){this.his.pushState(this._updateState,this.toString(),void 0,!0)}replaceState(){this.his.pushState(this._updateState,this.toString(),void 0,!1)}get wildfirePointId(){return this.getRawValue("wfid")}get newsImg(){return this.getRawValue("newsimg")}get alertEvtId(){return this.getRawValue("swevt")}}var Q=n(14792),Y=n(76315),J=n(95327);const X=D.jG.IsChinaCompliance,ee="assets.msn.com",te="assets.msn.cn",ne=new Set(["BingMapDefaultLabel","BingMapCloudBackground","BingMapDefaultLabelCn"]);function re(e){if(!e||!e.value||!e.value[0])throw new Error("Empty map metadata");const t=e.value[0],n={};return Object.entries(t).forEach((e=>{const t=e[0],r=e[1];if(n[t]=function(e){if(!(null==e?void 0:e.uris))return;const t=e.uris,n=Object.entries(t);if(n.length<1)return;const r=n.map((e=>({versionInt:parseInt(e[0]),version:e[0],value:e[1].toString()})));r.length>1&&r.sort(((e,t)=>t.versionInt-e.versionInt));const i=r.map((e=>({version:e.version,value:X?e.value.replace(ee,te):e.value})));return X?{version:r[0].version.toString(),value:r[0].value.replace(ee,te),versionArray:i}:{version:r[0].version.toString(),value:r[0].value,versionArray:i}}(r),ne.has(t)){if(!n[t]||!n[t].value)throw new Error(`Empty metadata for Bing Map meta key:${t}`);n[t].value=function(e){var t;if(!e||!e.startsWith("https://"))throw new Error(`Invalid url:${e} for Bing Map meta data`);const n=s.Al.Locale||"en-us",r=D.jG.IsChinaCompliance?"CN":null===(t=s.Al.ClientSettings)||void 0===t?void 0:t.geo_country;try{const t=new URL(e.replace("{subdomain}","t0")),{origin:i,pathname:o,searchParams:a}=t;return a.delete("subdomains"),a.delete("attribution"),a.set("mkt","zh-cn"==n?"zh-cn,en-us":n),r&&a.set("ur",r),i+decodeURIComponent(o)+"?"+decodeURIComponent(a.toString())}catch(t){return e}}(n[t].value)}})),n}function ie(e){var t,n,r,i,o,a,c,u,l,d;let h,p=null;if(e&&e.value&&e.value[0]){const g=e.value[0],f=g.TileImageMetadata&&g.TileImageMetadata.uris,m=f&&Object.keys(f);m&&m.sort(((e,t)=>parseInt(t)-parseInt(e))),p=f&&m&&m[0]&&f[m[0]];const v=!0,y=v&&!0;let C=v?g.NowcastVectorMapHistory&&g.NowcastVectorMapHistory.uris:g.NorthAmericaRadarObservation&&g.NorthAmericaRadarObservation.uris,S=v?g.NowcastVectorMap&&g.NowcastVectorMap.uris:g.NorthAmericaRadarForecast&&g.NorthAmericaRadarForecast.uris,w=g.NowcastVectorMapCoverage&&g.NowcastVectorMapCoverage.uris;const b=g.NowcastVectorMapCoverageHistory&&g.NowcastVectorMapCoverageHistory.uris;(null===(t=null==g?void 0:g.NowcastVectorMap)||void 0===t?void 0:t.uris)&&(null===(n=null==g?void 0:g.NowcastVectorMapHistory)||void 0===n?void 0:n.uris)&&(S=g.NowcastVectorMap.uris,C=g.NowcastVectorMapHistory.uris,w=g.NowcastVectorMapCoverage&&g.NowcastVectorMapCoverage.uris);const T=g.Satellite&&g.Satellite.uris,P=g.Cloud&&g.Cloud.uris,k=P&&Object.values(P)[0].toString(),A=g.WildFire&&g.WildFire.uris,E=g.SevereWeather&&g.SevereWeather.uris,M=g.WildFireAlert&&g.WildFireAlert.uris,x=g.WinterStormAlert&&g.WinterStormAlert.uris,I=g.BingMapCloudBackground&&g.BingMapCloudBackground.uris,L=g.BingMapSensitiveUserRegions&&g.BingMapSensitiveUserRegions.uris,O=s.Al.Locale,F=O&&"zh-cn"==O.toLowerCase()?g.BingMapDefaultLabelCn&&g.BingMapDefaultLabelCn.uris:g.BingMapDefaultLabel&&g.BingMapDefaultLabel.uris,R=g.AirQuality&&g.AirQuality.uris,W=g.AirQualityObsTile&&g.AirQualityObsTile.uris,N=g.AirQualityHeatMap&&g.AirQualityHeatMap.uris,j=g.AirQualityHeatMapCn&&g.AirQualityHeatMapCn.uris,U=g.AirQualityHeatMapEu&&g.AirQualityHeatMapEu.uris,H=g.SevereWeatherGeo&&g.SevereWeatherGeo.uris,G=g.WildFireGeo&&g.WildFireGeo.uris,B=g.WinterStormGeo&&g.WinterStormGeo.uris,$=g.AirQualityGeo&&g.AirQualityGeo.uris,V=null===(r=g.SatelliteV2)||void 0===r?void 0:r.uris,_=null===(i=g.F1CodeFile)||void 0===i?void 0:i.uris,z=g.CmaSevereWeatherGeo&&g.CmaSevereWeatherGeo.uris,q=g.FirePlumeHeatmap&&g.FirePlumeHeatmap.uris,K=g.SkiResortGeoTile&&g.SkiResortGeoTile.uris,Z=g.JwaPollenTile&&g.JwaPollenTile.uris,Q=g.PollenHeatmap&&g.PollenHeatmap.uris,Y=w&&Object.keys(w)[0].toString(),J=w&&Object.values(w)[0].toString(),X=b&&Object.values(b)[0].toString(),ee=C&&Object.keys(C)[0].toString(),te=S&&Object.keys(S)[0].toString(),ne=T&&Object.keys(T)[0].toString(),re=function(e){const t=null==e?void 0:e.match(/\/([0-9]{12})\//i);return null==t?void 0:t[1]}(k)||P&&Object.keys(P)[0].toString(),ie=A&&Object.keys(A)[0].toString(),ae=E&&Object.keys(E)[0].toString(),se=M&&Object.keys(M)[0].toString(),ce=x&&Object.keys(x)[0].toString(),ue=R&&Object.keys(R)[0].toString(),le=W&&Object.keys(W)[0].toString(),de=N&&Object.keys(N)[0].toString(),he=j&&Object.keys(j)[0].toString(),pe=U&&Object.keys(U)[0].toString(),ge=H&&Object.keys(H)[0].toString(),fe=G&&Object.keys(G)[0].toString(),me=B&&Object.keys(B)[0].toString(),ve=$&&Object.keys($)[0].toString(),ye=V&&Object.keys(V)[0].toString(),Ce=_&&Object.keys(_)[0].toString(),Se=z&&Object.keys(z)[0].toString(),we=te&&oe(te),be=q&&Object.keys(q)[0].toString(),Te=Z&&Object.keys(Z)[0].toString(),Pe=Q&&Object.keys(Q)[0].toString(),ke=g.SevereWeatherGPTEvent&&g.SevereWeatherGPTEvent.uris,Ae=ke&&Object.keys(ke)[0].toString();if(h={default:p,radarObser:C&&Object.values(C)[0].toString(),radarObserVersion:ee&&oe(ee),radarForeca:S&&Object.values(S)[0].toString(),radarForecaVersion:we,enableRadarDataV2:y,satellite:T&&Object.values(T)[0].toString(),satelliteVersion:ne&&oe(ne),cloud:k,cloudVersion:re&&oe(re),wildfire:A&&Object.values(A)[0].toString(),wildfireVersion:ie&&oe(ie),airQuality:R&&Object.values(R)[0].toString(),airQualityVersion:ue&&oe(ue),airQualityObs:W&&Object.values(W)[0].toString(),airQualityObsVersion:le&&oe(le),airQualityHeatMap:N&&Object.values(N)[0].toString(),airQualityHeatMapVersion:de&&oe(de),airQualityHeatMapCn:j&&Object.values(j)[0].toString(),airQualityHeatMapCnVersion:he&&oe(he),airQualityHeatMapEu:U&&Object.values(U)[0].toString(),airQualityHeatMapEuVersion:pe&&oe(pe),severeWeather:E&&Object.values(E)[0].toString(),severeWeatherVersion:ae&&oe(ae),wildfireAlert:M&&Object.values(M)[0].toString(),wildfireAlertVersion:se&&oe(se),winterStormAlert:x&&Object.values(x)[0].toString(),winterStormAlertVersion:ce&&oe(ce),f1CodeFile:_&&Object.values(_)[0].toString(),f1CodeFileVersion:Ce&&oe(Ce),severeWeatherText:H&&Object.values(H)[0].toString().replace("severeweathergeotile","severeweathertext").replace("{x}_{y}_{z}","{id}"),severeWeatherTextVersion:ge&&oe(ge),severeWeatherGeoTile:H&&Object.values(H)[0].toString(),severeWeatherGeoTileVersion:ge&&oe(ge),wildfireGeoTile:G&&Object.values(G)[0].toString(),wildfireGeoTileVersion:fe&&oe(fe),winterStormGeoTile:B&&Object.values(B)[0].toString(),winterStormGeoTileVersion:me&&oe(me),airQualityGeoTile:$&&Object.values($)[0].toString(),airQualityGeoTileVersion:ve&&oe(ve),chinaSevereWeatherText:z&&Object.values(z)[0].toString().replace("cmasevereweathergeotile","cmasevereweathertext").replace("{x}_{y}_{z}","{id}"),chinaSevereWeatherTextVersion:Se&&oe(Se),chinaSevereWeatherGeoTile:z&&Object.values(z)[0].toString(),chinaSevereWeatherGeoTileVersion:Se&&oe(Se),bingMapDefaultLabel:F&&Object.values(F)[0].toString(),bingMapCloudBackground:I&&Object.values(I)[0].toString(),bingMapSensitiveCountryRegions:L&&(null===(c=null===(a=null===(o=Object.values(L))||void 0===o?void 0:o[0])||void 0===a?void 0:a.toString())||void 0===c?void 0:c.split(",")),radarCoverage:J,radarCoverageHistory:X,radarCoverageVersion:Y,experienceNowDate:new Date,satelliteV2:V&&Object.values(V)[0].toString(),satelliteV2Version:ye&&oe(ye),enableSatelliteV2:!0,firePlume:q&&Object.values(q)[0].toString().replace("{format}","jpg"),firePlumeVersion:be&&oe(be),skiResortText:K&&Object.values(K)[0].toString().replace("skiresorttile","skiresorttext").replace("{x}_{y}_{z}","{id}"),skiResortGeoTile:K&&Object.values(K)[0].toString(),pollen:Z&&Object.values(Z)[0].toString(),pollenVersion:Te&&oe(Te),pollenIndex:Q&&Object.values(Q)[0].toString().replace("{format}","png"),pollenIndexVersion:Pe&&oe(Pe),alertEvent:ke&&Object.values(ke)[0].toString(),alertEventVersion:Ae&&oe(Ae)},h&&D.jG.IsChinaCompliance)for(const e of Object.keys(h))(null===(u=h[e])||void 0===u?void 0:u.replace)&&(h[e]=null===(d=(l=h[e]).replace)||void 0===d?void 0:d.call(l,"msn.com","msn.cn"))}return h}function oe(e){return new Date(Date.UTC(parseInt(e.substr(0,4)),parseInt(e.substr(4,2))-1,parseInt(e.substr(6,2)),parseInt(e.substr(8,2)),e.length>=12?parseInt(e.substr(10,2)):0))}var ae=n(89696),se=n(33954),ce=n(68364),ue=n(98304);const le="meta_",de=/^\[([\w:]+)\]$/,he=["url","version","urlHistory","versionHistory","versionArray","versionArrayRapid","versionArrayCC"];var pe=n(13014),ge=n(56870);const fe={default:()=>{const e=document.createElement("div");return e.className=ge.l.locationPinIcon,e}},me={bing:(e,t,n)=>{try{let r=e;if(t>1&&(r+=(-1!=r.indexOf("?")?"&":"?")+"rs=1&dpi=d1"),n){const e=new URL(r),{origin:t,pathname:i,searchParams:o}=e;return Object.entries(n).forEach((([e,t])=>{o.set(e,t)})),t+decodeURIComponent(i)+"?"+decodeURIComponent(o.toString())}return r}catch(t){return e}},satelliteFlow:e=>e.replace("default","flow")};class ve{constructor(e){this.localizedStrings=e,this.mapHelperMap={locationPins:fe,urlProcessors:me,heatmapHelper:new pe.O(this.localizedStrings).Map}}get Map(){return this.mapHelperMap||{}}}function ye(){if(!D.jG.isMobile||!(0,V.N)())return;return{content:document.createElement("div"),closeButton:!0,pixelOffset:[0,-15],fillColor:"",showPointer:!0}}function Ce(e,t,n){if(!e||!(null==t?void 0:t.startsWith(le))||!e[t])return;const r=we(e[t],n);return r!=n?e[t.substring(le.length)]=r:void 0}function Se(e,t,n){if(!t||!he.includes(t)||!e[t])return;const r=we(e[t],n);return r!=n?e[t]=r:void 0}function we(e,t){if(!e)return;const n=de.exec(e);if(!n||n.length<2)return e;const r=n[1],i=null==r?void 0:r.split(":",5).filter((e=>!!e));let o=t;for(let e=0;e<i.length;e++){if(!o)return;o=o[i[e]]}return o==t?void 0:o}var be=n(2620),Te=n(53076);function Pe(e,t){return e&&1===e.length&&e[0]===t}function ke(e,t){for(const[n,r]of Object.entries(t||{}))r&&e.add(n);return e}class Ae extends N.e{constructor(e,t,n,r,i,o,a){if(super(e,t,n,r,i,o,a),this.pixelRatio=(0,F.Nd)(this.requestContext.data.devicePixelRatio,"devicePixelRatio")||1,this.currentFetchWeatherOptions={hourlyDataDays:"10",excludeFromRecentSearch:!0,disableFetchRegionData:!0,userProfileFetch:!0,partialHourly:!0,partialHours:240},this.updateWeatherSummaryValue=e=>{w.f.updateWeatherSummaryValue.getActionSender(this).send(e)},this.updateTimelineSelectedDate=e=>{w.f.updateTimelineSelectedDate.getActionSender(this).send(e)},this.updateTimelineState=e=>{var t;const n=this.getCurrentState(),r=this.getCurrentStateLayerInfo(),i=r.group,o=null===(t=r.subLayers)||void 0===t?void 0:t[0],a=n.timelineState,s=e||(null==a?void 0:a.tileUrlVersion),c={tileUrlVersion:s,group:i,subLayer:o,timelineLongPeriodSelected:a.timelineLongPeriodSelected,enableRadarDataV2:!0,enablePlayV2Sate:!!(null==a?void 0:a.enablePlayV2Sate),enableCarouselTimeline:!!(null==a?void 0:a.enableCarouselTimeline),enableVectorMap:!0,enableUnfiy:!0,enableTenDay:!0,timeRange:(null==a?void 0:a.timeRange)||(0,I.b)(n.turnOn3DMode)},u=k.LK.generateTimelineVerion(c);w.f.updateTimeline.getActionSender(this).send({tileUrlVersion:s,timeStamps:u.timeStamps,pickedIndex:u.nowIndex})},this.updateMapLayerData=e=>{w.f.updateMapLayerData.getActionSender(this).send(e)},this.openSeeMoreAlertSummary=(e,t,n)=>(0,x.mG)(this,void 0,void 0,(function*(){var r,i;const o=n||this.getCurrentState().alert,a=(null==o?void 0:o.features)?e(o.features,o.alertId):((null==o?void 0:o.rankedAlerts)||[]).filter((e=>e.alertId===(null==o?void 0:o.alertId)))[0],s=yield this.getF1Codes(),c=this.getCurrentState().newsImg;let u=t(a,s,this.config.localizedStrings.genericSevereLayerLocalization,c);if(!u)return;const l=function(e,t){var n;try{const{f1:r,f0:i,fs0:o}=e||{};let a;if(Array.isArray(null==t?void 0:t.contentData)&&(null==t?void 0:t.contentData.length)>0)for(let e=0;e<(null==t?void 0:t.contentData.length);e++){const s=t.contentData[e];if(Array.isArray(s.content)&&s.content.length>0){const e=null===(n=s.content[0])||void 0===n?void 0:n.metadata,{AlertId:t,AlertClass:c,AlertLevel:u,QnAs:l}=JSON.parse(e)||{};if(t&&c&&u&&t===r&&c===i&&u===o&&Array.isArray(l)&&l.length>0){a=l;break}}}return a}catch(e){return}}(a,this.getCurrentState().weatherData);u=Object.assign(Object.assign({},u),l&&{severeTips:l}),D.jG.isMobile?null===(r=w.f.updateAlertSummaryDrawerContent.getActionSender(this))||void 0===r||r.send(u):(null===(i=w.f.modal.getActionSender(this))||void 0===i||i.send({type:"alert",content:u}),(0,V.N)()&&R.M0.sendPageView({page:{isCorePV:!0,content:{source:"ViewChange"}}},!1))})),this.updateAutoLayer=e=>{w.f.updateAutoLayer.getActionSender(this).send(e)},this.isNowcastEnabled=()=>"radar"===this.config.defaultTypeKey,(0,ae.hf)(this.fullNamespace,void 0,!0),(0,Q.pm)()){const e=D.jG.ServiceUrlBase.toString();o.apiSets.urlBase=e,Object.keys(o.apiSets).filter((e=>o.apiSets[e]&&"object"==typeof o.apiSets[e])).forEach((t=>{o.apiSets[t].urlBase=e}))}this.config.apiSets&&(this.client=(0,Y.Z)(this.config.apiSets),this.metadataTask=this.client.mapCoreClient.metadata());const s=(0,F.Nd)(this.requestContext.data.locationHref,"locationHref");this.url=new Z(s,o),this.groupSet=ke(ke(new Set,o.group1),o.group2),this.animationCacheRE=this.config.initialCloseAnimation&&new E.w(this.config.initialCloseAnimation);const c=this.initState(this.url,o.defaultTypeKey),u=w.f.history.getActionSender(this);u.send(c,"init"),this.fetchMapMetadata(),!c.turnOn3DMode&&this.config.bingMapV9Key&&(this.initMapPromise=this.initBingMap()),window.addEventListener("popstate",(e=>{const t=e.state;u.send(t)}))}get currentMapUrl(){return this.url}get currentTimestamp(){const e=this.getCurrentState().timelineState;if(!e)return se.k.logError("Failed to get current time from map data connector due to empty timeline state"),Date.now();const{pickedIndex:t,timeStamps:n}=e;return t<0||!n||n.length<=t?(se.k.logError(`Failed to get current time from map data connector, timelineState:${JSON.stringify(e)}`),Date.now()):n[t]}sendNavigationTelemetry(e,t){if(t){const n=this.getCurrentStateLayerInfo(e),r=this.url.computeURL(n);R.M0.sendActionEvent(t,W.Aw.Click,W.wu.Navigate,r)}}switchLayerGroup(e,t,n){e&&(w.f.modal.getActionSender(this).send({type:"hide"}),w.f.updateAlertSummaryDrawerContent.getActionSender(this).send(void 0),w.f.switchLayerGroup.getActionSender(this).send(e,t,n),w.f.updateSidebar.getActionSender(this).send({toggleSidebar:!0,scrollPosition:0}))}setEplantProgressView(){w.f.setEplantProgressView.getActionSender(this).send()}chooseSubLayers(e,t,n){w.f.modal.getActionSender(this).send({type:"hide"}),w.f.chooseSubLayers.getActionSender(this).send(e,t,n)}chooseDataFilters(e,t){w.f.chooseDataFilters.getActionSender(this).send(e,t)}updateGeoJsonSummary(e){w.f.updateGeoJsonSummary.getActionSender(this).send(e)}getCurrentStateLayerInfo(e){var t,n;const a=this.getCurrentState(),s=f(e=e||a.group),h=a.groupSubLayers[e]||s.subLayers;let p=h;var g,m;a.turnOn3DMode&&(e===r.g.AirQuality?p=[i.U.AirQualityIndex]:e===r.g.WinterStorm&&(p=(null==p?void 0:p.includes(i.U.Precipitation))?[i.U.SnowDepth]:p),h&&p&&(m=p,(g=h).length!==m.length||!g.every((e=>m.includes(e))))&&w.f.chooseSubLayers.getActionSender(this).send(e,p)),e===r.g.Hurricane&&(s.dataFilters=[],a.animation&&s.dataFilters.push(o.cy.WindAnimation),p.includes(i.U.HurricaneSatellite)?s.dataFilters.push(o.cy.HurricaneSatellite):s.dataFilters.push(o.cy.HurricaneWind));const y=a.groupDataFilters[e]||s.dataFilters,C={group:e,subLayers:p?[...p]:[],dataFilters:y},S={addOnLayers:[]};(e===r.g.Precipitation||p.includes(i.U.Precipitation))&&(null==(null===(t=a.timelineState)||void 0===t?void 0:t.timelineLongPeriodSelected)?S.tPrecipType=this.isNowcastEnabled()?u.ShortPeriod:u.LongPeriod:S.tPrecipType=a.timelineState.timelineLongPeriodSelected?u.LongPeriod:u.ShortPeriod),e===r.g.Cloud&&(S.tCouldType=(null===(n=a.timelineState)||void 0===n?void 0:n.timelinePastMapSelected)?l.Forecast:l.Satellite),e===r.g.Hurricane&&p.includes(i.U.HurricaneSatellite)&&(S.tCouldType=l.Satellite),(p.includes(i.U.SnowFall)||p.includes(i.U.SnowDepth))&&a.ski&&S.addOnLayers.push(d.Ski);const b=v[(0,c.zH)(e,p,S)]||e;return C.groupV2=b,C}getCurrentStateLayerInfoLegacy(e,t){const{group:n,subLayers:o=[]}=this.getCurrentStateLayerInfo(e);let s,c,u=a.OR.AirQualityIndex,l=[];if(n===r.g.WinterStorm)s=a.F5.WinterStorm,c=t?a.CK.SnowFall:a.CK.Precipitation,Pe(o,i.U.SnowDepth)?c=a.CK.SnowDepth:Pe(o,i.U.SnowFall)&&(c=a.CK.SnowFall);else if(n===r.g.AirQuality)s=a.F5.AirQuality,Pe(o,i.U.AirQualityStation)&&!t&&(u=a.OR.AirQualityStation);else if(n===r.g.Wildfire)s=a.F5.Wildfire,l=o;else if(n===r.g.SkiResort)s=a.F5.WinterStorm,c=a.CK.SnowDepth,Pe(o,i.U.SnowDepth)?c=a.CK.SnowDepth:Pe(o,i.U.SnowFall)&&(c=a.CK.SnowFall);else{s={[r.g.Radar]:a.F5.Radar,[r.g.Hurricane]:a.F5.Hurricane,[r.g.SevereWeather]:a.F5.SevereWeather,[r.g.Temperature]:a.F5.Temperature,[r.g.Precipitation]:a.F5.Precipitation,[r.g.Wildfire]:a.F5.Wildfire,[r.g.Wind]:a.F5.Wind,[r.g.Cloud]:a.F5.Cloud,[r.g.Pressure]:a.F5.Pressure,[r.g.Humidity]:a.F5.Humidity,[r.g.Visibility]:a.F5.Visibility,[r.g.DewPoint]:a.F5.DewPoint,[r.g.Pollen]:a.F5.Pollen,[r.g.PollenIndex]:a.F5.PollenIndex}[n]}return[s,c,u,l]}updateZoom(e){w.f.updateZoom.getActionSender(this).send(e)}initState(e,t){var n;let i=e.layerInfo(),o=!0;(null==i?void 0:i.group)||(i=y(t),o=!1);const a="boolean"!=typeof e.night||e.night,s=this.config.initialCloseAnimation?!(null===(n=this.animationCacheRE)||void 0===n?void 0:n.validate({group:i.group,subLayers:i.subLayers})):this.config.animation;return{group:i.group,groupSubLayers:{[i.group]:i.subLayers},needShowLocationPopup:i.group!==r.g.Hurricane,animation:"boolean"==typeof e.animation?e.animation:s,ski:"ski"===e.type,daynight:a,daynightToggled:!a,zoom:e.zoom||this.getInitialZoom(i.group),turnOn3DMode:this.is3dMode(e),hurrricane:{hurricaneParam:e.hurrican},initType:e.type,zoom3dLevel:e.zoom||L.uk.defaultMinZoom,timelineState:this.getInitTimelineState(e,i.group),groupDataFilters:{[i.group]:i.dataFilters},newsImg:e.newsImg,hasInitLayer:o}}is3dMode(e){return"boolean"==typeof e.mode3d?e.mode3d:this.config.mode3d}updateWeatherData(e){w.f.updateWeatherData.getActionSender(this).send(e)}fetchMapMetadata(){return(0,x.mG)(this,void 0,void 0,(function*(){try{const e=this.getCurrentState();if(e.mapMetadata)return e.mapMetadata;const t=yield this.metadataTask,n=ie(t);this.updateTimelineState(n);const r=t&&re(t);return w.f.updateMapMetaData.getActionSender(this).send(r),r}catch(e){throw(0,ce.OO)(e,ue.wy1,"Weather Map metadata parse error",e&&e.message),e}}))}getMapStyle(){return this.mapStylePromise||(this.mapStylePromise=this.fetchMapMetadata().then((e=>(this.mapStyle=function(e,t,n){const r={mapHelper:new ve(n).Map,metadata:t},i=Object.assign({locationPopup:ye()},e),o=[i];for(;o.length>0;){const e=o.shift();e&&Object.keys(e).forEach((t=>{"object"==typeof e[t]?o.push(e[t]):Ce(e,t,r)||Se(e,t,r)}))}return i}(this.config.map,e,this.config.localizedStrings.layerLocalizedStrings),this.mapStyle)))),this.mapStylePromise}getF1Codes(){var e,t,n,r;return(0,x.mG)(this,void 0,void 0,(function*(){let i=this.getCurrentState().f1Codes;if(i)return i;if(!this.client)return Promise.resolve(void 0);const o=yield this.metadataTask;let a;for(const[e,t]of Object.entries(o.value[0].F1CodeFile.uris)){a=t;break}if(!a)return;let s=null==a?void 0:a.replace("{x}_{y}_{z}","warning-f1-codes");return D.jG.IsChinaCompliance&&(s=null==s?void 0:s.replace("msn.com","msn.cn")),i=yield this.client.resClient.getF1Codes(s),null===(r=null===(n=null===(t=(e=w.f.updateAlertF1Code).getActionSender)||void 0===t?void 0:t.call(e,this))||void 0===n?void 0:n.send)||void 0===r||r.call(n,i),i}))}getInitTimelineState(e,t){const n=this.isNowcastEnabled();return{defaultAutoPlay:"boolean"==typeof e.autoplay&&e.autoplay,dragLatency:"number"==typeof e.dragLatency?e.dragLatency:0,timelineStep:e.timelineStep,timelineSpeed:e.timelineSpeed,enableVectorMap:n,enableRadarDataV2:n,enablePlayV2:!0,enablePlayV2Sate:!0,enableProgressBar:!0,enableCarouselTimeline:!D.jG.isMobile,loadStatus:P.T.Empty,enableRdarNowcasting:n,timelineLongPeriodSelected:this.is3dMode(e)&&t===r.g.Precipitation}}getInitialZoom(e){return e===r.g.Wildfire?5:e===r.g.Pollen?6:this.config.intialMapZoom||8}initBingMap(){return(0,x.mG)(this,void 0,void 0,(function*(){(0,J.w)(O.E.BingMapV9Start);const{BingMapV9:e}=yield Promise.all([n.e("bing-map-v9"),n.e("libs_weather-map-shared_dist_MapLoadPerfMarker_js-libs_weather-map-shared_dist_MapMathFunctio-e9ae0a")]).then(n.bind(n,46119));(0,J.w)(O.E.BingMapV9Load);const t=new e(this.config.bingMapV9Key,this.pixelRatio),r=this.getCurrentState(),i=(0,be.Fm)(r.zoom,1);return this.initMap(t,i),this.map2dClient=t,t}))}initMap(e,t){return(0,x.mG)(this,void 0,void 0,(function*(){const n=this.currentMapUrl,r=function(e){const t=e.location;return t&&t.latitude&&t.longitude?[parseFloat(t.latitude),parseFloat(t.longitude)]:void 0}(n);let i=null;if(r)i={latitude:r[0].toString(),longitude:r[1].toString()},this.lazyResolveLocation=!0;else{this.weatherDc=yield this.rootReducer.getDataConnector(Te.z.WeatherData);const e=this.currentFetchWeatherOptions;yield this.weatherDc.fetchWeather(n.location,n.unitType,e),i=this.weatherDc.getCurrentState().currentLocation}const o=function(e,t){const n={};return e&&(n.center={lat:+(e.latitude||0),lng:+(e.longitude||0)}),t&&(n.zoom=t),n}(i,t);this.initMapClient(o,e)}))}initMapClient(e,t){return(0,x.mG)(this,void 0,void 0,(function*(){try{const n=yield this.getMapStyle(),r=this.getCurrentState(),i=this.getCurrentStateLayerInfo(),o=this.currentTimestamp,a={animationEnabled:r.animation,dayNightEnabled:r.daynight};if(this.config.preMountMap){const e=document.getElementById(A.Jc.MapPreContainer);e&&(e.style.display="block"),t.mount(A.Jc.MapPreContainer,!1)}t.init(n,i.groupV2,e,null,o,a)}catch(e){(0,ce.OO)(e,ue.$RH,"Weather Map client initialization error",e&&e.message)}}))}}var Ee=n(30856);function Me(e,t,n){const i=e.groupSubLayers;return e.group=t,n?i[t]=n:i[t]||(i[t]=f(t).subLayers),e.needShowLocationPopup=t!==r.g.Hurricane,e}const xe={locationPopupUpdating:0,sidebar:{toggleSidebar:!0}};class Ie{reduce(e,t){if(!e)return xe;if(!t)return e;let n=null,i=!1;return i=i||Ee.G.handleAction(t,w.f.chooseSubLayers,((t,r)=>{n=Object.assign(Object.assign({},e),{groupSubLayers:Object.assign(Object.assign({},e.groupSubLayers),{[t]:[...r||[]]})})})),i=i||Ee.G.handleAction(t,w.f.chooseDataFilters,((t,r)=>{n=Object.assign(Object.assign({},e),{groupDataFilters:Object.assign(Object.assign({},e.groupDataFilters),{[t]:[...r||[]]})})})),i=i||Ee.G.handleAction(t,w.f.updateGeoJsonSummary,(t=>{n=Object.assign(Object.assign({},e),{geoJsonSummary:t})})),i=i||Ee.G.handleAction(t,w.f.switchLayerGroup,((t,i,o)=>{n=Me(Object.assign({},e),t,o),t===r.g.Hurricane?n.needShowLocationPopup=!1:t===r.g.Precipitation&&n.turnOn3DMode&&(n.timelineState.timelineLongPeriodSelected=!0)})),i=i||Ee.G.handleAction(t,w.f.history,((t,r)=>{if("init"===r)n=Object.assign(Object.assign({},e),t);else{const r=t&&t._st_;n=e,r&&r.group&&(n=Me(Object.assign({},e),r.group,r.subLayers))}})),i=i||Ee.G.handleAction(t,w.f.updateAlert,(t=>{n=Object.assign(Object.assign({},e),{alert:Object.assign(Object.assign({},e.alert),t)}),t.rankedAlerts?delete n.alert.features:t.features&&delete n.alert.rankedAlerts})),i=i||Ee.G.handleAction(t,w.f.toggleAnimation,(()=>{n=Object.assign(Object.assign({},e),{animation:!e.animation})})),i=i||Ee.G.handleAction(t,w.f.toggleSkiLayer,(()=>{n=Object.assign(Object.assign({},e),{ski:!e.ski})})),i=i||Ee.G.handleAction(t,w.f.controlSkiLayer,(t=>{n=Object.assign(Object.assign({},e),{ski:t})})),i=i||Ee.G.handleAction(t,w.f.toggleDayNightLayer,((t,r)=>{n=t?Object.assign(Object.assign({},e),{daynight:r}):Object.assign(Object.assign({},e),{daynight:!e.daynight,daynightToggled:!0})})),i=i||Ee.G.handleAction(t,w.f.onForecastSelectDayChange,(t=>{n=Object.assign(Object.assign({},e),{selectedDayIndex:t})})),i=i||Ee.G.handleAction(t,w.f.onTimelineClickDayChange,(t=>{n=Object.assign(Object.assign({},e),{timelineClickDayIndex:t})})),i=i||Ee.G.handleAction(t,w.f.updateWeatherData,(t=>{n=Object.assign({},e),n.weatherData=t})),i=i||Ee.G.handleAction(t,w.f.updateMapCursorPosition,((t,r)=>{n=Object.assign({},e),n.mapWidthHeight=t,n.cursorPositionPixel=r})),i=i||Ee.G.handleAction(t,w.f.updateMapPopupCardModal,(t=>{n=Object.assign({},e),n.mapPopupCardModal=t})),i=i||Ee.G.handleAction(t,w.f.updateMapPopupVisibility,(t=>{n=Object.assign({},e),n.mapPopupVisiable=t})),i=i||Ee.G.handleAction(t,w.f.updateSidebar,(t=>{n=Object.assign({},e),n.sidebar=Object.assign(Object.assign({},e.sidebar),t)})),i=i||Ee.G.handleAction(t,w.f.modal,(t=>{n=Object.assign(Object.assign({},e),{modal:t})})),i=i||Ee.G.handleAction(t,w.f.changeUnitStatus,(t=>{n=Object.assign(Object.assign({},e),{unitChangeStatus:t})})),i=i||Ee.G.handleAction(t,w.f.updateZoom,(t=>{n=Object.assign(Object.assign({},e),{zoom:t})})),i=i||Ee.G.handleAction(t,w.f.updateHurricaneData,(t=>{n=Object.assign(Object.assign({},e),{hurrricane:Object.assign(Object.assign({},e.hurrricane),t)})})),i=i||Ee.G.handleAction(t,w.f.updateHasUserInteraction,(t=>{n=Object.assign(Object.assign({},e),{hasUserInteraction:t})})),i=i||Ee.G.handleAction(t,w.f.updateNews,(t=>{n=Object.assign(Object.assign({},e),{news:Object.assign(Object.assign({},e.news),t)})})),i=i||Ee.G.handleAction(t,w.f.updateTimeline,(t=>{n=Object.assign(Object.assign({},e),{timelineState:Object.assign(Object.assign({},e.timelineState),t)})})),i=i||Ee.G.handleAction(t,w.f.updateTimeZone,(t=>{n=Object.assign(Object.assign({},e),{timezone:t})})),i=i||Ee.G.handleAction(t,w.f.setLocationPopupRootElement,(t=>{n=Object.assign(Object.assign({},e),{locationPopupRootElement:t})})),i=i||Ee.G.handleAction(t,w.f.needShowLocationPopup,(t=>{n=Object.assign(Object.assign({},e),{needShowLocationPopup:t})})),i=i||Ee.G.handleAction(t,w.f.locationPopupUpdating,(t=>{n=Object.assign(Object.assign({},e),{locationPopupUpdating:e.locationPopupUpdating+t})})),i=i||Ee.G.handleAction(t,w.f.openLocationPopup,(()=>{n=Object.assign(Object.assign({},e),{locationPopupShown:!0})})),i=i||Ee.G.handleAction(t,w.f.closeLocationPopup,(()=>{n=Object.assign(Object.assign({},e),{locationPopupShown:!1})})),i=i||Ee.G.handleAction(t,w.f.updateWeatherSummaryValue,(t=>{n=Object.assign(Object.assign({},e),{weatherSummaryValue:t})})),i=i||Ee.G.handleAction(t,w.f.updateTimelineSelectedDate,(t=>{n=Object.assign(Object.assign({},e),{timelineSelectedDate:t})})),i=i||Ee.G.handleAction(t,w.f.updateAlertSummaryDrawerContent,(t=>{n=Object.assign({},e),n.alertSummaryDrawer=t})),i=i||Ee.G.handleAction(t,w.f.updateSelectedPollen,((t,r)=>{n=Object.assign(Object.assign({},e),{pollen:Object.assign(Object.assign({},e.pollen),t)})})),i=i||Ee.G.handleAction(t,w.f.toggle3DMode,(t=>{n=Object.assign({},e),n.turnOn3DMode=t})),i=i||Ee.G.handleAction(t,w.f.resetToLocationPin,(t=>{n=Object.assign({},e),t&&(n.locationPinButtonClicked=e.locationPinButtonClicked?e.locationPinButtonClicked+1:1)})),i=i||Ee.G.handleAction(t,w.f.trigger3dMapPreLoad,(t=>{n=Object.assign({},e),n.preLoad3dMap!==t&&(n.preLoad3dMap=t)})),i=i||Ee.G.handleAction(t,w.f.updateMapLayerData,(t=>{n=Object.assign({},e),n.mapLayerPointData!==t&&(n.mapLayerPointData=t)})),i=i||Ee.G.handleAction(t,w.f.updateHeatmapDataPoint,(t=>{const r=null==t?void 0:t.toJSXElement({showMin:!0,showDay:!1});n=Object.assign(Object.assign({},e),{heatmapDataPoint:t,weatherSummaryValue:r})})),i=i||Ee.G.handleAction(t,w.f.update3dZoom,((t,r)=>{n=Object.assign({},e),n.isZoomIn3d=t,n.zoomIn3dPlaying=t?r:e.zoomIn3dPlaying,n.zoomOut3dPlaying=t?e.zoomOut3dPlaying:r})),i=i||Ee.G.handleAction(t,w.f.updateZoomLevelFor3dMap,(t=>{n=Object.assign({},e),n.zoom3dLevel=t,n.zoomIn3dPlaying=!1,n.zoomOut3dPlaying=!1})),i=i||Ee.G.handleAction(t,w.f.updateTimelineIndex,(t=>{n=Object.assign({},e),n.timelineState.pickedIndex=t})),i=i||Ee.G.handleAction(t,w.f.updateTimeRange,((t,r)=>{n=Object.assign({},e),n.timelineState.timeRange=t,n.timelineState.timeStamps=r})),i=i||Ee.G.handleAction(t,w.f.updateGPUStatus,(t=>{n=Object.assign({},e),n.hasGPU!==t&&(n.hasGPU=t)})),i=i||Ee.G.handleAction(t,w.f.updateMapMetaData,(t=>{n=Object.assign({},e),n.mapMetadata=t})),i=i||Ee.G.handleAction(t,w.f.updatePreLoad3dMap,(t=>{n=Object.assign({},e),n.preLoad3dMapComplete=t})),i=i||Ee.G.handleAction(t,w.f.updateGeolocation,(t=>{n=Object.assign({},e),n.geolocation=t})),i=i||Ee.G.handleAction(t,w.f.updateAlertF1Code,(t=>{n=Object.assign({},e),n.f1Codes=t})),i=i||Ee.G.handleAction(t,w.f.update3dButton,(t=>{n=Object.assign({},e),n.switch3dbutton=t})),i=i||Ee.G.handleAction(t,w.f.updateMapFullScreen,(t=>{n=Object.assign({},e),n.fullScreen=t})),i=i||Ee.G.handleAction(t,w.f.updateAutoLayer,(t=>{n=Object.assign({},e),n.autoLayer=t})),i=i||Ee.G.handleAction(t,w.f.updateSelectedAlertEvent,(t=>{n=Object.assign(Object.assign({},e),{alertEvent:Object.assign(Object.assign({},e.alertEvent),t)})})),i=i||Ee.G.handleAction(t,w.f.updateCommentModule,(t=>{n=Object.assign({},e),n.showCommentModule=t})),n||e}}var Le=n(92926);const Oe={experienceConfigSchema:M.WeatherMapDataConfigSchema}},77322:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return r}}),function(e){e[e.Empty=0]="Empty",e[e.Changed=1]="Changed",e[e.Ready=2]="Ready"}(r||(r={}))},30686:function(e,t,n){"use strict";n.d(t,{BA:function(){return d},Go:function(){return l},X2:function(){return r},mL:function(){return u},xO:function(){return p},zH:function(){return h}});var r,i=n(33940),o=n(65135),a=n(67138),s=n(22120),c=n(91001);function u(e){return a.I[e]||e}function l(e,t,n,r={},a,s){const c=r||{},{isCorePV:u=!0,content:l}=c,d=(0,i._T)(c,["isCorePV","content"]),h=a?`3d_${e}`:e;o.M0.sendPageView({page:Object.assign({isCorePV:u,content:Object.assign(Object.assign({},l),{category:h,subcategory:t,source:s||"Load"}),url:location.href},d)},n)}function d(e){return l(e.layerType,e.zoomLevel,e.isFirstPageView,e.page,e.turnOn3DMode,e.viewSource)}function h(e,t,n){var r,i,o;return`${e}+${(null===(r=null==t?void 0:t.sort())||void 0===r?void 0:r.join("+"))||""}+${(null==n?void 0:n.tPrecipType)||""}+${(null==n?void 0:n.tCouldType)||""}+${(null===(o=null===(i=null==n?void 0:n.addOnLayers)||void 0===i?void 0:i.sort())||void 0===o?void 0:o.join("+"))||""}`}function p(e){return(0,i.mG)(this,void 0,void 0,(function*(){e.getCurrentState().preLoad3dMapComplete||s.f.trigger3dMapPreLoad.getActionSender(e).send(!0),yield c._.subscribe("3d-map"),s.f.toggle3DMode.getActionSender(e).send(!0)}))}!function(e){e.Load="Load",e.GroupSwitch="GroupSwitch",e.Zoom="Zoom",e.ViewChange="ViewChange"}(r||(r={}))},92926:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r=n(30686),i=n(7124),o=n(97417),a=n(65135),s=n(38156);class c{constructor(){this.initialClickSended=!1,this.debounceFunMap=new Map,this.logMapInitialClick=e=>{this.initialClickSended||(a.M0.sendActionEvent(e,s.Aw.Click),this.initialClickSended=!0)},this._sendPageView=()=>{this.telemetryData&&((0,r.BA)(this.telemetryData),this.telemetryData.isFirstPageView||((0,o.SL)("prg-wx-tlmtdw")||a.M0.sendContentViewEvent(this.telemetryData.viewActionHTMLElement),this.telemetryData.viewActionHTMLElement&&!this.telemetryData.noViewAction&&a.M0.sendActionEvent(this.telemetryData.viewActionHTMLElement,s.Aw.View)))}}static getInstance(){return c.instance||(c.instance=new c),c.instance}static getDebounceFuncCacheKey(e,t=!1,n=!0){return`${null==e?c.defaultWaitTime:e}/${t}/${n}`}setPageViewData(e){this.telemetryData=e}sendPageView(){this.getSendPageViewFunc()()}flushSendPageView(){this.getSendPageViewFunc().flush()}cancelSendPageView(){this.getSendPageViewFunc().cancel()}getSendPageViewFunc(){var e,t,n;const r=null==(null===(e=this.telemetryData)||void 0===e?void 0:e.waitTime)?c.defaultWaitTime:this.telemetryData.waitTime,o=!!(null===(t=this.telemetryData)||void 0===t?void 0:t.isLeadingDebounce),a=!(null===(n=this.telemetryData)||void 0===n?void 0:n.isLeadingDebounce),s=c.getDebounceFuncCacheKey(r,o,a);return this.debounceFunMap.has(s)||this.debounceFunMap.set(s,(0,i.Z)(this._sendPageView,r,{leading:o,trailing:a})),this.debounceFunMap.get(s)}}c.defaultWaitTime=3e3;const u=c.getInstance()},87857:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});class r{constructor(e){this.rule=e,this.c={}}validate(e){const t=`${e.group}+${(e.subLayers||[]).sort().join(",")}`;return void 0===this.c[t]&&(this.c[t]=function(e,t){if(!e)return!0;if(e.disable)return!1;if(e.rules.length<=0)return!0;for(let n=0;n<e.rules.length;++n){if(o(e.rules[n],t))return!0}return!1}(this.rule,e)),this.c[t]}}function i(e,t){const n=new Set(e);return t.forEach((function(e){n.delete(e)})),n}function o(e,t){if(e.group===t.group){if(!e.subLayers)return!0;const n=new Set(e.subLayers),r=new Set(t.subLayers||[]),o=e.match;if(!o||"equal"===o)return n.size===r.size&&0===i(n,r).size&&0===i(r,n).size;if("containsOf"===o)return i(r,n).size!=r.size}return!1}},91001:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});const r=new class{constructor(){this.tasks={}}share(e,t){const n=this.tasks[e];return n?setTimeout((function(){t.then(n.resolve,n.reject)}),0):this.tasks[e]={promise:t},t}subscribe(e){const t=this.tasks[e];if(t)return t.promise;const n={};return n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),this.tasks[e]=n,n.promise}}},71092:function(e,t,n){"use strict";n.d(t,{LK:function(){return l},Qh:function(){return d}});var r=n(67138),i=n(69317),o=n(63929),a=n(45506),s=n(63824);const c={oneDayHours:24,twoDayHours:48,currentHours:0,twoHours:2,threeHours:3,fourHours:4,sixHours:6,minutesStep:6e5,fiveMinutesStep:3e5,eightMinutesStep:48e4,fourMintuesStep:24e4,tenMintuesStep:6e5,hourlyStep:36e5,historicalHurricaneDefaultShowCount:5,markerPopupDistance:27,radarNowIndex:24,aqiMapNowIndex:23,lightningNowIndex:23,satelliteNowIndex:12,radarNowIndexV2:15,locationHighResolutionMinZoom:11};var u;!function(e){e.Minute="minute",e.Hour="hour",e.Day="day"}(u||(u={}));class l{static getTimeDisplayText(e,t,n,r,i=!1){if(!e||isNaN(e.getTime()))return null;const o={forceWeekdayAhead:!0};let a=n?t.formatHourMinute(e,o):t.formatHour(e,o);if(i&&(a=n?t.formatHourMinuteTimezone(e,o):t.formatHourTimezone(e,o)),r){return`${t.formatDayWithWeek(e,o)}, ${a}`}return a}static generateTimelineVerion(e){var t;const n=l.getVersionDate(e.group,e.tileUrlVersion,e.timelineLongPeriodSelected,e.enableVectorMap,e.enableUnfiy,e.subLayer,e.enableTenDay),r=l.getTimelineParameters(e.group,e.subLayer,e.enableCarouselTimeline,e.enableVectorMap,e.timelineLongPeriodSelected,e.enableRadarDataV2,e.enablePlayV2Sate,e.timeRange,e.turnOn3DMode);return l.generateTimes(r,n,null===(t=e.tileUrlVersion)||void 0===t?void 0:t.experienceNowDate)}static generateNowIndex(e,t){const n=t.findIndex((e=>e>=(new Date).getTime()));return-1==n?t.length-1:n}static generateTimes(e,t,n){var r;const i=new Array,o=t?new Date(t):new Date,a=(n||o).getTime();o.setUTCMinutes(Math.floor(o.getUTCMinutes()/e.stepOfSetMintues)*e.stepOfSetMintues),e.setHours&&o.setUTCHours(o.getUTCHours()+1,0,0,0);let s=o.getTime()-e.pastHours*c.hourlyStep,u=e.nowIndex,l=e.oneStepPast;for(let t=0;t<e.lengthOfTimeStamps;t++)i.push(s),t>=e.nowIndex&&(l=e.oneStepFuture),s+=l;if(i){const e=i.findIndex((e=>e>a))-1;e>-1&&(u=e)}return e.resetNowIndex&&(u=function(e,t){if(e&&t){let n=0,r=0;const i=e.length;for(;n<i;)if(r+=1,n=Math.floor(10*r/4),n>=t)return n}return t}(i,u)),{timeStamps:i,nowIndex:u,nowVersion:"",baseNowIndex:e.nowIndex,playIndex:null!==(r=e.playIndex)&&void 0!==r?r:this.generateNowIndex(e.playIndex,i)}}static getTimelineParameters(e,t,n,o,a,s,u,d,h){const p=!!n&&(e===r.g.Radar||e===r.g.Precipitation);let g={oneStepPast:c.hourlyStep,oneStepFuture:c.hourlyStep,futureHours:c.oneDayHours,pastHours:c.currentHours,nowIndex:c.currentHours,stepOfSetMintues:10,setHours:!0,resetNowIndex:p,lengthOfTimeStamps:c.oneDayHours+c.currentHours};switch(e){case r.g.Radar:return g=l.getTimelineParametersOfRadar(o,!!s),g.resetNowIndex=p,g;case r.g.Precipitation:return a||(g=l.getTimelineParametersOfRadar(o,!!s),g.resetNowIndex=p),g;case r.g.Cloud:if(a)g.pastHours=c.currentHours;else{if(u)return l.getTimelineParametersOfSatelliteV2(d,h);g.pastHours=c.oneDayHours,g.futureHours=c.currentHours}return g.lengthOfTimeStamps=g.pastHours+g.futureHours,g;case r.g.WinterStorm:return t===i.U.Precipitation?a?g:l.getTimelineParametersOfRadar(o,s):(g.futureHours=c.twoDayHours,g.lengthOfTimeStamps=g.pastHours+g.futureHours,g);case r.g.AirQuality:return g.pastHours=c.oneDayHours,g.futureHours=c.currentHours,g.lengthOfTimeStamps=g.pastHours+g.futureHours,g.nowIndex=c.oneDayHours-1,g;case r.g.Wildfire:return g.pastHours=c.currentHours,g.futureHours=c.oneDayHours,g.lengthOfTimeStamps=g.pastHours+g.futureHours,g.nowIndex=c.currentHours,g;case r.g.Lightning:return g.oneStepPast=c.eightMinutesStep,g.oneStepFuture=c.eightMinutesStep,g.futureHours=c.currentHours,g.pastHours=c.threeHours,g.nowIndex=c.lightningNowIndex,g.stepOfSetMintues=8,g.setHours=!1,g.lengthOfTimeStamps=(g.pastHours+g.futureHours)*g.stepOfSetMintues,g;case r.g.Hurricane:return t===i.U.HurricaneSatellite?(g.pastHours=c.sixHours,g.futureHours=c.currentHours,g.lengthOfTimeStamps=g.pastHours+g.futureHours,g.nowIndex=c.sixHours-1,g):g;default:return g}}static getTimelineParametersOfRadar(e,t){return e?t?{oneStepPast:c.eightMinutesStep,oneStepFuture:c.eightMinutesStep,futureHours:c.fourHours,pastHours:c.twoHours,nowIndex:c.radarNowIndexV2,stepOfSetMintues:8,setHours:!1,lengthOfTimeStamps:45}:{oneStepPast:c.fiveMinutesStep,oneStepFuture:c.fiveMinutesStep,futureHours:c.twoHours,pastHours:c.twoHours,nowIndex:c.radarNowIndex,stepOfSetMintues:5,setHours:!1,lengthOfTimeStamps:12*c.twoHours+24}:{oneStepPast:c.minutesStep,oneStepFuture:c.minutesStep,futureHours:c.twoHours,pastHours:c.twoHours,nowIndex:c.currentHours,stepOfSetMintues:10,setHours:!1,lengthOfTimeStamps:6*(c.twoHours+c.twoHours)}}static getTimelineParametersOfSatelliteV2(e,t){const n=e||(0,o.b)(t),r=l.getStepCountFromHours(n,10);return{oneStepPast:c.tenMintuesStep,oneStepFuture:c.tenMintuesStep,futureHours:0,pastHours:n,nowIndex:r-1,stepOfSetMintues:10,setHours:!1,lengthOfTimeStamps:r}}static getTenDayVersionDate(e){var t;const n=null===(t=e.match("\\d{6}"))||void 0===t?void 0:t[0];if(!n)return null;const r=parseInt(n.substr(0,2)),i=parseInt(n.substr(2,2)),o=parseInt(n.substr(4,2)),a=new Date,s=a.getMonth()<r-1?a.getFullYear()-1:a.getFullYear();return a.setUTCFullYear(s,r-1,i),a.setUTCHours(o,0,0,0),a}static getVersionDate(e,t,n,o,s,c,u){let l;return t&&(!o||e!==r.g.Radar&&(e!==r.g.WinterStorm&&e!==r.g.Precipitation||n)?e!==r.g.Cloud||n?e===r.g.AirQuality?l=d(a.Al.Locale.toLowerCase(),t):e===r.g.Wildfire?l=t.firePlumeVersion:e===r.g.Hurricane&&c===i.U.HurricaneSatellite&&(l=t.satelliteV2Version):l=(null==t?void 0:t.enableSatelliteV2)?null==t?void 0:t.satelliteV2Version:t.satelliteVersion:l=t.radarForecaVersion,u&&(e==r.g.Temperature||e==r.g.Wind||e==r.g.Hurricane&&c!=i.U.HurricaneSatellite||e==r.g.Visibility||e==r.g.Humidity||e==r.g.Pressure||e==r.g.DewPoint||e==r.g.WinterStorm&&(c==i.U.SnowDepth||c==i.U.SnowFall)||e==r.g.WinterStorm&&c==i.U.Precipitation&&n||e==r.g.Precipitation&&n))?this.getTenDayVersionDate(t.default):l}static getTimeLevelIndex(e,t,n){return t.level==u.Minute?e.getMinutes()-e.getMinutes()%t.interval:t.level==u.Hour?n.formatHour(e):n.formatDay(e)}static getTimeDisplayForSeg(e,t,n,r,i=!1){if(!e)return null;if(n.level==u.Minute||n.level==u.Hour){let o;return n.level==u.Minute?(e.setUTCMinutes(e.getUTCMinutes()-e.getUTCMinutes()%n.interval),o=t.formatHourMinute(e)):o=t.formatHour(e),!i&&r&&t.formatWeek(e)!=t.formatWeek(r)&&(o+=" "+t.formatWeek(e)),o}return i?t.formatWeek(e):t.formatDayWithWeek(e,{forceWeekdayAhead:!0})}static getStepCountFromHours(e,t){return Math.round(60*e/t)+1}}function d(e,t){const n=(0,s.$7)(e);let r;return"IN"===n||"US"===n||"OT"==n?r=null==t?void 0:t.airQualityHeatMapVersion:"CN"===n?r=null==t?void 0:t.airQualityHeatMapCnVersion:"EU"===n&&(r=null==t?void 0:t.airQualityHeatMapEuVersion),r||new Date}},56870:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});const r={locationPinIcon:"locationPinIcon",canvasGLCursor:"wx-gl-canvas-cursor",canvasGLCursorDefault:"wx-gl-canvas-cursor-default"}},31601:function(e,t,n){"use strict";n.d(t,{C0:function(){return o},Jc:function(){return r},bp:function(){return i}});const r={WeatherMapRoot:"weather-map-root",MapContainer:"mapContainer",MapLayoutRoot:"map-layout-root",WeatherPageRoot:"weather-page-root",MapPreContainer:"weathermap-2d-container"},i="WeatherMapViewChanged",o="weather-map-initial-click"},2620:function(e,t,n){"use strict";n.d(t,{Dq:function(){return c},Fm:function(){return s},uX:function(){return a},x9:function(){return o}});var r=n(12884),i=n(99755);function o(e){if(!e)return"";let t=e.url;return e.urlFormat&&(t=(0,i.t)(t,e.urlFormat)),e.urlProcessor&&(t=e.urlProcessor(t,1,e.searchParms)),t}function a(e){if(!e)return new Date;return new Date(Date.UTC(parseInt(e.slice(0,4)),parseInt(e.slice(4,6))-1,parseInt(e.slice(6,8)),parseInt(e.slice(8,10)),e.length>=12?parseInt(e.slice(10,12)):0))}function s(e,t){return 1===t?e-1:e+1}function c(e,t){const n=(0,r.b0)(e,void 0,!0,null,null,t);(0,r.SV)("head")[0].appendChild(n)}},99755:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});const r=/\{ *([\w_ -]+) *\}/g;function i(e,t){return e&&e.replace(r,(function(e,n){const r=t[n];return"function"==typeof r?r(t):void 0===r?`{${n}}`:r}))}},37283:function(e,t,n){"use strict";function r(e,t,n,r,i=!1){if(!e||isNaN(e.getTime()))return null;const o={forceWeekdayAhead:!0};let a=n?t.formatHourMinute(e,o):t.formatHour(e,o);if(i&&(a=n?t.formatHourMinuteTimezone(e,o):t.formatHourTimezone(e,o)),r){return`${t.formatDayWithWeek(e,o)}, ${a}`}return a}n.d(t,{Z:function(){return r}})},63824:function(e,t,n){"use strict";n.d(t,{$7:function(){return y},A7:function(){return i},EA:function(){return a},It:function(){return s},PO:function(){return p},WZ:function(){return m},bi:function(){return c},gG:function(){return f},ne:function(){return o}});var r=n(38319);const i={Outdoor:"Outdoor",Ventilation:"Ventilation",AirPurifier:"Air Purifier",Mask:"Mask"};function o(e,t,n){switch(e){case r.Z5.Good:switch(t){case i.Outdoor:return null==n?void 0:n.enjoyOutdoorActivitiesLabel;case i.Ventilation:return null==n?void 0:n.oKToOpenWindowsLabel;default:return null}case r.Z5.Moderate:case r.Z5.Satisfactory:case r.Z5.Fair:switch(t){case i.Outdoor:return null==n?void 0:n.limitActivityIfSensitiveLabel;case i.Ventilation:return null==n?void 0:n.closeWindowsAndDoorsLabel;default:return null}case r.Z5.Poor:case r.Z5.PoorIN:case r.Z5.Unhealthy:case r.Z5.ModeratelyPolluted:case r.Z5.ModerateEU:case r.Z5.PoorEU:switch(t){case i.Outdoor:return null==n?void 0:n.limitActivityIfSensitiveLabel;case i.Ventilation:return null==n?void 0:n.closeWindowsAndDoorsLabel;case i.AirPurifier:return null==n?void 0:n.airPurifierRecommendedLabel;case i.Mask:return null==n?void 0:n.masksAdvisedIfSensitiveLabel;default:return null}case r.Z5.VeryUnhealthy:case r.Z5.Hazardous:case r.Z5.VeryPoor:case r.Z5.Severe:case r.Z5.VeryPoorEU:case r.Z5.ExtremelyPoor:switch(t){case i.Outdoor:return null==n?void 0:n.avoidOutdoorActivitiesLabel;case i.Ventilation:return null==n?void 0:n.closeWindowsAndDoorsLabel;case i.AirPurifier:return null==n?void 0:n.airPurifierRecommendedLabel;case i.Mask:return null==n?void 0:n.masksAdvisedLabel;default:return null}default:return null}}function a(e,t){switch(e){case r.Z5.Good:return null==t?void 0:t.goodLabel;case r.Z5.Moderate:case r.Z5.ModerateEU:return null==t?void 0:t.moderateLabel;case r.Z5.Poor:case r.Z5.PoorIN:case r.Z5.PoorEU:return null==t?void 0:t.poorLabel;case r.Z5.Unhealthy:return null==t?void 0:t.unhealthyLabel;case r.Z5.VeryUnhealthy:return null==t?void 0:t.veryUnhealthyLabel;case r.Z5.Hazardous:return null==t?void 0:t.hazardousLabel;case r.Z5.Satisfactory:return null==t?void 0:t.satisfactoryLabel;case r.Z5.ModeratelyPolluted:return null==t?void 0:t.moderatelyPollutedLabel;case r.Z5.VeryPoor:case r.Z5.VeryPoorEU:return null==t?void 0:t.veryPoorLabel;case r.Z5.Severe:return null==t?void 0:t.severeLabel;case r.Z5.Fair:return null==t?void 0:t.fairLabel;case r.Z5.ExtremelyPoor:return null==t?void 0:t.extremelyPoorLabel;default:return null}}function s(e,t,n){const i=y(t);switch(e){case r.Z5.Good:return"IN"==i?null==n?void 0:n.inGoodDescription:null==n?void 0:n.usGoodDescription;case r.Z5.Moderate:return null==n?void 0:n.usModerateDescription;case r.Z5.Poor:return null==n?void 0:n.usPoorDescription;case r.Z5.PoorIN:return null==n?void 0:n.inPoorDescription;case r.Z5.Unhealthy:return null==n?void 0:n.usUnhealthyDescription;case r.Z5.VeryUnhealthy:return null==n?void 0:n.usVeryUnhealthyDescription;case r.Z5.Hazardous:return null==n?void 0:n.usHazardousDescription;case r.Z5.Satisfactory:return null==n?void 0:n.inSatisfactoryDescription;case r.Z5.ModeratelyPolluted:return null==n?void 0:n.inModeratelyPollutedDescription;case r.Z5.VeryPoor:return null==n?void 0:n.inVeryPoorDescription;case r.Z5.Severe:return null==n?void 0:n.inSevereDescription;case r.Z5.Fair:return null==n?void 0:n.fairDescription;case r.Z5.ModerateEU:return null==n?void 0:n.euModerateDescription;case r.Z5.PoorEU:return null==n?void 0:n.euPoorDescription;case r.Z5.VeryPoorEU:return null==n?void 0:n.euVeryPoorDescription;case r.Z5.ExtremelyPoor:return null==n?void 0:n.extremelyPoorDescription;default:return""}}const c=new Map([[r.Z5.Good,"#00AE56"],[r.Z5.Moderate,"#FFB900"],[r.Z5.Poor,"#F2610C"],[r.Z5.Unhealthy,"#D13438"],[r.Z5.VeryUnhealthy,"#881798"],[r.Z5.Hazardous,"#6E220F"]]),u=new Map([[r.Z5.Good,"#00AE56"],[r.Z5.Satisfactory,"#FFB900"],[r.Z5.ModeratelyPolluted,"#F2610C"],[r.Z5.PoorIN,"#D13438"],[r.Z5.VeryPoor,"#881798"],[r.Z5.Severe,"#6E220F"]]),l=new Map([[r.Z5.Good,"#00AE56"],[r.Z5.Fair,"#FFB900"],[r.Z5.ModerateEU,"#F2610C"],[r.Z5.PoorEU,"#D13438"],[r.Z5.VeryPoorEU,"#881798"],[r.Z5.ExtremelyPoor,"#6E220F"]]),d=new Map([[r.Z5.Good,"#00AE56"],[r.Z5.Moderate,"#FFB900"],[r.Z5.Poor,"#F2610C"],[r.Z5.Unhealthy,"#D13438"],[r.Z5.VeryUnhealthy,"#881798"],[r.Z5.Hazardous,"#DC4B3D"]]),h=new Map([[r.Z5.Good,"#00AE56"],[r.Z5.Fair,"#FFB900"],[r.Z5.ModerateEU,"#F2610C"],[r.Z5.PoorEU,"#D13438"],[r.Z5.VeryPoorEU,"#881798"],[r.Z5.ExtremelyPoor,"#DC4B3D"]]);function p(e,t){if(e&&2==e.length&&e[0]&&e[1]&&t)if("IN"===t){if(g(e,[[68,97],[6,35]]))return!0}else if("US"===t&&(g(e,[[-130,-67],[25,49]])||g(e,[[-170,-130],[51,72]])||g(e,[[-180,-150],[19,23]])))return!0;return!1}function g(e,t){return!!(t&&2==t.length&&2==t[0].length&&e[0]>=t[0][0]&&e[0]<=t[0][1]&&e[1]>=t[1][0]&&e[1]<=t[1][1])}function f(e,t){switch(y(e)){case"IN":return u;case"EU":return t?h:l;case"US":if(t)return d}return c}const m=500,v=["de-at","cs-cz","nl-be","fr-ch","de-de","da-dk","es-es","fi-fi","fr-fr","el-gr","hu-hu","en-ie","it-it","nl-nl","nb-no","pl-pl","pt-pt","sv-se"];function y(e){return"en-us"!==e&&e?"en-in"===e?"IN":"zh-cn"===e?"CN":v.includes(e||"")?"EU":"OT":"US"}},83859:function(e,t,n){"use strict";n.d(t,{AI:function(){return d},RN:function(){return l},vg:function(){return p},y3:function(){return h}});const r=0,i=1,o=2,a=3,s=4,c=new Map([[i,"#23C172"],[o,"#FFD600"],[a,"#FA8D1B"],[s,"#E84A3D"]]),u=new Map([[r,"#70ABDE"],[i,"#23C172"],[o,"#FFD600"],[a,"#FA8D1B"],[s,"#E84A3D"]]);function l(e){return"en-us"===e?c:u}function d(e,t){return null==e||e<0||e>100?NaN:"en-us"===t?function(e){if(null==e||e<0||e>100)return NaN;if(e<25)return i;if(e<50)return o;if(e<75)return a;return s}(e):function(e){if(e<13)return r;if(e<38)return i;if(e<63)return o;if(e<88)return a;return s}(e)}function h(e,t){if(!t)return"";switch(e){case r:return t.veryLowPollenLabel;case i:return t.lowPollenLabel;case o:return t.moderatePollenLabel;case a:return t.highPollenLabel;case s:return t.veryHighPollenLabel}return""}function p(e,t){if(!t)return"";switch(e){case r:return t.veryLowLevelPollenSummary;case i:return t.lowLevelPollenSummary;case o:return t.moderateLevelPollenSummary;case a:return t.highLevelPollenSummary;case s:return t.veryHighLevelPollenSummary}return""}},71480:function(e,t,n){"use strict";n.d(t,{HN:function(){return s},Ji:function(){return i},LM:function(){return h},Qn:function(){return v},SR:function(){return a},T5:function(){return p},WD:function(){return f},Yp:function(){return g},tH:function(){return m},yO:function(){return o}});var r=n(89526);const i={Light:"Light",Medium:"Medium",Heavy:"Heavy"},o=new Map([[i.Light,"#AFAFAF"],[i.Medium,"#C08300"],[i.Heavy,"#D33131"]]);function a(e){return e<50?i.Light:e>=50&&e<150?i.Medium:e>=150?i.Heavy:null}function s(e,t){if(!t)return null;switch(e){case i.Light:return t.lightLabel;case i.Medium:return t.mediumLabel;case i.Heavy:return t.heavyLabel;default:return null}}const c="ActiveFireIcon",u="PrescribedFireIcon",l="PostFireIcon",d=["1","2","3","4","5"],h={Active:1,Prescribed:2,Post:3};function p(e){return"prescribed fire"===(null==e?void 0:e.toLowerCase())?h.Prescribed:"burned area emergency response"===(null==e?void 0:e.toLowerCase())?h.Post:h.Active}function g(e,t){var n,r,i;return t===h.Prescribed?null===(n=e.localizedStrings)||void 0===n?void 0:n.prescribedFireDesc:t===h.Post?null===(r=e.localizedStrings)||void 0===r?void 0:r.postFireDesc:null===(i=e.localizedStrings)||void 0===i?void 0:i.activeFireDesc}function f(e){return r.createElement("span",{role:"presentation","aria-hidden":"true",className:e},r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M6.34375 10.4316V6.05664H7.65625V10.4316H6.34375ZM6.34375 5.03125V3.71875H7.65625V5.03125H6.34375ZM7 0C7.64258 0 8.26237 0.0820312 8.85938 0.246094C9.45638 0.410156 10.0124 0.647135 10.5273 0.957031C11.0423 1.26693 11.514 1.63151 11.9424 2.05078C12.3708 2.47005 12.7376 2.94173 13.043 3.46582C13.3483 3.98991 13.583 4.54818 13.7471 5.14062C13.9111 5.73307 13.9954 6.35286 14 7C14 7.64258 13.918 8.26237 13.7539 8.85938C13.5898 9.45638 13.3529 10.0124 13.043 10.5273C12.7331 11.0423 12.3685 11.514 11.9492 11.9424C11.5299 12.3708 11.0583 12.7376 10.5342 13.043C10.0101 13.3483 9.45182 13.583 8.85938 13.7471C8.26693 13.9111 7.64714 13.9954 7 14C6.35742 14 5.73763 13.918 5.14062 13.7539C4.54362 13.5898 3.98763 13.3529 3.47266 13.043C2.95768 12.7331 2.486 12.3685 2.05762 11.9492C1.62923 11.5299 1.26237 11.0583 0.957031 10.5342C0.651693 10.0101 0.416992 9.45182 0.25293 8.85938C0.0888672 8.26693 0.00455729 7.64714 0 7C0 6.35742 0.0820312 5.73763 0.246094 5.14062C0.410156 4.54362 0.647135 3.98763 0.957031 3.47266C1.26693 2.95768 1.63151 2.486 2.05078 2.05762C2.47005 1.62923 2.94173 1.26237 3.46582 0.957031C3.98991 0.651693 4.54818 0.416992 5.14062 0.25293C5.73307 0.0888672 6.35286 0.00455729 7 0ZM7 12.6875C7.51953 12.6875 8.02083 12.6191 8.50391 12.4824C8.98698 12.3457 9.44043 12.1543 9.86426 11.9082C10.2881 11.6621 10.6732 11.3659 11.0195 11.0195C11.3659 10.6732 11.6621 10.2904 11.9082 9.87109C12.1543 9.45182 12.3457 8.99837 12.4824 8.51074C12.6191 8.02311 12.6875 7.51953 12.6875 7C12.6875 6.47591 12.6214 5.97233 12.4893 5.48926C12.3571 5.00619 12.1657 4.55273 11.915 4.12891C11.6644 3.70508 11.3682 3.32227 11.0264 2.98047C10.6846 2.63867 10.3018 2.34245 9.87793 2.0918C9.4541 1.84115 9.00065 1.64974 8.51758 1.51758C8.0345 1.38542 7.52865 1.31706 7 1.3125C6.47591 1.3125 5.97233 1.37858 5.48926 1.51074C5.00619 1.6429 4.55273 1.83431 4.12891 2.08496C3.70508 2.33561 3.32227 2.63184 2.98047 2.97363C2.63867 3.31543 2.34245 3.69824 2.0918 4.12207C1.84115 4.5459 1.64974 4.99935 1.51758 5.48242C1.38542 5.96549 1.31706 6.47135 1.3125 7C1.3125 7.52409 1.37858 8.02767 1.51074 8.51074C1.6429 8.99382 1.83431 9.44727 2.08496 9.87109C2.33561 10.2949 2.63184 10.6777 2.97363 11.0195C3.31543 11.3613 3.69824 11.6576 4.12207 11.9082C4.5459 12.1589 4.99935 12.3503 5.48242 12.4824C5.96549 12.6146 6.47135 12.6829 7 12.6875Z",fill:"#444444","fill-opacity":"0.6"})))}function m(){const e=[];return d.forEach((t=>{e.push(`ActiveFireIcon_${t}.svg`),e.push(`PrescribedFireIcon_${t}.svg`),e.push(`PostFireIcon_${t}.svg`)})),e}function v(e){var t,n;const r=null===(t=e.properties)||void 0===t?void 0:t.size,i=p(null===(n=e.properties)||void 0===n?void 0:n.type);let o=c;if(i===h.Prescribed?o=u:i===h.Post&&(o=l),null==r?void 0:r.Value){const e=r.Value;if(e>=3e5)return`${o}_1.svg`;if(e>=5e4)return`${o}_2.svg`;if(e>=1e4)return`${o}_3.svg`;if(e>=1e3)return`${o}_4.svg`}return`${o}_5.svg`}},13014:function(e,t,n){"use strict";n.d(t,{O:function(){return p},J:function(){return g}});var r=n(98318),i=n(82279),o=n.n(i),a=n(34615),s=n(58958),c=n(33379);let u="#181818";(0,c.N)()&&(u=(0,s.Y)()?"#FFFFFF":"#181818");class l{constructor(e){this.map={},this.localizedStrings=e,this.initMap()}initMap(){this.map={temperature:this.tooltipCreator(a.up,a.GE,r.iv),wind:this.tooltipCreator(a.hx,a.nt,(0,r.e9)(u)),humidity:this.tooltipCreator(a.Yd,a.uN,r.TN),visibility:this.tooltipCreator(a.lZ,a.sl,r.by),pressure:this.tooltipCreator(a.ze,a.ot,r.Ig),airQuality:this.tooltipCreator(a.RM,a.HV,(0,r.XZ)(!0)),firePlume:this.tooltipCreator(a.g4,a.T4,r.qL),snow:this.tooltipCreator(a.lv,a.U3,r.Fe),precipLong:this.tooltipCreator(a.rE,a.Lx,r.Mb),pollenIndex:this.tooltipCreator(a.Q$,a.Kc,r.MR)}}get Map(){return this.map}tooltipCreator(e,t,n){return(r,i,o,a)=>new d(e,t,n,this.localizedStrings,r,i,o,a)}}class d{constructor(e,t,n,r,i,o,a,s){this.shortFunc=e,this.originFunc=t,this.buildHtmlElementFunc=n,this.localizedStrings=r,this.color=i,this.unit=o,this.time=a,this.timezone=s}toShort(){return null==this.color?"":this.shortFunc(this.color,this.unit)}toOriginal(){return null==this.color?{}:this.originFunc(this.color,this.unit)}toJSXElement(e){if(null==this.color)return null;const t=Object.assign({colors:this.color,unit:this.unit,localizedStrings:this.localizedStrings,currentTime:this.time,timezone:this.timezone},e);return(0,r.Ts)(t,this.buildHtmlElementFunc)}toHTMLElement(e){const t=document.createElement("div");return t.innerHTML=o().renderToStaticMarkup(this.toJSXElement(e)),t}toHTMLString(e){return null==this.color?"":this.toHTMLElement(e).outerHTML}}const h={temperature:(e,t,n)=>({r:t+e.r*n/255,g:0,b:0,a:0}),wind:(e,t,n)=>{const r=n/255;return{r:t+e.r*r,g:t+e.g*r,b:0,a:0}},airQualityIndex:(e,t,n)=>{let r=e.r>250?255:e.r;r=r<5?0:r;return{r:r+(t+e.g*n/255),g:0,b:0,a:0}},firePlume:(e,t,n)=>({r:(e.r>150?255:0)+(t+e.g*n/255),g:0,b:0,a:0}),winterSnow:(e,t,n)=>({r:Math.pow(2,e.r*n/255+t)-.001,g:0,b:0,a:0}),precipitationLong:(e,t,n)=>{let r=(100-(t+e.r*n/255))/20;return r=r<=0?1:r>=5?1e-5:Math.pow(10,-r),r*=3600,{r,g:Math.floor(e.g/64),b:0,a:0}},pollenIndex:(e,t,n)=>({r:t+e.r*n/255,g:0,b:0,a:0}),pressure:(e,t,n)=>({r:t+e.r*n/255,g:0,b:0,a:0})};class p{constructor(e){this.localizedStrings=e,this.map={colorToValues:h,tooltips:new l(this.localizedStrings).Map}}get Map(){return this.map||{}}}function g(e,t=0,n=500){return h.pressure({r:e,g:0,b:0,a:0},t,n).r}},34615:function(e,t,n){"use strict";n.d(t,{GE:function(){return l},HV:function(){return P},Kc:function(){return L},Lx:function(){return x},Q$:function(){return O},RM:function(){return k},RN:function(){return f},T4:function(){return A},U3:function(){return m},Yd:function(){return w},_m:function(){return g},g4:function(){return E},hx:function(){return p},lZ:function(){return T},lv:function(){return v},nt:function(){return h},ot:function(){return y},rE:function(){return I},sl:function(){return b},tF:function(){return u},uN:function(){return S},up:function(){return d},vm:function(){return M},ze:function(){return C}});var r=n(45506),i=n(36569),o=n(68742),a=n(37283),s=n(44095);const c=500;function u(e,t,n=!1,o=!0){const s=new i.Q(r.Al.Locale||"en-us",t);return(0,a.Z)(e,s,n,o,!1)}function l(e,t){const n=e.r,r=(0,s.Wy)(t,"temp").name;let i=n-273.15;return t===o.a.Fahrenheit&&(i=1.8*i+32),{value:i,unit:r}}function d(e,t){const n=l(e,t);return`${Math.round(n.value)} ${n.unit}`}function h(e,t){var n;const r=e.r,i=e.g,a=Math.sqrt(r*r+i*i),c=null===(n=(0,s.Wy)(t,"wind_speed"))||void 0===n?void 0:n.name;let u=3.6*a;return c===o.C.MS?u=a:c===o.C.BFT?u=Math.round(Math.pow(a/.836,2/3)):c===o.C.MPH&&(u*=.621371),{value:u,unit:c}}function p(e,t){const n=h(e,t);return`${Math.round(n.value)}`}function g(e,t){const n=h(e,t);return`${Math.round(n.value)} ${n.unit}`}function f(e,t){let n=Math.atan2(e,t);n=n>0?n:2*Math.PI+n,n*=180/Math.PI;return[Math.sqrt(e*e+t*t),n]}function m(e,t){const n=e.r,r=(0,s.Wy)(t,"depth").name;let i=n;return t===o.a.Fahrenheit?(i*=.3937,i=Math.min(i,120)):i=Math.min(i,300),{value:i,unit:r}}function v(e,t){const n=m(e,t);return`${Math.round(n.value)} ${n.unit}`}function y(e,t){const n=e.r,r=(0,s.Wy)(t,"pressp").name;let i=Math.round(n/100);return r===o.C.IN&&(i=Math.round(.029529988*n)/100),{value:i,unit:r}}function C(e,t){const n=y(e,t);return`${n.value} ${n.unit}`}function S(e,t){return{value:e.r,unit:"%"}}function w(e,t){const n=S(e);return`${Math.min(Math.round(n.value),100)}${n.unit}`}function b(e,t){const n=e.r,r=(0,s.Wy)(t,"visi").name;let i=Math.round(n/100)/10;return r===o.C.MILE?i=Math.round(n/160.9344)/10:r===o.C.METER&&(i*=1e3),{value:i,unit:r}}function T(e,t){const n=b(e,t);return`${n.value} ${n.unit}`}function P(e,t){return{value:e.r+e.g,unit:""}}function k(e,t){const n=P(e);return`${Math.round(n.value)}`}function A(e,t){const n=e.r+e.g;return{value:n>c?c:n,unit:"μg/m³"}}function E(){return""}function M(e,t){const n=e.r+e.g;return n>c?"PM2.5 > 500 μg/m³":`PM2.5: ${Math.round(n)} μg/m³`}function x(e,t){const n=(0,s.Wy)(t,"precip").name;let r=e.r;return r&&t===o.a.Fahrenheit&&(r=e.r/25.4),r=r&&e.g<3?Math.round(100*r)/100:0,{value:r,unit:n}}function I(e,t){const n=x(e,t);return`${n.value} ${n.unit}`}function L(e,t){return{value:e.r}}function O(e,t){return Math.round(e.r)>0?`${Math.round(e.r)}`:""}},98318:function(e,t,n){"use strict";n.d(t,{XZ:function(){return p},TN:function(){return y},MR:function(){return w},Mb:function(){return f},Ig:function(){return S},Fe:function(){return m},iv:function(){return d},Ts:function(){return g},by:function(){return C},qL:function(){return v},e9:function(){return h}});var r=n(89526),i=n(45506),o=n(34615),a=n(63824),s=n(38319),c=n(71480);var u=n(83859),l=n(58958);function d(e){const{colors:t,unit:n}=e;if(!t)return r.createElement(r.Fragment,null);const i=(0,o.up)(t,n);return r.createElement("div",{style:{direction:"ltr"}},i)}function h(e){const t=null!=e?e:"white";return e=>{const{colors:n,unit:i}=e;if(!n)return r.createElement(r.Fragment,null);const a=n.r,s=n.g,[c,u]=(0,o.RN)(a,s),l=(0,o._m)(n,i);return r.createElement(r.Fragment,null,r.createElement("div",null,l),r.createElement("div",null,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"14",viewBox:"0 0 12 14",fill:t,style:{marginLeft:"8px",marginTop:"3px",transform:`rotate(${u}deg)`}},r.createElement("path",{d:"M7.02754 0.527536L11.363 13.5275L7.02754 9.19209L2.69209 13.5275L7.02754 0.527536Z"}))))}}function p(e){return t=>{const{colors:n,unit:c,localizedStrings:u}=t;if(!n)return r.createElement(r.Fragment,null);const d=u.aqiShortNameLabel||"AQI",h=Math.round((0,o.HV)(n,c).value),p=`${d}: ${h}`,g=i.Al.Locale.toLowerCase(),f=(0,s.lv)(h,g),m=(0,a.EA)(f,u),v=(0,a.gG)(g,(0,l.Y)()),y=e?v.get(f):"white";return r.createElement(r.Fragment,null,r.createElement("div",null,p),r.createElement("div",{style:{color:y,marginLeft:"4px"}},m))}}function g(e,t){return r.createElement("div",{className:"weatherMapHoverContainer"},r.createElement(r.Fragment,null,t(e),function(e){const{timezone:t,currentTime:n,showMin:i,showDay:a}=e,s=(0,o.tF)(n,t,i,a);return r.createElement("div",{className:"weatherMapHoverTimeValueText"},s)}(e)))}function f(e){const{colors:t,unit:n,localizedStrings:i}=e;if(!t)return r.createElement(r.Fragment,null);const a=`${(0,o.rE)(t,n)}`,s=function(e,t){return[null==t?void 0:t.rain,null==t?void 0:t.sleet,null==t?void 0:t.snow][e]}(t.g,i),c=function(e,t){let n;return e>9.72?n=null==t?void 0:t.rainLevelHeavy:e>2.52?n=null==t?void 0:t.rainLevelMedium:e>.036&&(n=null==t?void 0:t.rainLevelLight),n}(t.r,i),u=c&&s?`${s} - ${c}: ${a}`:a;return r.createElement("div",null,u)}function m(e){const{colors:t,unit:n}=e;if(!t)return r.createElement(r.Fragment,null);const i=`${(0,o.lv)(t,n)}`;return r.createElement("div",null,i)}function v(e){var t;const{colors:n,unit:i,localizedStrings:a}=e;if(!n)return r.createElement(r.Fragment,null);(0,o.vm)(n,i);const s=(0,c.SR)(Math.round(null===(t=(0,o.T4)(n,i))||void 0===t?void 0:t.value)),u=(0,c.HN)(s,a),l=c.Ji.Light===s?void 0:c.yO.get(s);return r.createElement(r.Fragment,null,r.createElement("div",{style:{color:l}},u))}function y(e){const{colors:t,unit:n}=e;if(!t)return r.createElement(r.Fragment,null);const i=`${(0,o.Yd)(t,n)}`;return r.createElement("div",null,i)}function C(e){const{colors:t,unit:n}=e;if(!t)return r.createElement(r.Fragment,null);const i=`${(0,o.lZ)(t,n)}`;return r.createElement("div",null,i)}function S(e){const{colors:t,unit:n}=e;if(!t)return r.createElement(r.Fragment,null);const i=`${(0,o.ze)(t,n)}`;return r.createElement("div",null,i)}function w(e){const{colors:t,localizedStrings:n}=e;if(!t)return r.createElement(r.Fragment,null);const o=i.Al.Locale.toLowerCase(),a=(0,u.AI)(t.r,o);let s=(0,u.y3)(a,n),c=(0,u.RN)(o).get(a);return 0===t.r&&(s=n.noData||"No data",c=void 0),r.createElement(r.Fragment,null,r.createElement("div",{style:{color:c,marginLeft:"4px"}},s))}},15883:function(e,t,n){"use strict";n.r(t),n.d(t,{ToolingInfo:function(){return W},WeatherPageMetaActions:function(){return i},WeatherPageMetaConnector:function(){return F},WeatherPageMetaReducer:function(){return R}});var r=n(55067);class i{}i.updateLocation=new r.C("UpdateLocation"),i.updateMapLayerGroupType=new r.C("updateMapLayerGroupType");var o,a,s=n(16792),c=n(33940),u=n(44979),l=n(19628),d=n(33379);function h(e){return(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}!function(e){e.Facebook="facebook",e.Twitter="twitter"}(o||(o={})),function(e){e.Etree="etree",e.Community="community",e.SocialShare="socialshare"}(a||(a={}));class p{constructor(e,t,n,r,i,o){this.metaElems=[],this.metaType=n,this.config=t,this.url=e,this.shareScenario=r,this.canonicalUrl=null!=o?o:e,this.titleText=null!=i?i:""}initMetaElems(){return(0,c.mG)(this,void 0,void 0,(function*(){switch(this.shareScenario){case a.Etree:this.prepareEtreeAttr(this.url,this.config);break;case a.SocialShare:this.prepareSocialShareWithImgAttr(this.url,this.config)}this.config&&this.updateMetaTag(this.config)}))}updateMetaTag(e){const t=this.shareScenario==a.Etree||this.shareScenario==a.SocialShare?"":this.shareScenario;for(const n of e[`${this.metaType}LocMetaTags`]||[]){const r=this.getLocKeyByMetaTag(`${n}${t}`);let i=e.localizedStrings&&e.localizedStrings[`${this.metaType}Meta`]&&e.localizedStrings[`${this.metaType}Meta`][r];"og:description"!==n&&"twitter:description"!==n||(i=this.descriptionText||i),"og:title"!==n&&"twitter:title"!==n||(i=this.titleText||i),i&&this.addOrUpdateMetaTag(n,i)}for(const n of e[`${this.metaType}ConfigMetaTags`]||[]){let r=e[this.getLocKeyByMetaTag(`${n}${t}`)];"og:url"!==n&&"twitter:site"!==n||(r=this.canonicalUrl),"og:image"!==n&&"twitter:image"!==n||(r=this.imageUrl),"og:image:type"===n&&this.imageType&&(r=this.imageType),"og:image:width"===n&&this.imageWidth&&(r=this.imageWidth),"og:image:height"===n&&this.imageHeight&&(r=this.imageHeight),r&&this.addOrUpdateMetaTag(n,r)}}getHTMLString(){var e;return 0===(null===(e=this.metaElems)||void 0===e?void 0:e.length)?"":this.metaElems.join("\n")}getLocKeyByMetaTag(e){return e.replace(/:/g,"_")}addOrUpdateMetaTag(e,t){if((0,d.N)()){let n=document.querySelector(`meta[property='${e}']`);n||(n=document.createElement("meta")),n.setAttribute("property",e),n.setAttribute("content",t),document.head.appendChild(n)}else this.metaElems.push(`<meta property=${e} content="${h(t)}">`)}prepareSocialShareWithImgAttr(e,t){var n,r;const i=new URL(e),o=i.searchParams.get("smsimg");if(/^\w+_\d+_\d+$/g.test(o)){const e=o.split("_");this.imageUrl=`https://assets.msn.com/weathermapdata/1/static/finance/sharing/${e[0]}.jpg`,this.imageWidth=e[1],this.imageHeight=e[2]}const a=i.searchParams.get("hurricane");if(/^\d+-\w+$/g.test(a)){const e=a.split("-")[1];this.titleText=l.Ld.Format(null===(n=t.localizedStrings)||void 0===n?void 0:n.hurricaneShareTitle,`${e}`)}else this.titleText=null===(r=t.localizedStrings)||void 0===r?void 0:r.MSNBranding;this.descriptionText=this.titleText,this.imageType="image/jpeg",this.canonicalUrl=e.replace("weathermaps","maps")}prepareEtreeAttr(e,t){var n,r,i,o;const a=new URL(e),s=a.searchParams.get("sharingpoint"),c=a.searchParams.get("trees");"1"===s&&(this.descriptionText=null==c||""===c?null===(n=t.localizedStrings)||void 0===n?void 0:n.etreeMainBoardDescription1:1==+c?null===(r=t.localizedStrings)||void 0===r?void 0:r.etreeMainBoardDescription2:l.Ld.Format(null===(i=t.localizedStrings)||void 0===i?void 0:i.etreeMainBoardDescription2,`${c}`),this.titleText=null===(o=t.localizedStrings)||void 0===o?void 0:o.etreeMainBoardTitle),this.imageUrl=this.getSharingImage(s),this.canonicalUrl=this.generateCanonicalUrl(e)}getSharingImage(e){var t,n;return"2"===e?null===(t=this.config)||void 0===t?void 0:t.EtreeCertBoardSharingImage:null===(n=this.config)||void 0===n?void 0:n.EtreeMainBoardSharingImage}generateCanonicalUrl(e){const t=new URL(e),{buildNumber:n,flights:r}=this.generateSpalinkBuildNumber(t),i=t.searchParams.get("ocid"),o=t.searchParams.get("sharingpoint"),a=t.searchParams.get("trees");let s;const c=t.pathname.slice(1).split("/");2===c.length&&(s=t.pathname),c.length>2&&(s=c.slice(1,3).join("/"));let u=s?`${t.origin}/${s}?fct=etree&etreesharing=${this.metaType}`:`${t.origin}?fct=etree&etreesharing=${this.metaType}`;return i&&(u=`${u}&ocid=${i}`),o&&(u=`${u}&sharingpoint=${o}`),a&&(u=`${u}&trees=${a}`),n&&(u=`${u}&item=spalink:${n}`),r&&(u=`${u}&item=flights:${r}`),u}generateSpalinkBuildNumber(e){const t=e.searchParams.getAll("item");let n,r;for(const e of t)e.includes("spalink:")&&(n=e.replace("spalink:","")),e.includes("flights:")&&(r=e.replace("flights:",""));return{buildNumber:n,flights:r}}}var g=n(22120),f=n(14792),m=n(9771),v=n(46102),y=n(53076),C=n(63439),S=n(4959),w=n(34852);class b{constructor(e,t){this.pageURL=e,this.isLocationPage=t,this.setCanonical(this.getCanonicalFromURL())}static extractLocationFromURL(e){const t=new URL(e).pathname.split("/").find((e=>e.match(/^in-/)));return t?t.slice(3).split(",").join(", "):""}updateLocation(e){(0,f.pm)()&&this.href||(this.pageURL=this.buildURLFromLocation(e),this.setCanonical(this.removeSearchAndHash(this.pageURL)))}updateMapLayerGroup(e){this.mapLayerGroup=e,this.setCanonical(this.getCanonicalFromURL())}setCanonical(e){this.href=e,(0,d.N)()&&this.href&&this.setupDOMNode()}setupDOMNode(){this.ensureLinkTag().setAttribute("href",this.href)}getHTMLString(){return this.href?`<link rel="canonical" href="${this.href}"/>`:""}buildURLFromLocation(e){const t="string"==typeof e?{urlSlug:e}:e;return(0,v.Gv)()?(0,S.Z$)(t,null,this.mapLayerGroup):(0,S.DF)(t,null,{linkType:(0,v.y6)()})}getCanonicalFromURL(){const e=this.removeSearchAndHash(this.pageURL);if(this.isLocationPage){const t=b.extractLocationFromURL(e);if(!t)return;return(0,w.IK)(e)?this.buildURLFromLocation({urlSlug:t}):e}return(0,w.IK)(e)?this.buildURLFromLocation(null):e}removeSearchAndHash(e){const t=new URL(e);return t.search="",t.hash="",t.toString()}ensureLinkTag(){let e=document.querySelector("link[rel=canonical]");return e||(e=document.createElement("link"),e.setAttribute("rel","canonical"),document.head.appendChild(e),e)}}var T=n(31891),P=n(78722);const k="https://assets.msn.com/staticsb/statics/latest/weather";class A{constructor(e){if(this.webAppName=e,!(0,d.N)()||document.querySelector("link[rel=manifest]"))return;const t=document.createElement("link");t.setAttribute("rel","manifest"),t.setAttribute("href",`https://assets.msn.com/staticsb/statics/latest/0/weather/json/${P.jG.CurrentMarket}.webmanifest`),document.head.appendChild(t),P.jG.isMobile&&this.iOSWebmanifestShim()}iOSWebmanifestShim(){(0,d.N)()&&(this.createMeta("apple-mobile-web-app-capable","yes"),this.createMeta("apple-mobile-web-app-title",this.webAppName),this.createIOSIcon(),this.createIOSSplashScreen())}createIOSIcon(){this.createIconLink(`${k}/img/favicon/rect_x32.png`,"32x32"),this.createIconLink(`${k}/img/favicon/rect_x96.png`,"96x96"),this.createIconLink(`${k}/img/favicon/rect_x192.png`,"192x192")}createIOSSplashScreen(){this.createTouchStartup("iphone5_splash.png",320,568,2),this.createTouchStartup("iphone6_splash.png",375,667,2),this.createTouchStartup("iphoneplus_splash.png",621,1104,3),this.createTouchStartup("iphonex_splash.png",375,812,3),this.createTouchStartup("iphonexr_splash.png",414,896,2),this.createTouchStartup("iphonexsmax_splash.png",414,896,3),this.createTouchStartup("iphone12.png",390,844,3),this.createTouchStartup("iphone12promax.png",428,926,3),this.createTouchStartup("ipad_splash.png",768,1024,2),this.createTouchStartup("ipadpro1_splash.png",834,1112,2),this.createTouchStartup("ipadpro3_splash.png",834,1194,2),this.createTouchStartup("ipadpro2_splash.png",1024,1366,2)}createTouchStartup(e,t,n,r){const i=k+"/img/apple-startup/"+e,o=`(device-width: ${t}px) and (device-height: ${n}px) and (-webkit-device-pixel-ratio: ${r})`;this.createLink(i,"apple-touch-startup-image",void 0,o)}createIconLink(e,t){this.createLink(e,"apple-touch-icon",t,void 0)}createLink(e,t,n,r){const i=document.createElement("link");i.setAttribute("rel",t),i.setAttribute("href",e),n&&i.setAttribute("sizes",n),r&&i.setAttribute("media",r),document.head.appendChild(i)}createMeta(e,t){const n=document.createElement("meta");n.setAttribute("name",e),n.setAttribute("content",t),document.head.appendChild(n)}}var E=n(97417);class M{constructor(e,t,n){this.brand=e,this.localizedStrings=t,this.location={displayName:n},this.update()}updateLocation(e){(0,f.pm)()&&e.isDetected||(this.location=e,this.update())}updateMapLayerGroup(e){this.mapLayerGroup=e,this.update()}getHTMLString(){return this.value?`<meta name="description" content="${h(this.value)}">`:""}getFormat(){var e;const t=(null===(e=this.location)||void 0===e?void 0:e.displayName)?this.localizedStrings.pageDescription:this.localizedStrings.pageDescriptionWOLocation;if((0,v.Gv)()){const e=this.mapLayerGroup;return(null==t?void 0:t.maps)?t.maps[e]||t.maps.g_radar:""}return(0,v.Nt)()?null==t?void 0:t.pollen:(0,v.JE)()?null==t?void 0:t.records:(0,v.Wq)()?(0,E.k_)()||(0,E.FT)()?null==t?void 0:t.trendForecast:null==t?void 0:t.monthlyForecast:(0,v.bc)()?null==t?void 0:t.hourlyForecast:null==t?void 0:t.forecast}update(){var e,t,n;const r=this.getFormat();if(r&&(this.value=l.Ld.Format(r,{location:null===(e=this.location)||void 0===e?void 0:e.displayName,brand:this.brand})||r,(0,d.N)())){const e=this.ensureDescriptionTag();e.setAttribute("content",this.value),(null===(t=this.location)||void 0===t?void 0:t.displayName)?e.setAttribute("data-location",null===(n=this.location)||void 0===n?void 0:n.displayName):e.removeAttribute("data-location")}}ensureDescriptionTag(){let e=document.querySelector("meta[name=description]");return e||(e=document.createElement("meta"),e.setAttribute("name","description"),document.head.appendChild(e),e)}}var x=n(10398),I=n(45506);class L{constructor(e,t,n){this.value=this.brand=e,this.localizedStrings=t,this.location={displayName:n},this.update()}updateLocation(e){(0,f.pm)()&&e.isDetected||(this.location=e,this.update())}updateMapLayerGroup(e){this.mapLayerGroup=e,this.update()}update(){var e;const t=this.getFormat();t&&(this.value=l.Ld.Format(t,{location:null===(e=this.location)||void 0===e?void 0:e.displayName,brand:this.brand})||t),P.jG.isMiniProgram&&(this.value=this.brand),(0,d.N)()&&(document.title=this.value)}getFormat(){var e,t;const n=this.localizedStrings,r=(null===(e=this.location)||void 0===e?void 0:e.displayName)?n.pageTitle:n.pageTitleWOLocation;let i="";return(null===(t=I.Al.ClientSettings)||void 0===t?void 0:t.ocid)===x.P.EdgeFeatured?"{brand}":(i=(0,v.Gv)()?(null==r?void 0:r.maps)?r.maps[this.mapLayerGroup]||r.maps.g_radar:"":(0,v.Nt)()?null==r?void 0:r.pollen:(0,v.JE)()?null==r?void 0:r.records:(0,v.Wq)()?(0,E.k_)()||(0,E.FT)()?null==r?void 0:r.trendForecast:null==r?void 0:r.monthlyForecast:(0,v.bc)()?null==r?void 0:r.hourlyForecast:null==r?void 0:r.forecast,this.parseTitleFormat(i))}parseTitleFormat(e=""){const[t,n]=e.split("|");return/{\s*brand\s*}/.exec(n)?(0,m.o)()?`${t.trim()}`:`${t.trim()} | ${n.trim()}`:e}}var O=n(80368);class F extends C.e{constructor(e,t,n,r,i,o,a){super(e,t,n,r,i,o,a),this.updateMetaData=()=>{!(0,f.pm)()&&this.getCurrentState().location&&(this.isLocationPage=!0);const e=this.getCurrentState().location;this.isLocationPage&&e&&(this.title.updateLocation(e),this.description.updateLocation(e),this.canonical.updateLocation(e))},this.ready=this.init()}setFaceBookCommunityMeta(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=(0,u.Nd)(this.requestContext.data.locationHref,"locationHref");this.weatherCommunityFacebookMeta=new p(t,this.config,o.Facebook,a.Community,null==e?void 0:e.title,null==e?void 0:e.url),yield this.weatherCommunityFacebookMeta.initMetaElems()}))}init(){var e,t,n,r,i,s,l;return(0,c.mG)(this,void 0,void 0,(function*(){if(!this.config.localizedStrings)return;const c=(0,u.Nd)(this.requestContext.data.locationHref,"locationHref");if(this.isEtreeSharinglink(c)&&(null===(e=this.config.localizedStrings)||void 0===e?void 0:e.facebookMeta))this.weatherEtreeFacebookMeta=new p(c,this.config,o.Facebook,a.Etree),this.weatherEtreeTwitterMeta=new p(c,this.config,o.Twitter,a.Etree),yield this.weatherEtreeFacebookMeta.initMetaElems(),yield this.weatherEtreeTwitterMeta.initMetaElems(),this.title=new L(null===(n=null===(t=this.config.localizedStrings)||void 0===t?void 0:t.facebookMeta)||void 0===n?void 0:n.og_title,this.config.localizedStrings),this.description=new M(null===(i=null===(r=this.config.localizedStrings)||void 0===r?void 0:r.facebookMeta)||void 0===i?void 0:i.og_description,this.config.localizedStrings);else if(this.isCommunitySharelink(c)&&(null===(s=this.config.localizedStrings)||void 0===s?void 0:s.facebookMeta))this.title=new L(this.getBranding(c),this.config.localizedStrings),this.description=new M(this.getBranding(c),this.config.localizedStrings);else if(this.isSocialShareWithImglink(c)&&(null===(l=this.config.localizedStrings)||void 0===l?void 0:l.facebookMeta))this.weatherEtreeFacebookMeta=new p(c,this.config,o.Facebook,a.SocialShare),this.weatherEtreeTwitterMeta=new p(c,this.config,o.Twitter,a.SocialShare),yield this.weatherEtreeFacebookMeta.initMetaElems(),yield this.weatherEtreeTwitterMeta.initMetaElems(),this.title=new L(this.getBranding(c),this.config.localizedStrings),this.description=new M(this.getBranding(c),this.config.localizedStrings);else{const e=this.extractLocationFromURL(c);this.isLocationPage=this.isLocationPageURL(c),this.title=new L(this.getBranding(c),this.config.localizedStrings,e),this.description=new M(this.getBranding(c),this.config.localizedStrings,e),this.canonical=new b(c,this.isLocationPage),this.manifest=this.config.enableWebManifest&&new A(this.config.localizedStrings.webAppName),this.bindToDOM(),this.bindToWeatherData()}}))}extractLocationFromURL(e){const t=new URL(e).pathname.split("/").find((e=>e.match(/^in-/)));return t?t.slice(3).split(",").map((e=>{try{return decodeURIComponent(e)}catch(t){return e}})).join(", "):""}isEtreeSharinglink(e){return"etree"===new URL(e).searchParams.get("fct")}isCommunitySharelink(e){return new URL(e).searchParams.has("postId")}isSocialShareWithImglink(e){return new URL(e).searchParams.has("smsimg")}isLocationPageURL(e){const t=new URL(e);return t.searchParams.has("loc")||t.searchParams.has("el")||t.pathname.indexOf("/in-")>-1}getBranding(e){return(0,O.Pv)(e)||(0,m.q)()?this.config.localizedStrings.MicrosoftBranding:this.config.localizedStrings.MSNBranding}bindToDOM(){(0,d.N)()&&(i.updateLocation.registerObserver(this.updateMetaData),i.updateMapLayerGroupType.registerObserver((e=>{const[t,n]=e.params;this.title.updateMapLayerGroup(t),this.description.updateMapLayerGroup(t),this.canonical.updateMapLayerGroup(n),this.updateMetaData()})))}bindToWeatherData(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.rootReducer.getDataConnector(y.z.WeatherData);if(i.updateLocation.getActionSender(this).send(e.getCurrentState().currentLocation),T.w.fetchWeatherSummarySuccess.registerObserver((t=>{i.updateLocation.getActionSender(this).send(e.getCurrentState().currentLocation)})),(0,v.Gv)()){const e=yield this.rootReducer.getDataConnector(y.z.WeatherMapData);i.updateMapLayerGroupType.getActionSender(this).send(e.getCurrentStateLayerInfo().group,e.currentMapUrl.type),g.f.switchLayerGroup.registerObserver((t=>{i.updateMapLayerGroupType.getActionSender(this).send(e.getCurrentStateLayerInfo().group,e.currentMapUrl.type)})),g.f.updateWeatherData.registerObserver((t=>{var n;i.updateLocation.getActionSender(this).send(null===(n=e.getCurrentState().weatherData)||void 0===n?void 0:n.currentLocation)}))}}))}getHeadHTMLString(){var e,t,n;const r=[this.description?this.description.getHTMLString():"",this.canonical?this.canonical.getHTMLString():""];return this.weatherEtreeFacebookMeta&&(null===(e=this.config.localizedStrings)||void 0===e?void 0:e.facebookMeta)&&r.push(this.weatherEtreeFacebookMeta.getHTMLString()),this.weatherEtreeTwitterMeta&&(null===(t=this.config.localizedStrings)||void 0===t?void 0:t.twitterMeta)&&r.push(this.weatherEtreeTwitterMeta.getHTMLString()),this.weatherCommunityFacebookMeta&&(null===(n=this.config.localizedStrings)||void 0===n?void 0:n.facebookMeta)&&r.push(this.weatherCommunityFacebookMeta.getHTMLString()),r.join("\n")}}var D=n(30856);class R{reduce(e,t){if(!e)return{};if(!t)return e;let n=null,r=!1;return r=r||D.G.handleAction(t,i.updateLocation,(t=>{n=Object.assign(Object.assign({},e),{location:t})})),r=r||D.G.handleAction(t,i.updateMapLayerGroupType,((t,r)=>{n=Object.assign(Object.assign({},e),{layerGroupType:t,layerType:r})})),n||e}}const W={experienceConfigSchema:s.WeatherPageMetaConfigSchema}},76059:function(e,t,n){"use strict";n.d(t,{P:function(){return i},o:function(){return o}});var r=n(55067);class i{}function o(){i.updateEnabledState.unregisterObservers(),i.updatePersons.unregisterObservers(),i.updateChosenPersonaId.unregisterObservers(),i.updateBigWidgetState.unregisterObservers()}i.updateEnabledState=new r.C("UpdateEnabled"),i.updateBigWidgetState=new r.C("UpdateBigWidgetState"),i.updatePersons=new r.C("UpdatePersonaDetails"),i.updateChosenPersonaId=new r.C("updateChosenPersonaId")},90025:function(e,t,n){"use strict";n.r(t),n.d(t,{ToolingInfo:function(){return S},WeatherPersonaDataActions:function(){return r.P},WeatherPersonaDataConnector:function(){return m},WeatherPersonaDataReducer:function(){return C},resetWeatherPersonaDataActions:function(){return r.o}});var r=n(76059),i=n(33940),o=n(63439),a=n(13578),s=n(78722),c=n(61442);const u={apiKey:"j5i4gDqHL6nGYwx5wi5kRhXjtf2c5qgFX9fzfk0TOo",ocid:"msftweather"},l=e=>{var t,n,r;const i=[];for(const o in e.styles){const a=e.styles[o];i.push({key:o,displayName:a.displayName,urlIcon:a.urlIcon,urlIconGlow:a.urlIconGlow,urlGlow:a.urlGlow,bigWidget:null===(t=a.commentaries)||void 0===t?void 0:t.big_widget,currentCard:null===(n=a.commentaries)||void 0===n?void 0:n.current_card,dailyTeasers:null===(r=a.commentaries)||void 0===r?void 0:r.daily_teasers,personaColor:a.personaColor})}return i},d=e=>({market:s.jG.CurrentMarket,locale:s.jG.LocaleContentMarketString,region:s.jG.LanguageRegionMismatch,lat:(null==e?void 0:e.latitude)||s.jG.Latitude,lon:(null==e?void 0:e.longitude)||s.jG.Longitude}),h=(e,t)=>(Object.keys(t).forEach((n=>e.searchParams.append(n,t[n]))),e.toString());var p=n(16049),g=n(987);const f="msweather_persona";class m extends o.e{constructor(){super(...arguments),this.feedbackServiceClient=new p.u(window.fetch.bind(window)),this.updateEnabledStatus=e=>{r.P.updateEnabledState.getActionSender(this).send(e)},this.getPersonasDetails=()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=this.getPersonaDetailsFromStore();return(0,a.Z)(e)?yield this.fetchPersonaDetails():e})),this.checkLocalStorageForPersonaId=()=>{const e=(0,g.$o)().getItem(f);return e?parseInt(e,10):(this.setLocalStorageForPersonaId(0),0)},this.setLocalStorageForPersonaId=e=>{(0,g.$o)().setItem(f,e.toString())},this.fetchPersonaDetails=e=>(0,i.mG)(this,void 0,void 0,(function*(){this.personaRequest||(this.personaRequest=(e=>(0,i.mG)(void 0,void 0,void 0,(function*(){const t=h(new URL("https://assets.msn.com/service/weatherfalcon/weather/commentary"),Object.assign(Object.assign({},u),d(e)));return yield(0,c.w)((()=>(0,i.mG)(void 0,void 0,void 0,(function*(){const e=yield fetch(t,{method:"GET"});if(!e.ok)throw Error(e.statusText);return e.json()}))),"getWeatherPersonaResponse").then((e=>l(e))).catch((e=>(console.log(e),[])))})))(e));const t=yield this.personaRequest;return(0,a.Z)(t)?this.updateEnabledStatus(!1):(this.updateEnabledStatus(!0),this.updateChosenPersonaId(this.checkLocalStorageForPersonaId()),r.P.updatePersons.getActionSender(this).send(t)),t})),this.getPersonaConnectorEnable=()=>this.getCurrentState().isEnabled,this.updateLocation=e=>(0,i.mG)(this,void 0,void 0,(function*(){var t,n;(null===(t=this.location)||void 0===t?void 0:t.longitude)===e.longitude&&(null===(n=this.location)||void 0===n?void 0:n.latitude)===e.latitude||(r.P.updatePersons.getActionSender(this).send(void 0),this.personaRequest=void 0,this.location=e,yield this.fetchPersonaDetails(e),this.checkBigWidgetData())})),this.getPersonaDetailsFromStore=()=>{var e;return null!==(e=this.getCurrentState().personaProps)&&void 0!==e?e:null},this.updateChosenPersonaId=e=>{this.setLocalStorageForPersonaId(e),r.P.updateChosenPersonaId.getActionSender(this).send(e),this.checkBigWidgetData()},this.getChosenPersonaId=()=>this.getCurrentState().chosenPersonaId,this.getBigWidgetDetails=()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.getPersonasDetails();return(0,a.Z)(e)?[]:e.map((e=>({displayName:e.displayName,urlIcon:e.urlIcon,urlIconGlow:e.urlIconGlow,urlGlow:e.urlGlow,bigWidget:e.bigWidget,personaColor:e.personaColor})))})),this.getCurrentPersonaDetails=()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.getPersonasDetails(),t=this.getChosenPersonaId();if(!(0,a.Z)(e))return e[t]})),this.getTooltipPersonaDetails=()=>(0,i.mG)(this,void 0,void 0,(function*(){const e=yield this.getPersonasDetails(),t=this.getChosenPersonaId();if(!(0,a.Z)(e))return{personas:e,selectedPersona:t,handlePersonaClick:e=>this.updateChosenPersonaId(e)}})),this.checkBigWidgetData=()=>{var e;const t=this.getPersonaDetailsFromStore();this.getPersonaConnectorEnable()&&t&&!(0,a.Z)(null===(e=t[this.getChosenPersonaId()])||void 0===e?void 0:e.bigWidget)?r.P.updateBigWidgetState.getActionSender(this).send(!0):r.P.updateBigWidgetState.getActionSender(this).send(!1)}}}var v=n(30856);const y={isEnabled:!1,personaProps:[],chosenPersonaId:0,isBigWidgetEnable:!1};class C{reduce(e,t){if(!e)return y;if(!t)return e;let n;return v.G.handleAction(t,r.P.updateEnabledState,(t=>{n=Object.assign(Object.assign({},e),{isEnabled:t})})),v.G.handleAction(t,r.P.updateChosenPersonaId,(t=>{n=Object.assign(Object.assign({},e),{chosenPersonaId:t})})),v.G.handleAction(t,r.P.updatePersons,(t=>{n=Object.assign(Object.assign({},e),{personaProps:t})})),v.G.handleAction(t,r.P.updateBigWidgetState,(t=>{n=Object.assign(Object.assign({},e),{isBigWidgetEnable:t})})),n||e}}const S={experienceConfigSchema:{}}},38319:function(e,t,n){"use strict";n.d(t,{Q3:function(){return a},QA:function(){return s},Z5:function(){return o},lv:function(){return c}});n(19628);var r=n(58475);const i=["de-at","cs-cz","nl-be","fr-ch","de-de","da-dk","es-es","fi-fi","fr-fr","el-gr","hu-hu","en-ie","it-it","nl-nl","nb-no","pl-pl","pt-pt","sv-se"],o={Good:"Good",Moderate:"Moderate",Poor:"Poor",PoorIN:"PoorIN",Unhealthy:"Unhealthy",VeryUnhealthy:"Very Unhealthy",Hazardous:"Hazardous",Satisfactory:"Satisfactory",ModeratelyPolluted:"Moderately polluted",VeryPoor:"Very Poor",Severe:"Severe",Fair:"Fair",ModerateEU:"ModerateEU",PoorEU:"PoorEU",VeryPoorEU:"Very Poor EU",ExtremelyPoor:"Extremely Poor"};function a(e){return"en-in"===e?"in":"zh-cn"===e?"cn":i.includes(e)?"eu":"us"}function s(e){return"zh-cn"===e?"AirQualityHeatMapCn":i.includes(e)?"AirQualityHeatMapEu":"AirQualityHeatMap"}function c(e,t){if(null==e||e<0)return null;const n=function(e){return"en-us"!==e&&e?"en-in"===e?"IN":"zh-cn"===e?"CN":i.includes(e||"")?"EU":"OT":"US"}(t);if("IN"===n){if(e<=50)return o.Good;if(e>50&&e<=100)return o.Satisfactory;if(e>100&&e<=200)return o.ModeratelyPolluted;if(e>200&&e<=300)return o.PoorIN;if(e>300&&e<=400)return o.VeryPoor;if(e>400)return o.Severe}else if("EU"===n){if(e<=50)return o.Good;if(e>50&&e<=100)return o.Fair;if(e>100&&e<=150)return o.ModerateEU;if(e>150&&e<=200)return o.PoorEU;if(e>200&&e<=300)return o.VeryPoorEU;if(e>300)return o.ExtremelyPoor}else{if(e<=50)return o.Good;if(e>50&&e<=100)return o.Moderate;if(e>100&&e<=150)return o.Poor;if(e>150&&e<=200)return o.Unhealthy;if(e>200&&e<=300)return o.VeryUnhealthy;if(e>300)return o.Hazardous}}r.qF,r.k4},41120:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});const r=36e5,i=18e5;function o(e,t,n){const o=e.getTime(),a=t.getTime(),s=n.getTime();return a+i>o&&a-r<o||s+i>o&&s-r<o}},14792:function(e,t,n){"use strict";n.d(t,{gg:function(){return a},lb:function(){return i},pm:function(){return o}});var r=n(12884);function i(e=(0,r.ij)()){return/^python-requests|^CriteoBot|^ias-|GrapeshotCrawler/.test(e)}function o(e=(0,r.ij)()){if(!e)return!1;const t=(0,r.zp)(),n=t&&t.includes("reqsrc=vp");return-1!==e.indexOf("Yahoo")||-1!==e.indexOf("Yandex")||-1!==e.indexOf("Baiduspider")||-1!==e.indexOf("Bingbot")||-1!==e.indexOf("Googlebot")||-1!==e.indexOf("msnbot")||!n&&-1!==e.indexOf("HeadlessChrome")}function a(e=(0,r.ij)()){return!!e&&(-1!==e.indexOf("bingbot")||-1!==e.indexOf("msnbot")||-1!==e.indexOf("facebook")||-1!==e.indexOf("LinkedInBot")||-1!==e.indexOf("Twitterbot"))}},23740:function(e,t,n){"use strict";n.d(t,{$:function(){return c},x:function(){return u}});var r=n(12884),i=n(45506),o=n(78722),a=n(89638),s=n(46102);function c(){return"localhost.msn.com"===(0,r.Td)()}function u(){i.Al.ClientSettings.pagetype=(0,s.sT)(document.location.pathname),o.jG.CurrentRequestTargetScope.pageType=(0,s.DE)();const e=document.location.pathname.split("/").filter((e=>!!e));if(e.length>=1&&/\w\w-\w\w/.test(e[0])){const t=e[0].split("-");o.jG.CurrentRequestTargetScope&&(o.jG.CurrentRequestTargetScope.locale={language:t[0],market:t[1],content:{language:t[0],market:t[1]},display:{language:t[0],market:t[1]}}),o.jG.CurrentMarket=t[0]+"-"+t[1],o.jG.CountryCode=t[1].toUpperCase(),i.Al.ClientSettings.locale={language:t[0],market:t[1]}}/android|iphone/i.test(window.navigator.userAgent)&&(o.jG.CurrentRequestTargetScope.deviceFormFactor=i.Al.ClientSettings.deviceFormFactor="phone"),a.U.setTargetScopeAndConfigServiceParams()}},44095:function(e,t,n){"use strict";n.d(t,{Pc:function(){return c},S7:function(){return a},Wy:function(){return u},if:function(){return s},jq:function(){return o}});var r=n(68742),i=n(45506);const o={temp:{[r.a.Fahrenheit]:{name:"°F",value:["-5","15","30","50","70","85","100"]},[r.a.Celsius]:{name:"°C",value:["-20","-10","0","10","20","30","40"]}},wind_speed:{[r.a.Fahrenheit]:{name:"mph",value:["0","6","10","20","35","45","70"]},[r.a.Celsius]:{name:"km/h",value:["0","10","20","35","55","70","100"]}},depth:{[r.a.Fahrenheit]:{name:"in",value:["1","2","4","20","40","120"]},[r.a.Celsius]:{name:"cm",value:["2","5","10","50","100","300"]}},precip:{[r.a.Fahrenheit]:{name:"in/h",value:["0.02","0.08","0.12","0.24","0.38","0.47"]},[r.a.Celsius]:{name:"mm/h",value:["0.4","2","3","6","9.6","12"]}},pressp:{[r.a.Fahrenheit]:{name:"in",value:["20.7","22.4","24.2","26.0","27.8","29.5","31.3"]},[r.a.Celsius]:{name:"mb",value:["700","760","820","880","940","1000","1060"]}},pres:{[r.a.Fahrenheit]:{name:"in",value:["29.2","29.5","29.8","30.1","30.4"]},[r.a.Celsius]:{name:"mb",value:["990","1000","1010","1020","1030"]}},humi:{[r.a.Fahrenheit]:{name:"%",value:["30","50","80","90","100"]},[r.a.Celsius]:{name:"%",value:["30","50","80","90","100"]}},visi:{[r.a.Fahrenheit]:{name:"mi",value:["0.5","1.7","3.7","9.9","12.4"]},[r.a.Celsius]:{name:"km",value:["0.8","2.7","6","16","20"]}},dew_point:{[r.a.Fahrenheit]:{name:"°F",value:["-5","15","30","50","70","85","100"]},[r.a.Celsius]:{name:"°C",value:["-20","-10","0","10","20","30","40"]}},aqi:{},wild_fire:{},pollen_index:{}},a={wind_speed:{[r.a.Celsius]:{"da-dk":r.C.MS,"fi-fi":r.C.MS,"ja-jp":r.C.MS,"nl-nl":r.C.BFT,"ru-xl":r.C.MS,"sv-se":r.C.MS}},precip_height:{[r.a.Celsius]:{"ja-jp":r.C.MM},[r.a.Fahrenheit]:{"ja-jp":r.C.IN}},visi:{[r.a.Celsius]:{"en-gb":r.C.MILE,"nb-no":r.C.METER}},pressp:{[r.a.Fahrenheit]:{"en-gb":r.C.MB},[r.a.Celsius]:{"ja-jp":r.C.HPA}},pres:{[r.a.Fahrenheit]:{"en-gb":r.C.MB},[r.a.Celsius]:{"ja-jp":r.C.HPA}}},s={wind_speed:{[r.C.MS]:{name:"m/s",value:["0","3","4","9","16","20","31"]},[r.C.BFT]:{name:"bft",value:["0","2","3","5","7","8","11"]}},precip_height:{[r.C.MM]:{name:"mm"},[r.C.IN]:{name:"in"},[r.C.CM]:{name:"cm"}},visi:{[r.C.MILE]:{name:"mi",value:["0.5","1.7","3.7","9.9","12.4"]},[r.C.METER]:{name:"m",value:["800","2700","6000","16000","20000"]}},pressp:{[r.C.MB]:{name:"mb",value:["700","760","820","880","940","1000","1060"]},[r.C.HPA]:{name:"hPa",value:["700","760","820","880","940","1000","1060"]}},pres:{[r.C.MB]:{name:"mb",value:["990","1000","1010","1020","1030"]},[r.C.HPA]:{name:"hPa",value:["990","1000","1010","1020","1030"]}}},c=new Map([["Rain",new Map([["0","#830826"],["1","#d05d2c"],["2","#eec040"],["3","#014b24"],["4","#078f33"],["5","#79b837"]])],["Snow",new Map([["0","#01016e"],["1","#101e96"],["2","#1547bd"],["3","#249fdb"],["4","#5ad2e0"],["5","#aae1e0"]])],["Mix",new Map([["0","#470765"],["1","#660888"],["2","#8a139b"],["3","#bb338f"],["4","#df71a9"],["5","#edb2c7"]])]]);function u(e,t){const n=((a[t]||{})[e]||{})[null===i.Al||void 0===i.Al?void 0:i.Al.Locale];return n&&(s[t]||{})[n]||(o[t]||{})[e]||(o[t]||{})[r.a.Fahrenheit]||{name:""}}},22089:function(e,t,n){"use strict";n.d(t,{R:function(){return a},W:function(){return s}});var r=n(65135),i=n(33379);const o={isVisualReady:!1,data:{}};function a(e,t,n){(0,i.N)()&&(o.data[(e+t).toLowerCase()]=n,o.isVisualReady&&s())}function s(){o.isVisualReady=!0;const e=o.data;o.data={},Object.keys(e).length>0&&r.M0.sendLoadTimeEvent({markers:e})}},75736:function(e,t,n){"use strict";n.d(t,{qz:function(){return o},h2:function(){return i},I9:function(){return a}});const r=["1","2","3","4","6","7","8","9","10","13","17","19","20","24","28","29","30","31","32","34","35","37","40","41","42","44","47","51","80","15","25","26","59","22","23","79","11","69","71","14","27","67","81","75","77","83","85","38","70","72","54","68","52","53","60","46","49","50","82","76","78","84","86","33","61","62","87","88","93","94","95","96","12","18","21","36","39","45","48","63","64","89","90"],i={17:"8",31:"31",49:"14",41:"14",35:"8",4:"4",19:"19",22:"14",23:"23",34:"7",47:"20",60:"7",81:"26",11:"10",37:"10",38:"10",69:"10",70:"10",71:"10",72:"10",92:"91",32:"5",2:"2",101:"1",42:"15",33:"6",61:"6",62:"6",87:"6",88:"6",93:"6",94:"6",95:"6",96:"6",67:"27",68:"27",18:"9",21:"9",36:"9",45:"9",48:"9",63:"9",64:"9",29:"29",102:"28",44:"44",46:"19",80:"50",76:"24",75:"24",83:"77",84:"78",85:"24",86:"24",39:"39"};class o{static getWeatherNormalizedSkyCode(e){return r.includes(e)?e:Object.prototype.hasOwnProperty.call(i,e)?i[e]:e}}const a={d000:"SunnyDayV3",d100:"MostlySunnyDay",d200:"D200PartlySunnyV2",d210:"D210LightRainShowersV2",d211:"D211LightRainSowShowersV2",d212:"D212LightSnowShowersV2",d220:"LightRainShowerDay",d221:"D221RainSnowShowersV2",d222:"SnowShowersDayV2",d240:"D240TstormsV2",d300:"MostlyCloudyDayV2",d310:"D310LightRainShowersV2",d311:"D311LightRainSnowShowersV2",d312:"LightSnowShowersDay",d320:"RainShowersDayV2",d321:"D321RainSnowShowersV2",d322:"SnowShowersDayV2",d340:"D340TstormsV2",d400:"CloudyV3",d410:"LightRainV3",d411:"RainSnowV2",d412:"LightSnowV2",d420:"HeavyDrizzle",d421:"RainSnowV2",d422:"Snow",d430:"ModerateRainV2",d431:"RainSnowV2",d432:"HeavySnowV2",d440:"Thunderstorm",d500:"MostlyCloudyDayV2",d600:"FogV2",d603:"FreezingRainV2",d605:"IcePelletsV2",d705:"BlowingHailV2",d905:"BlowingHailV2",d907:"Haze",d900:"Haze",n000:"ClearNightV3",n100:"MostlyClearNight",n200:"PartlyCloudyNightV2",n210:"N210LightRainShowersV2",n211:"N211LightRainSnowShowersV2",n212:"N212LightSnowShowersV2",n220:"LightRainShowerNight",n221:"N221RainSnowShowersV2",n222:"N222SnowShowersV2",n240:"N240TstormsV2",n300:"MostlyCloudyNightV2",n310:"N310LightRainShowersV2",n311:"N311LightRainSnowShowersV2",n312:"LightSnowShowersNight",n320:"RainShowersNightV2",n321:"N321RainSnowShowersV2",n322:"N322SnowShowersV2",n340:"N340TstormsV2",n400:"CloudyV3",n410:"LightRainV3",n411:"RainSnowV2",n412:"LightSnowV2",n420:"HeavyDrizzle",n421:"RainSnowShowersNightV2",n422:"N422SnowV2",n430:"ModerateRainV2",n431:"RainSnowV2",n432:"HeavySnowV2",n440:"Thunderstorm",n500:"PartlyCloudyNightV2",n600:"FogV2",n603:"FreezingRainV2",n605:"BlowingHailV2",n705:"BlowingHailV2",n905:"BlowingHailV2",n907:"Hazy-Night",n900:"Hazy-Night",xxxx1:"WindyV2"}},87706:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(13959);const i=Object.freeze({Banner:r.K.Banner,CookieWall:r.K.CookieWall,EplantBoard:r.K.Dialog+100,MapTimeline:r.K.Dialog+1,MapLegendIndicator:r.K.Dialog,Dialog:r.K.Dialog,HeatmapTooltip:r.K.Flyout+10,MapContentModal:r.K.Flyout+1,MapGroupSwitcher:r.K.Flyout+1,LocationSearch:r.K.Dialog+2,EplantEntrance:r.K.Flyout,Flyout:r.K.Flyout,MapPromotionCard:r.K.Overlay,Overlay:r.K.Overlay,MapPopup:r.K.Overlay+120,SideBarSection:r.K.Nav+11,Map3dAttribute:r.K.Nav+10,SideBarAdds:r.K.Nav+1,SideBar:r.K.Nav,ControlBox:r.K.Nav+10,MapControl2:r.K.Nav+10,MapAnimationBox:r.K.Nav,Nav:r.K.Nav,WeaSymbolPopupCard:r.K.Over+10,WeaStaticMarkerInfo:r.K.Over+5,Over:r.K.Over,Timeline:r.K.Above,Above:r.K.Above,Default:r.K.Default,Below:r.K.Below,Buried:r.K.Buried,Auto:"auto"})},66669:function(e,t,n){"use strict";var r,i,o,a;n.d(t,{LR:function(){return i},PY:function(){return a},kA:function(){return o},qx:function(){return r}}),function(e){e[e.VeryPoor=0]="VeryPoor",e[e.Poor=1]="Poor",e[e.Fair=2]="Fair",e[e.Ok=3]="Ok",e[e.Good=4]="Good",e[e.Great=5]="Great"}(r||(r={})),function(e){e[e.running=0]="running",e[e.walking=1]="walking",e[e.picnic=2]="picnic",e[e.stargazing=3]="stargazing",e[e.hiking=4]="hiking",e[e.outdoorSports=5]="outdoorSports",e[e.beach=6]="beach",e[e.boating=7]="boating",e[e.cycling=8]="cycling",e[e.kite=9]="kite",e[e.gardening=10]="gardening"}(i||(i={})),function(e){e[e.None=0]="None",e[e.EveryWeekday=1]="EveryWeekday",e[e.EveryWeekend=2]="EveryWeekend",e[e.Daily=3]="Daily",e[e.Weekly=4]="Weekly",e[e.BiWeekly=5]="BiWeekly",e[e.Monthly=6]="Monthly",e[e.Yearly=7]="Yearly"}(o||(o={})),function(e){e[e.Read=0]="Read",e[e.Add=1]="Add",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e[e.UpdateHistory=4]="UpdateHistory"}(a||(a={}))},46758:function(e,t,n){"use strict";n.d(t,{bb:function(){return g}});var r=n(78722),i=n(97417),o=n(41120);const a={BG_SUNNY:"linear-gradient(180deg, #245494 0%, #1C4484 100%)",BG_SUNNY_NIGHT:"linear-gradient(180deg, #28456E 0%, #142444 100%)",BG_RAIN:"linear-gradient(180deg, #345C84 0%, #2C4C74 100%)",BG_RAIN_NIGHT:"linear-gradient(180deg, #2C466C 0%, #14243C 100%)",BG_SNOW:"linear-gradient(180deg, #295793 0%, #0C3C7C 100%)",BG_SNOW_NIGHT:"linear-gradient(180deg, #1C2C44 0%, #0B1A2C 100%)",BG_DUST:"linear-gradient(180deg, #65513F 0%, #4C3C2C 100%)",BG_DUST_NIGHT:"linear-gradient(180deg, #473F36 0%, #2C241D 100%)",BG_CLOUDY:"linear-gradient(180deg, #4C5C7A 0%, #344464 100%)",BG_CLOUDY_NIGHT:"linear-gradient(180deg, #244D72 0%, #07213B 100%)",BG_STORM:"linear-gradient(180deg, #506078 0%, #44546C 100%)",BG_STORM_NIGHT:"linear-gradient(180deg, #37314D 0%, #14142C 100%)",BG_FOG:"linear-gradient(180deg, #44446C 0%, #2C2C54 100%)",BG_FOG_NIGHT:"linear-gradient(180deg, #2D4156 0%, #1A1C24 100%)",BG_SUNNY_SUNSET:"linear-gradient(180deg, #AE8A90 -5.25%, #202255 74.35%)",BG_CLOUDY_SUNSET:"linear-gradient(180deg, #614E70 18.76%, #373967 74.35%)",BG_PARTLYSUNNY:"linear-gradient(180deg, #3174B7 0%, #003E7C 87.55%)",BG_HAZY:"linear-gradient(180deg, #646059 21.15%, #423D31 57.81%)"},s={BG_SUNNY:"#234e90",BG_SUNNY_NIGHT:"#031a34",BG_RAIN:" #12335b",BG_RAIN_NIGHT:"#101116",BG_SNOW:"#0a397c",BG_SNOW_NIGHT:"#021023",BG_DUST:"#312111",BG_DUST_NIGHT:"#190f09",BG_CLOUDY:"#41506d",BG_CLOUDY_NIGHT:"#0e2945",BG_STORM:"#40546b",BG_STORM_NIGHT:"#140c35",BG_SUNNY_SUNSET:"#252862",BG_CLOUDY_SUNSET:"#252862",BG_PARTLYSUNNY:"#104F8F",BG_HAZY:"#4D483D",BG_FOG:"#302d55",BG_FOG_NIGHT:"#1c2933"},c="#4c386133",u="#302d5f",l="#115699",d="#584e47",h=[{videoName:"Test",conditions:[],version:""},{videoName:"Sunny",conditions:["000","100","200"]},{videoName:"Cloudy",conditions:["300","400","500"]},{videoName:"Rain",conditions:["210","211","220","221","310","311","320","321","410","411","420","421","430","431","600","603"]},{videoName:"TStorm",conditions:["240","340","440"]},{videoName:"Snow",conditions:["212","222","312","322","412","422","432"]},{videoName:"Fog",conditions:["600","900","907"]},{videoName:"BlowingDust",conditions:["605","705","905"]}];function p(e,t,n,r="",i=!1){let o={};const h=i?s:a;switch(e){case"1":case"2":case"101":o={contentBackground:n?{"background-image":`url('${r+t.sunnyImageUrl}')`}:{background:h.BG_SUNNY},carouselBackgroundColor:{backgroundColor:"#214D86"},timelineBackgroundColor:h.BG_SUNNY};break;case"3":case"4":o={contentBackground:n?{"background-image":`url('${r+t.partlySunnyImageUrl}')`}:{background:h.BG_PARTLYSUNNY},carouselBackgroundColor:{backgroundColor:"#245E9A"},timelineBackgroundColor:l};break;case"28":case"29":case"102":o={contentBackground:n?{"background-image":`url('${r+t.sunnyNightImageUrl}')`}:{background:h.BG_SUNNY_NIGHT},carouselBackgroundColor:{backgroundColor:"#253F64"},timelineBackgroundColor:h.BG_SUNNY_NIGHT};break;case"8":case"10":case"11":case"13":case"14":case"17":case"19":case"22":case"23":case"24":case"69":case"71":case"75":case"77":case"79":case"83":case"85":o={contentBackground:n?{"background-image":`url('${r+t.rainImageUrl}')`}:{background:h.BG_RAIN},carouselBackgroundColor:{backgroundColor:"#305477"},timelineBackgroundColor:h.BG_RAIN};break;case"35":case"37":case"38":case"40":case"41":case"44":case"46":case"49":case"50":case"51":case"70":case"72":case"76":case"78":case"80":case"84":case"86":o={contentBackground:n?{"background-image":`url('${r+t.rainNightImageUrl}')`}:{background:h.BG_RAIN_NIGHT},carouselBackgroundColor:{backgroundColor:"#284062"},timelineBackgroundColor:h.BG_RAIN_NIGHT};break;case"7":case"15":case"16":case"20":case"25":case"26":case"59":case"81":o={contentBackground:n?{"background-image":`url('${r+t.snowImageUrl}')`}:{background:h.BG_SNOW},carouselBackgroundColor:{backgroundColor:"#264F85"},timelineBackgroundColor:h.BG_SNOW};break;case"34":case"42":case"43":case"47":case"52":case"53":case"60":case"82":o={contentBackground:n?{"background-image":`url('${r+t.snowNightImageUrl}')`}:{background:h.BG_SNOW_NIGHT},carouselBackgroundColor:{backgroundColor:"#1A283E"},timelineBackgroundColor:h.BG_SNOW_NIGHT};break;case"6":case"61":case"87":case"91":case"93":case"95":o={contentBackground:n?{"background-image":`url('${r+t.dustImageUrl}')`}:{background:h.BG_DUST},carouselBackgroundColor:{backgroundColor:"#5C4A3A"},timelineBackgroundColor:h.BG_DUST};break;case"33":case"62":case"88":case"92":case"94":case"96":o={contentBackground:n?{"background-image":`url('${r+t.dustNightImageUrl}')`}:{background:h.BG_DUST_NIGHT},carouselBackgroundColor:{backgroundColor:"#413A32"},timelineBackgroundColor:h.BG_DUST_NIGHT};break;case"5":o={contentBackground:n?{"background-image":`url('${r+t.cloudyImageUrl}')`}:{background:h.BG_CLOUDY},carouselBackgroundColor:{backgroundColor:"#45546F"},timelineBackgroundColor:h.BG_CLOUDY};break;case"30":case"31":case"32":o={contentBackground:n?{"background-image":`url('${r+t.cloudyNightImageUrl}')`}:{background:h.BG_CLOUDY_NIGHT},carouselBackgroundColor:{backgroundColor:"#214667"},timelineBackgroundColor:h.BG_CLOUDY_NIGHT};break;case"27":case"67":o={contentBackground:n?{"background-image":`url('${r+t.stormImageUrl}')`}:{background:h.BG_STORM},carouselBackgroundColor:{backgroundColor:"#4A586E"},timelineBackgroundColor:h.BG_STORM};break;case"54":case"68":o={contentBackground:n?{"background-image":`url('${r+t.stormNightImageUrl}')`}:{background:h.BG_STORM_NIGHT},carouselBackgroundColor:{backgroundColor:"#322D46"},timelineBackgroundColor:h.BG_STORM_NIGHT};break;case"9":case"18":case"21":case"63":case"65":case"73":case"89":o={contentBackground:n?{"background-image":`url('${r+t.fogImageUrl}')`}:{background:h.BG_FOG},carouselBackgroundColor:{backgroundColor:"#3E3E62"},timelineBackgroundColor:h.BG_FOG};break;case"36":case"39":case"45":case"48":case"64":case"66":case"74":case"90":o={contentBackground:n?{"background-image":`url('${r+t.fogNightImageUrl}')`}:{background:h.BG_FOG_NIGHT},carouselBackgroundColor:{backgroundColor:"#2A3C4F"},timelineBackgroundColor:h.BG_FOG_NIGHT};break;case"301":o={contentBackground:n?{"background-image":`url('${r+t.sunnySunsetImageUrl}')`}:{background:h.BG_SUNNY_SUNSET},carouselBackgroundColor:{backgroundColor:"#6A586E"},timelineBackgroundColor:c};break;case"401":o={contentBackground:n?{"background-image":`url('${r+t.cloudySunsetImageUrl}')`}:{background:h.BG_CLOUDY_SUNSET},carouselBackgroundColor:{backgroundColor:"#544565"},timelineBackgroundColor:u};break;case"12":o={contentBackground:n?{"background-image":`url('${r+t.hazyImageUrl}')`}:{background:h.BG_HAZY},carouselBackgroundColor:{backgroundColor:"#5B5751"},timelineBackgroundColor:d}}return o}class g{static getBackgroudImage(e,t,n=""){return p(e,t,!0,n,!1).contentBackground}static getBackgroudGradient(e,t=!1){return p(e,{},!1,"",t).contentBackground}static getTimelineBackgroudColor(e,t=!1){return p(e,{},!1,"",t).timelineBackgroundColor}static getCarouselBackgroudGradient(e){return p(e,{},!1,"",!1).carouselBackgroundColor}static getSunriseSunsetSkyCode(e,t=!1){if(!t)return e;switch(e){case"3":case"30":return"301";case"4":case"31":return"401";default:return e}}static getNowcastingAnimationConfig(e){let t=e,n="";switch(e){case"8":case"10":case"11":case"13":case"17":case"19":case"23":case"69":case"71":case"79":t="5",n="rain-low";break;case"22":t="5",n="rain-avg";break;case"14":t="5",n="rain-hvy";break;case"27":t="27",n="rain-avg";break;case"67":t="67",n="rain-hvy";break;case"24":case"75":case"77":case"83":case"85":t="5",n="sleet-low";break;case"16":case"20":case"26":case"59":case"81":t="5",n="snow-low";break;case"7":case"25":t="5",n="snow-avg";break;case"15":t="5",n="snow-hvy";break;case"35":case"37":case"38":case"40":case"44":case"46":case"50":case"70":case"72":t="32",n="rain-low";break;case"41":t="32",n="rain-hvy";break;case"49":t="32",n="rain-avg";break;case"54":t="54",n="rain-avg";break;case"68":t="68",n="rain-hvy";break;case"51":case"76":case"78":case"80":case"84":case"86":t="32",n="sleet-low";break;case"43":case"47":case"52":case"53":case"60":case"82":t="32",n="snow-low";break;case"34":t="32",n="snow-avg";break;case"42":t="32",n="snow-hvy";break;default:t=e,n=""}return{bgImageIcon:t,animationType:n}}static getFixedBackgroundColor(e,t){var n,r,i;let a=(null===(n=null==e?void 0:e.currentCondition)||void 0===n?void 0:n.normalizedSkyCode)||"1";const s=null===(i=null===(r=null==e?void 0:e.forecast)||void 0===r?void 0:r[0])||void 0===i?void 0:i.almanac,c=s&&(0,o.Y)(new Date,new Date(s.sunrise),new Date(s.sunset));return a=g.getSunriseSunsetSkyCode(a,c),g.getBackgroudGradient(a,t)}static getBackgroundVideo(e){const t={videoSrc:"",videoPoster:""};if(!(0,i.SL)("prg-wx-imbg")||!e)return t;const n=e&&e.trim().toLowerCase();if(!n||n.length<4)return t;const o="d"==n[0],a=n.substring(1,4);let s=h.find((e=>e.conditions.includes(a)));if(location&&location.href&&location.href.indexOf("testimbg=true")>-1&&(s=h[0]),!s)return t;const c=r.jG.IsChinaCompliance?"cn":"com",u=o?"day":"night";return t.videoSrc="https://assets.msn.{com}/weathermapdata/1/static/background/immersive/video/{day}/{day}{condition}{_version}.mp4".replaceAll("{com}",c).replaceAll("{day}",u).replaceAll("{condition}",s.videoName).replaceAll("{_version}",s.version||""),t.videoPoster="https://assets.msn.{com}/weathermapdata/1/static/background/immersive/video/{day}/{day}{condition}{_version}.jpg".replaceAll("{com}",c).replaceAll("{day}",u).replaceAll("{condition}",s.videoName).replaceAll("{_version}",s.version||""),t}}},58475:function(e,t,n){"use strict";n.d(t,{Mx:function(){return l},Vb:function(){return a},YL:function(){return s},k4:function(){return c},qF:function(){return o},zf:function(){return u}});var r=n(97417);const i={"prg-1sw-swiconfix":"weathermapdata/1/static/weather/Icons/flights/taskbar_v10sw2/","prg-1sw-swiconfix2":"weathermapdata/1/static/weather/Icons/flights/taskbar_v10sw2/","prg-1sw-swiconfix3":"weathermapdata/1/static/weather/Icons/flights/taskbar_v10sw2/"};const o=function(){let e="";return Object.keys(i).forEach((t=>{(0,r.SL)(t)&&(e=i[t])})),e}()||"weathermapdata/1/static/weather/Icons/taskbar_v10/",a="hurricane_community.svg",s="AlertEventCard.svg",c="AQI/aq{level}.svg",u="Condition_Card/",l=o+"NoColor_Card/"},30854:function(e,t,n){"use strict";var r;n.d(t,{Br:function(){return u},SU:function(){return a},Uh:function(){return p},YV:function(){return r},aj:function(){return f},dZ:function(){return h},fp:function(){return s},jF:function(){return g},n3:function(){return l},n6:function(){return d},pt:function(){return o},s8:function(){return c},tk:function(){return i}}),function(e){e.layerActivated="ActivatedOn",e.overviewRequestStart="OverviewRequest.start",e.overviewRequestCluster="OverviewRequest.cluster",e.overviewRequestDuration="OverviewRequest.duration",e.overviewRequestInternal="OverviewRequest.internal",e.overviewRequestNetwork="OverviewRequest.network",e.overviewRequestPathHash="OverviewRequest.pathHash",e.pdpRequestStart="pdpRequest.start",e.pdpRequestDuration="pdpRequest.duration"}(r||(r={}));const i="WeatherCondition";var o,a,s,c;!function(e){e[e.normal=0]="normal",e[e.alert=1]="alert",e[e.nowcast=2]="nowcast"}(o||(o={})),function(e){e[e.Start=1]="Start",e[e.WCComplete=2]="WCComplete"}(a||(a={})),function(e){e[e.Unknown=0]="Unknown",e[e.Joined=1]="Joined",e[e.Muted=2]="Muted"}(s||(s={})),function(e){e[e.RainThreshold=11.9]="RainThreshold"}(c||(c={}));const u="weaRecentLocation",l="weaRecentForMobileLocation",d="weaMUIDs",h="isWeaLastLocationFromDetect";var p,g,f;!function(e){e[e.setHomeFail=1]="setHomeFail",e[e.exceedPinLocationLimit=2]="exceedPinLocationLimit"}(p||(p={})),function(e){e.ImageContent="ImageContent"}(g||(g={})),function(e){e.L1Minimap="L1Minimap",e.CardMinimap="CardMinimap"}(f||(f={}))},66961:function(e,t,n){"use strict";n.d(t,{CI:function(){return d},FG:function(){return u},Rt:function(){return f},vG:function(){return c},wt:function(){return l}});var r=n(36569),i=n(45506);const o=1e4,a=-1e4,s=new RegExp("([\\-\\d]+):([\\d]+):([\\d]+)");class c{constructor(e){this.data=e,this.day24HDict=new Map,this.forecasts=(e&&e.forecast||[]).slice(0,d);const t=this.data&&this.data.source.location&&this.data.source.location.TimezoneName;this.timeUtility=new r.Q(i.Al.Locale,t),this.timeUtilityLocal=new r.Q(i.Al.Locale)}get currentLocation(){return this.data.currentLocation}get unit(){return this.data.unit}get currentCondition(){return this.data.currentCondition}get source(){return this.data.source}get alertsInfo(){return this.data.alertsInfo}get pollenData(){var e;return(null===(e=this.data.pollenForecast)||void 0===e?void 0:e.forecast)||[]}get mapsMetaData(){return this.data.mapsMetaData}get provider(){return this.data.provider}get aqiProvider(){return this.data.aqiProvider}get nowcasting(){return this.data.nowcasting}get lastUpdated(){return this.data.lastUpdated}get lifeDaily(){return this.data.lifeDaily}get forecastVideo(){return this.data.forecastVideo}get activityIndexDaily(){return this.data.activityIndexDaily}get isPartialHour(){return this.data.isPartialHour}get skipHourOffset(){var e;return Math.abs((null!==(e=this.skipHourCount)&&void 0!==e?e:0)%2)}get comingWeather(){var e,t;return null===(t=null===(e=this.data)||void 0===e?void 0:e.currentCondition)||void 0===t?void 0:t.comingWeather}get summary(){return this._summary||(this._summary=this.computeSummary()),this._summary}get poor(){return this.summary.poor}get timeline(){return this.summary.timelineData}get timelineSample(){return this.summary.poor?this.summary.timelineData:this.summary.timelineData.filter(((e,t)=>t%2==0))}get timelineSampleWithSkip(){return this.summary.poor?this.summary.timelineData:this.summary.timelineData.filter(((e,t)=>(t+this.skipHourCount)%2==0))}get timelineSample2(){const e=this.summary.timelineData.findIndex((e=>1===e.dayIndex));return this.summary.poor?this.summary.timelineData:-1===e?this.summary.timelineData.filter(((e,t)=>0===e.dayIndex?t%4==0:(t-1)%4==0)):this.summary.timelineData.filter(((t,n)=>0===t.dayIndex?n%4==0:(n-e-1)%4==0))}get tempRange(){return this.summary}get uvRange(){return this.summary}get humidityRange(){return this.summary}get windRange(){return this.summary}get totalTimelineSliceCount(){return this.summary.totalTimelineSliceCount}sliceOffset(e,t=!1){var n,r,i,o,a,s;const c=this.summary.dayIndexes[e];if(this.summary.poor)return c<0||void 0===this.summary.timelineData[c]?-1:Math.max(0,this.summary.timelineData[c].offsetSliceCount-1);if(0!==e&&t)return null!==(r=null===(n=this.summary.timelineData[c+1])||void 0===n?void 0:n.offsetSliceCount)&&void 0!==r?r:-1;return c%2==0?null!==(o=null===(i=this.summary.timelineData[c])||void 0===i?void 0:i.offsetSliceCount)&&void 0!==o?o:-1:null!==(s=null===(a=this.summary.timelineData[c+1])||void 0===a?void 0:a.offsetSliceCount)&&void 0!==s?s:-1}skyCode(e){return this.forecasts[e].normalizedSkyCode}day24H(e,t=!1){const n=e+(t?100:0);let r=this.day24HDict.get(n);if(!r){const i=this.forecasts[e-1]||{hourly:[]},s=this.forecasts[e+1]||{hourly:[]},u=this.forecasts[e];if(u){let n;t?n=u.hourly||[]:this.poor?(n=u.hourly||[],0===e&&(n=(u.hourly||[]).concat(s.hourly||[]).slice(0,h))):n=e===this.forecasts.length-1?i.hourly.concat(u.hourly||[]).slice(-l):(u.hourly||[]).concat(s.hourly).slice(0,l);const d=n.reduce(((e,t)=>Math.min(t.temperature,e)),o),p=n.reduce(((e,t)=>Math.max(t.temperature,e)),a);r={h24:n,minTemp:d,maxTemp:p,scale:c.createScale(d,p)}}this.day24HDict.set(n,r)}return r}computeSummary(){var e,t;const n={minTemp:o,maxTemp:a,minUVindex:o,maxUVindex:a,minHumidity:o,maxHumidity:a,timelineData:[],dayIndexes:[],start:null,totalTimelineSliceCount:0,poor:!0,indexOfDayNoData:0,indexOfTimelineNoData:0};if(!this.data||!this.data.forecast)return n;let r=0;function i(e,t,r,i){n.minTemp=Math.min(n.minTemp,e),n.maxTemp=Math.max(n.maxTemp,t),n.minUVindex=Math.min(n.minUVindex,r&&"N/A"!==r?r:o),n.maxUVindex=Math.max(n.maxUVindex,r&&"N/A"!==r?r:a),n.minHumidity=Math.min(n.minHumidity,Number(i&&"N/A"!==i?i.split("%")[0]:o)),n.maxHumidity=Math.max(n.maxHumidity,Number(i&&"N/A"!==i?i.split("%")[0]:o))}for(let t=0;t<this.data.forecast.length;++t){const o=this.data.forecast[t];if(i(o.lowTemp,o.highTemp,o.uv,o.humidity),t>0&&o.hourly.length<=0){n.dayIndexes.push(r);continue}let a;for(let r=0;r<o.hourly.length;++r){const s=o.hourly[r],d=new Date(s.timeStr);!this.skipHourCount&&(null===(e=this.source)||void 0===e?void 0:e.utcOffset)&&(this.skipHourCount=l-1-Math.floor((new Date).getUTCHours()+c.getTimezoneOffsetHours(this.source.utcOffset))),n.start||(n.start=d),i(s.temperature,s.temperature,s.uv,s.humidity);const h={debug:`${t}-${r}`,snapshot:s,offsetSliceCount:u(n.start,d),time:d,text:this.timeUtility.formatHourLabel(d),textHour:this.timeUtility.formatHour(d),temperature:s.temperature,temperatureDesc:s.temperatureDesc,wind:Number(s.windSpeed),windgust:parseInt(s.windGust),uvindex:`${s.uv}`,humidity:s.humidity&&"N/A"!==s.humidity?s.humidity.split("%")[0]:s.humidity,precipitation:"N/A"!=s.precipitation?s.precipitation:"",normalizedCode:s.normalizedSkyCode,gifName:null,dayIndex:t,dayofWeek:o.dayofWeek,dayofMonth:this.timeUtility.formatMonthDay(o.day)};a!==h.offsetSliceCount&&n.timelineData.push(h),a=h.offsetSliceCount}n.dayIndexes.push(r),r+=o.hourly.length,n.poor=n.poor&&o.hourly.length<l,t<=1&&n.timelineData.length>2&&(n.poor=u(n.timelineData[1].time,n.timelineData[0].time)>1)}this.skipHourCount||(this.skipHourCount=0);const s=n.dayIndexes.length-1,d=(null===(t=n.timelineData)||void 0===t?void 0:t.length)>0?n.timelineData[n.timelineData.length-1].offsetSliceCount+1:0;return n.poor?(n.dayIndexes[s]=-1,n.indexOfDayNoData=s,n.indexOfTimelineNoData=r):n.dayIndexes[s]=d-l,n.totalTimelineSliceCount=d,n}static getTimezoneOffsetHours(e){const t=s.exec(e);return parseInt(t[1])+parseInt(t[2])/60}static createScale(e,t){const n=t-e;if(n<4){const n=(p+g)/2,r=(e+t)/2;return function(e){return n+10*(e-r)}}t=Math.floor(t+n*f);const r=(p-g)/(t-e);return function(t){return g+r*(t-e)}}}function u(e,t){return Math.abs(e.getTime()-t.getTime())/36e5}const l=24,d=10,h=9,p=141,g=54,f=.5},95327:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(89696),i=n(91301);const o={};function a(e){if(!o[e]){const t=`${i.C}.${e}`;(0,r.hf)(t),performance&&(performance.measure&&performance.measure(t),performance.mark&&performance.mark(t)),o[e]=!0}}},46102:function(e,t,n){"use strict";n.d(t,{BZ:function(){return d},DE:function(){return S},FM:function(){return P},Gv:function(){return h},JE:function(){return f},Nt:function(){return m},P1:function(){return b},S0:function(){return p},Wq:function(){return g},bc:function(){return v},eE:function(){return y},jW:function(){return s},nd:function(){return T},sT:function(){return l},t$:function(){return w},y6:function(){return C}});var r,i,o=n(45506),a=n(76950);!function(e){e.Map="weather::weathermaps",e.MonthlyForecast="weather::weathermonthlyforecast",e.Weather="weather",e.Forecast="weather::weathertoday",e.RecordsAndAveragesPage="weather::weatherrecordsandaverages",e.Life="weather::weatherlife",e.Pollen="weather::weatherpollen",e.HourlyForecast="weather::weatherhourlyforecast"}(r||(r={})),function(e){e[e.Forecast=1]="Forecast",e[e.Map=2]="Map",e[e.MonthlyForecast=3]="MonthlyForecast",e[e.RecordsAndAveragesPage=4]="RecordsAndAveragesPage",e[e.Pollen=5]="Pollen",e[e.Life=6]="Life",e[e.HourlyForecast=7]="HourlyForecast"}(i||(i={}));const s={2:"weather::weathermaps",3:"weather::weathermonthlyforecast",1:"weather::weathertoday",4:"weather::weatherrecordsandaverages",6:"weather::weatherlife",5:"weather::weatherpollen",7:"weather::weatherhourlyforecast"},c={1:"weather-homepage",2:"WeatherMaps",3:"weatherMonthlyForecast",4:"weatherrecordsandaverages",6:"weatherlife",5:"weatherpollen",7:"weatherhourlyforecast"},u={1:"verthp",2:"data",3:"data",4:"data",6:"data",5:"data",7:"data"};function l(e){return e.includes("/forecast")?"weather::weathertoday":e.includes("/maps")?"weather::weathermaps":e.includes("/monthlyforecast")?"weather::weathermonthlyforecast":e.includes("/records")?"weather::weatherrecordsandaverages":e.includes("/life")?"weather::weatherlife":e.includes("/pollen")?"weather::weatherpollen":e.includes("/hourlyforecast")?"weather::weatherhourlyforecast":"weather"}function d(e){var t;return void 0===e&&(e=null===(t=o.Al.ClientSettings)||void 0===t?void 0:t.pagetype),"weather"===e||"weather::weathertoday"===e}function h(){var e;return"weather::weathermaps"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function p(){return h()&&document.location.search.includes("3d=1")}function g(){var e;return"weather::weathermonthlyforecast"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function f(){var e;return"weather::weatherrecordsandaverages"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function m(){var e;return"weather::weatherpollen"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function v(){var e;return"weather::weatherhourlyforecast"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function y(){var e;return"weather::weatherlife"===(null===(e=o.Al.ClientSettings)||void 0===e?void 0:e.pagetype)}function C(){return h()?2:g()?3:f()?4:y()?6:m()?5:v()?7:1}function S(e=C()){return s[e]}function w(e=C()){return c[e]||c[1]}function b(e=C()){return u[e]||c[1]}function T(e){return!!(0,a.ITY)(e)}const P=" overlayTargetLinkEl "},23401:function(e,t,n){"use strict";var r;n.d(t,{vj:function(){return o},ym:function(){return a}}),function(e){e.RefreshButton="RefreshButton",e.LocationSearch="LocationSearch",e.CarouselLocation="CarouselLocation",e.CarouselUnit="CarouselUnit",e.MiniMapCityName="MiniMapCityName",e.BrowserBackOrForward="BrowserBackOrForward"}(r||(r={}));const i=[];function o(e){i.push(e||"");const t=i.length;t>50&&i.splice(0,t-50)}function a(){return i.shift()||""}},68299:function(e,t,n){"use strict";function r(e){return["","F","C"][e||0]||""}n.d(t,{A:function(){return r}})},86108:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r,i=n(33379);const o="excludeexps",a=new Set;if((0,i.N)()&&-1!=window.location.href.search("excludeexps=")){const e=new URL(window.location.href),t=new URLSearchParams(decodeURIComponent(null===(r=e.search)||void 0===r?void 0:r.replace(/&amp;/gi,"&"))).get(o);if(t){const e=t.split(",");for(let t=0;t<e.length;++t){const n=e[t];n&&a.add(n.toLowerCase())}}}},75607:function(e,t,n){"use strict";n.d(t,{Gs:function(){return u},IS:function(){return a}});var r=n(987),i=n(33379);const o="weather_ls_";var a,s;!function(e){e.PollenMobileClosed="pollen_mobile_closed",e.AddMiniappTooltipHasShowed="add_miniapp_tooltip_time_control",e.WeatherBrowserDetectedLocation="weather_browser_detected_location",e.PWAGuideShown="pwa_guide_shown",e.GpuExist="GpuExistInTimev2",e.mobileUpsellShowed="mobile_upsell_showed",e.mobileUpsellShowedTimes="mobile_upsell_showed_times",e.customizeSubscriptionStorage="customize_subscription_storage",e.miniMap3dButtonClicked="3dButtonClicked",e.flyout3dCardViewed="flyout3dCardViewed",e.flyout3dCardClicked="flyout3dCardClicked",e.headIconClicked="headIconClicked",e.Freshown="fre_shown"}(a||(a={})),function(e){e[e.Day=864e5]="Day",e[e.TwoDay=1728e5]="TwoDay",e[e.ThreeDay=2592e5]="ThreeDay",e[e.Week=6048e5]="Week",e[e.OneMonth=2592e6]="OneMonth",e[e.FourMonth=10368e6]="FourMonth"}(s||(s={}));class c{getItem(e){}getItemSafe(e,t){return t}setItem(e,t,n){}setItemSafe(e,t,n){}removeItem(e){}scheduleClearExpiredEntries(){}clearExpiredAndRemovedEntries(){}isLocalStorageExpired(e){return!0}}class u{constructor(){this.clearingScheduled=!1,this.validKeySet=new Set;for(const e in a)this.validKeySet.add(a[e])}static getInstance(){return(0,i.N)()?(u.instance||(u.instance=new u),u.instance):new c}getItem(e){if(this.scheduleClearExpiredEntries(),!this.validKeySet.has(e))return;const t=u.getFullLocalStorageKey(e),n=(0,r.$o)().getObject(t);return!n||n.expireAt<=Date.now()?void 0:n.value}getItemSafe(e,t){var n;try{return null!==(n=this.getItem(e))&&void 0!==n?n:t}catch(e){return t}}setItem(e,t,n){const i="never"===(n=void 0!==n?n:"never")?"never":Date.now()+n,o=u.getFullLocalStorageKey(e);(0,r.$o)().setObject(o,{value:t,expireAt:i}),this.scheduleClearExpiredEntries()}setItemSafe(e,t,n){try{return this.setItem(e,t,n)}catch(e){}}removeItem(e){const t=u.getFullLocalStorageKey(e);(0,r.$o)().removeItem(t),this.scheduleClearExpiredEntries()}scheduleClearExpiredEntries(){if(this.clearingScheduled)return!1;this.clearingScheduled=!0,setTimeout((()=>this.clearExpiredAndRemovedEntries()),1e4)}clearExpiredAndRemovedEntries(){const e=(0,r.$o)();[...Array(e.length).keys()].map((t=>e.key(t))).filter((e=>e.substring(0,o.length)===o)).filter((e=>{const t=e.substring(o.length);return!this.validKeySet.has(t)||this.isLocalStorageExpired(t)})).map((e=>(0,r.$o)().removeItem(e)))}isLocalStorageExpired(e){const t=u.getFullLocalStorageKey(e),n=(0,r.$o)().getObject(t);return!n||n.expireAt<=Date.now()}static getFullLocalStorageKey(e){return o+e}}},18792:function(e,t,n){"use strict";n.d(t,{Ct:function(){return c},Sw:function(){return a},Wp:function(){return u}});var r=n(78722),i=n(38573);const o=new Set(["河北省","山西省","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","海南省","四川省","贵州省","云南省","陕西省","甘肃省","青海省","台湾省","内蒙古自治区","广西壮族自治区","西藏自治区","宁夏回族自治区","新疆维吾尔自治区"]);function a(e){var t;if("zh-cn"===(null===(t=null==e?void 0:e.language)||void 0===t?void 0:t.toLowerCase())){if(!(null==e?void 0:e.country))return!1;if(null==e?void 0:e.addressLine){if(!(null==e?void 0:e.locality)&&!(null==e?void 0:e.subRegion)&&!(null==e?void 0:e.region)&&o.has(e.addressLine))return!1}else if(!(null==e?void 0:e.subRegion)&&!(null==e?void 0:e.region)&&o.has(null==e?void 0:e.locality))return!1}return!(!e||!e.addressLine&&!e.locality)}function s(e,t){var n;const o=null===(n=null===r.jG||void 0===r.jG?void 0:r.jG.LocaleContentMarket)||void 0===n?void 0:n.market,a=(e.isoCode||"").toUpperCase(),s=a&&o&&o.substr(-a.length).toUpperCase()===a,c=[e.addressLine,e.locality,!(0,i.vt)(e.isoCode)&&e.subRegion,!(null==t?void 0:t.skipRegionAndCountry)&&e.region,!(null==t?void 0:t.skipRegionAndCountry)&&!s&&e.country].filter((e=>!!e));return c.filter(((e,t)=>e!==c[t+1]))}function c(e){return s(e)[0]}function u(e){return s(e).slice(1).join(", ")}},17793:function(e,t,n){"use strict";n.d(t,{Dx:function(){return i},Mv:function(){return o},Td:function(){return a}});var r=n(38573);function i(e,t){if(!t)return e;e=e||[];const n=[Object.assign({},t),...e],i={},o=[];for(let e=0;e<n.length;++e){const t=(0,r.Gf)(n[e]),a=`${n[e].latitude},${n[e].longitude}`;i[t]||i[a]||(o.push(n[e]),i[t]=e+1,i[a]=e+1)}return o}function o(e,t){if(!e||!t)return e;for(let n=0;n<e.length;++n)if((0,r.Gf)(e[n])===(0,r.Gf)(t)||e[n].latitude===t.latitude&&e[n].longitude===t.longitude){e.splice(n,1);break}return e}function a(e){if(!e)return[];const t=new Set,n=[];for(const i of e){const e=(0,r.Gf)(i);t.has(e)||(t.add(e),n.push(i))}return n}},38985:function(e,t,n){"use strict";n.d(t,{CR:function(){return s},Cr:function(){return c},G:function(){return w},PE:function(){return f},_v:function(){return g},a7:function(){return u},bd:function(){return l},dP:function(){return S},eK:function(){return d},eu:function(){return C},f6:function(){return p},lv:function(){return m},qE:function(){return h},r3:function(){return y}});var r=n(78722),i=n(38573),o=n(45506),a=n(4596);function s(e){return(0,i.JY)(e)}function c(e){return(void 0!==e.latitude||void 0!==e.longitude)&&(!s(e)||""+e.latitude=="-1"&&""+e.longitude=="-1")}function u(e){const t=r.jG.AppType;return["windowsShell","windows","newsAndInterests","windowsNewsPlus","winWidgets"].indexOf(t)>=0?!(!e||!(e.addressLine||e.locality||e.region)):"zh-cn"===e.language||"CN"===e.isoCode?!(!e||!(e.addressLine||e.locality||e.subRegion||e.addressLine)):!(!e||!e.locality&&!e.addressLine)}function l(e){const t=o.Al.Locale;return e&&e.language&&(e.language===t||/en-/i.test(e.language)&&/en-/i.test(t))}function d(e){return(/,g=([a-z]+-[a-z]+)$/i.exec(e)||[])[1]}function h(){if(o.Al.ClientSettings&&o.Al.ClientSettings.geo_lat&&o.Al.ClientSettings.geo_long&&""!==o.Al.ClientSettings.geo_lat&&""!==o.Al.ClientSettings.geo_long){const e={latitude:o.Al.ClientSettings.geo_lat,longitude:o.Al.ClientSettings.geo_long,locality:o.Al.ClientSettings.geo_city,region:o.Al.ClientSettings.geo_subdivision,country:o.Al.ClientSettings.geo_countryname,isoCode:o.Al.ClientSettings.geo_country,isDetected:!0,language:"en-us"};return e.region=(0,a.abbreviateUSState)(e.region,e.language,e.isoCode),e.displayName=(0,i.Gf)(e),e}return null}function p(e){if(e)return e.el?`el=[${e.el}]`:`lat=${e.latitude},long=${e.longitude}`}function g(e){return`${e.latitude},${e.longitude}`}function f(e){return`${v(e.latitude)},${v(e.longitude)}`}function m(e){const t=e.split(",");return 2!==t.length?"":`${v(t[0])},${v(t[1])}`}function v(e){const t="number"==typeof e?e:parseFloat(e);return Math.trunc(1e3*t)/1e3}function y(e,t){if(!e)return!1;for(const n of e)if(S(n,t))return!0;return!1}function C(e,t){return!(!e||!t)&&(0,i.Gf)(e)===(0,i.Gf)(t)}function S(e,t,n=!1){if(e&&t){let r=""+(e[0]||e.latitude),i=""+(t[0]||t.latitude),o=""+(e[1]||e.longitude),a=""+(t[1]||t.longitude);return n&&(r=v(r).toString(),o=v(o).toString(),i=v(i).toString(),a=v(a).toString()),r===i&&o==a}return!1}function w(e,t){return!(!e||!t)&&((0,i.aQ)(e)!=(0,i.aQ)(t)&&(0,i.Gf)(e)!==(0,i.Gf)(t))}},34181:function(e,t,n){"use strict";n.d(t,{a:function(){return l},w:function(){return u}});var r=n(12037),i=n(51325),o=n(78722),a=n(12884),s=n(38573),c=n(80368);function u(e){try{if(!o.jG.isMiniProgram)return!1;let t=(0,i.qB)();if(!t||null==(null==t?void 0:t.longitude)||null==(null==t?void 0:t.latitude)){const e=(0,a.l4)(),n=new URL(e);n.searchParams.has("miniapp-loc")&&(t=l(n),(0,i.VO)(t))}return(0,s.XA)(t,e)}catch(e){return!1}}function l(e){const t=(0,c.Ol)(e.searchParams,"miniapp-loc");if(t)return r.v(t)}},10398:function(e,t,n){"use strict";var r;n.d(t,{P:function(){return r}}),function(e){e.DesktopL1="weatherdesktopl1",e.DesktopL2="weatherdesktopl2",e.PWA="weatherpwa",e.EdgeFeatured="edgefeatured"}(r||(r={}))},9771:function(e,t,n){"use strict";n.d(t,{o:function(){return o},q:function(){return a}});var r=n(45506),i=n(33379);function o(){var e,t;if((0,i.N)()){const n="(display-mode: standalone)",r="(display-mode: minimal-ui)";return!!navigator.standalone||!!window.matchMedia&&((null===(e=window.matchMedia(n))||void 0===e?void 0:e.matches)||(null===(t=window.matchMedia(r))||void 0===t?void 0:t.matches))}return a()}function a(){var e;return"weatherpwa"===(null===(e=null===r.Al||void 0===r.Al?void 0:r.Al.ClientSettings)||void 0===e?void 0:e.ocid)}},76315:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(33940);const i={};function o(e){return function(t,n){const o=`SharedFetch.ts ${"string"==typeof t?t:t.url}`;return i[o]||(i[o]=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){let r,i;for(let o=0;o<n;++o)try{const n=yield fetch(e,t);if(r=n.status,n.ok)return a(n)}catch(e){i=e}throw new Error("status="+r+", error="+(null==i?void 0:i.toString()))}))}(t,n,e)),i[o]}}function a(e){const t=e.json();let n,i=0;return e.json=function(){return(0,r.mG)(this,void 0,void 0,(function*(){return i<1&&(n=yield t),++i,n}))},e}var s=n(78722),c=n(98304),u=n(65135),l=n(32473),d=n(68299);class h{constructor(e,t,n,r){this.getImpl=e,this.listApi=t,this.detailsApi=n,this.hurricaneApiAllBasinMkt=r;const{language:i,market:o}=s.jG.LocaleContentMarket||{};this.market=i+"-"+(o||"US").toUpperCase()}getActiveHurricanes(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,l.gz)(this.listApi,Object.assign({hurricanelisttype:"ActiveList"},this.getCommonQueryParams(e))),n=yield(0,l.WY)(this.getImpl,t,!1).then((e=>p(e))).catch((e=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.NYL),{message:`Hurricane Active API Exception: ${e}`})),[])));n.sort(((e,t)=>{if(e.dataSource==t.dataSource)return 0;const n=["JMA","CMA"].includes(e.dataSource);return f.includes(this.market)?n?-1:1:n?1:-1}));const r=[];return n.forEach((t=>{const n=this.getHurricaneFeaturesById(t.id,e).then((e=>(t.features=e,t))).catch((e=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.cow),{message:`Hurricane Active Detail API Exception:${e}`})),t.features=[],t)));r.push(n)})),yield Promise.all(r)}))}getHistoricalHurricanes(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=(0,l.gz)(this.listApi,Object.assign({hurricanelisttype:"HistoricalList"},this.getCommonQueryParams(t)));let i=yield(0,l.WY)(this.getImpl,r,!1).then((e=>{const t=p(e);return t&&0!==t.length||u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.NYL),{message:"Hurricane Historical API gets EMPTY result"})),t})).catch((e=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.NYL),{message:`Hurricane Historical API Exception: ${e}`})),[])));i.sort(((e,t)=>new Date(t.endDate).getTime()-new Date(e.endDate).getTime())),i=i.filter((e=>{const t=["JMA","CMA"].includes(e.dataSource);return f.includes(this.market)?t:!t}));const o=[];let a=!n;for(let t=0;t<i.length;t++){const r=i[t];if(!e.includes(r.id)&&(n&&n.toLowerCase()===`${r.year}-${r.name.toLowerCase()}`?(o.push(r),a=!0):o.length<5&&o.push(r),a&&o.length>=5))break}const s=[];o.forEach((e=>{const n=this.getHurricaneFeaturesById(e.id,t).then((t=>(e.features=t,e))).catch((t=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.NYL),{message:`Hurricane Historical detail API Exception: ${t}`})),e.features=[],e)));s.push(n)}));return(yield Promise.all(s)).map((e=>(e.features.forEach((e=>{"Current"===e.properties.dataType&&(e.properties.dataType="Observation",e.properties.rawDataType="Current")})),e)))}))}getHurricaneFeaturesById(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,l.gz)(this.detailsApi,Object.assign({hurricaneid:e},this.getCommonQueryParams(t)));return(0,l.WY)(this.getImpl,n,!1).then((e=>e.features)).catch((e=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.NYL),{message:`Hurricane detail API Exception: ${e}`})),[])))}))}getCommonQueryParams(e){return this.hurricaneApiAllBasinMkt?{units:(0,d.A)(e),mkt:this.hurricaneApiAllBasinMkt,locale:this.market}:{units:(0,d.A)(e),mkt:this.market}}}function p(e){const t=[],n=e&&e.features||[];for(let e=0;e<n.length;++e){const r=n[e],i=r.properties,o=Object.assign(Object.assign({},i),{id:r.id,dataSource:m(r.id)});t.push(o)}return t}const g={wp:"JMA",ep:"NHC",al:"NHC",cp:"NHC"},f=["zh-CN","zh-HK","zh-TW","ko-KR","ja-JP","en-PH"];function m(e){if(!e||e.length<2)return null;const t=e.toLowerCase();if(!isNaN(Number(t)))return"CMA";const n=t.substring(0,2);return g[n]}var v=n(68364),y=n(45506),C=n(33379),S=n(14792),w=n(91301),b=n(95327);const T=["TileImageMetadata","SevereWeatherGeo","HurricaneGeoTile","BingMapDefaultLabel","BingMapDefaultLabelCn"];class P{constructor(e,t,n){this.getImpl=e,this.metaConfig=t,this.hourlyApiConfig=n}metadata(){return(0,r.mG)(this,void 0,void 0,(function*(){(0,b.w)(w.E.MetadataCall);return(window.mapMetaPrz||(0,l.WY)(this.getImpl,this.metaConfig,!0)).then((e=>{if((0,b.w)(w.E.MetadataReady),!this.isValidMetadata(e)){const t="Map metadata shcema validation failed";(0,v.OO)(new Error(t),c.cq2,t,`Metadata API:${JSON.stringify(this.metaConfig)} with metadata: ${JSON.stringify(e)}`)}return e})).catch((e=>{const t=(0,C.N)()?navigator.userAgent:null,n=(0,S.pm)(t)?c.JIJ:c.O96;(0,v.OO)(e,n,"error in library [weather-shared],WeatherMap failed to fetch weather tile version API")}))}))}isValidMetadata(e){if(!e||!e.value||!e.value[0])return!1;const t=e.value[0];for(let e=0;e<T.length;++e){const n=T[e];if(!t[n]||!t[n].uris||!Object.values(t[n].uris)[0])return!1}return!0}houlyWeather(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=e,r=n.entityId?{eid:n.entityId,userip:""}:{lat:n.latitude,lon:n.longitude},i=(0,l.gz)(this.hourlyApiConfig,Object.assign(Object.assign({},r),{locale:y.Al.Locale,units:(0,d.A)(t)}));return yield(0,l.WY)(this.getImpl,i,!1)}))}}class k{constructor(e){this.getImpl=e}getF1Codes(e){return(0,r.mG)(this,void 0,void 0,(function*(){if(!e)return null;return yield(0,l.tn)(this.getImpl,e).then((e=>{if(e){const t=new Map;return Object.keys(e).forEach((n=>{t.set(n,e[n])})),t}return null})).catch((e=>(u.M0.sendAppErrorEvent(Object.assign(Object.assign({},c.fcT),{message:`error in library [weather-shared],Alert F1 Codes API Exception: ${e}`})),null)))}))}}function A(e,t){const n=t.queries||{},r=Object.assign({},n);return r.ocid=e.ocid,r.apiKey=e.apiKey,Object.assign(Object.assign({urlBase:e.urlBase},t),{queries:Object.assign(Object.assign({},r),n)})}let E;function M(e,t){return E||(E=function(e,t){const n=null!=t?t:o(e.maxRetry),r=A(e,e.tileVersionApi),i=A(e,e.weatherHourlyApi),a=A(e,e.hurricaneListApi),s=A(e,e.hurricaneDetailApi);return{config:e,get(t,r){const i=(0,l.gz)(A(e,t),r);return(0,l.WY)(n,i,!1)},mapCoreClient:new P(n,r,i),hurricaneClient:new h(n,a,s,e.hurricaneApiAllBasinMkt),resClient:new k(n)}}(e),E)}},32473:function(e,t,n){"use strict";n.d(t,{WY:function(){return o},gz:function(){return s},tn:function(){return a}});var r=n(33940),i=n(78722);function o(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r=t.path||"",o="/"==r[0]?r.substring(1):r,s=t.urlBase,c="/"==s[s.length-1]?s:s+"/",u=new URL(o,c),l=u.searchParams;n&&l.set("activityid",(0,i.Yq)().ActivityId);for(const[e,n]of Object.entries(t.queries||{}))l.set(e,n);return yield a(e,u.href)}))}function a(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){let n="";try{const r=yield e(t);if(n=r.status,r.ok)return yield r.json()}catch(e){n=`status=${n},error=`+(e&&e.toString())}throw new Error(""+n)}))}function s(e,t){return Object.assign(Object.assign({},e),{queries:Object.assign(Object.assign({},e.queries),t)})}},97417:function(e,t,n){"use strict";n.d(t,{EY:function(){return d},FT:function(){return p},Rh:function(){return u},Rq:function(){return l},SL:function(){return c},dl:function(){return a},h0:function(){return s},k_:function(){return h},nz:function(){return f},o9:function(){return g}});var r=n(45506),i=n(78722),o=n(33379);const a=[0,656,980,1304],s=["KR"];function c(e){var t,n;if((0,o.N)()){return((null===r.Al||void 0===r.Al?void 0:r.Al.CurrentFlights)||"").includes(e)}if(((null===(n=null===(t=null===i.Vh||void 0===i.Vh?void 0:i.Vh.getInstance())||void 0===t?void 0:t.CurrentRequestTargetScope)||void 0===n?void 0:n.pageExperiments)||[]).some((t=>t.startsWith(e))))return!0;return!1}function u(){return c("prg-wx-mnl")}function l(){return c("prg-wx-mn2l")}function d(){return c("prg-wx-aheader")}function h(){return c("prg-wx-wtpcu")}function p(){return!c("prg-wx-wtpcu")&&c("prg-wx-wtp")}function g(){return c("prg-wx-imvf")||c("prg-wx-imva")||c("prg-1sw-imvf")||c("prg-1sw-imva")||c("prg-p2-imvf")||c("prg-p2-imva")}function f(){return c("prg-wxcf-ctimvf")||c("prg-1sw-wxcfimp2")||c("prg-1sw-wxcfimp1")}},12037:function(e,t,n){"use strict";n.d(t,{q:function(){return u},v:function(){return l}});var r=n(33954),i=n(31206),o=n.n(i),a=n(50791),s=n.n(a),c=n(38573);const u=function(e){const t={};return function(n){return t.i===n||(t.i=n,t.o=e(n)),t.o}}((function(e){try{const t=(0,c.gl)(e,!0);return o().parse(t).toString(s())}catch(t){r.k.log(`serialize failed, location=${JSON.stringify(e)}`)}}));function l(e){try{const t=s().parse(e).toString(o());return(0,c.$i)(t,!0)||{}}catch(t){return r.k.log(`deserialize failed, serializedLocation=${e}`),{}}}},29422:function(e,t,n){"use strict";n.r(t),n.d(t,{getAutoSuggestionName:function(){return c},getDisplayName:function(){return u},isSameLocationLocality:function(){return a},isSameLocationPoint:function(){return o},normalizeLatLong:function(){return s},toLatLong:function(){return l}});var r=n(38573),i=n(38985);function o(e,t,n=!1){return(0,i.dP)(e,t,n)}function a(e,t){return!(!e||!t)&&e.locality===t.locality}function s(e,t){return(0,r.br)(e,t)}function c(e){if(e){if(e.autoSuggestionName)return e.autoSuggestionName;const t={enforceSmallLocaleFirst:!0};return(0,r.zl)(e,t)}}function u(e,t){return(0,r.Gf)(e,t)}function l(e){return`${e.latitude},${e.longitude}`}},68913:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});class r{static latlonToPixelXY(e,t,n){const r=this.clip(e,this.MinLatitude,this.MaxLatitude),i=(this.clip(t,this.MinLongitude,this.MaxLongitude)+180)*this.ReciprocalOf360,o=Math.sin(r*this.PerDegree),a=.5-Math.log((1+o)/(1-o))*this.ReciprocalOf4Pi;return[this.modPositive(i*n,n),this.modPositive(a*n,n)]}static modPositive(e,t){return(e%=t)<0?e+t:e}static clip(e,t,n){return Math.min(n,Math.max(t,e))}static MapSize(e){return 256<<e}static latLonsToPixel(e,t,n,i=r.zoomLevelMap){return r.toPixelArray(e,t,n,r.widthCardHalf,r.heightCardHalf,i)}static latLonsToPixelLandingPage(e,t,n,i=1600,o=210,a=r.zoomLevelMap){return r.toPixelArray(e,t,n,(i-1)/2,(o-1)/2,a)}static latLonToPixel(e,t,n=1600,i=210,o=r.zoomLevelMap){const a=e[0],s=e[1],c=r.latlonToPixelXY(a,s,r.getMapSizePixel(o));return[c[0]-t[0]+(n-1)/2,c[1]-t[1]+(i-1)/2]}static latLonToPixelCard(e,t,n=r.zoomLevelMap){const i=e[0],o=e[1],a=r.latlonToPixelXY(i,o,r.getMapSizePixel(n));return[a[0]-t[0]+r.widthCardHalf,a[1]-t[1]+r.heightCardHalf]}static toPixelArray(e,t,n,i,o,a=r.zoomLevelMap){const s=r.getMapSizePixel(a),c=r.latlonToPixelXY(t,n,s),u=[];return e.forEach((e=>{const t=e[1],n=e[0],a=r.latlonToPixelXY(t,n,s),l=a[0]-c[0]+i,d=a[1]-c[1]+o;u.push([l,d])})),u}static getMapSizePixel(e=7){return 256<<e}static getRad(e){return e*Math.PI/180}static getDistance(e,t,n,i){let o=0;try{const a=r.getRad(e),s=r.getRad(n),c=r.getRad(e)-r.getRad(n),u=r.getRad(t)-r.getRad(i);o=2*Math.asin(Math.sqrt(Math.pow(Math.sin(c/2),2)+Math.cos(a)*Math.cos(s)*Math.pow(Math.sin(u/2),2))),o*=r.EARTH_RADIUS}catch(e){o=0}return Math.round(o)}static convertKm2Mile(e){const t=.62137*e;return Math.round(t)}}r.MinLongitude=-180,r.MaxLongitude=180,r.MinLatitude=-85.05112878,r.MaxLatitude=85.05112878,r.ReciprocalOf360=1/360,r.TwoPi=2*Math.PI,r.ReciprocalOfPi=1/Math.PI,r.ReciprocalOf4Pi=1/(4*Math.PI),r.PerDegree=Math.PI/180,r.widthMap=1600,r.heightMap=210,r.maxHeightMap=400,r.widthMapCard=1200,r.heightMapCard=400,r.zoomLevelMap=7,r.widthHalf=(r.widthMap-1)/2,r.heightHalf=(r.heightMap-1)/2,r.widthCardHalf=(r.widthMapCard-1)/2,r.heightCardHalf=(r.heightMapCard-1)/2,r.mapSizePixel=256<<r.zoomLevelMap,r.EARTH_RADIUS=6378.137},21256:function(e,t,n){"use strict";n.d(t,{GE:function(){return y},OQ:function(){return h},g_:function(){return d},lI:function(){return g}});var r=n(33940),i=n(45506),o=n(68913),a=n(19628);const s=500,c=new Map([["SN","winterstorm"],["IC","winterstorm"],["IM","winterstorm"],["FD","wildfire"],["AQ","airqualitystation"],["SM","airqualitystation"],["DU","airqualitystation"],["VO","airqualitystation"],["AS","airqualitystation"]]),u={winterstorm:{type:"exclude",markets:["zh-cn"]},wildfire:{type:"include",markets:["us"]},airqualitystation:{type:"include",markets:["us"]}},l="severeweather";function d(e,t,n=o.b.widthMap,r=o.b.heightMap,i=o.b.zoomLevelMap,a=30){const s=(n-1)/2+a,c=(r-1)/2+a,u=o.b.getMapSizePixel(i),l=o.b.latlonToPixelXY(e.lat,e.lon,u),d=[l[0]-s,l[1]-c],h=[l[0]+s,l[1]+c],p=i-t+8;return{minTileX:d[0]>>p,maxTileX:h[0]>>p,minTileY:d[1]>>p,maxTileY:h[1]>>p,pixelXY:l,pixelLT:d,pixelRB:h}}function h(e,t,n,i,s=o.b.widthMap,c=o.b.heightMap,u=0){return(0,r.mG)(this,void 0,void 0,(function*(){if(!e)return null;const r=y(null==n?void 0:n.radarVersion,u),{minTileX:o,maxTileX:l,minTileY:h,maxTileY:g}=d(e,t,s,c),f=[];for(let e=o;e<=l;++e)for(let i=h;i<=g;++i){const o=a.Ld.Format(null==n?void 0:n.radarForecast,{time:r,z:t,x:e,y:i});f.push(fetch(o).then((e=>e.ok?e.arrayBuffer():null)))}if(f.length>0){const t=yield Promise.all(f),n=[];for(const r of t)p(r,n,e,i,s,c);return n}return null}))}function p(e,t,n,r,i=o.b.widthMap,a=o.b.heightMap){if(!e)return;const c=o.b.latlonToPixelXY(n.lat,n.lon,32768);c[0]=Math.round(c[0]),c[1]=Math.round(c[1]);const u=new Uint8Array(e);if(0===u[0]){const e=u[1],n=u[2],l=1/(u[3]+256*u[4]);for(let d=5;d<u.length;){const h=u[d++],p=u[d++],g=[],v=[];let y="";do{y=String.fromCharCode(u[d++]),v.push(y),g.push(y);let t=1;"C"===y?t=3:"Z"===y&&(t=0);for(let r=0;r<t;r++){let t=0,r=0,h=1;for(let e=0;e<n;e++)t+=u[d]*h,r+=u[d+++n]*h,h*=256;d+=n,t*=l,r*=l,t>s&&(t=s-t),r>s&&(r=s-r),r>180&&2===e&&(r-=360);const p=o.b.latLonToPixel([t,r],c,i,a);v.push(Math.round(p[0])),v.push(Math.round(p[1]))}}while("Z"!==y);let C="";C=r?m(p):w.get(h.toString()).get(p.toString());const S=v.join(" ");t.push({path:S,color:C,fill:!r||f(h,p)})}}}function g(e){if(!e)return null;const t=c.get(e);return function(e){const t=i.Al.Locale;let n=!1;if(!(e in u))return n;"include"==u[e].type?u[e].markets.some((e=>{if(null==t?void 0:t.includes(e))return n=!0,!0})):"exclude"==u[e].type&&(n=!0,u[e].markets.some((e=>{if(null==t?void 0:t.includes(e))return n=!1,!0})));return n}(t)?t:l}function f(e,t){const n=b.get(t.toString()),r=`${T.get(e.toString())}-${n}`;return C.get(r)}function m(e){const t=b.get(e.toString());return S.get(t)}function v(e){const t=""+(e||"0");return t.length<2?"0"+t:t}function y(e,t,n,r){const i=parseInt(e.substring(0,4)),o=parseInt(e.substring(4,6))-1,a=parseInt(e.substring(6,8)),s=parseInt(e.substring(8,10)),c=parseInt(e.substring(10,12)),u=n?new Date(Date.UTC(i,o,a,s,c)):new Date(i,o,a,s,c),l=new Date(u);l.setMinutes(u.getMinutes()+t);const d=l.getFullYear().toString()+v(l.getMonth()+1)+v(l.getDate())+v(l.getHours());return r?d:d+v(l.getMinutes())}const C=new Map([["rain-low","https://assets.msn.com/weathermapdata/1/static/img/animation/rain-low.png"],["rain-avg","https://assets.msn.com/weathermapdata/1/static/img/animation/rain-avg.png"],["rain-hvy","https://assets.msn.com/weathermapdata/1/static/img/animation/rain-hvy.png"],["sleet-low","https://assets.msn.com/weathermapdata/1/static/img/animation/sleet-low.png"],["sleet-avg","https://assets.msn.com/weathermapdata/1/static/img/animation/sleet-avg.png"],["sleet-hvy","https://assets.msn.com/weathermapdata/1/static/img/animation/sleet-hvy.png"],["snow-low","https://assets.msn.com/weathermapdata/1/static/img/animation/snow-low.png"],["snow-avg","https://assets.msn.com/weathermapdata/1/static/img/animation/snow-avg.png"],["snow-hvy","https://assets.msn.com/weathermapdata/1/static/img/animation/snow-hvy.png"]]),S=new Map([["low","#98B2CA"],["avg","#7891B5"],["hvy","#506984"]]),w=new Map([["0",new Map([["89","#001add"],["97","#00cc31"],["105","#00e300"],["113","#00bd00"],["121","#009600"],["129","#99d300"],["137","#f8ec00"],["145","#e7c000"],["153","#f89e00"],["161","#ff5600"],["169","#fb0000"],["177","#de0000"]])],["1",new Map([["89","#79b837"],["105","#078f33"],["121","#014b24"],["137","#eec040"],["153","#d05d2c"],["169","#830826"]])],["2",new Map([["89","#aae1e0"],["105","#5ad2e0"],["121","#249fdb"],["137","#1547bd"],["153","#101e96"],["169","#01016e"]])],["3",new Map([["89","#edb2c7"],["105","#df71a9"],["121","#bb338f"],["137","#8a139b"],["153","#660888"],["169","#470765"]])]]),b=new Map([["89","low"],["105","low"],["121","avg"],["137","hvy"],["153","hvy"],["169","hvy"]]),T=new Map([["1","rain"],["2","snow"],["3","sleet"]])},4596:function(e,t,n){"use strict";n.r(t),n.d(t,{abbreviateUSState:function(){return i},getDisplayWidth:function(){return a},toCamelCase:function(){return o}});const r={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","American Samoa":"AS","District of Columbia":"DC",Guam:"GU","Marshall Islands":"MH","Northern Mariana Island":"MP","Puerto Rico":"PR","Virgin Islands":"VI"};function i(e,t,n){return"US"!==n&&"us"!==n||"en-us"!==t?e:r[e]||e}function o(e,t){return e&&JSON.parse(JSON.stringify(e,(function(e,n){if(n&&"object"==typeof n&&!Array.isArray(n)){const e={};for(const r in n)if(Object.hasOwnProperty.call(n,r)){e[t&&t[r]||r&&r.charAt(0).toLowerCase()+r.substring(1)]=n[r]}return e}return n})))}function a(e,t=!1,n=12,r="bold",i=.12){try{const o=document.createElement("canvas").getContext("2d");o.font=`${r} ${n}px Segoe UI`;const a=o.measureText(e);return Math.ceil(a.width+(t?0:e.length*i))}catch(e){return 0}}},51325:function(e,t,n){"use strict";n.d(t,{CZ:function(){return g},K_:function(){return h},VO:function(){return f},Vd:function(){return p},Wc:function(){return d},pp:function(){return l},qB:function(){return m}});var r=n(75607),i=n(65135),o=n(78722),a=n(987);const s=6e5,c="miniapp_detected_loc",u="location_tip_storage",l=1142;function d(){return new Promise(((e,t)=>{if(o.jG.isMiniProgram){const n=m(),a=Object.assign(Object.assign({},n),{isDetected:!0});n?e(a):t()}else if(navigator&&navigator.geolocation){function c(t){const{latitude:n,longitude:o,accuracy:a}=t&&t.coords||{};i.M0&&i.M0.sendClientLogEvent({message:`Browser detected api: accuracy is ${a}, latitude is ${n}, longitude is ${o} `,type:"information"});const c={latitude:n+"",longitude:o+"",isDetected:!0,accuracy:a};!function(e){const t=JSON.stringify(e);r.Gs.getInstance().setItem(r.IS.WeatherBrowserDetectedLocation,t,s)}(c),e(c)}function u(e){const{code:n,message:r}=e||{};i.M0&&i.M0.sendClientLogEvent({message:JSON.stringify({browserDetectedFail:{code:n,message:r}}),type:"information"}),t()}const l=h();if(l)return void e(l);navigator.geolocation.getCurrentPosition(c,u,{maximumAge:6e4,timeout:5e3,enableHighAccuracy:!0})}else t()}))}function h(){const e=r.Gs.getInstance().getItem(r.IS.WeatherBrowserDetectedLocation);if(e)return JSON.parse(e)}function p(){const e=(0,a.$o)().getItem(u);if(e)return JSON.parse(e)}function g(e){(0,a.$o)().setItem(u,JSON.stringify(e||{}))}function f(e){(0,a.$o)().setItem(c,JSON.stringify(e||{}))}function m(){const e=(0,a.$o)().getItem(c);if(e)return JSON.parse(e)}},38573:function(e,t,n){"use strict";n.d(t,{$i:function(){return C},DF:function(){return d},Gf:function(){return s},JY:function(){return m},XA:function(){return S},aQ:function(){return u},br:function(){return y},gl:function(){return p},mH:function(){return c},vt:function(){return f},zl:function(){return l}});var r=n(78722),i=n(65135),o=n(98304),a=n(4596);function s(e,t){if(e)return e.displayName&&!(null==t?void 0:t.skipOldName)?e.displayName:l(e,t)}function c(e,t){const n=e&&e.displayName,r=d(e,{enforceOnlySmallLocal:!0}),a=r.length>0?r[0]:n;return a||i.M0.sendAppErrorEvent(Object.assign(Object.assign({},o.s$v),{message:`ShortlocationNameArr: ${r}.\n             CurrentLocation: ${JSON.stringify(e)}. \n             Error: Short location name in ${t} is empty.`})),a}function u(e){return e.definitionName||`${e.latitude},${e.longitude}`}function l(e,t){return d(e,t).join(", ")}function d(e,t){var n;"united states"===(null===(n=null==e?void 0:e.country)||void 0===n?void 0:n.toLowerCase())&&(e.isoCode="US");const i=!t||!t.skipLocale,o=!(null==t?void 0:t.skipAddressLine),s=r.jG&&r.jG.LocaleContentMarket&&r.jG.LocaleContentMarket.market,c=(e.isoCode||"").toUpperCase(),u=c&&s&&s.substr(-c.length).toUpperCase()===c,l=f(e.isoCode)?null:e.subRegion,d=(0,a.abbreviateUSState)(e.region,e.language,e.isoCode),p=[o&&e.addressLine,i?e.locality:"",l,d,(null==t?void 0:t.skipCountry)?"":e.country].filter((e=>!!e));let g=0;for(;p[g+1];)p[g+1]===p[g]?p.splice(g+1,1):g++;const m="CN"==(null==s?void 0:s.toUpperCase())?1:2;if(e.country&&u&&p.length>m&&p.splice(-1,1),t&&t.enforceOnlySmallLocal&&p.length>0){return[/,/.test(p[0])?p[0].split(",")[0]:p[0]]}var v;return t&&t.enforceSmallLocaleFirst||(v=e.language)&&h.has(v.toUpperCase())&&p.reverse(),!(null==t?void 0:t.enforceOnlySmallLocal)&&0==p.length&&e.latitude&&e.longitude&&(p.push(e.latitude),p.push(e.longitude)),p}const h=new Set(["ZH-CN","KO-KR","JA-JP"]);function p(e,t=!1){const n={a:e.addressLine,l:e.locality,r:e.region,r2:e.subRegion,c:e.country,i:e.isoCode,t:e.locationType,g:e.language,x:t?e.longitude:void 0,y:t?e.latitude:void 0,n:r.jG.isMiniProgram?e.displayName:void 0},i=JSON.stringify(n,((e,t)=>null!=t&&""!==t?t:void 0));return"{}"!==i?i:void 0}const g=new Set(["CN","JP","TW"]);function f(e){return!g.has((e||"").toUpperCase())}function m(e){const t=parseFloat(null==e?void 0:e.latitude),n=parseFloat(null==e?void 0:e.longitude);return v(t,-85,85)&&v(n,-180,180)&&(0!==t||0!==n)}function v(e,t,n){return!isNaN(e)&&e>=t&&e<=n}function y(e,t){return{latitude:""+parseFloat(e),longitude:""+parseFloat(t)}}function C(e,t=!1){if(e)try{const n=JSON.parse(e),i={};return i.addressLine=n.a,i.locality=n.l,i.region=n.r,i.subRegion=n.r2,i.country=n.c,i.isoCode=n.i,i.locationType=n.t,i.language=n.g,t&&(i.latitude=n.y,i.longitude=n.x),r.jG.isMiniProgram&&(i.displayName=n.n),i}catch(e){return}}function S(e,t){return!(!e||!t)&&(w(e.longitude,t.longitude)&&w(e.latitude,t.latitude))}function w(e,t){return!(!e||!t)&&b(e)===b(t)}function b(e){const t=parseFloat(e),n=Math.pow(10,6);return Math.round(t*n)/n}},34656:function(e,t,n){"use strict";n.d(t,{z:function(){return l},P:function(){return d}});var r=n(34181),i=n(46102),o=n(33379),a=n(47762),s=n(4959),c=n(34852);const u=/^\/([a-z]{1,}-[a-z]{1,})/i;class l extends class{constructor(e){this.rawURL=e,this.url=new URL(e)}query(){return this.url.searchParams}unit(){return(0,c.rC)(this.url.searchParams)}market(){const e=u.exec(this.url.pathname);return e&&e[1]}}{constructor(e){super(e)}toString(){return this.url.toString()}getURLString(){return this.rawURL}getLocationSearchText(){return(0,a.B)(this.url)}miniappDetectedLocation(){return(0,r.a)(this.url)}getCalendar(){return this.url.searchParams.get("calendar")||""}getContent(){return this.url.searchParams.get("content")||""}getActions(){return this.url.searchParams.get("acts")||""}getForecastTab(){return this.url.searchParams.get("fcsttab")||null}location(){return(0,a.H)(this.url)}getPrecipitationDay(){return Number(this.url.searchParams.get("prcpindex"))||0}getWeatherWatcherBannerIndex(){return Number(this.url.searchParams.get("wwbt"))||0}animatedRadarMap(){if(this.url.searchParams){return!!this.url.searchParams.get("animation")}return!1}tileDataZoom(){if(this.url.searchParams){const e=this.url.searchParams.get("tiledatazoom");return parseInt(e)}return null}day(){const e=parseInt(this.url.searchParams.get("day"));if(!Number.isNaN(e))return e}hour(){const e=parseInt(this.url.searchParams.get("hour"));return Number.isNaN(e)?void 0:e}activity(){return this.url.searchParams.get("activity")||null}update(e,t){if(e){const n=this.market(),r=(0,i.y6)(),o=new URL((0,s.DF)(e,t,{excludeItem:!0,excludeOcid:!0,linkType:r,locale:n})),a=o.searchParams;this.url.pathname=o.pathname,this.clearQueries(),this.setParam("loc",a.get("loc")),this.setParam("weadegreetype",a.get("weadegreetype")),this.rawURL=this.url.toString()}return this.rawURL}dynamicBackground(){const e=this.url.searchParams.get("dynamicbg");return e&&("1"===e||"TRUE"===e.toUpperCase())}updateZoom(e){this.url.searchParams.set("zoom",""+e)}updateMapGroup(e){this.url.searchParams.set("type",e)}clearQueries(){const e={};if(this.url.searchParams.forEach(((t,n)=>{e[n.toLowerCase()]=n})),!e.keepallqueries)for(const t in e)l.KEEP_QUERIES.has(t)||this.url.searchParams.delete(e[t])}setParam(e,t){null!=t&&this.url.searchParams.set(e,""+t)}replaceState(){(0,o.N)()&&history.replaceState(null,null,this.toString())}pushState(){const e=this.url.toString();(0,o.N)()&&e!==location.href&&history.pushState(null,null,e)}getSourceParam(){return this.url.searchParams.get("src")||null}}function d(e,t){return!!(e&&t&&e.latitude&&e.longitude)}l.KEEP_QUERIES=new Set(["ocid","ssronly","csronly","domshim","pssr","form","setflight","item","pcsonly","calendar","cvid","fct","fcsttab","day","hour","zoom","loc","weadegreetype","type","zoom"].map((e=>e.toLowerCase())))},88195:function(e,t,n){"use strict";n.d(t,{E_:function(){return g},Lk:function(){return p},RK:function(){return m},ss:function(){return h},zc:function(){return f}});var r=n(78722),i=n(55755),o=n(98304),a=n(33379),s=n(65135),c=n(38573),u=n(38985),l=n(34852);function d(e,t){const n=Object.assign({},e||{});return n.locStrResolver=n.locStrResolver||t,n}function h(e,t,n,r){const i=d(r,n),o=i.linkType||1;return p(e,t,(function(e){return(0,l.LL)(o,e)}),i).toString()}function p(e,t,n,d){const h=d.locale||r.jG.LocaleContentMarketString||"en-us",p=(0,l.LL)("weather",h),g=n(h);let f,m;if(e&&(f=function(e){return e.urlSlug?e.urlSlug:(0,c.DF)(e,{skipAddressLine:!0}).slice(0,2).map((e=>e.replace(/[/?#%\s]+/g,"-"))).map((e=>encodeURIComponent(e))).join(",")}(e),m=d.locStrResolver(e),(0,u.Cr)(e)&&s.M0&&o.hT$)){const t=new Error("seems invalid location for weather link");s.M0.sendAppErrorEvent(Object.assign(Object.assign({},o.hT$),{message:t.message,pb:Object.assign(Object.assign({},o.hT$.pb),{location:{longitude:e.longitude,latitude:e.latitude},stack:(t.stack||"").slice(0,1024)})}),!0)}const v=f?`/in-${f}`:"";let y;(0,a.N)()?y=document.location.href:d.locationHref&&(y=d.locationHref);let C=r.jG.NavTargetHostName;C="zh-cn"===h?C.replace("com","cn"):C,(null==y?void 0:y.includes("localhost.msn.com"))&&(0,a.N)()&&(C=document.location.host);const S=new URL(`https://${C}/${h}/${p}/${g}${v}`),w=S.searchParams;return m&&w.set("loc",m),(0,l.Nn)(w,t),(0,a.N)()?(0,l.mk)((0,i.L)(),w,d):d.locationHref&&(0,l.mk)(new URL(d.locationHref).searchParams,w,d),d.ocid&&w.set("ocid",d.ocid),d.cvid&&w.set("cvid",d.cvid),d.etreeUser&&w.set("etree-user",d.etreeUser),d.etreeTaskID&&w.set("etree-task-id",d.etreeTaskID),d.content&&w.set("content",d.content),S}function g(e,t,n,r,i){const o=d(i,n),a=p(e,t,(function(e){const t=(0,l.LL)(2,e),n=r&&(0,l.LV)(r,e);return r?t+"/"+n:t+"/-"}),o),s=a.searchParams;return m(s,"zoom",o.zoom),m(s,"3d",o["3d"]&&"1"),m(s,"autoplay",o.autoplay&&"1"),m(s,"subs",o.subs),m(s,"wfid",o.wfid),a.toString()}function f(e,t,n,r){const i=p(e,t,(function(e){return(0,l.LL)(6,e)}),r=d(r,n)),o=i.searchParams;return m(o,"lifeIndex",r.lifeIndex),m(o,"day",r.day),m(o,"fct",r.fct),i.toString()}function m(e,t,n){n&&e.set(t,""+n)}},4959:function(e,t,n){"use strict";n.d(t,{DF:function(){return c},Z$:function(){return u},eV:function(){return l},qu:function(){return d}});var r=n(12037),i=n(88195),o=n(34852);const a=r.q;function s(e){const t=Object.assign({},e||{});return t.locStrResolver=t.locStrResolver||a,t}function c(e,t,n){return(0,i.ss)(e,t,a,n)}function u(e,t,n,r){return(0,i.E_)(e,t,a,n,r)}function l(e,t,n){return(0,i.zc)(e,t,a,n)}function d(e,t,n){n=s(n);const r=(0,i.Lk)(e,t,(function(e){return(0,o.LL)(7,e)}),n),a=r.searchParams;return n.source&&(0,i.RK)(a,"source",n.source),n.day&&(0,i.RK)(a,"day",n.day),r.toString()}},34852:function(e,t,n){"use strict";n.d(t,{Nn:function(){return k},LV:function(){return S},LL:function(){return C},Be:function(){return x},IK:function(){return A},ef:function(){return w},Xw:function(){return M},rC:function(){return T},mk:function(){return P}});const r={weather:{es:"el-tiempo","es-es":"eltiempo",fr:"meteo",it:"meteo",de:"wetter",nl:"weer",cs:"pocasi",pt:"clima","pt-pt":"meteorologia",da:"vejr",hu:"idojaras",id:"cuaca",fi:"saa",sv:"vader",tr:"havadurumu",pl:"pogoda"},forecast:{es:"pronostico","es-es":"prevision",fr:"previsions",it:"previsioni",de:"vorhersage",nl:"voorspelling",cs:"predpoved","pt-pt":"previsao",da:"vejrudsigt",hu:"elorejelzes",id:"prakiraan",fi:"ennuste",nb:"vaermelding",sv:"prognos",tr:"havadurumutahmini",pl:"prognoza"},maps:{cs:"mapy",da:"kort",de:"karten",es:"mapas",fi:"kartat",fr:"cartes",id:"peta",it:"mappe",nb:"kart",nl:"kaarten",pl:"mapy-pogody",pt:"mapas",sv:"vaderkartor",tr:"haritalar"},monthlyforecast:{da:"manedligprognose",de:"monatlicheprognose",es:"pronosticomensual",fi:"kuukaudenennuste",fr:"previsionsmensuelles",id:"prakiraanbulanan",it:"previsionimensili",nb:"manedligprognose",nl:"maandelijksevoorspelling",pl:"prognozamiesieczna",pt:"previsaomensal",sv:"manadsprognos",tr:"ayliktahmin"},records:{cs:"rekordniaprumerne",da:"rekorder",de:"historisches","de-ch":"rekorde",fi:"Tilastot",hu:"rekordok",id:"catatan",it:"record",nb:"rekorder",pl:"rekordowe",sv:"medeltemperaturer",tr:"mevsim-normalleri","pt-pt":"recordes"},life:{da:"livet",de:"leben",es:"lavida",fi:"elama",fr:"vie",hu:"elet",id:"kehidupan",it:"vita",nb:"liv",nl:"leven",pl:"zycie",pt:"vida",sv:"liv",tr:"hayat"},pollen:{es:"polen",fi:"siitepoly",id:"serbuksari",it:"polline",nl:"stuifmeel",pl:"pylekkwiatowy",pt:"polen",tr:"polen"},hourlyforecast:{da:"timeprognose",de:"stundlichevorhersage",es:"previsionhoraria",fi:"tuntiennuste",fr:"previsionhoraire",id:"prakiraanperjam",it:"previsioniorarie",nb:"prognosepertime",nl:"voorspellingperuur",pl:"prognozagodzinowa",pt:"previsaohoraria",sv:"timprognos",tr:"saatliktahmin"}},i="orkaner",o="temperatur",a="synlighet",s="vind",c="vento",u="snofall",l={radar:{fi:"tutka"},hurricane:{cs:"hurikany",da:i,nb:i,sv:i,de:"hurrikane",es:"huracanes",fr:"ouragans",id:"hurikan",it:"uragani",nl:"orkanen",pl:"huragany",pt:"hurricanes",tr:"kasirgalar"},severeweather:{fi:"huonosaa",id:"cuacaburuk",nl:"slechtweer",sv:"ovader"},temperature:{cs:"teplota",da:o,de:o,nb:o,sv:o,fi:"lampotila",id:"suhu",tr:"sicaklik"},precipitation:{cs:"srazky",da:"nedbor",nb:"nedbor",id:"curahhujan",nl:"neerslag",pl:"opady",sv:"nederbord",tr:"yagis"},wildfire:{cs:"lesnipozar",da:"skovbrand",de:"waldbrand",fi:"maastopalo",fr:"feuforet",id:"kebakaran",nb:"skogbrann",pl:"pozar",sv:"skogsbrand"},wind:{cs:"vitr",da:s,nb:s,sv:s,es:"viento",fi:"tuuli",fr:"vent",id:"angin",it:c,pt:c,pl:"wiatr",tr:"ruzgar"},cloud:{cs:"oblacnost",da:"sky",nb:"sky",de:"bewolkung",es:"nube",fi:"pilvi",fr:"nuages",id:"awan",it:"nuvolosita",nl:"bewolking",pt:"nublado",sv:"moln",tr:"bulut"},pressure:{cs:"tlak",da:"lufttryk",de:"druck",fi:"ilmanpaine",fr:"pression",id:"tekanan",it:"pressione",nb:"trykk",nl:"druk",sv:"tryck"},humidity:{cs:"vlhkost",es:"humedad",id:"kelembapan",nb:"fuktighet",pt:"umidade",tr:"nemlilik"},visibility:{da:"synlighed",nb:a,sv:a,nl:"zicht"},dewpoint:{cs:"rosnybod",da:"dugpunkt",de:"taupunkt",fi:"kastepiste",nb:"duggpunkt",nl:"dauwpunt"},winterstorm:{cs:"zimniboure"},airquality:{fi:"ilmanlaatu",fr:"qualiteair"},snowdepth:{cs:"vyskasnehu",nb:"snodybde",pt:"alturaneve",sv:"snodjup"},snowfall:{cs:"snezeni",da:"snefald",de:"schnee",fi:"lumisade",fr:"chuteneige",id:"curahsalju",it:"nevicata",nb:u,sv:u,nl:"sneeuwval",pt:"quedaneve",tr:"karyagisi"},airqualitystation:{},ski:{es:"esquiar",fi:"laskettelu",it:"sci",pl:"narty",pt:"esqui",sv:"skida",tr:"kayak"},pollen:r.pollen,pollenindex:{},etree:{},earthquake:{},lightning:{},lightningthunderstormradar:{},lightningthunderstormprecip:{},lightningradar:{},lightningprecip:{},thunderstormradar:{},thunderstormprecip:{},lightningonlyradar:{},lightningonlyprecip:{},hurricanesat:{},hurricanewind:{},radarltntstm:{},radarltn:{},radartstm:{},radaronly:{},precipltntstm:{},precipltn:{},preciptstm:{},preciponly:{}};var d=n(46102),h=n(68742),p=n(68299),g=n(78722),f=n(12884),m=n(80368);const v={};function y(e){e&&!v[e]&&(v[e]=e.split("-")[0]);return v[e]}function C(e,t=g.jG.CurrentMarket){const n="string"==typeof e?e:{1:"forecast",4:"records",3:"monthlyforecast",6:"life",5:"pollen",2:"maps",7:"hourlyforecast"}[e],i=r[n];return i&&(i[t]||i[y(t)])||n}function S(e,t){const n=l[e];return n&&(n[t]||n[y(t)])||e}const w=(e=>{const t=Object.keys(l),n=new Map;return{key2Loc:(t,n=e)=>S(t,n),loc2Key:(r,i=e)=>(e=>{if(n.has(e))return n.get(e);const r={};for(let n=0;n<t.length;++n){const i=t[n];r[S(i,e)]=i}return n.set(e,r),r})(i)[r]}})(g.jG.CurrentMarket),b={F:h.a.Fahrenheit,C:h.a.Celsius,f:h.a.Fahrenheit,c:h.a.Celsius};function T(e){if(e){const t=(0,m.Ol)(e,"weadegreetype",["weaDegreeType"]);return t&&b[t]||void 0}}function P(e,t,n){if(t&&e){if(!n||!n.excludeItem){const n=e.getAll("item");for(let e=0;e<n.length;++e)t.append("item",n[e])}if(!n||!n.excludeOcid){const n=(0,m.ku)(e);n&&t.set("ocid",n)}if(!n||!n.cvid){const n=e.get("cvid");n&&t.set("cvid",n)}}return t||void 0}function k(e,t){const n=(0,p.A)(t);return n&&e&&e.set("weadegreetype",n),e}function A(e){try{const t=new URL(e),n=t.pathname.split("/").slice(1),[r,,i]=n;if(t.searchParams.has("el"))return!0;if(!i)return!1;const o=Object.keys(d.jW).find((e=>C(+e,r)===i));return!o||!(t.pathname.indexOf("/in-")>-1)&&!(2!=+o||!t.searchParams.has("type"))}catch(e){return!1}}const E=/^\/([a-z]+.[a-z]+)\/([^/]+)\/([^/]+)\/([^/]+)(?:\/in-([^/]*))?$/;function M(e){const t=E.exec(e);if(!t)return;const n=t[1];return{locale:n,localizedWeather:t[2],localizedMaps:t[3],locTypeKey:t[4],type:w.loc2Key(t[4],n),locationDisplayName:t[5]}}function x(e=(0,f.l4)()){const t=new URL(e);return t.pathname=t.pathname.split("/").slice(0,4).join("/"),t.search="",t.toString()}},47762:function(e,t,n){"use strict";n.d(t,{B:function(){return u},H:function(){return c}});var r=n(80368),i=n(12037),o=n(38573);const a=/^.*(?:we-city-|\/)(-?\d*\.\d+),(-?\d*\.\d+)[\D]*$/,s=/\/in-([^/]+)$/;function c(e){if(!e)return;const t=e.searchParams||new URLSearchParams(e.search),n=e.pathname,s=(0,r.Ol)(e.searchParams,"el");if(s)return{el:s};const c=(0,r.Ol)(e.searchParams,"loc");let u={};if(c&&(u=i.v(c)),!u.latitude&&!u.longitude){const e=a.exec(n);e&&(u.latitude=e[1],u.longitude=e[2])}if(!u.latitude&&!u.longitude){const t=((0,r.Ol)(e.searchParams,"q")||"").split(",");if(2===t.length){const e={latitude:""+parseFloat(t[0]),longitude:""+parseFloat(t[1])};(0,o.JY)(e)&&(u=Object.assign(Object.assign({},u),e))}}return u.latitude||u.longitude||(u.latitude=(0,r.Ol)(e.searchParams,"lat"),u.longitude=(0,r.Ol)(e.searchParams,"lon")),u.latitude&&u.longitude&&(u=Object.assign(Object.assign(Object.assign({},u),(0,o.br)(u.latitude,u.longitude)),(0,o.$i)((0,r.Ol)(t,"weaext0"))||{})),(0,o.JY)(u)?u:void 0}function u(e){const t=s.exec(e.pathname);if(t)try{return decodeURIComponent(t[1])}catch(e){}}},68848:function(e,t,n){"use strict";function r(e,t=!1){if(e){if(t&&e.display)return e.display;if(e.content)return e.content}return e}function i(e){return e.language&&e.market&&(e.language+"-"+(e.script?e.script+"-":"")+e.market).toLowerCase()||""}n.d(t,{H:function(){return r},p:function(){return i}})},31573:function(e,t,n){"use strict";let r,i;function o(e){r=e}function a(){return r}function s(e){i=e}function c(){return i}n.d(t,{PQ:function(){return a},g8:function(){return c},jW:function(){return s},sV:function(){return o}})},98878:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var r=n(33940),i=n(27003),o=n(33379);class a{constructor(){this.cacheMap=new Map}has(e){return(0,r.mG)(this,void 0,void 0,(function*(){return!!this.cacheMap[e]}))}get(e){return(0,r.mG)(this,void 0,void 0,(function*(){return this.cacheMap[e]}))}set(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){return this.cacheMap[e]=t,!0}))}mSet(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return Object.keys(e).forEach((t=>{this.cacheMap[t]=e[t]})),!0}))}del(e){return(0,r.mG)(this,void 0,void 0,(function*(){delete this.cacheMap[e]}))}itemCount(){return(0,r.mG)(this,void 0,void 0,(function*(){return Object.keys(this.cacheMap).length}))}reset(){return(0,r.mG)(this,void 0,void 0,(function*(){this.cacheMap=new Map}))}}const s="__ServerCacheUpdateMap__";let c,u;const l=(0,o.N)()?null:{emitUpdate:function(){return(0,r.mG)(this,void 0,void 0,(function*(){if(!i.Gq.has(s))return;const e=i.Gq.get(s),t=[];return e.forEach(((e,n)=>{const r=u.mSet(e,n).then((()=>{const e=i.Gq.get(s);e&&e.delete(n)}));t.push(r)})),Promise.all(t)}))},initialize:function(e,t=!1){u=e,c=t},reset:function(){return(0,r.mG)(this,void 0,void 0,(function*(){yield u.reset()}))},set:function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){if(c)return function(e,t,n){const r=i.Gq.get(s,(()=>new Map)),o=r.get(n);r.set(n,Object.assign(Object.assign({},o),{[e]:t}))}(e,t,n);yield u.set(e,t,n)}))},get:function(e){return(0,r.mG)(this,void 0,void 0,(function*(){return yield u.get(e)}))},has:function(e){return(0,r.mG)(this,void 0,void 0,(function*(){return yield u.has(e)}))},del:function(e){return(0,r.mG)(this,void 0,void 0,(function*(){return yield u.del(e)}))},itemCount:function(){return(0,r.mG)(this,void 0,void 0,(function*(){return yield u.itemCount()}))}};n.g.TEST_ENV&&!(0,o.N)()&&l.initialize(new a)},612:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(55067);class i{}i.marketUpdated=new r.C("marketUpdated"),i.updatePrimaryAccountInfo=new r.C("updatePrimaryAccountInfo")},12315:function(e,t,n){"use strict";n.d(t,{f:function(){return m}});var r=n(78722),i=n(45506),o=n(63439),a=n(612),s=n(33379),c=n(67462),u=n(79941);const l="https://www.msn.com",d="account_type",h="account_id",p="email",g="first_name",f="last_name";class m extends o.e{constructor(e,t,n,i,o,l,d){super(e,t,n,i,o,l,d),this.cookieExpireInDays=182,this.marketCookieName="ntps",this._authPrivateApi=(0,s.N)()&&window&&window.chrome&&window.chrome.authPrivate,a.t.marketUpdated.getActionSender(this).send(this.getInitialMarket()),a.t.marketUpdated.registerObserver((e=>{const t=e.params[0];t&&((0,c.sq)(this.marketCookieName,void 0,-1),(0,c.sq)(this.marketCookieName,void 0,-1,void 0,"/edge"),(0,c.sq)(this.marketCookieName,JSON.stringify({m:t}),this.cookieExpireInDays,r.jG.HostPage.topDomain,"/"),(0,u.Z)(this.getRefreshOptions(t)))}))}getInitialMarket(){const e=(0,c.ej)(this.marketCookieName);return e?e.m||e:i.Al.Locale}getRefreshOptions(e){const t=`/${r.jG.CurrentMarket}/`,n=new URL(location.href);if(this.config&&this.config.stayInVertical?n.pathname=`/${e}/${i.Al.ClientSettings.verticalKey}`:n.pathname=n.pathname.replace(t,`/${e}/`),!this.config||!this.config.shouldRefreshToWindowsHomePage)return{newUrl:n.href};return{newUrl:new URLSearchParams(location.search).get("ocid")?`${l}/${e}/feed/${location.search}`:`${l}/${e}/feed`}}getPrimaryAccountInfoAsync(e=!0){return new Promise((t=>{const n=this.getCurrentState();e&&n.primaryAccountInfo?t(n.primaryAccountInfo):this._authPrivateApi?this._authPrivateApi.getPrimaryAccountInfo((e=>{const n={accountId:e[h],accountType:e[d],firstName:e[g],lastName:e[f],email:e[p]};t(n)})):t({})}))}}},24316:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(30856),i=n(612),o=n(45506);class a{reduce(e,t){if(!e)return{market:o.Al.Locale,primaryAccountInfo:null};if(!t)return e;let n=e,a=r.G.handleAction(t,i.t.marketUpdated,(t=>{t&&(n=Object.assign(Object.assign({},e),{market:t}))}));return a=a||r.G.handleAction(t,i.t.updatePrimaryAccountInfo,(t=>{t&&(n=Object.assign(Object.assign({},e),{primaryAccountInfo:t}))})),a?n:e}}},57388:function(){},51469:function(){},95268:function(){},29213:function(){},33265:function(){},41999:function(){},73827:function(){},48117:function(){},83623:function(){},16792:function(){}}]);